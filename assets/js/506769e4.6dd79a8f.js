"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([["22"],{5451:function(e,n,r){r.r(n),r.d(n,{frontMatter:()=>o,toc:()=>d,default:()=>p,metadata:()=>t,assets:()=>u,contentTitle:()=>c});var t=JSON.parse('{"id":"getting-started/angular","title":"Angular","description":"This guide explains how to set up your Angular project to begin using @badisi/ngx-auth.","source":"@site/docs/getting-started/angular.mdx","sourceDirName":"getting-started","slug":"/getting-started/angular","permalink":"/auth-js/getting-started/angular","draft":false,"unlisted":false,"editUrl":"https://github.com/Badisi/auth-js/edit/main/apps/website/docs/getting-started/angular.mdx","tags":[],"version":"current","frontMatter":{"title":"Angular"},"sidebar":"docsSidebar","previous":{"title":"VanillaJS","permalink":"/auth-js/getting-started/vanilla-js"},"next":{"title":"Vue.js","permalink":"/auth-js/getting-started/vue-js"}}'),a=r(1085),i=r(2600),s=r(7861),l=r(2497);let o={title:"Angular"},c,u={},d=[{value:"Prerequisite",id:"prerequisite",level:3},{value:"Installation",id:"installation",level:3},{value:"\u2022 Schematic (recommended)",id:"-schematic-recommended",level:4},{value:"\u2022 Manual",id:"-manual",level:4}];function h(e){let n={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",em:"em",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(n.p,{children:["This guide explains how to set up your Angular project to begin using ",(0,a.jsx)(n.a,{href:"https://github.com/badisi/auth-js/tree/main/libs/ngx-auth",children:(0,a.jsx)(n.code,{children:"@badisi/ngx-auth"})}),"."]}),"\n",(0,a.jsxs)(n.p,{children:["\u{1F680} The fastest, simplest and preferred way is the ",(0,a.jsx)(n.a,{href:"#-schematic-recommended",children:"schematic"})," way but you can also install this library ",(0,a.jsx)(n.a,{href:"#-manual",children:"manually"}),"."]}),"\n",(0,a.jsx)(n.admonition,{title:"Before using this library",type:"info",children:(0,a.jsxs)(n.p,{children:["Make sure you properly configured your \u{1F449} ",(0,a.jsx)(n.a,{href:"providers",children:"Authentication Provider"}),"."]})}),"\n",(0,a.jsx)(n.h3,{id:"prerequisite",children:"Prerequisite"}),"\n",(0,a.jsxs)(n.p,{children:["An existing ",(0,a.jsx)(n.a,{href:"https://angular.dev/installation",children:"Angular"})," application."]}),"\n",(0,a.jsx)(n.h3,{id:"installation",children:"Installation"}),"\n",(0,a.jsx)(n.h4,{id:"-schematic-recommended",children:"\u2022 Schematic (recommended)"}),"\n",(0,a.jsxs)(n.p,{children:["Use the Angular CLI's installation ",(0,a.jsx)(n.a,{href:"https://material.angular.io/guide/schematics",children:"schematic"})," to automagically set up your Angular project with this library:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:"ng add @badisi/ngx-auth\n"})}),"\n",(0,a.jsxs)(n.p,{children:["Questions will be asked during the process, so please refer to the ",(0,a.jsx)(n.a,{href:"./configuration",children:"configuration"})," page for more information."]}),"\n",(0,a.jsx)(n.p,{children:"You can also read on with the manual installation guide to have a better understanding of what the schematics is actually doing to your project."}),"\n",(0,a.jsx)(n.h4,{id:"-manual",children:"\u2022 Manual"}),"\n",(0,a.jsx)(n.p,{children:"If you wish to install this library manually, please follow the steps below:"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["Install the library from the ",(0,a.jsx)(n.strong,{children:"NPM repository"})]}),"\n",(0,a.jsxs)(s.A,{children:[(0,a.jsx)(l.A,{value:"npm",label:"npm",default:!0,children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:"npm install @badisi/ngx-auth --save\n"})})}),(0,a.jsx)(l.A,{value:"yarn",label:"yarn",children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:"yarn add @badisi/ngx-auth\n"})})})]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["Modify your ",(0,a.jsx)(n.strong,{children:"angular configuration"})," file"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",metastring:'title="angular.json" {5-7,9-11}',children:'{\n  "...": {\n    "build": {\n      "options": {\n        "allowedCommonJsDependencies": [\n          "crypto-js"\n        ],\n        "assets": [{\n          "glob": "**/*",\n          "input": "node_modules/@badisi/ngx-auth/oidc/assets",\n          "output": "oidc/callback"\n        }]\n      }\n    }\n  }\n}\n'})}),"\n",(0,a.jsx)(n.admonition,{type:"info",children:(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["This library depends on ",(0,a.jsx)(n.a,{href:"https://github.com/authts/oidc-client-ts/issues/275",children:(0,a.jsx)(n.code,{children:"oidc-client-ts"})})," which itself depends on ",(0,a.jsx)(n.a,{href:"https://github.com/brix/crypto-js",children:(0,a.jsx)(n.code,{children:"crypto-js"})})," which is a ",(0,a.jsx)(n.strong,{children:"commonjs"})," dependency."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Assets"})," needs to be copy over to your application because some html web pages are used and required when navigating back from the Authentication Provider."]}),"\n"]})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["Provide the library ",(0,a.jsx)(n.em,{children:"(according to the type of your Angular application)"})]}),"\n",(0,a.jsxs)(s.A,{children:[(0,a.jsxs)(l.A,{value:"standalone",label:"Standalone",default:!0,children:[(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsxs)(n.p,{children:["Modify your ",(0,a.jsx)(n.strong,{children:"main.ts"})," file"]}),"\n"]}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",metastring:"{2,7-11,14}",children:"import { bootstrapApplication } from '@angular/platform-browser';\nimport { initAuth, provideAuth } from '@badisi/ngx-auth';\n\nimport { appConfig } from './app/app.config';\nimport { AppComponent } from './app/app.component';\n\ninitAuth({\n  authorityUrl: 'https://dev-fijd1e9x.us.auth0.com',\n  clientId: 'kRVVEnAWKMpxxpcodl0TqLXfIHgQvmmt'\n}).then(authProvider => {\n  appConfig.providers.push(provideAuth(authProvider));\n  bootstrapApplication(AppComponent, appConfig)\n    .catch((err) => console.error(err));\n}).catch(error => console.error(error));\n"})})]}),(0,a.jsxs)(l.A,{value:"module",label:"Module",children:[(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsxs)(n.p,{children:["Modify your ",(0,a.jsx)(n.strong,{children:"main.ts"})," file"]}),"\n"]}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",metastring:"{3,12-15,17,19}",children:"import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\nimport { initAuth } from '@badisi/ngx-auth';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\ninitAuth({\n  authorityUrl: 'https://dev-fijd1e9x.us.auth0.com',\n  clientId: 'kRVVEnAWKMpxxpcodl0TqLXfIHgQvmmt'\n}).then(authProvider => {\n  platformBrowserDynamic([\n    authProvider\n  ]).bootstrapModule(AppModule).catch(err => console.error(err));\n}).catch(error => console.error(error));\n"})})]})]}),"\n",(0,a.jsx)(n.admonition,{type:"info",children:(0,a.jsx)(n.p,{children:"Initializing the library prior to your Angular application bootstrapping ensures that all the security checks are made upstream (if needed) and avoid the whole application to be loaded twice when using redirects."})}),"\n",(0,a.jsx)(n.admonition,{type:"tip",children:(0,a.jsxs)(n.p,{children:["For more info on how to ",(0,a.jsx)(n.strong,{children:"configure"})," the library please have a look at the ",(0,a.jsx)(n.a,{href:"./configuration",children:(0,a.jsx)(n.code,{children:"configuration"})})," page."]})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"You're done! \u{1F680}"}),"\n"]}),"\n"]})]})}function p(e={}){let{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(h,{...e})}):h(e)}},2497:function(e,n,r){r.d(n,{A:()=>i});var t=r(1085);r(4041);var a=r(4349);function i({children:e,hidden:n,className:r}){return(0,t.jsx)("div",{role:"tabpanel",className:(0,a.A)("tabItem_OMyP",r),hidden:n,children:e})}},7861:function(e,n,r){r.d(n,{A:()=>b});var t=r(1085),a=r(4041),i=r(4349),s=r(6699),l=r(4660),o=r(6090),c=r(4673),u=r(4097),d=r(2526),h=r(8568);function p(e){return a.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,a.isValidElement)(e)&&function(e){let{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function m({value:e,tabValues:n}){return n.some(n=>n.value===e)}var f=r(7267);function g({className:e,block:n,selectedValue:r,selectValue:a,tabValues:s}){let o=[],{blockElementScrollPositionUntilNextRender:c}=(0,l.a_)(),u=e=>{let n=e.currentTarget,t=s[o.indexOf(n)].value;t!==r&&(c(n),a(t))},d=e=>{let n=null;switch(e.key){case"Enter":u(e);break;case"ArrowRight":{let r=o.indexOf(e.currentTarget)+1;n=o[r]??o[0];break}case"ArrowLeft":{let r=o.indexOf(e.currentTarget)-1;n=o[r]??o[o.length-1]}}n?.focus()};return(0,t.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.A)("tabs",{"tabs--block":n},e),children:s.map(({value:e,label:n,attributes:a})=>(0,t.jsx)("li",{role:"tab",tabIndex:r===e?0:-1,"aria-selected":r===e,ref:e=>{o.push(e)},onKeyDown:d,onClick:u,...a,className:(0,i.A)("tabs__item","tabItem_ysIP",a?.className,{"tabs__item--active":r===e}),children:n??e},e))})}function x({lazy:e,children:n,selectedValue:r}){let s=(Array.isArray(n)?n:[n]).filter(Boolean);if(e){let e=s.find(e=>e.props.value===r);return e?(0,a.cloneElement)(e,{className:(0,i.A)("margin-top--md",e.props.className)}):null}return(0,t.jsx)("div",{className:"margin-top--md",children:s.map((e,n)=>(0,a.cloneElement)(e,{key:n,hidden:e.props.value!==r}))})}function j(e){let n=function(e){let n,{defaultValue:r,queryString:t=!1,groupId:i}=e,s=function(e){let{values:n,children:r}=e;return(0,a.useMemo)(()=>{let e=n??p(r).map(({props:{value:e,label:n,attributes:r,default:t}})=>({value:e,label:n,attributes:r,default:t})),t=(0,d.XI)(e,(e,n)=>e.value===n.value);if(t.length>0)throw Error(`Docusaurus error: Duplicate values "${t.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`);return e},[n,r])}(e),[l,f]=(0,a.useState)(()=>(function({defaultValue:e,tabValues:n}){if(0===n.length)throw Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!m({value:e,tabValues:n}))throw Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${n.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}let r=n.find(e=>e.default)??n[0];if(!r)throw Error("Unexpected error: 0 tabValues");return r.value})({defaultValue:r,tabValues:s})),[g,x]=function({queryString:e=!1,groupId:n}){let r=(0,o.W6)(),t=function({queryString:e=!1,groupId:n}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!n)throw Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:e,groupId:n});return[(0,u.aZ)(t),(0,a.useCallback)(e=>{if(!t)return;let n=new URLSearchParams(r.location.search);n.set(t,e),r.replace({...r.location,search:n.toString()})},[t,r])]}({queryString:t,groupId:i}),[j,b]=function({groupId:e}){let n=e?`docusaurus.tab.${e}`:null,[r,t]=(0,h.Dv)(n);return[r,(0,a.useCallback)(e=>{n&&t.set(e)},[n,t])]}({groupId:i}),v=m({value:n=g??j,tabValues:s})?n:null;return(0,c.A)(()=>{v&&f(v)},[v]),{selectedValue:l,selectValue:(0,a.useCallback)(e=>{if(!m({value:e,tabValues:s}))throw Error(`Can't select invalid tab value=${e}`);f(e),x(e),b(e)},[x,b,s]),tabValues:s}}(e);return(0,t.jsxs)("div",{className:(0,i.A)(s.G.tabs.container,"tabs-container","tabList_M0Dn"),children:[(0,t.jsx)(g,{...n,...e}),(0,t.jsx)(x,{...n,...e})]})}function b(e){let n=(0,f.A)();return(0,t.jsx)(j,{...e,children:p(e.children)},String(n))}},2600:function(e,n,r){r.d(n,{R:()=>s,x:()=>l});var t=r(4041);let a={},i=t.createContext(a);function s(e){let n=t.useContext(i);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);