"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([["950"],{6175:function(e,t,n){n.r(t),n.d(t,{frontMatter:()=>o,toc:()=>d,default:()=>p,metadata:()=>r,assets:()=>c,contentTitle:()=>u});var r=JSON.parse('{"id":"getting-started/vue-js","title":"Vue.js","description":"This guide explains how to set up your Vue.js project to begin using @badisi/auth-vue.","source":"@site/docs/getting-started/vue-js.mdx","sourceDirName":"getting-started","slug":"/getting-started/vue-js","permalink":"/auth-js/getting-started/vue-js","draft":false,"unlisted":false,"editUrl":"https://github.com/Badisi/auth-js/edit/main/apps/website/docs/getting-started/vue-js.mdx","tags":[],"version":"current","frontMatter":{"title":"Vue.js"},"sidebar":"docsSidebar","previous":{"title":"Angular","permalink":"/auth-js/getting-started/angular"},"next":{"title":"Quasar","permalink":"/auth-js/getting-started/quasar"}}'),i=n(1085),a=n(2600),s=n(7861),l=n(2497);let o={title:"Vue.js"},u,c={},d=[{value:"Prerequisite",id:"prerequisite",level:3},{value:"Installation",id:"installation",level:3},{value:"Basic example",id:"basic-example",level:3}];function h(e){let t={a:"a",admonition:"admonition",code:"code",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(t.p,{children:["This guide explains how to set up your Vue.js project to begin using ",(0,i.jsx)(t.a,{href:"https://github.com/badisi/auth-js/tree/main/libs/auth-vue",children:(0,i.jsx)(t.code,{children:"@badisi/auth-vue"})}),"."]}),"\n",(0,i.jsx)(t.admonition,{title:"Before using this library",type:"info",children:(0,i.jsxs)(t.p,{children:["Make sure you properly configured your \u{1F449} ",(0,i.jsx)(t.a,{href:"providers",children:"Authentication Provider"}),"."]})}),"\n",(0,i.jsx)(t.h3,{id:"prerequisite",children:"Prerequisite"}),"\n",(0,i.jsxs)(t.p,{children:["An existing ",(0,i.jsx)(t.a,{href:"https://vuejs.org/guide/quick-start",children:"Vue.js"})," application."]}),"\n",(0,i.jsx)(t.h3,{id:"installation",children:"Installation"}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:["Install the library from the ",(0,i.jsx)(t.strong,{children:"NPM repository"})]}),"\n",(0,i.jsxs)(s.A,{children:[(0,i.jsx)(l.A,{value:"npm",label:"npm",default:!0,children:(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-shell",children:"npm install @badisi/auth-vue --save\n"})})}),(0,i.jsx)(l.A,{value:"yarn",label:"yarn",children:(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-shell",children:"yarn add @badisi/auth-vue\n"})})})]}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsx)(t.p,{children:"Install required dependency"}),"\n",(0,i.jsxs)(s.A,{children:[(0,i.jsx)(l.A,{value:"npm",label:"npm",default:!0,children:(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-shell",children:"npm install vite-plugin-static-copy --save-dev\n"})})}),(0,i.jsx)(l.A,{value:"yarn",label:"yarn",children:(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-shell",children:"yarn add vite-plugin-static-copy\n"})})})]}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:["Modify your ",(0,i.jsx)(t.strong,{children:"Vite configuration"})," file"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-js",metastring:'title="vite.config.ts" {1,5-10}',children:"import { viteStaticCopy } from 'vite-plugin-static-copy';\n\nexport default defineConfig({\n  plugins: [\n    viteStaticCopy({\n      targets: [{\n        src: 'node_modules/@badisi/auth-vue/oidc/assets/*',\n        dest: 'oidc/callback/'\n      }]\n    })\n  ]\n});\n"})}),"\n",(0,i.jsx)(t.admonition,{type:"info",children:(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Assets"})," needs to be copy over to your application because some html web pages are used and required when navigating back from the Authentication Provider."]})}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsx)(t.p,{children:"Provide the library"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-ts",metastring:'title="main.ts" {3,8-11,13,16}',children:"import './assets/main.css'\n\nimport { initAuth } from '@badisi/auth-vue';\nimport { createApp } from 'vue'\nimport app from './App.vue'\nimport router from './router'\n\ninitAuth({\n  authorityUrl: 'https://dev-fijd1e9x.us.auth0.com',\n  clientId: 'kRVVEnAWKMpxxpcodl0TqLXfIHgQvmmt'\n}).then(authPlugin => {\n  const vueApp = createApp(app);\n  vueApp.use(authPlugin, { router });\n  vueApp.use(router);\n  vueApp.mount('#app');\n}).catch(error => console.error(error));\n"})}),"\n",(0,i.jsx)(t.admonition,{type:"info",children:(0,i.jsx)(t.p,{children:"Initializing the library prior to your Vue.js application bootstrapping ensures that all the security checks are made upstream (if needed) and avoid the whole application to be loaded twice when using redirects."})}),"\n",(0,i.jsx)(t.admonition,{type:"tip",children:(0,i.jsxs)(t.p,{children:["For more info on how to ",(0,i.jsx)(t.strong,{children:"configure"})," the library please have a look at the ",(0,i.jsx)(t.a,{href:"./configuration",children:(0,i.jsx)(t.code,{children:"configuration"})})," page."]})}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsx)(t.p,{children:"You're done! \u{1F680}"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(t.h3,{id:"basic-example",children:"Basic example"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-html",metastring:'title="AuthComponent.vue"',children:'<template>\n  <div style="display:flex; flex-direction:column; align-items:start; gap:16px">\n    <button @click="$authService.login()">Login</button>\n    <button @click="$authService.logout()">Logout</button>\n    <button @click="$authService.renew()">Silent renew</button>\n    (Authenticated: {{ $authService.isRenewingRef.value ? \'renewing..\' : $authService.isAuthenticatedRef }})\n  </div>\n</template>\n\n<script setup lang="ts">\n  import { useAuthService } from \'@badisi/auth-vue\';\n  import { toRaw, watch } from \'vue\';\n\n  const authService = useAuthService();\n  watch(authService.userProfileRef, value => {\n    console.log(\'user profile:\', toRaw(value));\n  });\n<\/script>\n'})})]})}function p(e={}){let{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},2497:function(e,t,n){n.d(t,{A:()=>a});var r=n(1085);n(4041);var i=n(4349);function a({children:e,hidden:t,className:n}){return(0,r.jsx)("div",{role:"tabpanel",className:(0,i.A)("tabItem_OMyP",n),hidden:t,children:e})}},7861:function(e,t,n){n.d(t,{A:()=>j});var r=n(1085),i=n(4041),a=n(4349),s=n(6699),l=n(4660),o=n(6090),u=n(4673),c=n(4097),d=n(2526),h=n(8568);function p(e){return i.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,i.isValidElement)(e)&&function(e){let{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function m({value:e,tabValues:t}){return t.some(t=>t.value===e)}var f=n(7267);function v({className:e,block:t,selectedValue:n,selectValue:i,tabValues:s}){let o=[],{blockElementScrollPositionUntilNextRender:u}=(0,l.a_)(),c=e=>{let t=e.currentTarget,r=s[o.indexOf(t)].value;r!==n&&(u(t),i(r))},d=e=>{let t=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{let n=o.indexOf(e.currentTarget)+1;t=o[n]??o[0];break}case"ArrowLeft":{let n=o.indexOf(e.currentTarget)-1;t=o[n]??o[o.length-1]}}t?.focus()};return(0,r.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,a.A)("tabs",{"tabs--block":t},e),children:s.map(({value:e,label:t,attributes:i})=>(0,r.jsx)("li",{role:"tab",tabIndex:n===e?0:-1,"aria-selected":n===e,ref:e=>{o.push(e)},onKeyDown:d,onClick:c,...i,className:(0,a.A)("tabs__item","tabItem_ysIP",i?.className,{"tabs__item--active":n===e}),children:t??e},e))})}function g({lazy:e,children:t,selectedValue:n}){let s=(Array.isArray(t)?t:[t]).filter(Boolean);if(e){let e=s.find(e=>e.props.value===n);return e?(0,i.cloneElement)(e,{className:(0,a.A)("margin-top--md",e.props.className)}):null}return(0,r.jsx)("div",{className:"margin-top--md",children:s.map((e,t)=>(0,i.cloneElement)(e,{key:t,hidden:e.props.value!==n}))})}function x(e){let t=function(e){let t,{defaultValue:n,queryString:r=!1,groupId:a}=e,s=function(e){let{values:t,children:n}=e;return(0,i.useMemo)(()=>{let e=t??p(n).map(({props:{value:e,label:t,attributes:n,default:r}})=>({value:e,label:t,attributes:n,default:r})),r=(0,d.XI)(e,(e,t)=>e.value===t.value);if(r.length>0)throw Error(`Docusaurus error: Duplicate values "${r.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`);return e},[t,n])}(e),[l,f]=(0,i.useState)(()=>(function({defaultValue:e,tabValues:t}){if(0===t.length)throw Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!m({value:e,tabValues:t}))throw Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${t.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}let n=t.find(e=>e.default)??t[0];if(!n)throw Error("Unexpected error: 0 tabValues");return n.value})({defaultValue:n,tabValues:s})),[v,g]=function({queryString:e=!1,groupId:t}){let n=(0,o.W6)(),r=function({queryString:e=!1,groupId:t}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!t)throw Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:e,groupId:t});return[(0,c.aZ)(r),(0,i.useCallback)(e=>{if(!r)return;let t=new URLSearchParams(n.location.search);t.set(r,e),n.replace({...n.location,search:t.toString()})},[r,n])]}({queryString:r,groupId:a}),[x,j]=function({groupId:e}){let t=e?`docusaurus.tab.${e}`:null,[n,r]=(0,h.Dv)(t);return[n,(0,i.useCallback)(e=>{t&&r.set(e)},[t,r])]}({groupId:a}),b=m({value:t=v??x,tabValues:s})?t:null;return(0,u.A)(()=>{b&&f(b)},[b]),{selectedValue:l,selectValue:(0,i.useCallback)(e=>{if(!m({value:e,tabValues:s}))throw Error(`Can't select invalid tab value=${e}`);f(e),g(e),j(e)},[g,j,s]),tabValues:s}}(e);return(0,r.jsxs)("div",{className:(0,a.A)(s.G.tabs.container,"tabs-container","tabList_M0Dn"),children:[(0,r.jsx)(v,{...t,...e}),(0,r.jsx)(g,{...t,...e})]})}function j(e){let t=(0,f.A)();return(0,r.jsx)(x,{...e,children:p(e.children)},String(t))}},2600:function(e,t,n){n.d(t,{R:()=>s,x:()=>l});var r=n(4041);let i={},a=r.createContext(i);function s(e){let t=r.useContext(a);return r.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),r.createElement(a.Provider,{value:t},e.children)}}}]);