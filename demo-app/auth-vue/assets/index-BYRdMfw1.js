const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/PageView-mtBQQcbK.js","assets/PageView-B4iHu5ze.css"])))=>i.map(i=>d[i]);
var hd=Object.defineProperty;var ea=e=>{throw TypeError(e)};var pd=(e,t,s)=>t in e?hd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var z=(e,t,s)=>pd(e,typeof t!="symbol"?t+"":t,s),di=(e,t,s)=>t.has(e)||ea("Cannot "+s);var S=(e,t,s)=>(di(e,t,"read from private field"),s?s.call(e):t.get(e)),K=(e,t,s)=>t.has(e)?ea("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),ie=(e,t,s,n)=>(di(e,t,"write to private field"),n?n.call(e,s):t.set(e,s),s),B=(e,t,s)=>(di(e,t,"access private method"),s);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function s(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=s(r);fetch(r.href,i)}})();var ds=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function gd(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var s=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};s.prototype=t.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(s,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}),s}function md(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Ac={exports:{}};const wd={},_d=Object.freeze(Object.defineProperty({__proto__:null,default:wd},Symbol.toStringTag,{value:"Module"})),bd=gd(_d);(function(e,t){(function(s,n){e.exports=n()})(ds,function(){var s=s||function(n,r){var i;if(typeof window<"u"&&window.crypto&&(i=window.crypto),typeof self<"u"&&self.crypto&&(i=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(i=globalThis.crypto),!i&&typeof window<"u"&&window.msCrypto&&(i=window.msCrypto),!i&&typeof ds<"u"&&ds.crypto&&(i=ds.crypto),!i&&typeof md=="function")try{i=bd}catch{}var o=function(){if(i){if(typeof i.getRandomValues=="function")try{return i.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof i.randomBytes=="function")try{return i.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},a=Object.create||function(){function m(){}return function(b){var x;return m.prototype=b,x=new m,m.prototype=null,x}}(),c={},l=c.lib={},u=l.Base=function(){return{extend:function(m){var b=a(this);return m&&b.mixIn(m),(!b.hasOwnProperty("init")||this.init===b.init)&&(b.init=function(){b.$super.init.apply(this,arguments)}),b.init.prototype=b,b.$super=this,b},create:function(){var m=this.extend();return m.init.apply(m,arguments),m},init:function(){},mixIn:function(m){for(var b in m)m.hasOwnProperty(b)&&(this[b]=m[b]);m.hasOwnProperty("toString")&&(this.toString=m.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),d=l.WordArray=u.extend({init:function(m,b){m=this.words=m||[],b!=r?this.sigBytes=b:this.sigBytes=m.length*4},toString:function(m){return(m||g).stringify(this)},concat:function(m){var b=this.words,x=m.words,O=this.sigBytes,D=m.sigBytes;if(this.clamp(),O%4)for(var U=0;U<D;U++){var q=x[U>>>2]>>>24-U%4*8&255;b[O+U>>>2]|=q<<24-(O+U)%4*8}else for(var I=0;I<D;I+=4)b[O+I>>>2]=x[I>>>2];return this.sigBytes+=D,this},clamp:function(){var m=this.words,b=this.sigBytes;m[b>>>2]&=4294967295<<32-b%4*8,m.length=n.ceil(b/4)},clone:function(){var m=u.clone.call(this);return m.words=this.words.slice(0),m},random:function(m){for(var b=[],x=0;x<m;x+=4)b.push(o());return new d.init(b,m)}}),h=c.enc={},g=h.Hex={stringify:function(m){for(var b=m.words,x=m.sigBytes,O=[],D=0;D<x;D++){var U=b[D>>>2]>>>24-D%4*8&255;O.push((U>>>4).toString(16)),O.push((U&15).toString(16))}return O.join("")},parse:function(m){for(var b=m.length,x=[],O=0;O<b;O+=2)x[O>>>3]|=parseInt(m.substr(O,2),16)<<24-O%8*4;return new d.init(x,b/2)}},w=h.Latin1={stringify:function(m){for(var b=m.words,x=m.sigBytes,O=[],D=0;D<x;D++){var U=b[D>>>2]>>>24-D%4*8&255;O.push(String.fromCharCode(U))}return O.join("")},parse:function(m){for(var b=m.length,x=[],O=0;O<b;O++)x[O>>>2]|=(m.charCodeAt(O)&255)<<24-O%4*8;return new d.init(x,b)}},_=h.Utf8={stringify:function(m){try{return decodeURIComponent(escape(w.stringify(m)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(m){return w.parse(unescape(encodeURIComponent(m)))}},v=l.BufferedBlockAlgorithm=u.extend({reset:function(){this._data=new d.init,this._nDataBytes=0},_append:function(m){typeof m=="string"&&(m=_.parse(m)),this._data.concat(m),this._nDataBytes+=m.sigBytes},_process:function(m){var b,x=this._data,O=x.words,D=x.sigBytes,U=this.blockSize,q=U*4,I=D/q;m?I=n.ceil(I):I=n.max((I|0)-this._minBufferSize,0);var se=I*U,ne=n.min(se*4,D);if(se){for(var le=0;le<se;le+=U)this._doProcessBlock(O,le);b=O.splice(0,se),x.sigBytes-=ne}return new d.init(b,ne)},clone:function(){var m=u.clone.call(this);return m._data=this._data.clone(),m},_minBufferSize:0});l.Hasher=v.extend({cfg:u.extend(),init:function(m){this.cfg=this.cfg.extend(m),this.reset()},reset:function(){v.reset.call(this),this._doReset()},update:function(m){return this._append(m),this._process(),this},finalize:function(m){m&&this._append(m);var b=this._doFinalize();return b},blockSize:16,_createHelper:function(m){return function(b,x){return new m.init(x).finalize(b)}},_createHmacHelper:function(m){return function(b,x){return new C.HMAC.init(m,x).finalize(b)}}});var C=c.algo={};return c}(Math);return s})})(Ac);var Br=Ac.exports;const yd=qr(Br);var Ic={exports:{}};(function(e,t){(function(s,n){e.exports=n(Br)})(ds,function(s){return function(n){var r=s,i=r.lib,o=i.WordArray,a=i.Hasher,c=r.algo,l=[],u=[];(function(){function g(C){for(var m=n.sqrt(C),b=2;b<=m;b++)if(!(C%b))return!1;return!0}function w(C){return(C-(C|0))*4294967296|0}for(var _=2,v=0;v<64;)g(_)&&(v<8&&(l[v]=w(n.pow(_,1/2))),u[v]=w(n.pow(_,1/3)),v++),_++})();var d=[],h=c.SHA256=a.extend({_doReset:function(){this._hash=new o.init(l.slice(0))},_doProcessBlock:function(g,w){for(var _=this._hash.words,v=_[0],C=_[1],m=_[2],b=_[3],x=_[4],O=_[5],D=_[6],U=_[7],q=0;q<64;q++){if(q<16)d[q]=g[w+q]|0;else{var I=d[q-15],se=(I<<25|I>>>7)^(I<<14|I>>>18)^I>>>3,ne=d[q-2],le=(ne<<15|ne>>>17)^(ne<<13|ne>>>19)^ne>>>10;d[q]=se+d[q-7]+le+d[q-16]}var ye=x&O^~x&D,Ve=v&C^v&m^C&m,Oe=(v<<30|v>>>2)^(v<<19|v>>>13)^(v<<10|v>>>22),fe=(x<<26|x>>>6)^(x<<21|x>>>11)^(x<<7|x>>>25),ee=U+fe+ye+u[q]+d[q],te=Oe+Ve;U=D,D=O,O=x,x=b+ee|0,b=m,m=C,C=v,v=ee+te|0}_[0]=_[0]+v|0,_[1]=_[1]+C|0,_[2]=_[2]+m|0,_[3]=_[3]+b|0,_[4]=_[4]+x|0,_[5]=_[5]+O|0,_[6]=_[6]+D|0,_[7]=_[7]+U|0},_doFinalize:function(){var g=this._data,w=g.words,_=this._nDataBytes*8,v=g.sigBytes*8;return w[v>>>5]|=128<<24-v%32,w[(v+64>>>9<<4)+14]=n.floor(_/4294967296),w[(v+64>>>9<<4)+15]=_,g.sigBytes=w.length*4,this._process(),this._hash},clone:function(){var g=a.clone.call(this);return g._hash=this._hash.clone(),g}});r.SHA256=a._createHelper(h),r.HmacSHA256=a._createHmacHelper(h)}(Math),s.SHA256})})(Ic);var vd=Ic.exports;const Sd=qr(vd);var Uc={exports:{}};(function(e,t){(function(s,n){e.exports=n(Br)})(ds,function(s){return function(){var n=s,r=n.lib,i=r.WordArray,o=n.enc;o.Base64={stringify:function(c){var l=c.words,u=c.sigBytes,d=this._map;c.clamp();for(var h=[],g=0;g<u;g+=3)for(var w=l[g>>>2]>>>24-g%4*8&255,_=l[g+1>>>2]>>>24-(g+1)%4*8&255,v=l[g+2>>>2]>>>24-(g+2)%4*8&255,C=w<<16|_<<8|v,m=0;m<4&&g+m*.75<u;m++)h.push(d.charAt(C>>>6*(3-m)&63));var b=d.charAt(64);if(b)for(;h.length%4;)h.push(b);return h.join("")},parse:function(c){var l=c.length,u=this._map,d=this._reverseMap;if(!d){d=this._reverseMap=[];for(var h=0;h<u.length;h++)d[u.charCodeAt(h)]=h}var g=u.charAt(64);if(g){var w=c.indexOf(g);w!==-1&&(l=w)}return a(c,l,d)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function a(c,l,u){for(var d=[],h=0,g=0;g<l;g++)if(g%4){var w=u[c.charCodeAt(g-1)]<<g%4*2,_=u[c.charCodeAt(g)]>>>6-g%4*2,v=w|_;d[h>>>2]|=v<<24-h%4*8,h++}return i.create(d,h)}}(),s.enc.Base64})})(Uc);var Ed=Uc.exports;const ta=qr(Ed);var Lc={exports:{}};(function(e,t){(function(s,n){e.exports=n(Br)})(ds,function(s){return s.enc.Utf8})})(Lc);var xd=Lc.exports;const Rd=qr(xd);function ji(e){this.message=e}ji.prototype=new Error,ji.prototype.name="InvalidCharacterError";var sa=typeof window<"u"&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new ji("'atob' failed: The string to be decoded is not correctly encoded.");for(var s,n,r=0,i=0,o="";n=t.charAt(i++);~n&&(s=r%4?64*s+n:n,r++%4)?o+=String.fromCharCode(255&s>>(-2*r&6)):0)n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(n);return o};function Td(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(s){return decodeURIComponent(sa(s).replace(/(.)/g,function(n,r){var i=r.charCodeAt(0).toString(16).toUpperCase();return i.length<2&&(i="0"+i),"%"+i}))}(t)}catch{return sa(t)}}function Tr(e){this.message=e}function jc(e,t){if(typeof e!="string")throw new Tr("Invalid token specified");var s=(t=t||{}).header===!0?0:1;try{return JSON.parse(Td(e.split(".")[s]))}catch(n){throw new Tr("Invalid token specified: "+n.message)}}Tr.prototype=new Error,Tr.prototype.name="InvalidTokenError";var Cd={debug:()=>{},info:()=>{},warn:()=>{},error:()=>{}},St,Et,en=(e=>(e[e.NONE=0]="NONE",e[e.ERROR=1]="ERROR",e[e.WARN=2]="WARN",e[e.INFO=3]="INFO",e[e.DEBUG=4]="DEBUG",e))(en||{});(e=>{function t(){St=3,Et=Cd}e.reset=t;function s(r){if(!(0<=r&&r<=4))throw new Error("Invalid log level");St=r}e.setLevel=s;function n(r){Et=r}e.setLogger=n})(en||(en={}));var X=class{constructor(e){this._name=e}debug(...e){St>=4&&Et.debug(X._format(this._name,this._method),...e)}info(...e){St>=3&&Et.info(X._format(this._name,this._method),...e)}warn(...e){St>=2&&Et.warn(X._format(this._name,this._method),...e)}error(...e){St>=1&&Et.error(X._format(this._name,this._method),...e)}throw(e){throw this.error(e),e}create(e){const t=Object.create(this);return t._method=e,t.debug("begin"),t}static createStatic(e,t){const s=new X(`${e}.${t}`);return s.debug("begin"),s}static _format(e,t){const s=`[${e}]`;return t?`${s} ${t}:`:s}static debug(e,...t){St>=4&&Et.debug(X._format(e),...t)}static info(e,...t){St>=3&&Et.info(X._format(e),...t)}static warn(e,...t){St>=2&&Et.warn(X._format(e),...t)}static error(e,...t){St>=1&&Et.error(X._format(e),...t)}};en.reset();var Pd="10000000-1000-4000-8000-100000000000",Ct=class{static _randomWord(){return yd.lib.WordArray.random(1).words[0]}static generateUUIDv4(){return Pd.replace(/[018]/g,t=>(+t^Ct._randomWord()&15>>+t/4).toString(16)).replace(/-/g,"")}static generateCodeVerifier(){return Ct.generateUUIDv4()+Ct.generateUUIDv4()+Ct.generateUUIDv4()}static generateCodeChallenge(e){try{const t=Sd(e);return ta.stringify(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}catch(t){throw X.error("CryptoUtils.generateCodeChallenge",t),t}}static generateBasicAuth(e,t){const s=Rd.parse([e,t].join(":"));return ta.stringify(s)}},Kt=class{constructor(t){this._name=t,this._logger=new X(`Event('${this._name}')`),this._callbacks=[]}addHandler(t){return this._callbacks.push(t),()=>this.removeHandler(t)}removeHandler(t){const s=this._callbacks.lastIndexOf(t);s>=0&&this._callbacks.splice(s,1)}raise(...t){this._logger.debug("raise:",...t);for(const s of this._callbacks)s(...t)}},Ni=class{static decode(e){try{return jc(e)}catch(t){throw X.error("JwtUtils.decode",t),t}}},na=class{static center({...e}){var t,s,n;return e.width==null&&(e.width=(t=[800,720,600,480].find(r=>r<=window.outerWidth/1.618))!=null?t:360),(s=e.left)!=null||(e.left=Math.max(0,Math.round(window.screenX+(window.outerWidth-e.width)/2))),e.height!=null&&((n=e.top)!=null||(e.top=Math.max(0,Math.round(window.screenY+(window.outerHeight-e.height)/2)))),e}static serialize(e){return Object.entries(e).filter(([,t])=>t!=null).map(([t,s])=>`${t}=${typeof s!="boolean"?s:s?"yes":"no"}`).join(",")}},lt=class extends Kt{constructor(){super(...arguments),this._logger=new X(`Timer('${this._name}')`),this._timerHandle=null,this._expiration=0,this._callback=()=>{const e=this._expiration-lt.getEpochTime();this._logger.debug("timer completes in",e),this._expiration<=lt.getEpochTime()&&(this.cancel(),super.raise())}}static getEpochTime(){return Math.floor(Date.now()/1e3)}init(e){const t=this._logger.create("init");e=Math.max(Math.floor(e),1);const s=lt.getEpochTime()+e;if(this.expiration===s&&this._timerHandle){t.debug("skipping since already initialized for expiration at",this.expiration);return}this.cancel(),t.debug("using duration",e),this._expiration=s;const n=Math.min(e,5);this._timerHandle=setInterval(this._callback,n*1e3)}get expiration(){return this._expiration}cancel(){this._logger.create("cancel"),this._timerHandle&&(clearInterval(this._timerHandle),this._timerHandle=null)}},$i=class{static readParams(e,t="query"){if(!e)throw new TypeError("Invalid URL");const n=new URL(e,"http://127.0.0.1")[t==="fragment"?"hash":"search"];return new URLSearchParams(n.slice(1))}},Mi=";",Ss=class extends Error{constructor(e,t){var s,n,r;if(super(e.error_description||e.error||""),this.form=t,this.name="ErrorResponse",!e.error)throw X.error("ErrorResponse","No error passed"),new Error("No error passed");this.error=e.error,this.error_description=(s=e.error_description)!=null?s:null,this.error_uri=(n=e.error_uri)!=null?n:null,this.state=e.userState,this.session_state=(r=e.session_state)!=null?r:null,this.url_state=e.url_state}},go=class extends Error{constructor(e){super(e),this.name="ErrorTimeout"}},kd=class{constructor(e){this._logger=new X("AccessTokenEvents"),this._expiringTimer=new lt("Access token expiring"),this._expiredTimer=new lt("Access token expired"),this._expiringNotificationTimeInSeconds=e.expiringNotificationTimeInSeconds}load(e){const t=this._logger.create("load");if(e.access_token&&e.expires_in!==void 0){const s=e.expires_in;if(t.debug("access token present, remaining duration:",s),s>0){let r=s-this._expiringNotificationTimeInSeconds;r<=0&&(r=1),t.debug("registering expiring timer, raising in",r,"seconds"),this._expiringTimer.init(r)}else t.debug("canceling existing expiring timer because we're past expiration."),this._expiringTimer.cancel();const n=s+1;t.debug("registering expired timer, raising in",n,"seconds"),this._expiredTimer.init(n)}else this._expiringTimer.cancel(),this._expiredTimer.cancel()}unload(){this._logger.debug("unload: canceling existing access token timers"),this._expiringTimer.cancel(),this._expiredTimer.cancel()}addAccessTokenExpiring(e){return this._expiringTimer.addHandler(e)}removeAccessTokenExpiring(e){this._expiringTimer.removeHandler(e)}addAccessTokenExpired(e){return this._expiredTimer.addHandler(e)}removeAccessTokenExpired(e){this._expiredTimer.removeHandler(e)}},Od=class{constructor(e,t,s,n,r){this._callback=e,this._client_id=t,this._intervalInSeconds=n,this._stopOnError=r,this._logger=new X("CheckSessionIFrame"),this._timer=null,this._session_state=null,this._message=o=>{o.origin===this._frame_origin&&o.source===this._frame.contentWindow&&(o.data==="error"?(this._logger.error("error message from check session op iframe"),this._stopOnError&&this.stop()):o.data==="changed"?(this._logger.debug("changed message from check session op iframe"),this.stop(),this._callback()):this._logger.debug(o.data+" message from check session op iframe"))};const i=new URL(s);this._frame_origin=i.origin,this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="fixed",this._frame.style.left="-1000px",this._frame.style.top="0",this._frame.width="0",this._frame.height="0",this._frame.src=i.href}load(){return new Promise(e=>{this._frame.onload=()=>{e()},window.document.body.appendChild(this._frame),window.addEventListener("message",this._message,!1)})}start(e){if(this._session_state===e)return;this._logger.create("start"),this.stop(),this._session_state=e;const t=()=>{!this._frame.contentWindow||!this._session_state||this._frame.contentWindow.postMessage(this._client_id+" "+this._session_state,this._frame_origin)};t(),this._timer=setInterval(t,this._intervalInSeconds*1e3)}stop(){this._logger.create("stop"),this._session_state=null,this._timer&&(clearInterval(this._timer),this._timer=null)}},mo=class{constructor(){this._logger=new X("InMemoryWebStorage"),this._data={}}clear(){this._logger.create("clear"),this._data={}}getItem(e){return this._logger.create(`getItem('${e}')`),this._data[e]}setItem(e,t){this._logger.create(`setItem('${e}')`),this._data[e]=t}removeItem(e){this._logger.create(`removeItem('${e}')`),delete this._data[e]}get length(){return Object.getOwnPropertyNames(this._data).length}key(e){return Object.getOwnPropertyNames(this._data)[e]}},wo=class{constructor(e=[],t=null,s={}){this._jwtHandler=t,this._extraHeaders=s,this._logger=new X("JsonService"),this._contentTypes=[],this._contentTypes.push(...e,"application/json"),t&&this._contentTypes.push("application/jwt")}async fetchWithTimeout(e,t={}){const{timeoutInSeconds:s,...n}=t;if(!s)return await fetch(e,n);const r=new AbortController,i=setTimeout(()=>r.abort(),s*1e3);try{return await fetch(e,{...t,signal:r.signal})}catch(o){throw o instanceof DOMException&&o.name==="AbortError"?new go("Network timed out"):o}finally{clearTimeout(i)}}async getJson(e,{token:t,credentials:s}={}){const n=this._logger.create("getJson"),r={Accept:this._contentTypes.join(", ")};t&&(n.debug("token passed, setting Authorization header"),r.Authorization="Bearer "+t),this.appendExtraHeaders(r);let i;try{n.debug("url:",e),i=await this.fetchWithTimeout(e,{method:"GET",headers:r,credentials:s})}catch(c){throw n.error("Network Error"),c}n.debug("HTTP response received, status",i.status);const o=i.headers.get("Content-Type");if(o&&!this._contentTypes.find(c=>o.startsWith(c))&&n.throw(new Error(`Invalid response Content-Type: ${o??"undefined"}, from URL: ${e}`)),i.ok&&this._jwtHandler&&(o!=null&&o.startsWith("application/jwt")))return await this._jwtHandler(await i.text());let a;try{a=await i.json()}catch(c){throw n.error("Error parsing JSON response",c),i.ok?c:new Error(`${i.statusText} (${i.status})`)}if(!i.ok)throw n.error("Error from server:",a),a.error?new Ss(a):new Error(`${i.statusText} (${i.status}): ${JSON.stringify(a)}`);return a}async postForm(e,{body:t,basicAuth:s,timeoutInSeconds:n,initCredentials:r}){const i=this._logger.create("postForm"),o={Accept:this._contentTypes.join(", "),"Content-Type":"application/x-www-form-urlencoded"};s!==void 0&&(o.Authorization="Basic "+s),this.appendExtraHeaders(o);let a;try{i.debug("url:",e),a=await this.fetchWithTimeout(e,{method:"POST",headers:o,body:t,timeoutInSeconds:n,credentials:r})}catch(d){throw i.error("Network error"),d}i.debug("HTTP response received, status",a.status);const c=a.headers.get("Content-Type");if(c&&!this._contentTypes.find(d=>c.startsWith(d)))throw new Error(`Invalid response Content-Type: ${c??"undefined"}, from URL: ${e}`);const l=await a.text();let u={};if(l)try{u=JSON.parse(l)}catch(d){throw i.error("Error parsing JSON response",d),a.ok?d:new Error(`${a.statusText} (${a.status})`)}if(!a.ok)throw i.error("Error from server:",u),u.error?new Ss(u,t):new Error(`${a.statusText} (${a.status}): ${JSON.stringify(u)}`);return u}appendExtraHeaders(e){const t=this._logger.create("appendExtraHeaders"),s=Object.keys(this._extraHeaders),n=["authorization","accept","content-type"];s.length!==0&&s.forEach(r=>{if(n.includes(r.toLocaleLowerCase())){t.warn("Protected header could not be overridden",r,n);return}const i=typeof this._extraHeaders[r]=="function"?this._extraHeaders[r]():this._extraHeaders[r];i&&i!==""&&(e[r]=i)})}},Ad=class{constructor(e){this._settings=e,this._logger=new X("MetadataService"),this._signingKeys=null,this._metadata=null,this._metadataUrl=this._settings.metadataUrl,this._jsonService=new wo(["application/jwk-set+json"],null,this._settings.extraHeaders),this._settings.signingKeys&&(this._logger.debug("using signingKeys from settings"),this._signingKeys=this._settings.signingKeys),this._settings.metadata&&(this._logger.debug("using metadata from settings"),this._metadata=this._settings.metadata),this._settings.fetchRequestCredentials&&(this._logger.debug("using fetchRequestCredentials from settings"),this._fetchRequestCredentials=this._settings.fetchRequestCredentials)}resetSigningKeys(){this._signingKeys=null}async getMetadata(){const e=this._logger.create("getMetadata");if(this._metadata)return e.debug("using cached values"),this._metadata;if(!this._metadataUrl)throw e.throw(new Error("No authority or metadataUrl configured on settings")),null;e.debug("getting metadata from",this._metadataUrl);const t=await this._jsonService.getJson(this._metadataUrl,{credentials:this._fetchRequestCredentials});return e.debug("merging remote JSON with seed metadata"),this._metadata=Object.assign({},this._settings.metadataSeed,t),this._metadata}getIssuer(){return this._getMetadataProperty("issuer")}getAuthorizationEndpoint(){return this._getMetadataProperty("authorization_endpoint")}getUserInfoEndpoint(){return this._getMetadataProperty("userinfo_endpoint")}getTokenEndpoint(e=!0){return this._getMetadataProperty("token_endpoint",e)}getCheckSessionIframe(){return this._getMetadataProperty("check_session_iframe",!0)}getEndSessionEndpoint(){return this._getMetadataProperty("end_session_endpoint",!0)}getRevocationEndpoint(e=!0){return this._getMetadataProperty("revocation_endpoint",e)}getKeysEndpoint(e=!0){return this._getMetadataProperty("jwks_uri",e)}async _getMetadataProperty(e,t=!1){const s=this._logger.create(`_getMetadataProperty('${e}')`),n=await this.getMetadata();if(s.debug("resolved"),n[e]===void 0){if(t===!0){s.warn("Metadata does not contain optional property");return}s.throw(new Error("Metadata does not contain property "+e))}return n[e]}async getSigningKeys(){const e=this._logger.create("getSigningKeys");if(this._signingKeys)return e.debug("returning signingKeys from cache"),this._signingKeys;const t=await this.getKeysEndpoint(!1);e.debug("got jwks_uri",t);const s=await this._jsonService.getJson(t);if(e.debug("got key set",s),!Array.isArray(s.keys))throw e.throw(new Error("Missing keys on keyset")),null;return this._signingKeys=s.keys,this._signingKeys}},_o=class{constructor({prefix:e="oidc.",store:t=localStorage}={}){this._logger=new X("WebStorageStateStore"),this._store=t,this._prefix=e}async set(e,t){this._logger.create(`set('${e}')`),e=this._prefix+e,await this._store.setItem(e,t)}async get(e){return this._logger.create(`get('${e}')`),e=this._prefix+e,await this._store.getItem(e)}async remove(e){this._logger.create(`remove('${e}')`),e=this._prefix+e;const t=await this._store.getItem(e);return await this._store.removeItem(e),t}async getAllKeys(){this._logger.create("getAllKeys");const e=await this._store.length,t=[];for(let s=0;s<e;s++){const n=await this._store.key(s);n&&n.indexOf(this._prefix)===0&&t.push(n.substr(this._prefix.length))}return t}},Id="code",Ud="openid",Ld="client_secret_post",jd="query",Nd=60*15,$d=60*5,Di=class{constructor({authority:e,metadataUrl:t,metadata:s,signingKeys:n,metadataSeed:r,client_id:i,client_secret:o,response_type:a=Id,scope:c=Ud,redirect_uri:l,post_logout_redirect_uri:u,client_authentication:d=Ld,prompt:h,display:g,max_age:w,ui_locales:_,acr_values:v,resource:C,response_mode:m=jd,filterProtocolClaims:b=!0,loadUserInfo:x=!1,staleStateAgeInSeconds:O=Nd,clockSkewInSeconds:D=$d,userInfoJwtIssuer:U="OP",mergeClaims:q=!1,disablePKCE:I=!1,stateStore:se,refreshTokenCredentials:ne,revokeTokenAdditionalContentTypes:le,fetchRequestCredentials:ye,refreshTokenAllowedScope:Ve,extraQueryParams:Oe={},extraTokenParams:fe={},extraHeaders:ee={}}){if(this.authority=e,t?this.metadataUrl=t:(this.metadataUrl=e,e&&(this.metadataUrl.endsWith("/")||(this.metadataUrl+="/"),this.metadataUrl+=".well-known/openid-configuration")),this.metadata=s,this.metadataSeed=r,this.signingKeys=n,this.client_id=i,this.client_secret=o,this.response_type=a,this.scope=c,this.redirect_uri=l,this.post_logout_redirect_uri=u,this.client_authentication=d,this.prompt=h,this.display=g,this.max_age=w,this.ui_locales=_,this.acr_values=v,this.resource=C,this.response_mode=m,this.filterProtocolClaims=b??!0,this.loadUserInfo=!!x,this.staleStateAgeInSeconds=O,this.clockSkewInSeconds=D,this.userInfoJwtIssuer=U,this.mergeClaims=!!q,this.disablePKCE=!!I,this.revokeTokenAdditionalContentTypes=le,ye&&ne&&console.warn("Both fetchRequestCredentials and refreshTokenCredentials is set. Only fetchRequestCredentials will be used."),this.fetchRequestCredentials=ye||ne||"same-origin",se)this.stateStore=se;else{const te=typeof window<"u"?window.localStorage:new mo;this.stateStore=new _o({store:te})}this.refreshTokenAllowedScope=Ve,this.extraQueryParams=Oe,this.extraTokenParams=fe,this.extraHeaders=ee}},Md=class{constructor(e,t){this._settings=e,this._metadataService=t,this._logger=new X("UserInfoService"),this._getClaimsFromJwt=async s=>{const n=this._logger.create("_getClaimsFromJwt");try{const r=Ni.decode(s);return n.debug("JWT decoding successful"),r}catch(r){throw n.error("Error parsing JWT response"),r}},this._jsonService=new wo(void 0,this._getClaimsFromJwt,this._settings.extraHeaders)}async getClaims(e){const t=this._logger.create("getClaims");e||this._logger.throw(new Error("No token passed"));const s=await this._metadataService.getUserInfoEndpoint();t.debug("got userinfo url",s);const n=await this._jsonService.getJson(s,{token:e,credentials:this._settings.fetchRequestCredentials});return t.debug("got claims",n),n}},Nc=class{constructor(e,t){this._settings=e,this._metadataService=t,this._logger=new X("TokenClient"),this._jsonService=new wo(this._settings.revokeTokenAdditionalContentTypes,null,this._settings.extraHeaders)}async exchangeCode({grant_type:e="authorization_code",redirect_uri:t=this._settings.redirect_uri,client_id:s=this._settings.client_id,client_secret:n=this._settings.client_secret,...r}){const i=this._logger.create("exchangeCode");s||i.throw(new Error("A client_id is required")),t||i.throw(new Error("A redirect_uri is required")),r.code||i.throw(new Error("A code is required"));const o=new URLSearchParams({grant_type:e,redirect_uri:t});for(const[u,d]of Object.entries(r))d!=null&&o.set(u,d);let a;switch(this._settings.client_authentication){case"client_secret_basic":if(!n)throw i.throw(new Error("A client_secret is required")),null;a=Ct.generateBasicAuth(s,n);break;case"client_secret_post":o.append("client_id",s),n&&o.append("client_secret",n);break}const c=await this._metadataService.getTokenEndpoint(!1);i.debug("got token endpoint");const l=await this._jsonService.postForm(c,{body:o,basicAuth:a,initCredentials:this._settings.fetchRequestCredentials});return i.debug("got response"),l}async exchangeCredentials({grant_type:e="password",client_id:t=this._settings.client_id,client_secret:s=this._settings.client_secret,scope:n=this._settings.scope,...r}){const i=this._logger.create("exchangeCredentials");t||i.throw(new Error("A client_id is required"));const o=new URLSearchParams({grant_type:e,scope:n});for(const[u,d]of Object.entries(r))d!=null&&o.set(u,d);let a;switch(this._settings.client_authentication){case"client_secret_basic":if(!s)throw i.throw(new Error("A client_secret is required")),null;a=Ct.generateBasicAuth(t,s);break;case"client_secret_post":o.append("client_id",t),s&&o.append("client_secret",s);break}const c=await this._metadataService.getTokenEndpoint(!1);i.debug("got token endpoint");const l=await this._jsonService.postForm(c,{body:o,basicAuth:a,initCredentials:this._settings.fetchRequestCredentials});return i.debug("got response"),l}async exchangeRefreshToken({grant_type:e="refresh_token",client_id:t=this._settings.client_id,client_secret:s=this._settings.client_secret,timeoutInSeconds:n,...r}){const i=this._logger.create("exchangeRefreshToken");t||i.throw(new Error("A client_id is required")),r.refresh_token||i.throw(new Error("A refresh_token is required"));const o=new URLSearchParams({grant_type:e});for(const[u,d]of Object.entries(r))Array.isArray(d)?d.forEach(h=>o.append(u,h)):d!=null&&o.set(u,d);let a;switch(this._settings.client_authentication){case"client_secret_basic":if(!s)throw i.throw(new Error("A client_secret is required")),null;a=Ct.generateBasicAuth(t,s);break;case"client_secret_post":o.append("client_id",t),s&&o.append("client_secret",s);break}const c=await this._metadataService.getTokenEndpoint(!1);i.debug("got token endpoint");const l=await this._jsonService.postForm(c,{body:o,basicAuth:a,timeoutInSeconds:n,initCredentials:this._settings.fetchRequestCredentials});return i.debug("got response"),l}async revoke(e){var t;const s=this._logger.create("revoke");e.token||s.throw(new Error("A token is required"));const n=await this._metadataService.getRevocationEndpoint(!1);s.debug(`got revocation endpoint, revoking ${(t=e.token_type_hint)!=null?t:"default token type"}`);const r=new URLSearchParams;for(const[i,o]of Object.entries(e))o!=null&&r.set(i,o);r.set("client_id",this._settings.client_id),this._settings.client_secret&&r.set("client_secret",this._settings.client_secret),await this._jsonService.postForm(n,{body:r}),s.debug("got response")}},Dd=class{constructor(e,t,s){this._settings=e,this._metadataService=t,this._claimsService=s,this._logger=new X("ResponseValidator"),this._userInfoService=new Md(this._settings,this._metadataService),this._tokenClient=new Nc(this._settings,this._metadataService)}async validateSigninResponse(e,t){const s=this._logger.create("validateSigninResponse");this._processSigninState(e,t),s.debug("state processed"),await this._processCode(e,t),s.debug("code processed"),e.isOpenId&&this._validateIdTokenAttributes(e),s.debug("tokens validated"),await this._processClaims(e,t==null?void 0:t.skipUserInfo,e.isOpenId),s.debug("claims processed")}async validateCredentialsResponse(e,t){const s=this._logger.create("validateCredentialsResponse");e.isOpenId&&e.id_token&&this._validateIdTokenAttributes(e),s.debug("tokens validated"),await this._processClaims(e,t,e.isOpenId),s.debug("claims processed")}async validateRefreshResponse(e,t){var s,n;const r=this._logger.create("validateRefreshResponse");e.userState=t.data,(s=e.session_state)!=null||(e.session_state=t.session_state),(n=e.scope)!=null||(e.scope=t.scope),e.isOpenId&&e.id_token&&(this._validateIdTokenAttributes(e,t.id_token),r.debug("ID Token validated")),e.id_token||(e.id_token=t.id_token,e.profile=t.profile);const i=e.isOpenId&&!!e.id_token;await this._processClaims(e,!1,i),r.debug("claims processed")}validateSignoutResponse(e,t){const s=this._logger.create("validateSignoutResponse");if(t.id!==e.state&&s.throw(new Error("State does not match")),s.debug("state validated"),e.userState=t.data,e.error)throw s.warn("Response was error",e.error),new Ss(e)}_processSigninState(e,t){var s;const n=this._logger.create("_processSigninState");if(t.id!==e.state&&n.throw(new Error("State does not match")),t.client_id||n.throw(new Error("No client_id on state")),t.authority||n.throw(new Error("No authority on state")),this._settings.authority!==t.authority&&n.throw(new Error("authority mismatch on settings vs. signin state")),this._settings.client_id&&this._settings.client_id!==t.client_id&&n.throw(new Error("client_id mismatch on settings vs. signin state")),n.debug("state validated"),e.userState=t.data,e.url_state=t.url_state,(s=e.scope)!=null||(e.scope=t.scope),e.error)throw n.warn("Response was error",e.error),new Ss(e);t.code_verifier&&!e.code&&n.throw(new Error("Expected code in response"))}async _processClaims(e,t=!1,s=!0){const n=this._logger.create("_processClaims");if(e.profile=this._claimsService.filterProtocolClaims(e.profile),t||!this._settings.loadUserInfo||!e.access_token){n.debug("not loading user info");return}n.debug("loading user info");const r=await this._userInfoService.getClaims(e.access_token);n.debug("user info claims received from user info endpoint"),s&&r.sub!==e.profile.sub&&n.throw(new Error("subject from UserInfo response does not match subject in ID Token")),e.profile=this._claimsService.mergeClaims(e.profile,this._claimsService.filterProtocolClaims(r)),n.debug("user info claims received, updated profile:",e.profile)}async _processCode(e,t){const s=this._logger.create("_processCode");if(e.code){s.debug("Validating code");const n=await this._tokenClient.exchangeCode({client_id:t.client_id,client_secret:t.client_secret,code:e.code,redirect_uri:t.redirect_uri,code_verifier:t.code_verifier,...t.extraTokenParams});Object.assign(e,n)}else s.debug("No code to process")}_validateIdTokenAttributes(e,t){var s;const n=this._logger.create("_validateIdTokenAttributes");n.debug("decoding ID Token JWT");const r=Ni.decode((s=e.id_token)!=null?s:"");if(r.sub||n.throw(new Error("ID Token is missing a subject claim")),t){const i=Ni.decode(t);r.sub!==i.sub&&n.throw(new Error("sub in id_token does not match current sub")),r.auth_time&&r.auth_time!==i.auth_time&&n.throw(new Error("auth_time in id_token does not match original auth_time")),r.azp&&r.azp!==i.azp&&n.throw(new Error("azp in id_token does not match original azp")),!r.azp&&i.azp&&n.throw(new Error("azp not in id_token, but present in original id_token"))}e.profile=r}},tn=class{constructor(e){this.id=e.id||Ct.generateUUIDv4(),this.data=e.data,e.created&&e.created>0?this.created=e.created:this.created=lt.getEpochTime(),this.request_type=e.request_type,this.url_state=e.url_state}toStorageString(){return new X("State").create("toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type,url_state:this.url_state})}static fromStorageString(e){return X.createStatic("State","fromStorageString"),new tn(JSON.parse(e))}static async clearStaleState(e,t){const s=X.createStatic("State","clearStaleState"),n=lt.getEpochTime()-t,r=await e.getAllKeys();s.debug("got keys",r);for(let i=0;i<r.length;i++){const o=r[i],a=await e.get(o);let c=!1;if(a)try{const l=tn.fromStorageString(a);s.debug("got item from key:",o,l.created),l.created<=n&&(c=!0)}catch(l){s.error("Error parsing state for key:",o,l),c=!0}else s.debug("no item in storage for key:",o),c=!0;c&&(s.debug("removed item for key:",o),e.remove(o))}}},bo=class extends tn{constructor(e){super(e),e.code_verifier===!0?this.code_verifier=Ct.generateCodeVerifier():e.code_verifier&&(this.code_verifier=e.code_verifier),this.code_verifier&&(this.code_challenge=Ct.generateCodeChallenge(this.code_verifier)),this.authority=e.authority,this.client_id=e.client_id,this.redirect_uri=e.redirect_uri,this.scope=e.scope,this.client_secret=e.client_secret,this.extraTokenParams=e.extraTokenParams,this.response_mode=e.response_mode,this.skipUserInfo=e.skipUserInfo}toStorageString(){return new X("SigninState").create("toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type,url_state:this.url_state,code_verifier:this.code_verifier,authority:this.authority,client_id:this.client_id,redirect_uri:this.redirect_uri,scope:this.scope,client_secret:this.client_secret,extraTokenParams:this.extraTokenParams,response_mode:this.response_mode,skipUserInfo:this.skipUserInfo})}static fromStorageString(e){X.createStatic("SigninState","fromStorageString");const t=JSON.parse(e);return new bo(t)}},Hd=class{constructor({url:e,authority:t,client_id:s,redirect_uri:n,response_type:r,scope:i,state_data:o,response_mode:a,request_type:c,client_secret:l,nonce:u,url_state:d,resource:h,skipUserInfo:g,extraQueryParams:w,extraTokenParams:_,disablePKCE:v,...C}){if(this._logger=new X("SigninRequest"),!e)throw this._logger.error("ctor: No url passed"),new Error("url");if(!s)throw this._logger.error("ctor: No client_id passed"),new Error("client_id");if(!n)throw this._logger.error("ctor: No redirect_uri passed"),new Error("redirect_uri");if(!r)throw this._logger.error("ctor: No response_type passed"),new Error("response_type");if(!i)throw this._logger.error("ctor: No scope passed"),new Error("scope");if(!t)throw this._logger.error("ctor: No authority passed"),new Error("authority");this.state=new bo({data:o,request_type:c,url_state:d,code_verifier:!v,client_id:s,authority:t,redirect_uri:n,response_mode:a,client_secret:l,scope:i,extraTokenParams:_,skipUserInfo:g});const m=new URL(e);m.searchParams.append("client_id",s),m.searchParams.append("redirect_uri",n),m.searchParams.append("response_type",r),m.searchParams.append("scope",i),u&&m.searchParams.append("nonce",u);let b=this.state.id;d&&(b=`${b}${Mi}${d}`),m.searchParams.append("state",b),this.state.code_challenge&&(m.searchParams.append("code_challenge",this.state.code_challenge),m.searchParams.append("code_challenge_method","S256")),h&&(Array.isArray(h)?h:[h]).forEach(O=>m.searchParams.append("resource",O));for(const[x,O]of Object.entries({response_mode:a,...C,...w}))O!=null&&m.searchParams.append(x,O.toString());this.url=m.href}},qd="openid",fi=class{constructor(e){if(this.access_token="",this.token_type="",this.profile={},this.state=e.get("state"),this.session_state=e.get("session_state"),this.state){const t=decodeURIComponent(this.state).split(Mi);this.state=t[0],t.length>1&&(this.url_state=t.slice(1).join(Mi))}this.error=e.get("error"),this.error_description=e.get("error_description"),this.error_uri=e.get("error_uri"),this.code=e.get("code")}get expires_in(){if(this.expires_at!==void 0)return this.expires_at-lt.getEpochTime()}set expires_in(e){typeof e=="string"&&(e=Number(e)),e!==void 0&&e>=0&&(this.expires_at=Math.floor(e)+lt.getEpochTime())}get isOpenId(){var e;return((e=this.scope)==null?void 0:e.split(" ").includes(qd))||!!this.id_token}},Bd=class{constructor({url:e,state_data:t,id_token_hint:s,post_logout_redirect_uri:n,extraQueryParams:r,request_type:i,client_id:o}){if(this._logger=new X("SignoutRequest"),!e)throw this._logger.error("ctor: No url passed"),new Error("url");const a=new URL(e);s&&a.searchParams.append("id_token_hint",s),o&&a.searchParams.append("client_id",o),n&&(a.searchParams.append("post_logout_redirect_uri",n),t&&(this.state=new tn({data:t,request_type:i}),a.searchParams.append("state",this.state.id)));for(const[c,l]of Object.entries({...r}))l!=null&&a.searchParams.append(c,l.toString());this.url=a.href}},Fd=class{constructor(e){this.state=e.get("state"),this.error=e.get("error"),this.error_description=e.get("error_description"),this.error_uri=e.get("error_uri")}},Wd=["nbf","jti","auth_time","nonce","acr","amr","azp","at_hash"],zd=["sub","iss","aud","exp","iat"],Vd=class{constructor(e){this._settings=e,this._logger=new X("ClaimsService")}filterProtocolClaims(e){const t={...e};if(this._settings.filterProtocolClaims){let s;Array.isArray(this._settings.filterProtocolClaims)?s=this._settings.filterProtocolClaims:s=Wd;for(const n of s)zd.includes(n)||delete t[n]}return t}mergeClaims(e,t){const s={...e};for(const[n,r]of Object.entries(t))for(const i of Array.isArray(r)?r:[r]){const o=s[n];o===void 0?s[n]=i:Array.isArray(o)?o.includes(i)||o.push(i):s[n]!==i&&(typeof i=="object"&&this._settings.mergeClaims?s[n]=this.mergeClaims(o,i):s[n]=[o,i])}return s}},Kd=class{constructor(e,t){this._logger=new X("OidcClient"),this.settings=e instanceof Di?e:new Di(e),this.metadataService=t??new Ad(this.settings),this._claimsService=new Vd(this.settings),this._validator=new Dd(this.settings,this.metadataService,this._claimsService),this._tokenClient=new Nc(this.settings,this.metadataService)}async createSigninRequest({state:e,request:t,request_uri:s,request_type:n,id_token_hint:r,login_hint:i,skipUserInfo:o,nonce:a,url_state:c,response_type:l=this.settings.response_type,scope:u=this.settings.scope,redirect_uri:d=this.settings.redirect_uri,prompt:h=this.settings.prompt,display:g=this.settings.display,max_age:w=this.settings.max_age,ui_locales:_=this.settings.ui_locales,acr_values:v=this.settings.acr_values,resource:C=this.settings.resource,response_mode:m=this.settings.response_mode,extraQueryParams:b=this.settings.extraQueryParams,extraTokenParams:x=this.settings.extraTokenParams}){const O=this._logger.create("createSigninRequest");if(l!=="code")throw new Error("Only the Authorization Code flow (with PKCE) is supported");const D=await this.metadataService.getAuthorizationEndpoint();O.debug("Received authorization endpoint",D);const U=new Hd({url:D,authority:this.settings.authority,client_id:this.settings.client_id,redirect_uri:d,response_type:l,scope:u,state_data:e,url_state:c,prompt:h,display:g,max_age:w,ui_locales:_,id_token_hint:r,login_hint:i,acr_values:v,resource:C,request:t,request_uri:s,extraQueryParams:b,extraTokenParams:x,request_type:n,response_mode:m,client_secret:this.settings.client_secret,skipUserInfo:o,nonce:a,disablePKCE:this.settings.disablePKCE});await this.clearStaleState();const q=U.state;return await this.settings.stateStore.set(q.id,q.toStorageString()),U}async readSigninResponseState(e,t=!1){const s=this._logger.create("readSigninResponseState"),n=new fi($i.readParams(e,this.settings.response_mode));if(!n.state)throw s.throw(new Error("No state in response")),null;const r=await this.settings.stateStore[t?"remove":"get"](n.state);if(!r)throw s.throw(new Error("No matching state found in storage")),null;return{state:bo.fromStorageString(r),response:n}}async processSigninResponse(e){const t=this._logger.create("processSigninResponse"),{state:s,response:n}=await this.readSigninResponseState(e,!0);return t.debug("received state from storage; validating response"),await this._validator.validateSigninResponse(n,s),n}async processResourceOwnerPasswordCredentials({username:e,password:t,skipUserInfo:s=!1,extraTokenParams:n={}}){const r=await this._tokenClient.exchangeCredentials({username:e,password:t,...n}),i=new fi(new URLSearchParams);return Object.assign(i,r),await this._validator.validateCredentialsResponse(i,s),i}async useRefreshToken({state:e,timeoutInSeconds:t}){var s;const n=this._logger.create("useRefreshToken");let r;if(this.settings.refreshTokenAllowedScope===void 0)r=e.scope;else{const a=this.settings.refreshTokenAllowedScope.split(" ");r=(((s=e.scope)==null?void 0:s.split(" "))||[]).filter(l=>a.includes(l)).join(" ")}const i=await this._tokenClient.exchangeRefreshToken({refresh_token:e.refresh_token,resource:e.resource,scope:r,timeoutInSeconds:t}),o=new fi(new URLSearchParams);return Object.assign(o,i),n.debug("validating response",o),await this._validator.validateRefreshResponse(o,{...e,scope:r}),o}async createSignoutRequest({state:e,id_token_hint:t,client_id:s,request_type:n,post_logout_redirect_uri:r=this.settings.post_logout_redirect_uri,extraQueryParams:i=this.settings.extraQueryParams}={}){const o=this._logger.create("createSignoutRequest"),a=await this.metadataService.getEndSessionEndpoint();if(!a)throw o.throw(new Error("No end session endpoint")),null;o.debug("Received end session endpoint",a),!s&&r&&!t&&(s=this.settings.client_id);const c=new Bd({url:a,id_token_hint:t,client_id:s,post_logout_redirect_uri:r,state_data:e,extraQueryParams:i,request_type:n});await this.clearStaleState();const l=c.state;return l&&(o.debug("Signout request has state to persist"),await this.settings.stateStore.set(l.id,l.toStorageString())),c}async readSignoutResponseState(e,t=!1){const s=this._logger.create("readSignoutResponseState"),n=new Fd($i.readParams(e,this.settings.response_mode));if(!n.state){if(s.debug("No state in response"),n.error)throw s.warn("Response was error:",n.error),new Ss(n);return{state:void 0,response:n}}const r=await this.settings.stateStore[t?"remove":"get"](n.state);if(!r)throw s.throw(new Error("No matching state found in storage")),null;return{state:tn.fromStorageString(r),response:n}}async processSignoutResponse(e){const t=this._logger.create("processSignoutResponse"),{state:s,response:n}=await this.readSignoutResponseState(e,!0);return s?(t.debug("Received state from storage; validating response"),this._validator.validateSignoutResponse(n,s)):t.debug("No state from storage; skipping response validation"),n}clearStaleState(){return this._logger.create("clearStaleState"),tn.clearStaleState(this.settings.stateStore,this.settings.staleStateAgeInSeconds)}async revokeToken(e,t){return this._logger.create("revokeToken"),await this._tokenClient.revoke({token:e,token_type_hint:t})}},Gd=class{constructor(e){this._userManager=e,this._logger=new X("SessionMonitor"),this._start=async t=>{const s=t.session_state;if(!s)return;const n=this._logger.create("_start");if(t.profile?(this._sub=t.profile.sub,this._sid=t.profile.sid,n.debug("session_state",s,", sub",this._sub)):(this._sub=void 0,this._sid=void 0,n.debug("session_state",s,", anonymous user")),this._checkSessionIFrame){this._checkSessionIFrame.start(s);return}try{const r=await this._userManager.metadataService.getCheckSessionIframe();if(r){n.debug("initializing check session iframe");const i=this._userManager.settings.client_id,o=this._userManager.settings.checkSessionIntervalInSeconds,a=this._userManager.settings.stopCheckSessionOnError,c=new Od(this._callback,i,r,o,a);await c.load(),this._checkSessionIFrame=c,c.start(s)}else n.warn("no check session iframe found in the metadata")}catch(r){n.error("Error from getCheckSessionIframe:",r instanceof Error?r.message:r)}},this._stop=()=>{const t=this._logger.create("_stop");if(this._sub=void 0,this._sid=void 0,this._checkSessionIFrame&&this._checkSessionIFrame.stop(),this._userManager.settings.monitorAnonymousSession){const s=setInterval(async()=>{clearInterval(s);try{const n=await this._userManager.querySessionStatus();if(n){const r={session_state:n.session_state,profile:n.sub&&n.sid?{sub:n.sub,sid:n.sid}:null};this._start(r)}}catch(n){t.error("error from querySessionStatus",n instanceof Error?n.message:n)}},1e3)}},this._callback=async()=>{const t=this._logger.create("_callback");try{const s=await this._userManager.querySessionStatus();let n=!0;s&&this._checkSessionIFrame?s.sub===this._sub?(n=!1,this._checkSessionIFrame.start(s.session_state),s.sid===this._sid?t.debug("same sub still logged in at OP, restarting check session iframe; session_state",s.session_state):(t.debug("same sub still logged in at OP, session state has changed, restarting check session iframe; session_state",s.session_state),this._userManager.events._raiseUserSessionChanged())):t.debug("different subject signed into OP",s.sub):t.debug("subject no longer signed into OP"),n?this._sub?this._userManager.events._raiseUserSignedOut():this._userManager.events._raiseUserSignedIn():t.debug("no change in session detected, no event to raise")}catch(s){this._sub&&(t.debug("Error calling queryCurrentSigninSession; raising signed out event",s),this._userManager.events._raiseUserSignedOut())}},e||this._logger.throw(new Error("No user manager passed")),this._userManager.events.addUserLoaded(this._start),this._userManager.events.addUserUnloaded(this._stop),this._init().catch(t=>{this._logger.error(t)})}async _init(){this._logger.create("_init");const e=await this._userManager.getUser();if(e)this._start(e);else if(this._userManager.settings.monitorAnonymousSession){const t=await this._userManager.querySessionStatus();if(t){const s={session_state:t.session_state,profile:t.sub&&t.sid?{sub:t.sub,sid:t.sid}:null};this._start(s)}}}},gr=class{constructor(e){var t;this.id_token=e.id_token,this.session_state=(t=e.session_state)!=null?t:null,this.access_token=e.access_token,this.refresh_token=e.refresh_token,this.token_type=e.token_type,this.scope=e.scope,this.profile=e.profile,this.expires_at=e.expires_at,this.state=e.userState,this.url_state=e.url_state}get expires_in(){if(this.expires_at!==void 0)return this.expires_at-lt.getEpochTime()}set expires_in(e){e!==void 0&&(this.expires_at=Math.floor(e)+lt.getEpochTime())}get expired(){const e=this.expires_in;if(e!==void 0)return e<=0}get scopes(){var e,t;return(t=(e=this.scope)==null?void 0:e.split(" "))!=null?t:[]}toStorageString(){return new X("User").create("toStorageString"),JSON.stringify({id_token:this.id_token,session_state:this.session_state,access_token:this.access_token,refresh_token:this.refresh_token,token_type:this.token_type,scope:this.scope,profile:this.profile,expires_at:this.expires_at})}static fromStorageString(e){return X.createStatic("User","fromStorageString"),new gr(JSON.parse(e))}},ra="oidc-client",$c=class{constructor(){this._abort=new Kt("Window navigation aborted"),this._disposeHandlers=new Set,this._window=null}async navigate(e){const t=this._logger.create("navigate");if(!this._window)throw new Error("Attempted to navigate on a disposed window");t.debug("setting URL in window"),this._window.location.replace(e.url);const{url:s,keepOpen:n}=await new Promise((r,i)=>{const o=a=>{var c;const l=a.data,u=(c=e.scriptOrigin)!=null?c:window.location.origin;if(!(a.origin!==u||(l==null?void 0:l.source)!==ra)){try{const d=$i.readParams(l.url,e.response_mode).get("state");if(d||t.warn("no state found in response url"),a.source!==this._window&&d!==e.state)return}catch{this._dispose(),i(new Error("Invalid response from window"))}r(l)}};window.addEventListener("message",o,!1),this._disposeHandlers.add(()=>window.removeEventListener("message",o,!1)),this._disposeHandlers.add(this._abort.addHandler(a=>{this._dispose(),i(a)}))});return t.debug("got response from window"),this._dispose(),n||this.close(),{url:s}}_dispose(){this._logger.create("_dispose");for(const e of this._disposeHandlers)e();this._disposeHandlers.clear()}static _notifyParent(e,t,s=!1,n=window.location.origin){e.postMessage({source:ra,url:t,keepOpen:s},n)}},Mc={location:!1,toolbar:!1,height:640,closePopupWindowAfterInSeconds:-1},Dc="_blank",Jd=60,Xd=2,Hc=10,Qd=class extends Di{constructor(e){const{popup_redirect_uri:t=e.redirect_uri,popup_post_logout_redirect_uri:s=e.post_logout_redirect_uri,popupWindowFeatures:n=Mc,popupWindowTarget:r=Dc,redirectMethod:i="assign",redirectTarget:o="self",iframeNotifyParentOrigin:a=e.iframeNotifyParentOrigin,iframeScriptOrigin:c=e.iframeScriptOrigin,silent_redirect_uri:l=e.redirect_uri,silentRequestTimeoutInSeconds:u=Hc,automaticSilentRenew:d=!0,validateSubOnSilentRenew:h=!0,includeIdTokenInSilentRenew:g=!1,monitorSession:w=!1,monitorAnonymousSession:_=!1,checkSessionIntervalInSeconds:v=Xd,query_status_response_type:C="code",stopCheckSessionOnError:m=!0,revokeTokenTypes:b=["access_token","refresh_token"],revokeTokensOnSignout:x=!1,includeIdTokenInSilentSignout:O=!1,accessTokenExpiringNotificationTimeInSeconds:D=Jd,userStore:U}=e;if(super(e),this.popup_redirect_uri=t,this.popup_post_logout_redirect_uri=s,this.popupWindowFeatures=n,this.popupWindowTarget=r,this.redirectMethod=i,this.redirectTarget=o,this.iframeNotifyParentOrigin=a,this.iframeScriptOrigin=c,this.silent_redirect_uri=l,this.silentRequestTimeoutInSeconds=u,this.automaticSilentRenew=d,this.validateSubOnSilentRenew=h,this.includeIdTokenInSilentRenew=g,this.monitorSession=w,this.monitorAnonymousSession=_,this.checkSessionIntervalInSeconds=v,this.stopCheckSessionOnError=m,this.query_status_response_type=C,this.revokeTokenTypes=b,this.revokeTokensOnSignout=x,this.includeIdTokenInSilentSignout=O,this.accessTokenExpiringNotificationTimeInSeconds=D,U)this.userStore=U;else{const q=typeof window<"u"?window.sessionStorage:new mo;this.userStore=new _o({store:q})}}},Hi=class extends $c{constructor({silentRequestTimeoutInSeconds:e=Hc}){super(),this._logger=new X("IFrameWindow"),this._timeoutInSeconds=e,this._frame=Hi.createHiddenIframe(),this._window=this._frame.contentWindow}static createHiddenIframe(){const e=window.document.createElement("iframe");return e.style.visibility="hidden",e.style.position="fixed",e.style.left="-1000px",e.style.top="0",e.width="0",e.height="0",window.document.body.appendChild(e),e}async navigate(e){this._logger.debug("navigate: Using timeout of:",this._timeoutInSeconds);const t=setTimeout(()=>this._abort.raise(new go("IFrame timed out without a response")),this._timeoutInSeconds*1e3);return this._disposeHandlers.add(()=>clearTimeout(t)),await super.navigate(e)}close(){var e;this._frame&&(this._frame.parentNode&&(this._frame.addEventListener("load",t=>{var s;const n=t.target;(s=n.parentNode)==null||s.removeChild(n),this._abort.raise(new Error("IFrame removed from DOM"))},!0),(e=this._frame.contentWindow)==null||e.location.replace("about:blank")),this._frame=null),this._window=null}static notifyParent(e,t){return super._notifyParent(window.parent,e,!1,t)}},Yd=class{constructor(e){this._settings=e,this._logger=new X("IFrameNavigator")}async prepare({silentRequestTimeoutInSeconds:e=this._settings.silentRequestTimeoutInSeconds}){return new Hi({silentRequestTimeoutInSeconds:e})}async callback(e){this._logger.create("callback"),Hi.notifyParent(e,this._settings.iframeNotifyParentOrigin)}},Zd=500,ef=1e3,ia=class extends $c{constructor({popupWindowTarget:e=Dc,popupWindowFeatures:t={}}){super(),this._logger=new X("PopupWindow");const s=na.center({...Mc,...t});this._window=window.open(void 0,e,na.serialize(s)),t.closePopupWindowAfterInSeconds&&t.closePopupWindowAfterInSeconds>0&&setTimeout(()=>{if(!this._window||typeof this._window.closed!="boolean"||this._window.closed){this._abort.raise(new Error("Popup blocked by user"));return}this.close()},t.closePopupWindowAfterInSeconds*ef)}async navigate(e){var t;(t=this._window)==null||t.focus();const s=setInterval(()=>{(!this._window||this._window.closed)&&this._abort.raise(new Error("Popup closed by user"))},Zd);return this._disposeHandlers.add(()=>clearInterval(s)),await super.navigate(e)}close(){this._window&&(this._window.closed||(this._window.close(),this._abort.raise(new Error("Popup closed")))),this._window=null}static notifyOpener(e,t){if(!window.opener)throw new Error("No window.opener. Can't complete notification.");return super._notifyParent(window.opener,e,t)}},tf=class{constructor(e){this._settings=e,this._logger=new X("PopupNavigator")}async prepare({popupWindowFeatures:e=this._settings.popupWindowFeatures,popupWindowTarget:t=this._settings.popupWindowTarget}){return new ia({popupWindowFeatures:e,popupWindowTarget:t})}async callback(e,{keepOpen:t=!1}){this._logger.create("callback"),ia.notifyOpener(e,t)}},sf=class{constructor(e){this._settings=e,this._logger=new X("RedirectNavigator")}async prepare({redirectMethod:e=this._settings.redirectMethod,redirectTarget:t=this._settings.redirectTarget}){var s;this._logger.create("prepare");let n=window.self;t==="top"&&(n=(s=window.top)!=null?s:window.self);const r=n.location[e].bind(n.location);let i;return{navigate:async o=>{this._logger.create("navigate");const a=new Promise((c,l)=>{i=l});return r(o.url),await a},close:()=>{this._logger.create("close"),i==null||i(new Error("Redirect aborted")),n.stop()}}}async callback(){}},nf=class extends kd{constructor(e){super({expiringNotificationTimeInSeconds:e.accessTokenExpiringNotificationTimeInSeconds}),this._logger=new X("UserManagerEvents"),this._userLoaded=new Kt("User loaded"),this._userUnloaded=new Kt("User unloaded"),this._silentRenewError=new Kt("Silent renew error"),this._userSignedIn=new Kt("User signed in"),this._userSignedOut=new Kt("User signed out"),this._userSessionChanged=new Kt("User session changed")}load(e,t=!0){super.load(e),t&&this._userLoaded.raise(e)}unload(){super.unload(),this._userUnloaded.raise()}addUserLoaded(e){return this._userLoaded.addHandler(e)}removeUserLoaded(e){return this._userLoaded.removeHandler(e)}addUserUnloaded(e){return this._userUnloaded.addHandler(e)}removeUserUnloaded(e){return this._userUnloaded.removeHandler(e)}addSilentRenewError(e){return this._silentRenewError.addHandler(e)}removeSilentRenewError(e){return this._silentRenewError.removeHandler(e)}_raiseSilentRenewError(e){this._silentRenewError.raise(e)}addUserSignedIn(e){return this._userSignedIn.addHandler(e)}removeUserSignedIn(e){this._userSignedIn.removeHandler(e)}_raiseUserSignedIn(){this._userSignedIn.raise()}addUserSignedOut(e){return this._userSignedOut.addHandler(e)}removeUserSignedOut(e){this._userSignedOut.removeHandler(e)}_raiseUserSignedOut(){this._userSignedOut.raise()}addUserSessionChanged(e){return this._userSessionChanged.addHandler(e)}removeUserSessionChanged(e){this._userSessionChanged.removeHandler(e)}_raiseUserSessionChanged(){this._userSessionChanged.raise()}},rf=class{constructor(e){this._userManager=e,this._logger=new X("SilentRenewService"),this._isStarted=!1,this._retryTimer=new lt("Retry Silent Renew"),this._tokenExpiring=async()=>{const t=this._logger.create("_tokenExpiring");try{await this._userManager.signinSilent(),t.debug("silent token renewal successful")}catch(s){if(s instanceof go){t.warn("ErrorTimeout from signinSilent:",s,"retry in 5s"),this._retryTimer.init(5);return}t.error("Error from signinSilent:",s),this._userManager.events._raiseSilentRenewError(s)}}}async start(){const e=this._logger.create("start");if(!this._isStarted){this._isStarted=!0,this._userManager.events.addAccessTokenExpiring(this._tokenExpiring),this._retryTimer.addHandler(this._tokenExpiring);try{await this._userManager.getUser()}catch(t){e.error("getUser error",t)}}}stop(){this._isStarted&&(this._retryTimer.cancel(),this._retryTimer.removeHandler(this._tokenExpiring),this._userManager.events.removeAccessTokenExpiring(this._tokenExpiring),this._isStarted=!1)}},of=class{constructor(e,t){this.refresh_token=e.refresh_token,this.id_token=e.id_token,this.session_state=e.session_state,this.scope=e.scope,this.profile=e.profile,this.resource=t,this.data=e.state}},af=class{constructor(e,t,s,n){this._logger=new X("UserManager"),this.settings=new Qd(e),this._client=new Kd(e),this._redirectNavigator=t??new sf(this.settings),this._popupNavigator=s??new tf(this.settings),this._iframeNavigator=n??new Yd(this.settings),this._events=new nf(this.settings),this._silentRenewService=new rf(this),this.settings.automaticSilentRenew&&this.startSilentRenew(),this._sessionMonitor=null,this.settings.monitorSession&&(this._sessionMonitor=new Gd(this))}get events(){return this._events}get metadataService(){return this._client.metadataService}async getUser(){const e=this._logger.create("getUser"),t=await this._loadUser();return t?(e.info("user loaded"),this._events.load(t,!1),t):(e.info("user not found in storage"),null)}async removeUser(){const e=this._logger.create("removeUser");await this.storeUser(null),e.info("user removed from storage"),this._events.unload()}async signinRedirect(e={}){this._logger.create("signinRedirect");const{redirectMethod:t,...s}=e,n=await this._redirectNavigator.prepare({redirectMethod:t});await this._signinStart({request_type:"si:r",...s},n)}async signinRedirectCallback(e=window.location.href){const t=this._logger.create("signinRedirectCallback"),s=await this._signinEnd(e);return s.profile&&s.profile.sub?t.info("success, signed in subject",s.profile.sub):t.info("no subject"),s}async signinResourceOwnerCredentials({username:e,password:t,skipUserInfo:s=!1}){const n=this._logger.create("signinResourceOwnerCredential"),r=await this._client.processResourceOwnerPasswordCredentials({username:e,password:t,skipUserInfo:s,extraTokenParams:this.settings.extraTokenParams});n.debug("got signin response");const i=await this._buildUser(r);return i.profile&&i.profile.sub?n.info("success, signed in subject",i.profile.sub):n.info("no subject"),i}async signinPopup(e={}){const t=this._logger.create("signinPopup"),{popupWindowFeatures:s,popupWindowTarget:n,...r}=e,i=this.settings.popup_redirect_uri;i||t.throw(new Error("No popup_redirect_uri configured"));const o=await this._popupNavigator.prepare({popupWindowFeatures:s,popupWindowTarget:n}),a=await this._signin({request_type:"si:p",redirect_uri:i,display:"popup",...r},o);return a&&(a.profile&&a.profile.sub?t.info("success, signed in subject",a.profile.sub):t.info("no subject")),a}async signinPopupCallback(e=window.location.href,t=!1){const s=this._logger.create("signinPopupCallback");await this._popupNavigator.callback(e,{keepOpen:t}),s.info("success")}async signinSilent(e={}){var t;const s=this._logger.create("signinSilent"),{silentRequestTimeoutInSeconds:n,resource:r,...i}=e;let o=await this._loadUser();if(o!=null&&o.refresh_token){s.debug("using refresh token");const u=new of(o,r);return await this._useRefreshToken(u)}const a=this.settings.silent_redirect_uri;a||s.throw(new Error("No silent_redirect_uri configured"));let c;o&&this.settings.validateSubOnSilentRenew&&(s.debug("subject prior to silent renew:",o.profile.sub),c=o.profile.sub);const l=await this._iframeNavigator.prepare({silentRequestTimeoutInSeconds:n});return o=await this._signin({request_type:"si:s",redirect_uri:a,prompt:"none",id_token_hint:this.settings.includeIdTokenInSilentRenew?o==null?void 0:o.id_token:void 0,...i},l,c),o&&((t=o.profile)!=null&&t.sub?s.info("success, signed in subject",o.profile.sub):s.info("no subject")),o}async _useRefreshToken(e){const t=await this._client.useRefreshToken({state:e,timeoutInSeconds:this.settings.silentRequestTimeoutInSeconds}),s=new gr({...e,...t});return await this.storeUser(s),this._events.load(s),s}async signinSilentCallback(e=window.location.href){const t=this._logger.create("signinSilentCallback");await this._iframeNavigator.callback(e),t.info("success")}async signinCallback(e=window.location.href){const{state:t}=await this._client.readSigninResponseState(e);switch(t.request_type){case"si:r":return await this.signinRedirectCallback(e);case"si:p":return await this.signinPopupCallback(e);case"si:s":return await this.signinSilentCallback(e);default:throw new Error("invalid response_type in state")}}async signoutCallback(e=window.location.href,t=!1){const{state:s}=await this._client.readSignoutResponseState(e);if(s)switch(s.request_type){case"so:r":await this.signoutRedirectCallback(e);break;case"so:p":await this.signoutPopupCallback(e,t);break;case"so:s":await this.signoutSilentCallback(e);break;default:throw new Error("invalid response_type in state")}}async querySessionStatus(e={}){const t=this._logger.create("querySessionStatus"),{silentRequestTimeoutInSeconds:s,...n}=e,r=this.settings.silent_redirect_uri;r||t.throw(new Error("No silent_redirect_uri configured"));const i=await this._loadUser(),o=await this._iframeNavigator.prepare({silentRequestTimeoutInSeconds:s}),a=await this._signinStart({request_type:"si:s",redirect_uri:r,prompt:"none",id_token_hint:this.settings.includeIdTokenInSilentRenew?i==null?void 0:i.id_token:void 0,response_type:this.settings.query_status_response_type,scope:"openid",skipUserInfo:!0,...n},o);try{const c=await this._client.processSigninResponse(a.url);return t.debug("got signin response"),c.session_state&&c.profile.sub?(t.info("success for subject",c.profile.sub),{session_state:c.session_state,sub:c.profile.sub,sid:c.profile.sid}):(t.info("success, user not authenticated"),null)}catch(c){if(this.settings.monitorAnonymousSession&&c instanceof Ss)switch(c.error){case"login_required":case"consent_required":case"interaction_required":case"account_selection_required":return t.info("success for anonymous user"),{session_state:c.session_state}}throw c}}async _signin(e,t,s){const n=await this._signinStart(e,t);return await this._signinEnd(n.url,s)}async _signinStart(e,t){const s=this._logger.create("_signinStart");try{const n=await this._client.createSigninRequest(e);return s.debug("got signin request"),await t.navigate({url:n.url,state:n.state.id,response_mode:n.state.response_mode,scriptOrigin:this.settings.iframeScriptOrigin})}catch(n){throw s.debug("error after preparing navigator, closing navigator window"),t.close(),n}}async _signinEnd(e,t){const s=this._logger.create("_signinEnd"),n=await this._client.processSigninResponse(e);return s.debug("got signin response"),await this._buildUser(n,t)}async _buildUser(e,t){const s=this._logger.create("_buildUser"),n=new gr(e);if(t){if(t!==n.profile.sub)throw s.debug("current user does not match user returned from signin. sub from signin:",n.profile.sub),new Ss({...e,error:"login_required"});s.debug("current user matches user returned from signin")}return await this.storeUser(n),s.debug("user stored"),this._events.load(n),n}async signoutRedirect(e={}){const t=this._logger.create("signoutRedirect"),{redirectMethod:s,...n}=e,r=await this._redirectNavigator.prepare({redirectMethod:s});await this._signoutStart({request_type:"so:r",post_logout_redirect_uri:this.settings.post_logout_redirect_uri,...n},r),t.info("success")}async signoutRedirectCallback(e=window.location.href){const t=this._logger.create("signoutRedirectCallback"),s=await this._signoutEnd(e);return t.info("success"),s}async signoutPopup(e={}){const t=this._logger.create("signoutPopup"),{popupWindowFeatures:s,popupWindowTarget:n,...r}=e,i=this.settings.popup_post_logout_redirect_uri,o=await this._popupNavigator.prepare({popupWindowFeatures:s,popupWindowTarget:n});await this._signout({request_type:"so:p",post_logout_redirect_uri:i,state:i==null?void 0:{},...r},o),t.info("success")}async signoutPopupCallback(e=window.location.href,t=!1){const s=this._logger.create("signoutPopupCallback");await this._popupNavigator.callback(e,{keepOpen:t}),s.info("success")}async _signout(e,t){const s=await this._signoutStart(e,t);return await this._signoutEnd(s.url)}async _signoutStart(e={},t){var s;const n=this._logger.create("_signoutStart");try{const r=await this._loadUser();n.debug("loaded current user from storage"),this.settings.revokeTokensOnSignout&&await this._revokeInternal(r);const i=e.id_token_hint||r&&r.id_token;i&&(n.debug("setting id_token_hint in signout request"),e.id_token_hint=i),await this.removeUser(),n.debug("user removed, creating signout request");const o=await this._client.createSignoutRequest(e);return n.debug("got signout request"),await t.navigate({url:o.url,state:(s=o.state)==null?void 0:s.id,scriptOrigin:this.settings.iframeScriptOrigin})}catch(r){throw n.debug("error after preparing navigator, closing navigator window"),t.close(),r}}async _signoutEnd(e){const t=this._logger.create("_signoutEnd"),s=await this._client.processSignoutResponse(e);return t.debug("got signout response"),s}async signoutSilent(e={}){var t;const s=this._logger.create("signoutSilent"),{silentRequestTimeoutInSeconds:n,...r}=e,i=this.settings.includeIdTokenInSilentSignout?(t=await this._loadUser())==null?void 0:t.id_token:void 0,o=this.settings.popup_post_logout_redirect_uri,a=await this._iframeNavigator.prepare({silentRequestTimeoutInSeconds:n});await this._signout({request_type:"so:s",post_logout_redirect_uri:o,id_token_hint:i,...r},a),s.info("success")}async signoutSilentCallback(e=window.location.href){const t=this._logger.create("signoutSilentCallback");await this._iframeNavigator.callback(e),t.info("success")}async revokeTokens(e){const t=await this._loadUser();await this._revokeInternal(t,e)}async _revokeInternal(e,t=this.settings.revokeTokenTypes){const s=this._logger.create("_revokeInternal");if(!e)return;const n=t.filter(r=>typeof e[r]=="string");if(!n.length){s.debug("no need to revoke due to no token(s)");return}for(const r of n)await this._client.revokeToken(e[r],r),s.info(`${r} revoked successfully`),r!=="access_token"&&(e[r]=null);await this.storeUser(e),s.debug("user stored"),this._events.load(e)}startSilentRenew(){this._logger.create("startSilentRenew"),this._silentRenewService.start()}stopSilentRenew(){this._silentRenewService.stop()}get _userStoreKey(){return`user:${this.settings.authority}:${this.settings.client_id}`}async _loadUser(){const e=this._logger.create("_loadUser"),t=await this.settings.userStore.get(this._userStoreKey);return t?(e.debug("user storageString loaded"),gr.fromStorageString(t)):(e.debug("no user storageString"),null)}async storeUser(e){const t=this._logger.create("storeUser");if(e){t.debug("storing user");const s=e.toStorageString();await this.settings.userStore.set(this._userStoreKey,s)}else this._logger.debug("removing user"),await this.settings.userStore.remove(this._userStoreKey)}async clearStaleState(){await this._client.clearStaleState()}},Qt=(e=>(e[e.NONE=0]="NONE",e[e.ERROR=1]="ERROR",e[e.WARN=2]="WARN",e[e.INFO=3]="INFO",e[e.DEBUG=4]="DEBUG",e))(Qt||{}),Kn,Zt,Rt,hs,$t,cs;const Ue=class Ue{constructor(t){K(this,$t);K(this,hs,[]);t&&S(this,hs).push(t)}static init(t,s=1,n=console){this.setLibName(t),this.setLogLevel(s),this.setLogger(n)}static setLibName(t){ie(this,Kn,t)}static setLogLevel(t){ie(this,Zt,t),en.setLevel(t)}static setLogger(t){ie(this,Rt,t),en.setLogger(t)}createChild(t){const s=new Ue;return S(s,hs).push(...S(this,hs),t),s}debug(...t){S(Ue,Zt)>=4&&S(Ue,Rt).debug(B(this,$t,cs).call(this),...t)}info(...t){S(Ue,Zt)>=3&&S(Ue,Rt).info(B(this,$t,cs).call(this),...t)}warn(...t){S(Ue,Zt)>=2&&S(Ue,Rt).warn(B(this,$t,cs).call(this),...t)}error(...t){S(Ue,Zt)>=1&&S(Ue,Rt).error(B(this,$t,cs).call(this),...t)}getError(t,s=!1){return S(Ue,Rt).error(B(this,$t,cs).call(this,s),t),new Error(t)}notif(...t){S(Ue,Rt).warn(B(this,$t,cs).call(this,!1),...t)}};Kn=new WeakMap,Zt=new WeakMap,Rt=new WeakMap,hs=new WeakMap,$t=new WeakSet,cs=function(t=!0){let s=`[${S(Ue,Kn)}]`;return t&&(s+=`[${S(this,hs).join(".")}]`),s},K(Ue,Kn),K(Ue,Zt),K(Ue,Rt);let ut=Ue;class cf{}var es,Ms;class is{constructor(){K(this,es,[]);K(this,Ms)}add(t,s){const n={subscriber:t,options:s};return S(this,es).push(n),S(this,Ms)&&(t(...S(this,Ms)),s!=null&&s.once&&this.unsubscribe(n)),{unsubscribe:()=>{this.unsubscribe(n)}}}notify(...t){ie(this,Ms,t),S(this,es).forEach(s=>{var n;s.subscriber(...t),(n=s.options)!=null&&n.once&&this.unsubscribe(s)})}unsubscribe(t){if(t){const s=S(this,es).indexOf(t);s!==-1&&S(this,es).splice(s,1)}else ie(this,es,[])}}es=new WeakMap,Ms=new WeakMap;const lf=new ut("AuthUtils"),at=class at{};z(at,"isCordova",()=>typeof window.cordova<"u"||typeof window.phonegap<"u"||typeof window.PhoneGap<"u"),z(at,"isCapacitor",()=>{var t;return!!((t=window.Capacitor)!=null&&t.isNativePlatform())}),z(at,"isNativeMobile",()=>at.isCapacitor()||at.isCordova()),z(at,"decodeJwt",t=>{try{return t&&jc(t)}catch{return lf.createChild("decodeJwt").warn("Token was not decoded as it is not a valid JWT."),t}}),z(at,"isUrlMatching",(t,s)=>{if(s!==void 0){const n=new URL(t,"http://test"),r=new URL(s,"http://test");if(r.pathname!==""&&r.pathname!=="/"&&!n.pathname.includes(r.pathname)||r.origin!=="http://test"&&(n.protocol!==r.protocol||n.origin!==r.origin||!`${n.origin}${n.pathname}}`.includes(`${r.origin}${r.pathname}`)))return!1;let i=!0;return r.searchParams.forEach((o,a)=>{n.searchParams.getAll(a).includes(o)||(i=!1)}),i}return!1}),z(at,"getBaseUrl",()=>{var s;const t=document.baseURI??((s=document.querySelector("base"))==null?void 0:s.href);return t.endsWith("/")?t:`${t}/`}),z(at,"stringToURL",t=>{try{return new URL(t)}catch{const s=t.startsWith("/")?t.substring(1,t.length):t;return new URL(`${at.getBaseUrl()}${s}`)}});let xe=at;const uf=async(e,t)=>{const s=new t;return await s.init(e),s};var qc=typeof global=="object"&&global&&global.Object===Object&&global,df=typeof self=="object"&&self&&self.Object===Object&&self,an=qc||df||Function("return this")(),Cr=an.Symbol,Bc=Object.prototype,ff=Bc.hasOwnProperty,hf=Bc.toString,hn=Cr?Cr.toStringTag:void 0;function pf(e){var t=ff.call(e,hn),s=e[hn];try{e[hn]=void 0;var n=!0}catch{}var r=hf.call(e);return n&&(t?e[hn]=s:delete e[hn]),r}var gf=Object.prototype,mf=gf.toString;function wf(e){return mf.call(e)}var _f="[object Null]",bf="[object Undefined]",oa=Cr?Cr.toStringTag:void 0;function Fr(e){return e==null?e===void 0?bf:_f:oa&&oa in Object(e)?pf(e):wf(e)}function ir(e){return e!=null&&typeof e=="object"}var qi=Array.isArray;function Ts(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function Fc(e){return e}var yf="[object AsyncFunction]",vf="[object Function]",Sf="[object GeneratorFunction]",Ef="[object Proxy]";function yo(e){if(!Ts(e))return!1;var t=Fr(e);return t==vf||t==Sf||t==yf||t==Ef}var hi=an["__core-js_shared__"],aa=function(){var e=/[^.]+$/.exec(hi&&hi.keys&&hi.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function xf(e){return!!aa&&aa in e}var Rf=Function.prototype,Tf=Rf.toString;function Cf(e){if(e!=null){try{return Tf.call(e)}catch{}try{return e+""}catch{}}return""}var Pf=/[\\^$.*+?()[\]{}|]/g,kf=/^\[object .+?Constructor\]$/,Of=Function.prototype,Af=Object.prototype,If=Of.toString,Uf=Af.hasOwnProperty,Lf=RegExp("^"+If.call(Uf).replace(Pf,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function jf(e){if(!Ts(e)||xf(e))return!1;var t=yo(e)?Lf:kf;return t.test(Cf(e))}function Nf(e,t){return e==null?void 0:e[t]}function vo(e,t){var s=Nf(e,t);return jf(s)?s:void 0}var ca=Object.create,$f=function(){function e(){}return function(t){if(!Ts(t))return{};if(ca)return ca(t);e.prototype=t;var s=new e;return e.prototype=void 0,s}}();function Mf(e,t,s){switch(s.length){case 0:return e.call(t);case 1:return e.call(t,s[0]);case 2:return e.call(t,s[0],s[1]);case 3:return e.call(t,s[0],s[1],s[2])}return e.apply(t,s)}function Df(e,t){var s=-1,n=e.length;for(t||(t=Array(n));++s<n;)t[s]=e[s];return t}var Hf=800,qf=16,Bf=Date.now;function Ff(e){var t=0,s=0;return function(){var n=Bf(),r=qf-(n-s);if(s=n,r>0){if(++t>=Hf)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function Wf(e){return function(){return e}}var Pr=function(){try{var e=vo(Object,"defineProperty");return e({},"",{}),e}catch{}}(),zf=Pr?function(e,t){return Pr(e,"toString",{configurable:!0,enumerable:!1,value:Wf(t),writable:!0})}:Fc,Vf=Ff(zf),Kf=9007199254740991,Gf=/^(?:0|[1-9]\d*)$/;function Wc(e,t){var s=typeof e;return t=t??Kf,!!t&&(s=="number"||s!="symbol"&&Gf.test(e))&&e>-1&&e%1==0&&e<t}function So(e,t,s){t=="__proto__"&&Pr?Pr(e,t,{configurable:!0,enumerable:!0,value:s,writable:!0}):e[t]=s}function Wr(e,t){return e===t||e!==e&&t!==t}var Jf=Object.prototype,Xf=Jf.hasOwnProperty;function Qf(e,t,s){var n=e[t];(!(Xf.call(e,t)&&Wr(n,s))||s===void 0&&!(t in e))&&So(e,t,s)}function Yf(e,t,s,n){var r=!s;s||(s={});for(var i=-1,o=t.length;++i<o;){var a=t[i],c=void 0;c===void 0&&(c=e[a]),r?So(s,a,c):Qf(s,a,c)}return s}var la=Math.max;function Zf(e,t,s){return t=la(t===void 0?e.length-1:t,0),function(){for(var n=arguments,r=-1,i=la(n.length-t,0),o=Array(i);++r<i;)o[r]=n[t+r];r=-1;for(var a=Array(t+1);++r<t;)a[r]=n[r];return a[t]=s(o),Mf(e,this,a)}}function eh(e,t){return Vf(Zf(e,t,Fc),e+"")}var th=9007199254740991;function zc(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=th}function Eo(e){return e!=null&&zc(e.length)&&!yo(e)}function sh(e,t,s){if(!Ts(s))return!1;var n=typeof t;return(n=="number"?Eo(s)&&Wc(t,s.length):n=="string"&&t in s)?Wr(s[t],e):!1}function nh(e){return eh(function(t,s){var n=-1,r=s.length,i=r>1?s[r-1]:void 0,o=r>2?s[2]:void 0;for(i=e.length>3&&typeof i=="function"?(r--,i):void 0,o&&sh(s[0],s[1],o)&&(i=r<3?void 0:i,r=1),t=Object(t);++n<r;){var a=s[n];a&&e(t,a,n,i)}return t})}var rh=Object.prototype;function Vc(e){var t=e&&e.constructor,s=typeof t=="function"&&t.prototype||rh;return e===s}function ih(e,t){for(var s=-1,n=Array(e);++s<e;)n[s]=t(s);return n}var oh="[object Arguments]";function ua(e){return ir(e)&&Fr(e)==oh}var Kc=Object.prototype,ah=Kc.hasOwnProperty,ch=Kc.propertyIsEnumerable,Bi=ua(function(){return arguments}())?ua:function(e){return ir(e)&&ah.call(e,"callee")&&!ch.call(e,"callee")};function lh(){return!1}var Gc=typeof exports=="object"&&exports&&!exports.nodeType&&exports,da=Gc&&typeof module=="object"&&module&&!module.nodeType&&module,uh=da&&da.exports===Gc,fa=uh?an.Buffer:void 0,dh=fa?fa.isBuffer:void 0,Jc=dh||lh,fh="[object Arguments]",hh="[object Array]",ph="[object Boolean]",gh="[object Date]",mh="[object Error]",wh="[object Function]",_h="[object Map]",bh="[object Number]",yh="[object Object]",vh="[object RegExp]",Sh="[object Set]",Eh="[object String]",xh="[object WeakMap]",Rh="[object ArrayBuffer]",Th="[object DataView]",Ch="[object Float32Array]",Ph="[object Float64Array]",kh="[object Int8Array]",Oh="[object Int16Array]",Ah="[object Int32Array]",Ih="[object Uint8Array]",Uh="[object Uint8ClampedArray]",Lh="[object Uint16Array]",jh="[object Uint32Array]",be={};be[Ch]=be[Ph]=be[kh]=be[Oh]=be[Ah]=be[Ih]=be[Uh]=be[Lh]=be[jh]=!0;be[fh]=be[hh]=be[Rh]=be[ph]=be[Th]=be[gh]=be[mh]=be[wh]=be[_h]=be[bh]=be[yh]=be[vh]=be[Sh]=be[Eh]=be[xh]=!1;function Nh(e){return ir(e)&&zc(e.length)&&!!be[Fr(e)]}function $h(e){return function(t){return e(t)}}var Xc=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Tn=Xc&&typeof module=="object"&&module&&!module.nodeType&&module,Mh=Tn&&Tn.exports===Xc,pi=Mh&&qc.process,ha=function(){try{var e=Tn&&Tn.require&&Tn.require("util").types;return e||pi&&pi.binding&&pi.binding("util")}catch{}}(),pa=ha&&ha.isTypedArray,Qc=pa?$h(pa):Nh;function Dh(e,t){var s=qi(e),n=!s&&Bi(e),r=!s&&!n&&Jc(e),i=!s&&!n&&!r&&Qc(e),o=s||n||r||i,a=o?ih(e.length,String):[],c=a.length;for(var l in e)o&&(l=="length"||r&&(l=="offset"||l=="parent")||i&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||Wc(l,c))||a.push(l);return a}function Hh(e,t){return function(s){return e(t(s))}}function qh(e){var t=[];if(e!=null)for(var s in Object(e))t.push(s);return t}var Bh=Object.prototype,Fh=Bh.hasOwnProperty;function Wh(e){if(!Ts(e))return qh(e);var t=Vc(e),s=[];for(var n in e)n=="constructor"&&(t||!Fh.call(e,n))||s.push(n);return s}function Yc(e){return Eo(e)?Dh(e):Wh(e)}var $n=vo(Object,"create");function zh(){this.__data__=$n?$n(null):{},this.size=0}function Vh(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Kh="__lodash_hash_undefined__",Gh=Object.prototype,Jh=Gh.hasOwnProperty;function Xh(e){var t=this.__data__;if($n){var s=t[e];return s===Kh?void 0:s}return Jh.call(t,e)?t[e]:void 0}var Qh=Object.prototype,Yh=Qh.hasOwnProperty;function Zh(e){var t=this.__data__;return $n?t[e]!==void 0:Yh.call(t,e)}var ep="__lodash_hash_undefined__";function tp(e,t){var s=this.__data__;return this.size+=this.has(e)?0:1,s[e]=$n&&t===void 0?ep:t,this}function Es(e){var t=-1,s=e==null?0:e.length;for(this.clear();++t<s;){var n=e[t];this.set(n[0],n[1])}}Es.prototype.clear=zh;Es.prototype.delete=Vh;Es.prototype.get=Xh;Es.prototype.has=Zh;Es.prototype.set=tp;function sp(){this.__data__=[],this.size=0}function zr(e,t){for(var s=e.length;s--;)if(Wr(e[s][0],t))return s;return-1}var np=Array.prototype,rp=np.splice;function ip(e){var t=this.__data__,s=zr(t,e);if(s<0)return!1;var n=t.length-1;return s==n?t.pop():rp.call(t,s,1),--this.size,!0}function op(e){var t=this.__data__,s=zr(t,e);return s<0?void 0:t[s][1]}function ap(e){return zr(this.__data__,e)>-1}function cp(e,t){var s=this.__data__,n=zr(s,e);return n<0?(++this.size,s.push([e,t])):s[n][1]=t,this}function qt(e){var t=-1,s=e==null?0:e.length;for(this.clear();++t<s;){var n=e[t];this.set(n[0],n[1])}}qt.prototype.clear=sp;qt.prototype.delete=ip;qt.prototype.get=op;qt.prototype.has=ap;qt.prototype.set=cp;var Zc=vo(an,"Map");function lp(){this.size=0,this.__data__={hash:new Es,map:new(Zc||qt),string:new Es}}function up(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Vr(e,t){var s=e.__data__;return up(t)?s[typeof t=="string"?"string":"hash"]:s.map}function dp(e){var t=Vr(this,e).delete(e);return this.size-=t?1:0,t}function fp(e){return Vr(this,e).get(e)}function hp(e){return Vr(this,e).has(e)}function pp(e,t){var s=Vr(this,e),n=s.size;return s.set(e,t),this.size+=s.size==n?0:1,this}function cn(e){var t=-1,s=e==null?0:e.length;for(this.clear();++t<s;){var n=e[t];this.set(n[0],n[1])}}cn.prototype.clear=lp;cn.prototype.delete=dp;cn.prototype.get=fp;cn.prototype.has=hp;cn.prototype.set=pp;var el=Hh(Object.getPrototypeOf,Object),gp="[object Object]",mp=Function.prototype,wp=Object.prototype,tl=mp.toString,_p=wp.hasOwnProperty,bp=tl.call(Object);function yp(e){if(!ir(e)||Fr(e)!=gp)return!1;var t=el(e);if(t===null)return!0;var s=_p.call(t,"constructor")&&t.constructor;return typeof s=="function"&&s instanceof s&&tl.call(s)==bp}function vp(){this.__data__=new qt,this.size=0}function Sp(e){var t=this.__data__,s=t.delete(e);return this.size=t.size,s}function Ep(e){return this.__data__.get(e)}function xp(e){return this.__data__.has(e)}var Rp=200;function Tp(e,t){var s=this.__data__;if(s instanceof qt){var n=s.__data__;if(!Zc||n.length<Rp-1)return n.push([e,t]),this.size=++s.size,this;s=this.__data__=new cn(n)}return s.set(e,t),this.size=s.size,this}function ln(e){var t=this.__data__=new qt(e);this.size=t.size}ln.prototype.clear=vp;ln.prototype.delete=Sp;ln.prototype.get=Ep;ln.prototype.has=xp;ln.prototype.set=Tp;var sl=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ga=sl&&typeof module=="object"&&module&&!module.nodeType&&module,Cp=ga&&ga.exports===sl,ma=Cp?an.Buffer:void 0;ma&&ma.allocUnsafe;function Pp(e,t){return e.slice()}var wa=an.Uint8Array;function kp(e){var t=new e.constructor(e.byteLength);return new wa(t).set(new wa(e)),t}function Op(e,t){var s=kp(e.buffer);return new e.constructor(s,e.byteOffset,e.length)}function Ap(e){return typeof e.constructor=="function"&&!Vc(e)?$f(el(e)):{}}function Ip(e){return function(t,s,n){for(var r=-1,i=Object(t),o=n(t),a=o.length;a--;){var c=o[++r];if(s(i[c],c,i)===!1)break}return t}}var Up=Ip();function Fi(e,t,s){(s!==void 0&&!Wr(e[t],s)||s===void 0&&!(t in e))&&So(e,t,s)}function Lp(e){return ir(e)&&Eo(e)}function Wi(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}function jp(e){return Yf(e,Yc(e))}function Np(e,t,s,n,r,i,o){var a=Wi(e,s),c=Wi(t,s),l=o.get(c);if(l){Fi(e,s,l);return}var u=i?i(a,c,s+"",e,t,o):void 0,d=u===void 0;if(d){var h=qi(c),g=!h&&Jc(c),w=!h&&!g&&Qc(c);u=c,h||g||w?qi(a)?u=a:Lp(a)?u=Df(a):g?(d=!1,u=Pp(c)):w?(d=!1,u=Op(c)):u=[]:yp(c)||Bi(c)?(u=a,Bi(a)?u=jp(a):(!Ts(a)||yo(a))&&(u=Ap(c))):d=!1}d&&(o.set(c,u),r(u,c,n,i,o),o.delete(c)),Fi(e,s,u)}function nl(e,t,s,n,r){e!==t&&Up(t,function(i,o){if(r||(r=new ln),Ts(i))Np(e,t,o,s,nl,n,r);else{var a=n?n(Wi(e,o),i,o+"",e,t,r):void 0;a===void 0&&(a=i),Fi(e,o,a)}},Yc)}var $p=nh(function(e,t,s){nl(e,t,s)}),Ht=(e=>(e.REDIRECT="REDIRECT",e.POPUP="POPUP",e))(Ht||{});const Ps="auth-js:oidc_manager:redirect_url",Ft={loginRequired:!1,retrieveUserSession:!0,loadUserInfo:!1,automaticSilentRenew:!0,desktopNavigationType:Ht.REDIRECT,scope:"openid profile email phone",logLevel:Qt.NONE,automaticLoginOn401:!0,automaticInjectToken:{include:e=>{const t=new URL(e,"http://default-base");return t.hostname.startsWith("api")||t.pathname.startsWith("/api")||!1}},internal:{response_type:"code",redirect_uri:"?oidc-callback=login",post_logout_redirect_uri:"?oidc-callback=logout",popup_redirect_uri:"oidc/callback/popup_redirect.html",popup_post_logout_redirect_uri:"oidc/callback/popup_redirect.html",silent_redirect_uri:"oidc/callback/silent_redirect.html",mobileWindowPresentationStyle:"popover"}},Ot=new ut("MobileStorage"),ks=window.localStorage;var Tc;const Ye=(Tc=window.Capacitor)==null?void 0:Tc.Plugins.Storage;var Cc;const Ze=(Cc=window.Capacitor)==null?void 0:Cc.Plugins.Preferences;var Pc;const Ke=(Pc=window.Capacitor)==null?void 0:Pc.Plugins.SecureStoragePlugin;class Mp{constructor(){if(!Ke){let t=`[@badisi/auth-js] This application is currently using an unsafe storage.

`;t+=" Please follow the recommended guide and use `capacitor-secure-storage-plugin` instead.",Ot.notif(t)}Ke?Ot.debug("Using `capacitor-secure-storage-plugin` implementation"):Ze?Ot.debug("Using `@capacitor/preferences` implementation"):Ye?Ot.debug("Using `@capacitor/storage` implementation"):Ot.debug("Using `localStorage` implementation")}get length(){return(async()=>Ke?(await Ke.keys()).value.length:Ze?(await Ze.keys()).keys.length:Ye?(await Ye.keys()).keys.length:ks.length)()}async key(t){return Ke?(await Ke.keys()).value[t]:Ze?(await Ze.keys()).keys[t]:Ye?(await Ye.keys()).keys[t]:ks.key(t)}async clear(){Ot.debug("clear"),Ke?await Ke.clear():Ze?await Ze.clear():Ye?await Ye.clear():ks.clear()}async getItem(t){if(Ot.debug(`getItem('${t}')`),Ke)try{return(await Ke.get({key:t})).value}catch{return null}else return Ze?(await Ze.get({key:t})).value:Ye?(await Ye.get({key:t})).value:ks.getItem(t)}async setItem(t,s){Ot.debug(`setItem('${t}')`),Ke?await Ke.set({key:t,value:s}):Ze?await Ze.set({key:t,value:s}):Ye?await Ye.set({key:t,value:s}):ks.setItem(t,s)}async removeItem(t){if(Ot.debug(`removeItem('${t}')`),Ke)try{await Ke.remove({key:t})}catch{}else Ze?await Ze.remove({key:t}):Ye?await Ye.remove({key:t}):ks.removeItem(t)}}class xo{constructor(){z(this,"expired");z(this,"expires_in");z(this,"expires_at")}static deserialize(t){const s=new xo,n=Object.keys(s);for(const r of n)s[r]=t[r];return s}}const Dp=new ut("OIDCAuthGuard");var Mt,Dr,rl;class Hp{constructor(t){K(this,Dr);K(this,Mt);ie(this,Mt,t)}async validate(t,s){let n=(s==null?void 0:s.fallbackUrl)??S(this,Mt).getSettings().authGuardFallbackUrl;if(n=(n==null?void 0:n.trim())!==""?n:void 0,await S(this,Mt).isAuthenticated()){const i=await B(this,Dr,rl).call(this,s==null?void 0:s.validator);return!i&&n?n:i}else return n??await S(this,Mt).login({redirectUrl:t})}}Mt=new WeakMap,Dr=new WeakSet,rl=async function(t){if(typeof t=="function"){const s=await S(this,Mt).getUserProfile(),n=await S(this,Mt).getAccessTokenDecoded();return await Promise.resolve(t(s,n))}else if(t)return Dp.error("`authGuardValidator` must be a function"),!1;return!0};const Wt=new ut("OIDCAuthInterceptor");var ht,Gn,Jn,Ds,Pe,il,bn,ol,zi,al,cl;class qp{constructor(t){K(this,Pe);K(this,ht);K(this,Gn,window.fetch);K(this,Jn,XMLHttpRequest.prototype.open);K(this,Ds,XMLHttpRequest.prototype.send);Wt.debug("init"),ie(this,ht,t),B(this,Pe,al).call(this),B(this,Pe,cl).call(this)}}ht=new WeakMap,Gn=new WeakMap,Jn=new WeakMap,Ds=new WeakMap,Pe=new WeakSet,il=function(t){try{return new URL(t).href}catch{return new URL(`${location.origin}${t.startsWith("/")?"":"/"}${t}`).href}},bn=function(t,s){const n=B(this,Pe,il).call(this,t);if(typeof s=="function")return s(n);if(typeof s=="string"){const r=s.replace(/\//g,"\\/").replace(/\./g,"\\.").replace(/\*\*/g,"*").replace(/\*/g,".*");return new RegExp(r).exec(n)!==null}else return s.exec(n)!==null},ol=function(t,s){let n=!1;if(typeof s=="boolean")n=s;else{const{include:r,exclude:i}=s;Array.isArray(r)?n=r.some(o=>B(this,Pe,bn).call(this,t,o)):r&&(n=B(this,Pe,bn).call(this,t,r)),Array.isArray(i)?i.some(o=>B(this,Pe,bn).call(this,t,o))&&(n=!1):i&&B(this,Pe,bn).call(this,t,i)&&(n=!1)}return n},zi=function(t){const s=S(this,ht).getSettings().automaticInjectToken??!1;return s!==!1&&B(this,Pe,ol).call(this,t,s)},al=function(t=!0){const s=Wt.createChild("monkeyPathFetch");s.debug(t?"enabling..":"disabling.."),window.fetch&&(t?window.fetch=async(n,r)=>{const i=n instanceof Request?n.url:n.toString();if(Wt.debug("received fetch url:",i),B(this,Pe,zi).call(this,i)){const a=await S(this,ht).getAccessToken();r&&a&&(Wt.debug("adding bearer to url:",i),r.headers={Authorization:`Bearer ${a}`,...r.headers})}const o=await S(this,Gn).apply(window,[n,r]);return o.status===401&&(S(this,ht).getSettings().automaticLoginOn401??!1)&&await S(this,ht).login(),o}:window.fetch=S(this,Gn),s.debug("done"))},cl=function(t=!0){const s=Wt.createChild("monkeyPatchXmlHttpRequest");if(s.debug(t?"enabling..":"disabling.."),XMLHttpRequest.prototype.open&&XMLHttpRequest.prototype.send){if(t){const n=this;XMLHttpRequest.prototype.open=function(r,i,...o){this.url=i,S(n,Jn).apply(this,[r,i,...o])},XMLHttpRequest.prototype.send=function(r){var c,l;const i=typeof this.url=="string"?this.url:(c=this.url)==null?void 0:c.href;Wt.debug("received xhr url:",i);const o=this.onreadystatechange;this.onreadystatechange=u=>{o==null||o.apply(this,[u]),this.readyState===XMLHttpRequest.DONE&&this.status===401&&(S(n,ht).getSettings().automaticLoginOn401??!1)&&S(n,ht).login()};const a=i?B(l=n,Pe,zi).call(l,i):!1;this.readyState===XMLHttpRequest.OPENED&&a?S(n,ht).getAccessToken().then(u=>{u&&(Wt.debug("adding bearer to url:",i),this.setRequestHeader("Authorization",`Bearer ${u}`))}).catch(u=>{Wt.error(u)}).finally(()=>{S(n,Ds).apply(this,[r])}):S(n,Ds).apply(this,[r])}}else XMLHttpRequest.prototype.open=S(this,Jn),XMLHttpRequest.prototype.send=S(this,Ds);s.debug("done")}};const Bp=10*1e3;var kc;const pn=(kc=window.Capacitor)==null?void 0:kc.Plugins.App;var Oc;const ot=(Oc=window.Capacitor)==null?void 0:Oc.Plugins.Browser,Lt=new ut("MobileWindow"),gi=Lt.createChild("navigate");var Xn,Qn,Yn,Zn,er,Hs,qs,ps,je,yn,ll,Vi,ul,Wp,dl;class Fp{constructor(t,s){K(this,je);K(this,Xn);K(this,Qn);K(this,Yn,window.handleOpenURL);K(this,Zn);K(this,er);K(this,Hs);K(this,qs,!0);K(this,ps,!1);if(this.redirectUrl=t,this.params=s,!xe.isCapacitor()&&!xe.isCordova())throw Lt.notif(" Please follow the installation guide and install either `Capacitor` or `Cordova` dependency."),Lt.getError("Required core dependency `Capacitor` or `Cordova` not found");if(!ot)throw Lt.notif(" Please follow the installation guide and install `@capacitor/browser` plugin."),Lt.getError("Required browser plugin not found");ot&&Lt.debug("Using `@capacitor/browser` implementation")}async navigate(t){return gi.debug(t.url),ie(this,qs,!1),ie(this,ps,!1),new Promise((s,n)=>{ie(this,er,s),ie(this,Hs,n),B(this,je,dl).call(this).then(()=>{ot&&B(this,je,ul).call(this,t)})})}async close(){const t=Lt.createChild("cleanup");t.debug("begin"),S(this,qs)||await(ot==null?void 0:ot.close().catch(s=>{t.error(s)})),t.debug("success")}}Xn=new WeakMap,Qn=new WeakMap,Yn=new WeakMap,Zn=new WeakMap,er=new WeakMap,Hs=new WeakMap,qs=new WeakMap,ps=new WeakMap,je=new WeakSet,yn=async function(){var s,n;const t=Lt.createChild("cleanup");t.debug("begin"),window.handleOpenURL=S(this,Yn),await((s=S(this,Qn))==null?void 0:s.remove()),await((n=S(this,Xn))==null?void 0:n.remove()),clearTimeout(S(this,Zn)),t.debug("success")},ll=async function(t){var s;gi.error("error response:",t),await this.close(),await B(this,je,yn).call(this),(s=S(this,Hs))==null||s.call(this,new Error(t)),ie(this,ps,!0)},Vi=async function(t){var s;gi.debug("successful response:",t),await this.close(),await B(this,je,yn).call(this),(s=S(this,er))==null||s.call(this,{url:t}),ie(this,ps,!0)},ul=async function(t){ie(this,Qn,await(ot==null?void 0:ot.addListener("browserFinished",()=>{ie(this,qs,!0),setTimeout(()=>{var s;S(this,ps)||(B(this,je,yn).call(this),(s=S(this,Hs))==null||s.call(this,"Capacitor browser closed by user"))},1e3)}))),await(ot==null?void 0:ot.open({url:t.url,toolbarColor:this.params.mobileWindowToolbarColor,presentationStyle:this.params.mobileWindowPresentationStyle,width:this.params.mobileWindowWidth,height:this.params.mobileWindowWidth}))},Wp=async function(t){},dl=async function(){var s;const t=Lt.createChild("installCustomUrlSchemeHandler");ie(this,Zn,setTimeout(()=>void B(this,je,ll).call(this,"Installing custom url scheme handler, timed out without a response"),Bp)),await B(this,je,yn).call(this),xe.isCapacitor()?(t.debug("listening to Capacitor `appUrlOpen` event"),ie(this,Xn,await((s=pn==null?void 0:pn.addListener)==null?void 0:s.call(pn,"appUrlOpen",({url:n})=>{xe.isUrlMatching(n,this.redirectUrl)&&B(this,je,Vi).call(this,n)})))):xe.isCordova()&&(t.debug("waiting for Cordova `handleOpenURL` callback"),window.handleOpenURL=n=>{var r;(r=S(this,Yn))==null||r.call(this,n),xe.isUrlMatching(n,this.redirectUrl)&&B(this,je,Vi).call(this,n)}),t.debug("success")};const zp=new ut("MobileNavigator");class Vp{prepare(t,s){return zp.debug("prepare"),new Fp(t,s)}}var Bs;class Kp extends af{constructor(s){super({authority:s.authorityUrl,client_id:s.clientId,scope:s.scope,loadUserInfo:s.loadUserInfo,automaticSilentRenew:s.automaticSilentRenew,...s.internal});K(this,Bs);this.libSettings=s,ie(this,Bs,new Vp)}async signoutMobile(s={}){var d,h,g,w;const n=this._logger.create("signout"),{mobileWindowToolbarColor:r,mobileWindowPresentationStyle:i,mobileWindowWidth:o,mobileWindowHeight:a,...c}=s,l={mobileWindowToolbarColor:r??((d=this.libSettings.internal)==null?void 0:d.mobileWindowToolbarColor),mobileWindowPresentationStyle:i??((h=this.libSettings.internal)==null?void 0:h.mobileWindowPresentationStyle),mobileWindowWidth:o??((g=this.libSettings.internal)==null?void 0:g.mobileWindowWidth),mobileWindowHeight:a??((w=this.libSettings.internal)==null?void 0:w.mobileWindowHeight)},u=S(this,Bs).prepare(this.settings.post_logout_redirect_uri,l);await this._signout({request_type:"so:m",post_logout_redirect_uri:this.settings.post_logout_redirect_uri,...c},u),n.info("success")}async signinMobile(s={}){var h,g,w,_;const n=this._logger.create("signin"),{mobileWindowToolbarColor:r,mobileWindowPresentationStyle:i,mobileWindowWidth:o,mobileWindowHeight:a,...c}=s,l={mobileWindowToolbarColor:r??((h=this.libSettings.internal)==null?void 0:h.mobileWindowToolbarColor),mobileWindowPresentationStyle:i??((g=this.libSettings.internal)==null?void 0:g.mobileWindowPresentationStyle),mobileWindowWidth:o??((w=this.libSettings.internal)==null?void 0:w.mobileWindowWidth),mobileWindowHeight:a??((_=this.libSettings.internal)==null?void 0:_.mobileWindowHeight)},u=S(this,Bs).prepare(this.settings.redirect_uri,l),d=await this._signin({request_type:"si:m",redirect_uri:this.settings.redirect_uri,...c},u);d.profile.sub?n.info("success, signed in subject",d.profile.sub):n.info("no subject")}}Bs=new WeakMap;const At=new ut("OIDCAuthManager");var Fs,Ws,zs,Vs,gs,Ks,Gs,tr,ms,ws,Js,Xs,_s,Qs,Te,Se,Ys,J,fl,Vt,hl,vn,mr,Sn,En,Ki,wr,_r;class Gp extends cf{constructor(){super(...arguments);K(this,J);K(this,Fs,new is);K(this,Ws,new is);K(this,zs,new is);K(this,Vs,new is);K(this,gs,new is);K(this,Ks,new is);K(this,Gs,new is);K(this,tr,[]);K(this,ms);K(this,ws);K(this,Js);K(this,Xs);K(this,_s,!1);K(this,Qs,!1);K(this,Te);K(this,Se,Ft);K(this,Ys)}set user(s){S(this,Ys)!==s&&(ie(this,Ys,s),ie(this,ms,s?s.id_token:void 0),ie(this,ws,s?s.access_token:void 0),ie(this,Js,s!=null&&s.profile?s.profile:void 0),ie(this,Xs,s?xo.deserialize(s):void 0),ie(this,_s,!!(s&&!s.expired)),S(this,Fs).notify(S(this,ms)),S(this,Ws).notify(S(this,ws)),S(this,zs).notify(S(this,Js)),S(this,Vs).notify(S(this,Xs)),S(this,gs).notify(S(this,_s)))}async init(s){var i,o;ut.setLogLevel(s.logLevel??Ft.logLevel);const n=xe.isNativeMobile();if(n&&!s.mobileScheme)throw At.getError("Parameter `mobileScheme` is required for mobile platform");const r=n?`${s.mobileScheme}://localhost/`:xe.getBaseUrl();if(ie(this,Se,$p({},Ft,{internal:{userStore:new _o({store:n?new Mp:new mo}),redirect_uri:`${r}${Ft.internal.redirect_uri}`,post_logout_redirect_uri:`${r}${Ft.internal.post_logout_redirect_uri}`,popup_redirect_uri:`${r}${Ft.internal.popup_redirect_uri}`,popup_post_logout_redirect_uri:`${r}${Ft.internal.popup_post_logout_redirect_uri}`,silent_redirect_uri:`${r}${Ft.internal.silent_redirect_uri}`}},s)),B(this,J,fl).call(this),ie(this,Te,new Kp(S(this,Se))),(S(this,Se).automaticLoginOn401||S(this,Se).automaticInjectToken)&&new qp(this),S(this,tr).push(S(this,Te).events.addUserLoaded(a=>{this.user=a}),S(this,Te).events.addUserUnloaded(()=>{S(this,Ys)&&(this.user=null,S(this,Se).loginRequired&&location.reload())}),S(this,Te).events.addSilentRenewError(async()=>{await B(this,J,En).call(this)})),xe.isUrlMatching(location.href,(i=S(this,Se).internal)==null?void 0:i.redirect_uri))await B(this,J,mr).call(this,async()=>{const a=sessionStorage.getItem(Ps);await B(this,J,wr).call(this,()=>S(this,Te).signinRedirectCallback(location.href),a),sessionStorage.removeItem(Ps)});else if(xe.isUrlMatching(location.href,(o=S(this,Se).internal)==null?void 0:o.post_logout_redirect_uri))await B(this,J,mr).call(this,async()=>{const a=sessionStorage.getItem(Ps);await B(this,J,_r).call(this,()=>S(this,Te).signoutRedirectCallback(location.href),a),sessionStorage.removeItem(Ps)});else if(S(this,Se).retrieveUserSession||S(this,Se).loginRequired){const a=await S(this,Te).getUser();!a||a.expired?!n&&S(this,Se).retrieveUserSession?await B(this,J,mr).call(this,()=>B(this,J,Ki).call(this).catch(async c=>{const{error:l,message:u}=c;if(S(this,Se).loginRequired&&(l!=null&&l.includes("_required")||u.includes("_required")))await this.login();else if(At.warn("User's session cannot be retrieved:",u),S(this,gs).notify(!1),S(this,Se).loginRequired)throw c})):S(this,Se).loginRequired?await this.login():this.user=null:this.user=a}else this.user=null}async logout(s){var r;const n=(s==null?void 0:s.redirectUrl)??location.href;if(xe.isNativeMobile())await B(this,J,_r).call(this,()=>S(this,Te).signoutMobile(s),n);else switch((s==null?void 0:s.desktopNavigationType)??S(this,Se).desktopNavigationType){case Ht.POPUP:await B(this,J,_r).call(this,()=>S(this,Te).signoutPopup(s),n);break;case Ht.REDIRECT:default:sessionStorage.setItem(Ps,n),await((r=S(this,Te))==null?void 0:r.signoutRedirect(s));break}}async login(s){var r;const n=(s==null?void 0:s.redirectUrl)??location.href;if(xe.isNativeMobile())await B(this,J,wr).call(this,()=>S(this,Te).signinMobile(s),n);else switch((s==null?void 0:s.desktopNavigationType)??S(this,Se).desktopNavigationType){case Ht.POPUP:await B(this,J,wr).call(this,()=>S(this,Te).signinPopup(s),n);break;case Ht.REDIRECT:default:sessionStorage.setItem(Ps,n),await((r=S(this,Te))==null?void 0:r.signinRedirect(s));break}return S(this,_s)}async renew(s){return B(this,J,Ki).call(this,s).catch(n=>{At.error(n)})}getSettings(){return S(this,Se)}isRenewing(){return S(this,Qs)}async isAuthenticated(){return await B(this,J,Vt).call(this,"isAuthenticated()"),S(this,_s)}async runGuard(s,n){return new Hp(this).validate(s,n)}async getUserProfile(){return await B(this,J,Vt).call(this,"getUserProfile()"),S(this,Js)}async getUserSession(){return await B(this,J,Vt).call(this,"getUserSession()"),S(this,Xs)}async getIdToken(){return await B(this,J,Vt).call(this,"getIdToken()"),S(this,ms)}async getIdTokenDecoded(){return await B(this,J,Vt).call(this,"getIdTokenDecoded()"),xe.decodeJwt(S(this,ms))}async getAccessToken(){return await B(this,J,Vt).call(this,"getAccessToken()"),S(this,ws)}async getAccessTokenDecoded(){return await B(this,J,Vt).call(this,"getAccessTokenDecoded()"),xe.decodeJwt(S(this,ws))}destroy(){S(this,Fs).unsubscribe(),S(this,Ws).unsubscribe(),S(this,zs).unsubscribe(),S(this,Vs).unsubscribe(),S(this,gs).unsubscribe(),S(this,Ks).unsubscribe(),S(this,Gs).unsubscribe(),S(this,tr).forEach(s=>{s()})}onIdTokenChanged(s,n){return S(this,Fs).add(s,n)}onAccessTokenChanged(s,n){return S(this,Ws).add(s,n)}onUserProfileChanged(s,n){return S(this,zs).add(s,n)}onUserSessionChanged(s,n){return S(this,Vs).add(s,n)}onAuthenticatedChanged(s,n){return S(this,gs).add(s,n)}onRenewingChanged(s,n){return S(this,Ks).add(s,n)}onRedirect(s,n){return S(this,Gs).add(s,n)}}Fs=new WeakMap,Ws=new WeakMap,zs=new WeakMap,Vs=new WeakMap,gs=new WeakMap,Ks=new WeakMap,Gs=new WeakMap,tr=new WeakMap,ms=new WeakMap,ws=new WeakMap,Js=new WeakMap,Xs=new WeakMap,_s=new WeakMap,Qs=new WeakMap,Te=new WeakMap,Se=new WeakMap,Ys=new WeakMap,J=new WeakSet,fl=function(){var s,n;[(s=S(this,Se).internal)==null?void 0:s.silent_redirect_uri,(n=S(this,Se).internal)==null?void 0:n.popup_redirect_uri].forEach(r=>{var a;const i=(a=new RegExp(/^.*\/(.*).html$/gm).exec(r??""))==null?void 0:a[1],o=new Error(`${r??"redirect uri"} was not found.`);if(o.stack=void 0,xe.isUrlMatching(location.href,r))throw At.notif(" Encountered an error that usually means you forgot to include the redirect html files in your application assets."),o;if(i&&location.href.includes(`/${i}.html`))throw At.notif(" Encountered an error that usually means your redirect urls are misconfigured."),o})},Vt=async function(s){const n=Date.now();for(;S(this,Qs);){if(Date.now()>n+5e3){At.error(`\`${s}\``,"timed out waiting for renew to finish.");break}await new Promise(r=>setTimeout(r,100))}},hl=function(s){const n=xe.stringToURL(s??"/");S(this,Se).loginRequired&&location.origin===n.origin&&location.reload()},vn=function(s){ie(this,Qs,s),S(this,Ks).notify(s)},mr=async function(s){S(this,Se).loginRequired?await s():s()},Sn=async function(s,n){n&&(At.error(n),await B(this,J,En).call(this));const r=xe.stringToURL(s??"/");location.origin===r.origin?(history.replaceState(history.state,"",r.href),S(this,Gs).notify(r)):location.href=r.href},En=async function(){var s,n;this.user=null,await Promise.all([(s=S(this,Te))==null?void 0:s.clearStaleState(),(n=S(this,Te))==null?void 0:n.removeUser()])},Ki=async function(s){var n;B(this,J,vn).call(this,!0);try{await((n=S(this,Te))==null?void 0:n.signinSilent(s))}catch(r){throw await B(this,J,En).call(this),r}finally{B(this,J,vn).call(this,!1)}},wr=async function(s,n){try{B(this,J,vn).call(this,!0),await s().catch(r=>{const i=r;throw i.message==="Attempted to navigate on a disposed window"&&(At.notif(" Encountered an error that may be due to an ad blocker."),i.stack=void 0),i}),await B(this,J,Sn).call(this,n)}catch(r){throw await B(this,J,Sn).call(this,"/",r),r}finally{B(this,J,vn).call(this,!1)}},_r=async function(s,n){try{await s().catch(r=>{const i=r;throw i.message==="Attempted to navigate on a disposed window"&&(At.notif(" Encountered an error that may be due to an ad blocker."),i.stack=void 0),i}),await B(this,J,Sn).call(this,n),await B(this,J,En).call(this)}catch(r){throw n="/",await B(this,J,Sn).call(this,n,r),r}finally{B(this,J,hl).call(this,n)}};const Jp=async e=>await uf(e,Gp);class Xp{constructor(t){z(this,"manager");this.manager=t}async login(t){return this.manager.login(t)}async logout(t){return this.manager.logout(t)}async renew(t){return this.manager.renew(t)}isRenewing(){return this.manager.isRenewing()}async isAuthenticated(){return this.manager.isAuthenticated()}getSettings(){return this.manager.getSettings()}async getUserProfile(){return this.manager.getUserProfile()}async getUserSession(){return this.manager.getUserSession()}async getIdToken(){return this.manager.getIdToken()}async getIdTokenDecoded(){return this.manager.getIdTokenDecoded()}async getAccessToken(){return this.manager.getAccessToken()}async getAccessTokenDecoded(){return this.manager.getAccessTokenDecoded()}async runGuard(t,s){return this.manager.runGuard(t,s)}}/**
 * @license GPL-3.0-only
 * Package @badisi/auth-js <https://github.com/Badisi/auth-js/tree/main/libs/auth-js>
 * Released under GNU General Public License v3.0 only <https://github.com/Badisi/auth-js/blob/main/LICENSE>
 * SPDX-License-Identifier: GPL-3.0-only
 * Copyright (C) 2018 Badisi
 */ut.init("@badisi/auth-js");/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Ro(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const me={},Us=[],Pt=()=>{},Qp=()=>!1,Kr=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),To=e=>e.startsWith("onUpdate:"),ke=Object.assign,Co=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},Yp=Object.prototype.hasOwnProperty,ce=(e,t)=>Yp.call(e,t),Q=Array.isArray,Ls=e=>Gr(e)==="[object Map]",pl=e=>Gr(e)==="[object Set]",Z=e=>typeof e=="function",Ce=e=>typeof e=="string",ss=e=>typeof e=="symbol",Ee=e=>e!==null&&typeof e=="object",gl=e=>(Ee(e)||Z(e))&&Z(e.then)&&Z(e.catch),ml=Object.prototype.toString,Gr=e=>ml.call(e),Zp=e=>Gr(e).slice(8,-1),wl=e=>Gr(e)==="[object Object]",Po=e=>Ce(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Cn=Ro(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Jr=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},eg=/-(\w)/g,dt=Jr(e=>e.replace(eg,(t,s)=>s?s.toUpperCase():"")),tg=/\B([A-Z])/g,Cs=Jr(e=>e.replace(tg,"-$1").toLowerCase()),Xr=Jr(e=>e.charAt(0).toUpperCase()+e.slice(1)),mi=Jr(e=>e?`on${Xr(e)}`:""),ts=(e,t)=>!Object.is(e,t),wi=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},_l=(e,t,s,n=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:n,value:s})},sg=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let _a;const Qr=()=>_a||(_a=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ko(e){if(Q(e)){const t={};for(let s=0;s<e.length;s++){const n=e[s],r=Ce(n)?og(n):ko(n);if(r)for(const i in r)t[i]=r[i]}return t}else if(Ce(e)||Ee(e))return e}const ng=/;(?![^(]*\))/g,rg=/:([^]+)/,ig=/\/\*[^]*?\*\//g;function og(e){const t={};return e.replace(ig,"").split(ng).forEach(s=>{if(s){const n=s.split(rg);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function Oo(e){let t="";if(Ce(e))t=e;else if(Q(e))for(let s=0;s<e.length;s++){const n=Oo(e[s]);n&&(t+=n+" ")}else if(Ee(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const ag="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",cg=Ro(ag);function bl(e){return!!e||e===""}const yl=e=>!!(e&&e.__v_isRef===!0),lg=e=>Ce(e)?e:e==null?"":Q(e)||Ee(e)&&(e.toString===ml||!Z(e.toString))?yl(e)?lg(e.value):JSON.stringify(e,vl,2):String(e),vl=(e,t)=>yl(t)?vl(e,t.value):Ls(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[n,r],i)=>(s[_i(n,i)+" =>"]=r,s),{})}:pl(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>_i(s))}:ss(t)?_i(t):Ee(t)&&!Q(t)&&!wl(t)?String(t):t,_i=(e,t="")=>{var s;return ss(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let tt;class ug{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=tt,!t&&tt&&(this.index=(tt.scopes||(tt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=tt;try{return tt=this,t()}finally{tt=s}}}on(){tt=this}off(){tt=this.parent}stop(t){if(this._active){this._active=!1;let s,n;for(s=0,n=this.effects.length;s<n;s++)this.effects[s].stop();for(this.effects.length=0,s=0,n=this.cleanups.length;s<n;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,n=this.scopes.length;s<n;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function dg(){return tt}let _e;const bi=new WeakSet;class Sl{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,tt&&tt.active&&tt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,bi.has(this)&&(bi.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||xl(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,ba(this),Rl(this);const t=_e,s=pt;_e=this,pt=!0;try{return this.fn()}finally{Tl(this),_e=t,pt=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Uo(t);this.deps=this.depsTail=void 0,ba(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?bi.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Gi(this)&&this.run()}get dirty(){return Gi(this)}}let El=0,Pn,kn;function xl(e,t=!1){if(e.flags|=8,t){e.next=kn,kn=e;return}e.next=Pn,Pn=e}function Ao(){El++}function Io(){if(--El>0)return;if(kn){let t=kn;for(kn=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;Pn;){let t=Pn;for(Pn=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(n){e||(e=n)}t=s}}if(e)throw e}function Rl(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Tl(e){let t,s=e.depsTail,n=s;for(;n;){const r=n.prevDep;n.version===-1?(n===s&&(s=r),Uo(n),fg(n)):t=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=r}e.deps=t,e.depsTail=s}function Gi(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Cl(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Cl(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Mn))return;e.globalVersion=Mn;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!Gi(e)){e.flags&=-3;return}const s=_e,n=pt;_e=e,pt=!0;try{Rl(e);const r=e.fn(e._value);(t.version===0||ts(r,e._value))&&(e._value=r,t.version++)}catch(r){throw t.version++,r}finally{_e=s,pt=n,Tl(e),e.flags&=-3}}function Uo(e,t=!1){const{dep:s,prevSub:n,nextSub:r}=e;if(n&&(n.nextSub=r,e.prevSub=void 0),r&&(r.prevSub=n,e.nextSub=void 0),s.subs===e&&(s.subs=n,!n&&s.computed)){s.computed.flags&=-5;for(let i=s.computed.deps;i;i=i.nextDep)Uo(i,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function fg(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let pt=!0;const Pl=[];function ns(){Pl.push(pt),pt=!1}function rs(){const e=Pl.pop();pt=e===void 0?!0:e}function ba(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=_e;_e=void 0;try{t()}finally{_e=s}}}let Mn=0;class hg{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Lo{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!_e||!pt||_e===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==_e)s=this.activeLink=new hg(_e,this),_e.deps?(s.prevDep=_e.depsTail,_e.depsTail.nextDep=s,_e.depsTail=s):_e.deps=_e.depsTail=s,kl(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const n=s.nextDep;n.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=n),s.prevDep=_e.depsTail,s.nextDep=void 0,_e.depsTail.nextDep=s,_e.depsTail=s,_e.deps===s&&(_e.deps=n)}return s}trigger(t){this.version++,Mn++,this.notify(t)}notify(t){Ao();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{Io()}}}function kl(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let n=t.deps;n;n=n.nextDep)kl(n)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const Ji=new WeakMap,ys=Symbol(""),Xi=Symbol(""),Dn=Symbol("");function De(e,t,s){if(pt&&_e){let n=Ji.get(e);n||Ji.set(e,n=new Map);let r=n.get(s);r||(n.set(s,r=new Lo),r.map=n,r.key=s),r.track()}}function Dt(e,t,s,n,r,i){const o=Ji.get(e);if(!o){Mn++;return}const a=c=>{c&&c.trigger()};if(Ao(),t==="clear")o.forEach(a);else{const c=Q(e),l=c&&Po(s);if(c&&s==="length"){const u=Number(n);o.forEach((d,h)=>{(h==="length"||h===Dn||!ss(h)&&h>=u)&&a(d)})}else switch((s!==void 0||o.has(void 0))&&a(o.get(s)),l&&a(o.get(Dn)),t){case"add":c?l&&a(o.get("length")):(a(o.get(ys)),Ls(e)&&a(o.get(Xi)));break;case"delete":c||(a(o.get(ys)),Ls(e)&&a(o.get(Xi)));break;case"set":Ls(e)&&a(o.get(ys));break}}Io()}function Os(e){const t=ae(e);return t===e?t:(De(t,"iterate",Dn),gt(e)?t:t.map(We))}function jo(e){return De(e=ae(e),"iterate",Dn),e}const pg={__proto__:null,[Symbol.iterator](){return yi(this,Symbol.iterator,We)},concat(...e){return Os(this).concat(...e.map(t=>Q(t)?Os(t):t))},entries(){return yi(this,"entries",e=>(e[1]=We(e[1]),e))},every(e,t){return It(this,"every",e,t,void 0,arguments)},filter(e,t){return It(this,"filter",e,t,s=>s.map(We),arguments)},find(e,t){return It(this,"find",e,t,We,arguments)},findIndex(e,t){return It(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return It(this,"findLast",e,t,We,arguments)},findLastIndex(e,t){return It(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return It(this,"forEach",e,t,void 0,arguments)},includes(...e){return vi(this,"includes",e)},indexOf(...e){return vi(this,"indexOf",e)},join(e){return Os(this).join(e)},lastIndexOf(...e){return vi(this,"lastIndexOf",e)},map(e,t){return It(this,"map",e,t,void 0,arguments)},pop(){return gn(this,"pop")},push(...e){return gn(this,"push",e)},reduce(e,...t){return ya(this,"reduce",e,t)},reduceRight(e,...t){return ya(this,"reduceRight",e,t)},shift(){return gn(this,"shift")},some(e,t){return It(this,"some",e,t,void 0,arguments)},splice(...e){return gn(this,"splice",e)},toReversed(){return Os(this).toReversed()},toSorted(e){return Os(this).toSorted(e)},toSpliced(...e){return Os(this).toSpliced(...e)},unshift(...e){return gn(this,"unshift",e)},values(){return yi(this,"values",We)}};function yi(e,t,s){const n=jo(e),r=n[t]();return n!==e&&!gt(e)&&(r._next=r.next,r.next=()=>{const i=r._next();return i.value&&(i.value=s(i.value)),i}),r}const gg=Array.prototype;function It(e,t,s,n,r,i){const o=jo(e),a=o!==e&&!gt(e),c=o[t];if(c!==gg[t]){const d=c.apply(e,i);return a?We(d):d}let l=s;o!==e&&(a?l=function(d,h){return s.call(this,We(d),h,e)}:s.length>2&&(l=function(d,h){return s.call(this,d,h,e)}));const u=c.call(o,l,n);return a&&r?r(u):u}function ya(e,t,s,n){const r=jo(e);let i=s;return r!==e&&(gt(e)?s.length>3&&(i=function(o,a,c){return s.call(this,o,a,c,e)}):i=function(o,a,c){return s.call(this,o,We(a),c,e)}),r[t](i,...n)}function vi(e,t,s){const n=ae(e);De(n,"iterate",Dn);const r=n[t](...s);return(r===-1||r===!1)&&Mo(s[0])?(s[0]=ae(s[0]),n[t](...s)):r}function gn(e,t,s=[]){ns(),Ao();const n=ae(e)[t].apply(e,s);return Io(),rs(),n}const mg=Ro("__proto__,__v_isRef,__isVue"),Ol=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ss));function wg(e){ss(e)||(e=String(e));const t=ae(this);return De(t,"has",e),t.hasOwnProperty(e)}class Al{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,n){if(s==="__v_skip")return t.__v_skip;const r=this._isReadonly,i=this._isShallow;if(s==="__v_isReactive")return!r;if(s==="__v_isReadonly")return r;if(s==="__v_isShallow")return i;if(s==="__v_raw")return n===(r?i?Cg:jl:i?Ll:Ul).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const o=Q(t);if(!r){let c;if(o&&(c=pg[s]))return c;if(s==="hasOwnProperty")return wg}const a=Reflect.get(t,s,qe(t)?t:n);return(ss(s)?Ol.has(s):mg(s))||(r||De(t,"get",s),i)?a:qe(a)?o&&Po(s)?a:a.value:Ee(a)?r?$l(a):Yr(a):a}}class Il extends Al{constructor(t=!1){super(!1,t)}set(t,s,n,r){let i=t[s];if(!this._isShallow){const c=xs(i);if(!gt(n)&&!xs(n)&&(i=ae(i),n=ae(n)),!Q(t)&&qe(i)&&!qe(n))return c?!1:(i.value=n,!0)}const o=Q(t)&&Po(s)?Number(s)<t.length:ce(t,s),a=Reflect.set(t,s,n,qe(t)?t:r);return t===ae(r)&&(o?ts(n,i)&&Dt(t,"set",s,n):Dt(t,"add",s,n)),a}deleteProperty(t,s){const n=ce(t,s);t[s];const r=Reflect.deleteProperty(t,s);return r&&n&&Dt(t,"delete",s,void 0),r}has(t,s){const n=Reflect.has(t,s);return(!ss(s)||!Ol.has(s))&&De(t,"has",s),n}ownKeys(t){return De(t,"iterate",Q(t)?"length":ys),Reflect.ownKeys(t)}}class _g extends Al{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const bg=new Il,yg=new _g,vg=new Il(!0);const Qi=e=>e,dr=e=>Reflect.getPrototypeOf(e);function Sg(e,t,s){return function(...n){const r=this.__v_raw,i=ae(r),o=Ls(i),a=e==="entries"||e===Symbol.iterator&&o,c=e==="keys"&&o,l=r[e](...n),u=s?Qi:t?Yi:We;return!t&&De(i,"iterate",c?Xi:ys),{next(){const{value:d,done:h}=l.next();return h?{value:d,done:h}:{value:a?[u(d[0]),u(d[1])]:u(d),done:h}},[Symbol.iterator](){return this}}}}function fr(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Eg(e,t){const s={get(r){const i=this.__v_raw,o=ae(i),a=ae(r);e||(ts(r,a)&&De(o,"get",r),De(o,"get",a));const{has:c}=dr(o),l=t?Qi:e?Yi:We;if(c.call(o,r))return l(i.get(r));if(c.call(o,a))return l(i.get(a));i!==o&&i.get(r)},get size(){const r=this.__v_raw;return!e&&De(ae(r),"iterate",ys),Reflect.get(r,"size",r)},has(r){const i=this.__v_raw,o=ae(i),a=ae(r);return e||(ts(r,a)&&De(o,"has",r),De(o,"has",a)),r===a?i.has(r):i.has(r)||i.has(a)},forEach(r,i){const o=this,a=o.__v_raw,c=ae(a),l=t?Qi:e?Yi:We;return!e&&De(c,"iterate",ys),a.forEach((u,d)=>r.call(i,l(u),l(d),o))}};return ke(s,e?{add:fr("add"),set:fr("set"),delete:fr("delete"),clear:fr("clear")}:{add(r){!t&&!gt(r)&&!xs(r)&&(r=ae(r));const i=ae(this);return dr(i).has.call(i,r)||(i.add(r),Dt(i,"add",r,r)),this},set(r,i){!t&&!gt(i)&&!xs(i)&&(i=ae(i));const o=ae(this),{has:a,get:c}=dr(o);let l=a.call(o,r);l||(r=ae(r),l=a.call(o,r));const u=c.call(o,r);return o.set(r,i),l?ts(i,u)&&Dt(o,"set",r,i):Dt(o,"add",r,i),this},delete(r){const i=ae(this),{has:o,get:a}=dr(i);let c=o.call(i,r);c||(r=ae(r),c=o.call(i,r)),a&&a.call(i,r);const l=i.delete(r);return c&&Dt(i,"delete",r,void 0),l},clear(){const r=ae(this),i=r.size!==0,o=r.clear();return i&&Dt(r,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(r=>{s[r]=Sg(r,e,t)}),s}function No(e,t){const s=Eg(e,t);return(n,r,i)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?n:Reflect.get(ce(s,r)&&r in n?s:n,r,i)}const xg={get:No(!1,!1)},Rg={get:No(!1,!0)},Tg={get:No(!0,!1)};const Ul=new WeakMap,Ll=new WeakMap,jl=new WeakMap,Cg=new WeakMap;function Pg(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function kg(e){return e.__v_skip||!Object.isExtensible(e)?0:Pg(Zp(e))}function Yr(e){return xs(e)?e:$o(e,!1,bg,xg,Ul)}function Nl(e){return $o(e,!1,vg,Rg,Ll)}function $l(e){return $o(e,!0,yg,Tg,jl)}function $o(e,t,s,n,r){if(!Ee(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=r.get(e);if(i)return i;const o=kg(e);if(o===0)return e;const a=new Proxy(e,o===2?n:s);return r.set(e,a),a}function On(e){return xs(e)?On(e.__v_raw):!!(e&&e.__v_isReactive)}function xs(e){return!!(e&&e.__v_isReadonly)}function gt(e){return!!(e&&e.__v_isShallow)}function Mo(e){return e?!!e.__v_raw:!1}function ae(e){const t=e&&e.__v_raw;return t?ae(t):e}function Og(e){return!ce(e,"__v_skip")&&Object.isExtensible(e)&&_l(e,"__v_skip",!0),e}const We=e=>Ee(e)?Yr(e):e,Yi=e=>Ee(e)?$l(e):e;function qe(e){return e?e.__v_isRef===!0:!1}function ls(e){return Dl(e,!1)}function Ml(e){return Dl(e,!0)}function Dl(e,t){return qe(e)?e:new Ag(e,t)}class Ag{constructor(t,s){this.dep=new Lo,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:ae(t),this._value=s?t:We(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,n=this.__v_isShallow||gt(t)||xs(t);t=n?t:ae(t),ts(t,s)&&(this._rawValue=t,this._value=n?t:We(t),this.dep.trigger())}}function js(e){return qe(e)?e.value:e}const Ig={get:(e,t,s)=>t==="__v_raw"?e:js(Reflect.get(e,t,s)),set:(e,t,s,n)=>{const r=e[t];return qe(r)&&!qe(s)?(r.value=s,!0):Reflect.set(e,t,s,n)}};function Hl(e){return On(e)?e:new Proxy(e,Ig)}class Ug{constructor(t,s,n){this.fn=t,this.setter=s,this._value=void 0,this.dep=new Lo(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Mn-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&_e!==this)return xl(this,!0),!0}get value(){const t=this.dep.track();return Cl(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Lg(e,t,s=!1){let n,r;return Z(e)?n=e:(n=e.get,r=e.set),new Ug(n,r,s)}const hr={},kr=new WeakMap;let us;function jg(e,t=!1,s=us){if(s){let n=kr.get(s);n||kr.set(s,n=[]),n.push(e)}}function Ng(e,t,s=me){const{immediate:n,deep:r,once:i,scheduler:o,augmentJob:a,call:c}=s,l=x=>r?x:gt(x)||r===!1||r===0?Yt(x,1):Yt(x);let u,d,h,g,w=!1,_=!1;if(qe(e)?(d=()=>e.value,w=gt(e)):On(e)?(d=()=>l(e),w=!0):Q(e)?(_=!0,w=e.some(x=>On(x)||gt(x)),d=()=>e.map(x=>{if(qe(x))return x.value;if(On(x))return l(x);if(Z(x))return c?c(x,2):x()})):Z(e)?t?d=c?()=>c(e,2):e:d=()=>{if(h){ns();try{h()}finally{rs()}}const x=us;us=u;try{return c?c(e,3,[g]):e(g)}finally{us=x}}:d=Pt,t&&r){const x=d,O=r===!0?1/0:r;d=()=>Yt(x(),O)}const v=dg(),C=()=>{u.stop(),v&&v.active&&Co(v.effects,u)};if(i&&t){const x=t;t=(...O)=>{x(...O),C()}}let m=_?new Array(e.length).fill(hr):hr;const b=x=>{if(!(!(u.flags&1)||!u.dirty&&!x))if(t){const O=u.run();if(r||w||(_?O.some((D,U)=>ts(D,m[U])):ts(O,m))){h&&h();const D=us;us=u;try{const U=[O,m===hr?void 0:_&&m[0]===hr?[]:m,g];c?c(t,3,U):t(...U),m=O}finally{us=D}}}else u.run()};return a&&a(b),u=new Sl(d),u.scheduler=o?()=>o(b,!1):b,g=x=>jg(x,!1,u),h=u.onStop=()=>{const x=kr.get(u);if(x){if(c)c(x,4);else for(const O of x)O();kr.delete(u)}},t?n?b(!0):m=u.run():o?o(b.bind(null,!0),!0):u.run(),C.pause=u.pause.bind(u),C.resume=u.resume.bind(u),C.stop=C,C}function Yt(e,t=1/0,s){if(t<=0||!Ee(e)||e.__v_skip||(s=s||new Set,s.has(e)))return e;if(s.add(e),t--,qe(e))Yt(e.value,t,s);else if(Q(e))for(let n=0;n<e.length;n++)Yt(e[n],t,s);else if(pl(e)||Ls(e))e.forEach(n=>{Yt(n,t,s)});else if(wl(e)){for(const n in e)Yt(e[n],t,s);for(const n of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,n)&&Yt(e[n],t,s)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function or(e,t,s,n){try{return n?e(...n):e()}catch(r){Zr(r,t,s)}}function kt(e,t,s,n){if(Z(e)){const r=or(e,t,s,n);return r&&gl(r)&&r.catch(i=>{Zr(i,t,s)}),r}if(Q(e)){const r=[];for(let i=0;i<e.length;i++)r.push(kt(e[i],t,s,n));return r}}function Zr(e,t,s,n=!0){const r=t?t.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||me;if(t){let a=t.parent;const c=t.proxy,l=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const u=a.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](e,c,l)===!1)return}a=a.parent}if(i){ns(),or(i,null,10,[e,c,l]),rs();return}}$g(e,s,r,n,o)}function $g(e,t,s,n=!0,r=!1){if(r)throw e;console.error(e)}const ze=[];let xt=-1;const Ns=[];let Gt=null,As=0;const ql=Promise.resolve();let Or=null;function Bl(e){const t=Or||ql;return e?t.then(this?e.bind(this):e):t}function Mg(e){let t=xt+1,s=ze.length;for(;t<s;){const n=t+s>>>1,r=ze[n],i=Hn(r);i<e||i===e&&r.flags&2?t=n+1:s=n}return t}function Do(e){if(!(e.flags&1)){const t=Hn(e),s=ze[ze.length-1];!s||!(e.flags&2)&&t>=Hn(s)?ze.push(e):ze.splice(Mg(t),0,e),e.flags|=1,Fl()}}function Fl(){Or||(Or=ql.then(zl))}function Dg(e){Q(e)?Ns.push(...e):Gt&&e.id===-1?Gt.splice(As+1,0,e):e.flags&1||(Ns.push(e),e.flags|=1),Fl()}function va(e,t,s=xt+1){for(;s<ze.length;s++){const n=ze[s];if(n&&n.flags&2){if(e&&n.id!==e.uid)continue;ze.splice(s,1),s--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function Wl(e){if(Ns.length){const t=[...new Set(Ns)].sort((s,n)=>Hn(s)-Hn(n));if(Ns.length=0,Gt){Gt.push(...t);return}for(Gt=t,As=0;As<Gt.length;As++){const s=Gt[As];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}Gt=null,As=0}}const Hn=e=>e.id==null?e.flags&2?-1:1/0:e.id;function zl(e){try{for(xt=0;xt<ze.length;xt++){const t=ze[xt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),or(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;xt<ze.length;xt++){const t=ze[xt];t&&(t.flags&=-2)}xt=-1,ze.length=0,Wl(),Or=null,(ze.length||Ns.length)&&zl()}}let ct=null,Vl=null;function Ar(e){const t=ct;return ct=e,Vl=e&&e.type.__scopeId||null,t}function Hg(e,t=ct,s){if(!t||e._n)return e;const n=(...r)=>{n._d&&Oa(-1);const i=Ar(t);let o;try{o=e(...r)}finally{Ar(i),n._d&&Oa(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function os(e,t,s,n){const r=e.dirs,i=t&&t.dirs;for(let o=0;o<r.length;o++){const a=r[o];i&&(a.oldValue=i[o].value);let c=a.dir[n];c&&(ns(),kt(c,s,8,[e.el,a,e,t]),rs())}}const qg=Symbol("_vte"),Bg=e=>e.__isTeleport;function Ho(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Ho(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function qo(e,t){return Z(e)?ke({name:e.name},t,{setup:e}):e}function Kl(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function Fg(e){const t=Fm(),s=Ml(null);if(t){const r=t.refs===me?t.refs={}:t.refs;Object.defineProperty(r,e,{enumerable:!0,get:()=>s.value,set:i=>s.value=i})}return s}function Ir(e,t,s,n,r=!1){if(Q(e)){e.forEach((w,_)=>Ir(w,t&&(Q(t)?t[_]:t),s,n,r));return}if(An(n)&&!r){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&Ir(e,t,s,n.component.subTree);return}const i=n.shapeFlag&4?zo(n.component):n.el,o=r?null:i,{i:a,r:c}=e,l=t&&t.r,u=a.refs===me?a.refs={}:a.refs,d=a.setupState,h=ae(d),g=d===me?()=>!1:w=>ce(h,w);if(l!=null&&l!==c&&(Ce(l)?(u[l]=null,g(l)&&(d[l]=null)):qe(l)&&(l.value=null)),Z(c))or(c,a,12,[o,u]);else{const w=Ce(c),_=qe(c);if(w||_){const v=()=>{if(e.f){const C=w?g(c)?d[c]:u[c]:c.value;r?Q(C)&&Co(C,i):Q(C)?C.includes(i)||C.push(i):w?(u[c]=[i],g(c)&&(d[c]=u[c])):(c.value=[i],e.k&&(u[e.k]=c.value))}else w?(u[c]=o,g(c)&&(d[c]=o)):_&&(c.value=o,e.k&&(u[e.k]=o))};o?(v.id=-1,et(v,s)):v()}}}Qr().requestIdleCallback;Qr().cancelIdleCallback;const An=e=>!!e.type.__asyncLoader,Gl=e=>e.type.__isKeepAlive;function Wg(e,t){Jl(e,"a",t)}function zg(e,t){Jl(e,"da",t)}function Jl(e,t,s=Le){const n=e.__wdc||(e.__wdc=()=>{let r=s;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(ei(t,n,s),s){let r=s.parent;for(;r&&r.parent;)Gl(r.parent.vnode)&&Vg(n,t,s,r),r=r.parent}}function Vg(e,t,s,n){const r=ei(t,e,n,!0);Xl(()=>{Co(n[t],r)},s)}function ei(e,t,s=Le,n=!1){if(s){const r=s[e]||(s[e]=[]),i=t.__weh||(t.__weh=(...o)=>{ns();const a=ar(s),c=kt(t,s,e,o);return a(),rs(),c});return n?r.unshift(i):r.push(i),i}}const Bt=e=>(t,s=Le)=>{(!Fn||e==="sp")&&ei(e,(...n)=>t(...n),s)},Kg=Bt("bm"),Gg=Bt("m"),Jg=Bt("bu"),Xg=Bt("u"),Qg=Bt("bum"),Xl=Bt("um"),Yg=Bt("sp"),Zg=Bt("rtg"),em=Bt("rtc");function tm(e,t=Le){ei("ec",e,t)}const sm="components";function Ql(e,t){return rm(sm,e,!0,t)||e}const nm=Symbol.for("v-ndc");function rm(e,t,s=!0,n=!1){const r=ct||Le;if(r){const i=r.type;{const a=Gm(i,!1);if(a&&(a===t||a===dt(t)||a===Xr(dt(t))))return i}const o=Sa(r[e]||i[e],t)||Sa(r.appContext[e],t);return!o&&n?i:o}}function Sa(e,t){return e&&(e[t]||e[dt(t)]||e[Xr(dt(t))])}const Zi=e=>e?_u(e)?zo(e):Zi(e.parent):null,In=ke(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Zi(e.parent),$root:e=>Zi(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Bo(e),$forceUpdate:e=>e.f||(e.f=()=>{Do(e.update)}),$nextTick:e=>e.n||(e.n=Bl.bind(e.proxy)),$watch:e=>Rm.bind(e)}),Si=(e,t)=>e!==me&&!e.__isScriptSetup&&ce(e,t),im={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:n,data:r,props:i,accessCache:o,type:a,appContext:c}=e;let l;if(t[0]!=="$"){const g=o[t];if(g!==void 0)switch(g){case 1:return n[t];case 2:return r[t];case 4:return s[t];case 3:return i[t]}else{if(Si(n,t))return o[t]=1,n[t];if(r!==me&&ce(r,t))return o[t]=2,r[t];if((l=e.propsOptions[0])&&ce(l,t))return o[t]=3,i[t];if(s!==me&&ce(s,t))return o[t]=4,s[t];eo&&(o[t]=0)}}const u=In[t];let d,h;if(u)return t==="$attrs"&&De(e.attrs,"get",""),u(e);if((d=a.__cssModules)&&(d=d[t]))return d;if(s!==me&&ce(s,t))return o[t]=4,s[t];if(h=c.config.globalProperties,ce(h,t))return h[t]},set({_:e},t,s){const{data:n,setupState:r,ctx:i}=e;return Si(r,t)?(r[t]=s,!0):n!==me&&ce(n,t)?(n[t]=s,!0):ce(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:n,appContext:r,propsOptions:i}},o){let a;return!!s[o]||e!==me&&ce(e,o)||Si(t,o)||(a=i[0])&&ce(a,o)||ce(n,o)||ce(In,o)||ce(r.config.globalProperties,o)},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:ce(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function Ea(e){return Q(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let eo=!0;function om(e){const t=Bo(e),s=e.proxy,n=e.ctx;eo=!1,t.beforeCreate&&xa(t.beforeCreate,e,"bc");const{data:r,computed:i,methods:o,watch:a,provide:c,inject:l,created:u,beforeMount:d,mounted:h,beforeUpdate:g,updated:w,activated:_,deactivated:v,beforeDestroy:C,beforeUnmount:m,destroyed:b,unmounted:x,render:O,renderTracked:D,renderTriggered:U,errorCaptured:q,serverPrefetch:I,expose:se,inheritAttrs:ne,components:le,directives:ye,filters:Ve}=t;if(l&&am(l,n,null),o)for(const ee in o){const te=o[ee];Z(te)&&(n[ee]=te.bind(s))}if(r){const ee=r.call(s,s);Ee(ee)&&(e.data=Yr(ee))}if(eo=!0,i)for(const ee in i){const te=i[ee],Ne=Z(te)?te.bind(s,s):Z(te.get)?te.get.bind(s,s):Pt,he=!Z(te)&&Z(te.set)?te.set.bind(s):Pt,pe=st({get:Ne,set:he});Object.defineProperty(n,ee,{enumerable:!0,configurable:!0,get:()=>pe.value,set:ge=>pe.value=ge})}if(a)for(const ee in a)Yl(a[ee],n,s,ee);if(c){const ee=Z(c)?c.call(s):c;Reflect.ownKeys(ee).forEach(te=>{br(te,ee[te])})}u&&xa(u,e,"c");function fe(ee,te){Q(te)?te.forEach(Ne=>ee(Ne.bind(s))):te&&ee(te.bind(s))}if(fe(Kg,d),fe(Gg,h),fe(Jg,g),fe(Xg,w),fe(Wg,_),fe(zg,v),fe(tm,q),fe(em,D),fe(Zg,U),fe(Qg,m),fe(Xl,x),fe(Yg,I),Q(se))if(se.length){const ee=e.exposed||(e.exposed={});se.forEach(te=>{Object.defineProperty(ee,te,{get:()=>s[te],set:Ne=>s[te]=Ne})})}else e.exposed||(e.exposed={});O&&e.render===Pt&&(e.render=O),ne!=null&&(e.inheritAttrs=ne),le&&(e.components=le),ye&&(e.directives=ye),I&&Kl(e)}function am(e,t,s=Pt){Q(e)&&(e=to(e));for(const n in e){const r=e[n];let i;Ee(r)?"default"in r?i=mt(r.from||n,r.default,!0):i=mt(r.from||n):i=mt(r),qe(i)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):t[n]=i}}function xa(e,t,s){kt(Q(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,s)}function Yl(e,t,s,n){let r=n.includes(".")?fu(s,n):()=>s[n];if(Ce(e)){const i=t[e];Z(i)&&yr(r,i)}else if(Z(e))yr(r,e.bind(s));else if(Ee(e))if(Q(e))e.forEach(i=>Yl(i,t,s,n));else{const i=Z(e.handler)?e.handler.bind(s):t[e.handler];Z(i)&&yr(r,i,e)}}function Bo(e){const t=e.type,{mixins:s,extends:n}=t,{mixins:r,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,a=i.get(t);let c;return a?c=a:!r.length&&!s&&!n?c=t:(c={},r.length&&r.forEach(l=>Ur(c,l,o,!0)),Ur(c,t,o)),Ee(t)&&i.set(t,c),c}function Ur(e,t,s,n=!1){const{mixins:r,extends:i}=t;i&&Ur(e,i,s,!0),r&&r.forEach(o=>Ur(e,o,s,!0));for(const o in t)if(!(n&&o==="expose")){const a=cm[o]||s&&s[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const cm={data:Ra,props:Ta,emits:Ta,methods:xn,computed:xn,beforeCreate:Fe,created:Fe,beforeMount:Fe,mounted:Fe,beforeUpdate:Fe,updated:Fe,beforeDestroy:Fe,beforeUnmount:Fe,destroyed:Fe,unmounted:Fe,activated:Fe,deactivated:Fe,errorCaptured:Fe,serverPrefetch:Fe,components:xn,directives:xn,watch:um,provide:Ra,inject:lm};function Ra(e,t){return t?e?function(){return ke(Z(e)?e.call(this,this):e,Z(t)?t.call(this,this):t)}:t:e}function lm(e,t){return xn(to(e),to(t))}function to(e){if(Q(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function Fe(e,t){return e?[...new Set([].concat(e,t))]:t}function xn(e,t){return e?ke(Object.create(null),e,t):t}function Ta(e,t){return e?Q(e)&&Q(t)?[...new Set([...e,...t])]:ke(Object.create(null),Ea(e),Ea(t??{})):t}function um(e,t){if(!e)return t;if(!t)return e;const s=ke(Object.create(null),e);for(const n in t)s[n]=Fe(e[n],t[n]);return s}function Zl(){return{app:null,config:{isNativeTag:Qp,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let dm=0;function fm(e,t){return function(n,r=null){Z(n)||(n=ke({},n)),r!=null&&!Ee(r)&&(r=null);const i=Zl(),o=new WeakSet,a=[];let c=!1;const l=i.app={_uid:dm++,_component:n,_props:r,_container:null,_context:i,_instance:null,version:Xm,get config(){return i.config},set config(u){},use(u,...d){return o.has(u)||(u&&Z(u.install)?(o.add(u),u.install(l,...d)):Z(u)&&(o.add(u),u(l,...d))),l},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),l},component(u,d){return d?(i.components[u]=d,l):i.components[u]},directive(u,d){return d?(i.directives[u]=d,l):i.directives[u]},mount(u,d,h){if(!c){const g=l._ceVNode||rt(n,r);return g.appContext=i,h===!0?h="svg":h===!1&&(h=void 0),d&&t?t(g,u):e(g,u,h),c=!0,l._container=u,u.__vue_app__=l,zo(g.component)}},onUnmount(u){a.push(u)},unmount(){c&&(kt(a,l._instance,16),e(null,l._container),delete l._container.__vue_app__)},provide(u,d){return i.provides[u]=d,l},runWithContext(u){const d=$s;$s=l;try{return u()}finally{$s=d}}};return l}}let $s=null;function br(e,t){if(Le){let s=Le.provides;const n=Le.parent&&Le.parent.provides;n===s&&(s=Le.provides=Object.create(n)),s[e]=t}}function mt(e,t,s=!1){const n=Le||ct;if(n||$s){const r=$s?$s._context.provides:n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(r&&e in r)return r[e];if(arguments.length>1)return s&&Z(t)?t.call(n&&n.proxy):t}}const eu={},tu=()=>Object.create(eu),su=e=>Object.getPrototypeOf(e)===eu;function hm(e,t,s,n=!1){const r={},i=tu();e.propsDefaults=Object.create(null),nu(e,t,r,i);for(const o in e.propsOptions[0])o in r||(r[o]=void 0);s?e.props=n?r:Nl(r):e.type.props?e.props=r:e.props=i,e.attrs=i}function pm(e,t,s,n){const{props:r,attrs:i,vnode:{patchFlag:o}}=e,a=ae(r),[c]=e.propsOptions;let l=!1;if((n||o>0)&&!(o&16)){if(o&8){const u=e.vnode.dynamicProps;for(let d=0;d<u.length;d++){let h=u[d];if(ti(e.emitsOptions,h))continue;const g=t[h];if(c)if(ce(i,h))g!==i[h]&&(i[h]=g,l=!0);else{const w=dt(h);r[w]=so(c,a,w,g,e,!1)}else g!==i[h]&&(i[h]=g,l=!0)}}}else{nu(e,t,r,i)&&(l=!0);let u;for(const d in a)(!t||!ce(t,d)&&((u=Cs(d))===d||!ce(t,u)))&&(c?s&&(s[d]!==void 0||s[u]!==void 0)&&(r[d]=so(c,a,d,void 0,e,!0)):delete r[d]);if(i!==a)for(const d in i)(!t||!ce(t,d))&&(delete i[d],l=!0)}l&&Dt(e.attrs,"set","")}function nu(e,t,s,n){const[r,i]=e.propsOptions;let o=!1,a;if(t)for(let c in t){if(Cn(c))continue;const l=t[c];let u;r&&ce(r,u=dt(c))?!i||!i.includes(u)?s[u]=l:(a||(a={}))[u]=l:ti(e.emitsOptions,c)||(!(c in n)||l!==n[c])&&(n[c]=l,o=!0)}if(i){const c=ae(s),l=a||me;for(let u=0;u<i.length;u++){const d=i[u];s[d]=so(r,c,d,l[d],e,!ce(l,d))}}return o}function so(e,t,s,n,r,i){const o=e[s];if(o!=null){const a=ce(o,"default");if(a&&n===void 0){const c=o.default;if(o.type!==Function&&!o.skipFactory&&Z(c)){const{propsDefaults:l}=r;if(s in l)n=l[s];else{const u=ar(r);n=l[s]=c.call(null,t),u()}}else n=c;r.ce&&r.ce._setProp(s,n)}o[0]&&(i&&!a?n=!1:o[1]&&(n===""||n===Cs(s))&&(n=!0))}return n}const gm=new WeakMap;function ru(e,t,s=!1){const n=s?gm:t.propsCache,r=n.get(e);if(r)return r;const i=e.props,o={},a=[];let c=!1;if(!Z(e)){const u=d=>{c=!0;const[h,g]=ru(d,t,!0);ke(o,h),g&&a.push(...g)};!s&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!i&&!c)return Ee(e)&&n.set(e,Us),Us;if(Q(i))for(let u=0;u<i.length;u++){const d=dt(i[u]);Ca(d)&&(o[d]=me)}else if(i)for(const u in i){const d=dt(u);if(Ca(d)){const h=i[u],g=o[d]=Q(h)||Z(h)?{type:h}:ke({},h),w=g.type;let _=!1,v=!0;if(Q(w))for(let C=0;C<w.length;++C){const m=w[C],b=Z(m)&&m.name;if(b==="Boolean"){_=!0;break}else b==="String"&&(v=!1)}else _=Z(w)&&w.name==="Boolean";g[0]=_,g[1]=v,(_||ce(g,"default"))&&a.push(d)}}const l=[o,a];return Ee(e)&&n.set(e,l),l}function Ca(e){return e[0]!=="$"&&!Cn(e)}const iu=e=>e[0]==="_"||e==="$stable",Fo=e=>Q(e)?e.map(Tt):[Tt(e)],mm=(e,t,s)=>{if(t._n)return t;const n=Hg((...r)=>Fo(t(...r)),s);return n._c=!1,n},ou=(e,t,s)=>{const n=e._ctx;for(const r in e){if(iu(r))continue;const i=e[r];if(Z(i))t[r]=mm(r,i,n);else if(i!=null){const o=Fo(i);t[r]=()=>o}}},au=(e,t)=>{const s=Fo(t);e.slots.default=()=>s},cu=(e,t,s)=>{for(const n in t)(s||n!=="_")&&(e[n]=t[n])},wm=(e,t,s)=>{const n=e.slots=tu();if(e.vnode.shapeFlag&32){const r=t._;r?(cu(n,t,s),s&&_l(n,"_",r,!0)):ou(t,n)}else t&&au(e,t)},_m=(e,t,s)=>{const{vnode:n,slots:r}=e;let i=!0,o=me;if(n.shapeFlag&32){const a=t._;a?s&&a===1?i=!1:cu(r,t,s):(i=!t.$stable,ou(t,r)),o=t}else t&&(au(e,t),o={default:1});if(i)for(const a in r)!iu(a)&&o[a]==null&&delete r[a]},et=Im;function bm(e){return ym(e)}function ym(e,t){const s=Qr();s.__VUE__=!0;const{insert:n,remove:r,patchProp:i,createElement:o,createText:a,createComment:c,setText:l,setElementText:u,parentNode:d,nextSibling:h,setScopeId:g=Pt,insertStaticContent:w}=e,_=(f,p,y,P=null,T=null,k=null,N=void 0,j=null,L=!!p.dynamicChildren)=>{if(f===p)return;f&&!mn(f,p)&&(P=R(f),ge(f,T,k,!0),f=null),p.patchFlag===-2&&(L=!1,p.dynamicChildren=null);const{type:A,ref:V,shapeFlag:M}=p;switch(A){case si:v(f,p,y,P);break;case qn:C(f,p,y,P);break;case Ri:f==null&&m(p,y,P,N);break;case Nt:le(f,p,y,P,T,k,N,j,L);break;default:M&1?O(f,p,y,P,T,k,N,j,L):M&6?ye(f,p,y,P,T,k,N,j,L):(M&64||M&128)&&A.process(f,p,y,P,T,k,N,j,L,F)}V!=null&&T&&Ir(V,f&&f.ref,k,p||f,!p)},v=(f,p,y,P)=>{if(f==null)n(p.el=a(p.children),y,P);else{const T=p.el=f.el;p.children!==f.children&&l(T,p.children)}},C=(f,p,y,P)=>{f==null?n(p.el=c(p.children||""),y,P):p.el=f.el},m=(f,p,y,P)=>{[f.el,f.anchor]=w(f.children,p,y,P,f.el,f.anchor)},b=({el:f,anchor:p},y,P)=>{let T;for(;f&&f!==p;)T=h(f),n(f,y,P),f=T;n(p,y,P)},x=({el:f,anchor:p})=>{let y;for(;f&&f!==p;)y=h(f),r(f),f=y;r(p)},O=(f,p,y,P,T,k,N,j,L)=>{p.type==="svg"?N="svg":p.type==="math"&&(N="mathml"),f==null?D(p,y,P,T,k,N,j,L):I(f,p,T,k,N,j,L)},D=(f,p,y,P,T,k,N,j)=>{let L,A;const{props:V,shapeFlag:M,transition:W,dirs:G}=f;if(L=f.el=o(f.type,k,V&&V.is,V),M&8?u(L,f.children):M&16&&q(f.children,L,null,P,T,Ei(f,k),N,j),G&&os(f,null,P,"created"),U(L,f,f.scopeId,N,P),V){for(const we in V)we!=="value"&&!Cn(we)&&i(L,we,null,V[we],k,P);"value"in V&&i(L,"value",null,V.value,k),(A=V.onVnodeBeforeMount)&&yt(A,P,f)}G&&os(f,null,P,"beforeMount");const re=vm(T,W);re&&W.beforeEnter(L),n(L,p,y),((A=V&&V.onVnodeMounted)||re||G)&&et(()=>{A&&yt(A,P,f),re&&W.enter(L),G&&os(f,null,P,"mounted")},T)},U=(f,p,y,P,T)=>{if(y&&g(f,y),P)for(let k=0;k<P.length;k++)g(f,P[k]);if(T){let k=T.subTree;if(p===k||pu(k.type)&&(k.ssContent===p||k.ssFallback===p)){const N=T.vnode;U(f,N,N.scopeId,N.slotScopeIds,T.parent)}}},q=(f,p,y,P,T,k,N,j,L=0)=>{for(let A=L;A<f.length;A++){const V=f[A]=j?Jt(f[A]):Tt(f[A]);_(null,V,p,y,P,T,k,N,j)}},I=(f,p,y,P,T,k,N)=>{const j=p.el=f.el;let{patchFlag:L,dynamicChildren:A,dirs:V}=p;L|=f.patchFlag&16;const M=f.props||me,W=p.props||me;let G;if(y&&as(y,!1),(G=W.onVnodeBeforeUpdate)&&yt(G,y,p,f),V&&os(p,f,y,"beforeUpdate"),y&&as(y,!0),(M.innerHTML&&W.innerHTML==null||M.textContent&&W.textContent==null)&&u(j,""),A?se(f.dynamicChildren,A,j,y,P,Ei(p,T),k):N||te(f,p,j,null,y,P,Ei(p,T),k,!1),L>0){if(L&16)ne(j,M,W,y,T);else if(L&2&&M.class!==W.class&&i(j,"class",null,W.class,T),L&4&&i(j,"style",M.style,W.style,T),L&8){const re=p.dynamicProps;for(let we=0;we<re.length;we++){const de=re[we],Je=M[de],Me=W[de];(Me!==Je||de==="value")&&i(j,de,Je,Me,T,y)}}L&1&&f.children!==p.children&&u(j,p.children)}else!N&&A==null&&ne(j,M,W,y,T);((G=W.onVnodeUpdated)||V)&&et(()=>{G&&yt(G,y,p,f),V&&os(p,f,y,"updated")},P)},se=(f,p,y,P,T,k,N)=>{for(let j=0;j<p.length;j++){const L=f[j],A=p[j],V=L.el&&(L.type===Nt||!mn(L,A)||L.shapeFlag&70)?d(L.el):y;_(L,A,V,null,P,T,k,N,!0)}},ne=(f,p,y,P,T)=>{if(p!==y){if(p!==me)for(const k in p)!Cn(k)&&!(k in y)&&i(f,k,p[k],null,T,P);for(const k in y){if(Cn(k))continue;const N=y[k],j=p[k];N!==j&&k!=="value"&&i(f,k,j,N,T,P)}"value"in y&&i(f,"value",p.value,y.value,T)}},le=(f,p,y,P,T,k,N,j,L)=>{const A=p.el=f?f.el:a(""),V=p.anchor=f?f.anchor:a("");let{patchFlag:M,dynamicChildren:W,slotScopeIds:G}=p;G&&(j=j?j.concat(G):G),f==null?(n(A,y,P),n(V,y,P),q(p.children||[],y,V,T,k,N,j,L)):M>0&&M&64&&W&&f.dynamicChildren?(se(f.dynamicChildren,W,y,T,k,N,j),(p.key!=null||T&&p===T.subTree)&&lu(f,p,!0)):te(f,p,y,V,T,k,N,j,L)},ye=(f,p,y,P,T,k,N,j,L)=>{p.slotScopeIds=j,f==null?p.shapeFlag&512?T.ctx.activate(p,y,P,N,L):Ve(p,y,P,T,k,N,L):Oe(f,p,L)},Ve=(f,p,y,P,T,k,N)=>{const j=f.component=Bm(f,P,T);if(Gl(f)&&(j.ctx.renderer=F),Wm(j,!1,N),j.asyncDep){if(T&&T.registerDep(j,fe,N),!f.el){const L=j.subTree=rt(qn);C(null,L,p,y)}}else fe(j,f,p,y,T,k,N)},Oe=(f,p,y)=>{const P=p.component=f.component;if(Om(f,p,y))if(P.asyncDep&&!P.asyncResolved){ee(P,p,y);return}else P.next=p,P.update();else p.el=f.el,P.vnode=p},fe=(f,p,y,P,T,k,N)=>{const j=()=>{if(f.isMounted){let{next:M,bu:W,u:G,parent:re,vnode:we}=f;{const Xe=uu(f);if(Xe){M&&(M.el=we.el,ee(f,M,N)),Xe.asyncDep.then(()=>{f.isUnmounted||j()});return}}let de=M,Je;as(f,!1),M?(M.el=we.el,ee(f,M,N)):M=we,W&&wi(W),(Je=M.props&&M.props.onVnodeBeforeUpdate)&&yt(Je,re,M,we),as(f,!0);const Me=xi(f),ft=f.subTree;f.subTree=Me,_(ft,Me,d(ft.el),R(ft),f,T,k),M.el=Me.el,de===null&&Am(f,Me.el),G&&et(G,T),(Je=M.props&&M.props.onVnodeUpdated)&&et(()=>yt(Je,re,M,we),T)}else{let M;const{el:W,props:G}=p,{bm:re,m:we,parent:de,root:Je,type:Me}=f,ft=An(p);if(as(f,!1),re&&wi(re),!ft&&(M=G&&G.onVnodeBeforeMount)&&yt(M,de,p),as(f,!0),W&&ve){const Xe=()=>{f.subTree=xi(f),ve(W,f.subTree,f,T,null)};ft&&Me.__asyncHydrate?Me.__asyncHydrate(W,f,Xe):Xe()}else{Je.ce&&Je.ce._injectChildStyle(Me);const Xe=f.subTree=xi(f);_(null,Xe,y,P,f,T,k),p.el=Xe.el}if(we&&et(we,T),!ft&&(M=G&&G.onVnodeMounted)){const Xe=p;et(()=>yt(M,de,Xe),T)}(p.shapeFlag&256||de&&An(de.vnode)&&de.vnode.shapeFlag&256)&&f.a&&et(f.a,T),f.isMounted=!0,p=y=P=null}};f.scope.on();const L=f.effect=new Sl(j);f.scope.off();const A=f.update=L.run.bind(L),V=f.job=L.runIfDirty.bind(L);V.i=f,V.id=f.uid,L.scheduler=()=>Do(V),as(f,!0),A()},ee=(f,p,y)=>{p.component=f;const P=f.vnode.props;f.vnode=p,f.next=null,pm(f,p.props,P,y),_m(f,p.children,y),ns(),va(f),rs()},te=(f,p,y,P,T,k,N,j,L=!1)=>{const A=f&&f.children,V=f?f.shapeFlag:0,M=p.children,{patchFlag:W,shapeFlag:G}=p;if(W>0){if(W&128){he(A,M,y,P,T,k,N,j,L);return}else if(W&256){Ne(A,M,y,P,T,k,N,j,L);return}}G&8?(V&16&&Ie(A,T,k),M!==A&&u(y,M)):V&16?G&16?he(A,M,y,P,T,k,N,j,L):Ie(A,T,k,!0):(V&8&&u(y,""),G&16&&q(M,y,P,T,k,N,j,L))},Ne=(f,p,y,P,T,k,N,j,L)=>{f=f||Us,p=p||Us;const A=f.length,V=p.length,M=Math.min(A,V);let W;for(W=0;W<M;W++){const G=p[W]=L?Jt(p[W]):Tt(p[W]);_(f[W],G,y,null,T,k,N,j,L)}A>V?Ie(f,T,k,!0,!1,M):q(p,y,P,T,k,N,j,L,M)},he=(f,p,y,P,T,k,N,j,L)=>{let A=0;const V=p.length;let M=f.length-1,W=V-1;for(;A<=M&&A<=W;){const G=f[A],re=p[A]=L?Jt(p[A]):Tt(p[A]);if(mn(G,re))_(G,re,y,null,T,k,N,j,L);else break;A++}for(;A<=M&&A<=W;){const G=f[M],re=p[W]=L?Jt(p[W]):Tt(p[W]);if(mn(G,re))_(G,re,y,null,T,k,N,j,L);else break;M--,W--}if(A>M){if(A<=W){const G=W+1,re=G<V?p[G].el:P;for(;A<=W;)_(null,p[A]=L?Jt(p[A]):Tt(p[A]),y,re,T,k,N,j,L),A++}}else if(A>W)for(;A<=M;)ge(f[A],T,k,!0),A++;else{const G=A,re=A,we=new Map;for(A=re;A<=W;A++){const Qe=p[A]=L?Jt(p[A]):Tt(p[A]);Qe.key!=null&&we.set(Qe.key,A)}let de,Je=0;const Me=W-re+1;let ft=!1,Xe=0;const fn=new Array(Me);for(A=0;A<Me;A++)fn[A]=0;for(A=G;A<=M;A++){const Qe=f[A];if(Je>=Me){ge(Qe,T,k,!0);continue}let bt;if(Qe.key!=null)bt=we.get(Qe.key);else for(de=re;de<=W;de++)if(fn[de-re]===0&&mn(Qe,p[de])){bt=de;break}bt===void 0?ge(Qe,T,k,!0):(fn[bt-re]=A+1,bt>=Xe?Xe=bt:ft=!0,_(Qe,p[bt],y,null,T,k,N,j,L),Je++)}const Yo=ft?Sm(fn):Us;for(de=Yo.length-1,A=Me-1;A>=0;A--){const Qe=re+A,bt=p[Qe],Zo=Qe+1<V?p[Qe+1].el:P;fn[A]===0?_(null,bt,y,Zo,T,k,N,j,L):ft&&(de<0||A!==Yo[de]?pe(bt,y,Zo,2):de--)}}},pe=(f,p,y,P,T=null)=>{const{el:k,type:N,transition:j,children:L,shapeFlag:A}=f;if(A&6){pe(f.component.subTree,p,y,P);return}if(A&128){f.suspense.move(p,y,P);return}if(A&64){N.move(f,p,y,F);return}if(N===Nt){n(k,p,y);for(let M=0;M<L.length;M++)pe(L[M],p,y,P);n(f.anchor,p,y);return}if(N===Ri){b(f,p,y);return}if(P!==2&&A&1&&j)if(P===0)j.beforeEnter(k),n(k,p,y),et(()=>j.enter(k),T);else{const{leave:M,delayLeave:W,afterLeave:G}=j,re=()=>n(k,p,y),we=()=>{M(k,()=>{re(),G&&G()})};W?W(k,re,we):we()}else n(k,p,y)},ge=(f,p,y,P=!1,T=!1)=>{const{type:k,props:N,ref:j,children:L,dynamicChildren:A,shapeFlag:V,patchFlag:M,dirs:W,cacheIndex:G}=f;if(M===-2&&(T=!1),j!=null&&Ir(j,null,y,f,!0),G!=null&&(p.renderCache[G]=void 0),V&256){p.ctx.deactivate(f);return}const re=V&1&&W,we=!An(f);let de;if(we&&(de=N&&N.onVnodeBeforeUnmount)&&yt(de,p,f),V&6)$e(f.component,y,P);else{if(V&128){f.suspense.unmount(y,P);return}re&&os(f,null,p,"beforeUnmount"),V&64?f.type.remove(f,p,y,F,P):A&&!A.hasOnce&&(k!==Nt||M>0&&M&64)?Ie(A,p,y,!1,!0):(k===Nt&&M&384||!T&&V&16)&&Ie(L,p,y),P&&Ae(f)}(we&&(de=N&&N.onVnodeUnmounted)||re)&&et(()=>{de&&yt(de,p,f),re&&os(f,null,p,"unmounted")},y)},Ae=f=>{const{type:p,el:y,anchor:P,transition:T}=f;if(p===Nt){Be(y,P);return}if(p===Ri){x(f);return}const k=()=>{r(y),T&&!T.persisted&&T.afterLeave&&T.afterLeave()};if(f.shapeFlag&1&&T&&!T.persisted){const{leave:N,delayLeave:j}=T,L=()=>N(y,k);j?j(f.el,k,L):L()}else k()},Be=(f,p)=>{let y;for(;f!==p;)y=h(f),r(f),f=y;r(p)},$e=(f,p,y)=>{const{bum:P,scope:T,job:k,subTree:N,um:j,m:L,a:A}=f;Pa(L),Pa(A),P&&wi(P),T.stop(),k&&(k.flags|=8,ge(N,f,p,y)),j&&et(j,p),et(()=>{f.isUnmounted=!0},p),p&&p.pendingBranch&&!p.isUnmounted&&f.asyncDep&&!f.asyncResolved&&f.suspenseId===p.pendingId&&(p.deps--,p.deps===0&&p.resolve())},Ie=(f,p,y,P=!1,T=!1,k=0)=>{for(let N=k;N<f.length;N++)ge(f[N],p,y,P,T)},R=f=>{if(f.shapeFlag&6)return R(f.component.subTree);if(f.shapeFlag&128)return f.suspense.next();const p=h(f.anchor||f.el),y=p&&p[qg];return y?h(y):p};let H=!1;const $=(f,p,y)=>{f==null?p._vnode&&ge(p._vnode,null,null,!0):_(p._vnode||null,f,p,null,null,null,y),p._vnode=f,H||(H=!0,va(),Wl(),H=!1)},F={p:_,um:ge,m:pe,r:Ae,mt:Ve,mc:q,pc:te,pbc:se,n:R,o:e};let ue,ve;return{render:$,hydrate:ue,createApp:fm($,ue)}}function Ei({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function as({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function vm(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function lu(e,t,s=!1){const n=e.children,r=t.children;if(Q(n)&&Q(r))for(let i=0;i<n.length;i++){const o=n[i];let a=r[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[i]=Jt(r[i]),a.el=o.el),!s&&a.patchFlag!==-2&&lu(o,a)),a.type===si&&(a.el=o.el)}}function Sm(e){const t=e.slice(),s=[0];let n,r,i,o,a;const c=e.length;for(n=0;n<c;n++){const l=e[n];if(l!==0){if(r=s[s.length-1],e[r]<l){t[n]=r,s.push(n);continue}for(i=0,o=s.length-1;i<o;)a=i+o>>1,e[s[a]]<l?i=a+1:o=a;l<e[s[i]]&&(i>0&&(t[n]=s[i-1]),s[i]=n)}}for(i=s.length,o=s[i-1];i-- >0;)s[i]=o,o=t[o];return s}function uu(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:uu(t)}function Pa(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Em=Symbol.for("v-scx"),xm=()=>mt(Em);function yr(e,t,s){return du(e,t,s)}function du(e,t,s=me){const{immediate:n,deep:r,flush:i,once:o}=s,a=ke({},s),c=t&&n||!t&&i!=="post";let l;if(Fn){if(i==="sync"){const g=xm();l=g.__watcherHandles||(g.__watcherHandles=[])}else if(!c){const g=()=>{};return g.stop=Pt,g.resume=Pt,g.pause=Pt,g}}const u=Le;a.call=(g,w,_)=>kt(g,u,w,_);let d=!1;i==="post"?a.scheduler=g=>{et(g,u&&u.suspense)}:i!=="sync"&&(d=!0,a.scheduler=(g,w)=>{w?g():Do(g)}),a.augmentJob=g=>{t&&(g.flags|=4),d&&(g.flags|=2,u&&(g.id=u.uid,g.i=u))};const h=Ng(e,t,a);return Fn&&(l?l.push(h):c&&h()),h}function Rm(e,t,s){const n=this.proxy,r=Ce(e)?e.includes(".")?fu(n,e):()=>n[e]:e.bind(n,n);let i;Z(t)?i=t:(i=t.handler,s=t);const o=ar(this),a=du(r,i.bind(n),s);return o(),a}function fu(e,t){const s=t.split(".");return()=>{let n=e;for(let r=0;r<s.length&&n;r++)n=n[s[r]];return n}}const Tm=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${dt(t)}Modifiers`]||e[`${Cs(t)}Modifiers`];function Cm(e,t,...s){if(e.isUnmounted)return;const n=e.vnode.props||me;let r=s;const i=t.startsWith("update:"),o=i&&Tm(n,t.slice(7));o&&(o.trim&&(r=s.map(u=>Ce(u)?u.trim():u)),o.number&&(r=s.map(sg)));let a,c=n[a=mi(t)]||n[a=mi(dt(t))];!c&&i&&(c=n[a=mi(Cs(t))]),c&&kt(c,e,6,r);const l=n[a+"Once"];if(l){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,kt(l,e,6,r)}}function hu(e,t,s=!1){const n=t.emitsCache,r=n.get(e);if(r!==void 0)return r;const i=e.emits;let o={},a=!1;if(!Z(e)){const c=l=>{const u=hu(l,t,!0);u&&(a=!0,ke(o,u))};!s&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!i&&!a?(Ee(e)&&n.set(e,null),null):(Q(i)?i.forEach(c=>o[c]=null):ke(o,i),Ee(e)&&n.set(e,o),o)}function ti(e,t){return!e||!Kr(t)?!1:(t=t.slice(2).replace(/Once$/,""),ce(e,t[0].toLowerCase()+t.slice(1))||ce(e,Cs(t))||ce(e,t))}function xi(e){const{type:t,vnode:s,proxy:n,withProxy:r,propsOptions:[i],slots:o,attrs:a,emit:c,render:l,renderCache:u,props:d,data:h,setupState:g,ctx:w,inheritAttrs:_}=e,v=Ar(e);let C,m;try{if(s.shapeFlag&4){const x=r||n,O=x;C=Tt(l.call(O,x,u,d,g,h,w)),m=a}else{const x=t;C=Tt(x.length>1?x(d,{attrs:a,slots:o,emit:c}):x(d,null)),m=t.props?a:Pm(a)}}catch(x){Un.length=0,Zr(x,e,1),C=rt(qn)}let b=C;if(m&&_!==!1){const x=Object.keys(m),{shapeFlag:O}=b;x.length&&O&7&&(i&&x.some(To)&&(m=km(m,i)),b=sn(b,m,!1,!0))}return s.dirs&&(b=sn(b,null,!1,!0),b.dirs=b.dirs?b.dirs.concat(s.dirs):s.dirs),s.transition&&Ho(b,s.transition),C=b,Ar(v),C}const Pm=e=>{let t;for(const s in e)(s==="class"||s==="style"||Kr(s))&&((t||(t={}))[s]=e[s]);return t},km=(e,t)=>{const s={};for(const n in e)(!To(n)||!(n.slice(9)in t))&&(s[n]=e[n]);return s};function Om(e,t,s){const{props:n,children:r,component:i}=e,{props:o,children:a,patchFlag:c}=t,l=i.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&c>=0){if(c&1024)return!0;if(c&16)return n?ka(n,o,l):!!o;if(c&8){const u=t.dynamicProps;for(let d=0;d<u.length;d++){const h=u[d];if(o[h]!==n[h]&&!ti(l,h))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:n===o?!1:n?o?ka(n,o,l):!0:!!o;return!1}function ka(e,t,s){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let r=0;r<n.length;r++){const i=n[r];if(t[i]!==e[i]&&!ti(s,i))return!0}return!1}function Am({vnode:e,parent:t},s){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n===e)(e=t.vnode).el=s,t=t.parent;else break}}const pu=e=>e.__isSuspense;function Im(e,t){t&&t.pendingBranch?Q(e)?t.effects.push(...e):t.effects.push(e):Dg(e)}const Nt=Symbol.for("v-fgt"),si=Symbol.for("v-txt"),qn=Symbol.for("v-cmt"),Ri=Symbol.for("v-stc"),Un=[];let nt=null;function gu(e=!1){Un.push(nt=e?null:[])}function Um(){Un.pop(),nt=Un[Un.length-1]||null}let Bn=1;function Oa(e,t=!1){Bn+=e,e<0&&nt&&t&&(nt.hasOnce=!0)}function mu(e){return e.dynamicChildren=Bn>0?nt||Us:null,Um(),Bn>0&&nt&&nt.push(e),e}function Lm(e,t,s,n,r,i){return mu(Ln(e,t,s,n,r,i,!0))}function jm(e,t,s,n,r){return mu(rt(e,t,s,n,r,!0))}function Lr(e){return e?e.__v_isVNode===!0:!1}function mn(e,t){return e.type===t.type&&e.key===t.key}const wu=({key:e})=>e??null,vr=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?Ce(e)||qe(e)||Z(e)?{i:ct,r:e,k:t,f:!!s}:e:null);function Ln(e,t=null,s=null,n=0,r=null,i=e===Nt?0:1,o=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&wu(t),ref:t&&vr(t),scopeId:Vl,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:n,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:ct};return a?(Wo(c,s),i&128&&e.normalize(c)):s&&(c.shapeFlag|=Ce(s)?8:16),Bn>0&&!o&&nt&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&nt.push(c),c}const rt=Nm;function Nm(e,t=null,s=null,n=0,r=null,i=!1){if((!e||e===nm)&&(e=qn),Lr(e)){const a=sn(e,t,!0);return s&&Wo(a,s),Bn>0&&!i&&nt&&(a.shapeFlag&6?nt[nt.indexOf(e)]=a:nt.push(a)),a.patchFlag=-2,a}if(Jm(e)&&(e=e.__vccOpts),t){t=$m(t);let{class:a,style:c}=t;a&&!Ce(a)&&(t.class=Oo(a)),Ee(c)&&(Mo(c)&&!Q(c)&&(c=ke({},c)),t.style=ko(c))}const o=Ce(e)?1:pu(e)?128:Bg(e)?64:Ee(e)?4:Z(e)?2:0;return Ln(e,t,s,n,r,o,i,!0)}function $m(e){return e?Mo(e)||su(e)?ke({},e):e:null}function sn(e,t,s=!1,n=!1){const{props:r,ref:i,patchFlag:o,children:a,transition:c}=e,l=t?Dm(r||{},t):r,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&wu(l),ref:t&&t.ref?s&&i?Q(i)?i.concat(vr(t)):[i,vr(t)]:vr(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Nt?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:c,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&sn(e.ssContent),ssFallback:e.ssFallback&&sn(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return c&&n&&Ho(u,c.clone(u)),u}function Mm(e=" ",t=0){return rt(si,null,e,t)}function Tt(e){return e==null||typeof e=="boolean"?rt(qn):Q(e)?rt(Nt,null,e.slice()):Lr(e)?Jt(e):rt(si,null,String(e))}function Jt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:sn(e)}function Wo(e,t){let s=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(Q(t))s=16;else if(typeof t=="object")if(n&65){const r=t.default;r&&(r._c&&(r._d=!1),Wo(e,r()),r._c&&(r._d=!0));return}else{s=32;const r=t._;!r&&!su(t)?t._ctx=ct:r===3&&ct&&(ct.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Z(t)?(t={default:t,_ctx:ct},s=32):(t=String(t),n&64?(s=16,t=[Mm(t)]):s=8);e.children=t,e.shapeFlag|=s}function Dm(...e){const t={};for(let s=0;s<e.length;s++){const n=e[s];for(const r in n)if(r==="class")t.class!==n.class&&(t.class=Oo([t.class,n.class]));else if(r==="style")t.style=ko([t.style,n.style]);else if(Kr(r)){const i=t[r],o=n[r];o&&i!==o&&!(Q(i)&&i.includes(o))&&(t[r]=i?[].concat(i,o):o)}else r!==""&&(t[r]=n[r])}return t}function yt(e,t,s,n=null){kt(e,t,7,[s,n])}const Hm=Zl();let qm=0;function Bm(e,t,s){const n=e.type,r=(t?t.appContext:e.appContext)||Hm,i={uid:qm++,vnode:e,type:n,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new ug(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ru(n,r),emitsOptions:hu(n,r),emit:null,emitted:null,propsDefaults:me,inheritAttrs:n.inheritAttrs,ctx:me,data:me,props:me,attrs:me,slots:me,refs:me,setupState:me,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=Cm.bind(null,i),e.ce&&e.ce(i),i}let Le=null;const Fm=()=>Le||ct;let jr,no;{const e=Qr(),t=(s,n)=>{let r;return(r=e[s])||(r=e[s]=[]),r.push(n),i=>{r.length>1?r.forEach(o=>o(i)):r[0](i)}};jr=t("__VUE_INSTANCE_SETTERS__",s=>Le=s),no=t("__VUE_SSR_SETTERS__",s=>Fn=s)}const ar=e=>{const t=Le;return jr(e),e.scope.on(),()=>{e.scope.off(),jr(t)}},Aa=()=>{Le&&Le.scope.off(),jr(null)};function _u(e){return e.vnode.shapeFlag&4}let Fn=!1;function Wm(e,t=!1,s=!1){t&&no(t);const{props:n,children:r}=e.vnode,i=_u(e);hm(e,n,i,t),wm(e,r,s);const o=i?zm(e,t):void 0;return t&&no(!1),o}function zm(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,im);const{setup:n}=s;if(n){ns();const r=e.setupContext=n.length>1?Km(e):null,i=ar(e),o=or(n,e,0,[e.props,r]),a=gl(o);if(rs(),i(),(a||e.sp)&&!An(e)&&Kl(e),a){if(o.then(Aa,Aa),t)return o.then(c=>{Ia(e,c,t)}).catch(c=>{Zr(c,e,0)});e.asyncDep=o}else Ia(e,o,t)}else bu(e,t)}function Ia(e,t,s){Z(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Ee(t)&&(e.setupState=Hl(t)),bu(e,s)}let Ua;function bu(e,t,s){const n=e.type;if(!e.render){if(!t&&Ua&&!n.render){const r=n.template||Bo(e).template;if(r){const{isCustomElement:i,compilerOptions:o}=e.appContext.config,{delimiters:a,compilerOptions:c}=n,l=ke(ke({isCustomElement:i,delimiters:a},o),c);n.render=Ua(r,l)}}e.render=n.render||Pt}{const r=ar(e);ns();try{om(e)}finally{rs(),r()}}}const Vm={get(e,t){return De(e,"get",""),e[t]}};function Km(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,Vm),slots:e.slots,emit:e.emit,expose:t}}function zo(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Hl(Og(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in In)return In[s](e)},has(t,s){return s in t||s in In}})):e.proxy}function Gm(e,t=!0){return Z(e)?e.displayName||e.name:e.name||t&&e.__name}function Jm(e){return Z(e)&&"__vccOpts"in e}const st=(e,t)=>Lg(e,t,Fn);function yu(e,t,s){const n=arguments.length;return n===2?Ee(t)&&!Q(t)?Lr(t)?rt(e,null,[t]):rt(e,t):rt(e,null,t):(n>3?s=Array.prototype.slice.call(arguments,2):n===3&&Lr(s)&&(s=[s]),rt(e,t,s))}const Xm="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ro;const La=typeof window<"u"&&window.trustedTypes;if(La)try{ro=La.createPolicy("vue",{createHTML:e=>e})}catch{}const vu=ro?e=>ro.createHTML(e):e=>e,Qm="http://www.w3.org/2000/svg",Ym="http://www.w3.org/1998/Math/MathML",jt=typeof document<"u"?document:null,ja=jt&&jt.createElement("template"),Zm={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,n)=>{const r=t==="svg"?jt.createElementNS(Qm,e):t==="mathml"?jt.createElementNS(Ym,e):s?jt.createElement(e,{is:s}):jt.createElement(e);return e==="select"&&n&&n.multiple!=null&&r.setAttribute("multiple",n.multiple),r},createText:e=>jt.createTextNode(e),createComment:e=>jt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>jt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,n,r,i){const o=s?s.previousSibling:t.lastChild;if(r&&(r===i||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),s),!(r===i||!(r=r.nextSibling)););else{ja.innerHTML=vu(n==="svg"?`<svg>${e}</svg>`:n==="mathml"?`<math>${e}</math>`:e);const a=ja.content;if(n==="svg"||n==="mathml"){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}t.insertBefore(a,s)}return[o?o.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},ew=Symbol("_vtc");function tw(e,t,s){const n=e[ew];n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const Na=Symbol("_vod"),sw=Symbol("_vsh"),nw=Symbol(""),rw=/(^|;)\s*display\s*:/;function iw(e,t,s){const n=e.style,r=Ce(s);let i=!1;if(s&&!r){if(t)if(Ce(t))for(const o of t.split(";")){const a=o.slice(0,o.indexOf(":")).trim();s[a]==null&&Sr(n,a,"")}else for(const o in t)s[o]==null&&Sr(n,o,"");for(const o in s)o==="display"&&(i=!0),Sr(n,o,s[o])}else if(r){if(t!==s){const o=n[nw];o&&(s+=";"+o),n.cssText=s,i=rw.test(s)}}else t&&e.removeAttribute("style");Na in e&&(e[Na]=i?n.display:"",e[sw]&&(n.display="none"))}const $a=/\s*!important$/;function Sr(e,t,s){if(Q(s))s.forEach(n=>Sr(e,t,n));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const n=ow(e,t);$a.test(s)?e.setProperty(Cs(n),s.replace($a,""),"important"):e[n]=s}}const Ma=["Webkit","Moz","ms"],Ti={};function ow(e,t){const s=Ti[t];if(s)return s;let n=dt(t);if(n!=="filter"&&n in e)return Ti[t]=n;n=Xr(n);for(let r=0;r<Ma.length;r++){const i=Ma[r]+n;if(i in e)return Ti[t]=i}return t}const Da="http://www.w3.org/1999/xlink";function Ha(e,t,s,n,r,i=cg(t)){n&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(Da,t.slice(6,t.length)):e.setAttributeNS(Da,t,s):s==null||i&&!bl(s)?e.removeAttribute(t):e.setAttribute(t,i?"":ss(s)?String(s):s)}function qa(e,t,s,n,r){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?vu(s):s);return}const i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?e.getAttribute("value")||"":e.value,c=s==null?e.type==="checkbox"?"on":"":String(s);(a!==c||!("_value"in e))&&(e.value=c),s==null&&e.removeAttribute(t),e._value=s;return}let o=!1;if(s===""||s==null){const a=typeof e[t];a==="boolean"?s=bl(s):s==null&&a==="string"?(s="",o=!0):a==="number"&&(s=0,o=!0)}try{e[t]=s}catch{}o&&e.removeAttribute(r||t)}function aw(e,t,s,n){e.addEventListener(t,s,n)}function cw(e,t,s,n){e.removeEventListener(t,s,n)}const Ba=Symbol("_vei");function lw(e,t,s,n,r=null){const i=e[Ba]||(e[Ba]={}),o=i[t];if(n&&o)o.value=n;else{const[a,c]=uw(t);if(n){const l=i[t]=hw(n,r);aw(e,a,l,c)}else o&&(cw(e,a,o,c),i[t]=void 0)}}const Fa=/(?:Once|Passive|Capture)$/;function uw(e){let t;if(Fa.test(e)){t={};let n;for(;n=e.match(Fa);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Cs(e.slice(2)),t]}let Ci=0;const dw=Promise.resolve(),fw=()=>Ci||(dw.then(()=>Ci=0),Ci=Date.now());function hw(e,t){const s=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=s.attached)return;kt(pw(n,s.value),t,5,[n])};return s.value=e,s.attached=fw(),s}function pw(e,t){if(Q(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(n=>r=>!r._stopped&&n&&n(r))}else return t}const Wa=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,gw=(e,t,s,n,r,i)=>{const o=r==="svg";t==="class"?tw(e,n,o):t==="style"?iw(e,s,n):Kr(t)?To(t)||lw(e,t,s,n,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):mw(e,t,n,o))?(qa(e,t,n),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Ha(e,t,n,o,i,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Ce(n))?qa(e,dt(t),n,i,t):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),Ha(e,t,n,o))};function mw(e,t,s,n){if(n)return!!(t==="innerHTML"||t==="textContent"||t in e&&Wa(t)&&Z(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const r=e.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return Wa(t)&&Ce(s)?!1:t in e}const ww=ke({patchProp:gw},Zm);let za;function _w(){return za||(za=bm(ww))}const bw=(...e)=>{const t=_w().createApp(...e),{mount:s}=t;return t.mount=n=>{const r=vw(n);if(!r)return;const i=t._component;!Z(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const o=s(r,!1,yw(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},t};function yw(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function vw(e){return Ce(e)?document.querySelector(e):e}const Sw=()=>{const e=mt("$authService");if(!e)throw new Error("AuthService is not provided");return e};var sr,Zs,Hr,Su;class Ew extends Xp{constructor(s,n){super(s);K(this,Hr);K(this,sr,[]);K(this,Zs);z(this,"isRenewingRef",ls());z(this,"isAuthenticatedRef",ls());z(this,"userProfileRef",ls());z(this,"userSessionRef",ls());z(this,"idTokenRef",ls());z(this,"idTokenDecodedRef",st(()=>this.idTokenRef.value?xe.decodeJwt(this.idTokenRef.value):void 0));z(this,"accessTokenRef",ls());z(this,"accessTokenDecodedRef",st(()=>this.accessTokenRef.value?xe.decodeJwt(this.accessTokenRef.value):void 0));ie(this,Zs,n),B(this,Hr,Su).call(this)}destroy(){S(this,sr).forEach(s=>{s.unsubscribe()})}}sr=new WeakMap,Zs=new WeakMap,Hr=new WeakSet,Su=function(){S(this,sr).push(this.manager.onIdTokenChanged(s=>{this.idTokenRef.value=s}),this.manager.onAccessTokenChanged(s=>{this.accessTokenRef.value=s}),this.manager.onUserProfileChanged(s=>{this.userProfileRef.value=s}),this.manager.onUserSessionChanged(s=>{this.userSessionRef.value=s}),this.manager.onAuthenticatedChanged(s=>{this.isAuthenticatedRef.value=s}),this.manager.onRenewingChanged(s=>{this.isRenewingRef.value=s}),this.manager.onRedirect(s=>{const n=s.href.replace(xe.getBaseUrl(),"");S(this,Zs).isReady().then(()=>S(this,Zs).push(n))}))};const xw=async(e,t)=>Sw().runGuard(e,t),Rw=async e=>{const t=await Jp(e);return{install:(s,{router:n})=>{const r=new Ew(t,n);s.provide("$authService",r),s.config.globalProperties.$authService=r,n.beforeEach(async i=>i.meta.authGuard?await xw(i.fullPath,typeof i.meta.authGuard=="object"?i.meta.authGuard:void 0):!0)}}};/**
 * @license GPL-3.0-only
 * Package @badisi/auth-vue <https://github.com/Badisi/auth-js/tree/main/libs/auth-vue>
 * Released under GNU General Public License v3.0 only <https://github.com/Badisi/auth-js/blob/main/LICENSE>
 * SPDX-License-Identifier: GPL-3.0-only
 * Copyright (C) 2018 Badisi
 */ut.init("@badisi/auth-vue");/*! Capacitor: https://capacitorjs.com/ - MIT License */const Tw=e=>{const t=new Map;t.set("web",{name:"web"});const s=e.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:t},n=(i,o)=>{s.platforms.set(i,o)},r=i=>{s.platforms.has(i)&&(s.currentPlatform=s.platforms.get(i))};return s.addPlatform=n,s.setPlatform=r,s},Cw=e=>e.CapacitorPlatforms=Tw(e),Eu=Cw(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});Eu.addPlatform;Eu.setPlatform;var nn;(function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"})(nn||(nn={}));class Pi extends Error{constructor(t,s,n){super(t),this.message=t,this.code=s,this.data=n}}const Pw=e=>{var t,s;return e!=null&&e.androidBridge?"android":!((s=(t=e==null?void 0:e.webkit)===null||t===void 0?void 0:t.messageHandlers)===null||s===void 0)&&s.bridge?"ios":"web"},kw=e=>{var t,s,n,r,i;const o=e.CapacitorCustomPlatform||null,a=e.Capacitor||{},c=a.Plugins=a.Plugins||{},l=e.CapacitorPlatforms,u=()=>o!==null?o.name:Pw(e),d=((t=l==null?void 0:l.currentPlatform)===null||t===void 0?void 0:t.getPlatform)||u,h=()=>d()!=="web",g=((s=l==null?void 0:l.currentPlatform)===null||s===void 0?void 0:s.isNativePlatform)||h,w=U=>{const q=x.get(U);return!!(q!=null&&q.platforms.has(d())||C(U))},_=((n=l==null?void 0:l.currentPlatform)===null||n===void 0?void 0:n.isPluginAvailable)||w,v=U=>{var q;return(q=a.PluginHeaders)===null||q===void 0?void 0:q.find(I=>I.name===U)},C=((r=l==null?void 0:l.currentPlatform)===null||r===void 0?void 0:r.getPluginHeader)||v,m=U=>e.console.error(U),b=(U,q,I)=>Promise.reject(`${I} does not have an implementation of "${q}".`),x=new Map,O=(U,q={})=>{const I=x.get(U);if(I)return console.warn(`Capacitor plugin "${U}" already registered. Cannot register plugins twice.`),I.proxy;const se=d(),ne=C(U);let le;const ye=async()=>(!le&&se in q?le=typeof q[se]=="function"?le=await q[se]():le=q[se]:o!==null&&!le&&"web"in q&&(le=typeof q.web=="function"?le=await q.web():le=q.web),le),Ve=(he,pe)=>{var ge,Ae;if(ne){const Be=ne==null?void 0:ne.methods.find($e=>pe===$e.name);if(Be)return Be.rtype==="promise"?$e=>a.nativePromise(U,pe.toString(),$e):($e,Ie)=>a.nativeCallback(U,pe.toString(),$e,Ie);if(he)return(ge=he[pe])===null||ge===void 0?void 0:ge.bind(he)}else{if(he)return(Ae=he[pe])===null||Ae===void 0?void 0:Ae.bind(he);throw new Pi(`"${U}" plugin is not implemented on ${se}`,nn.Unimplemented)}},Oe=he=>{let pe;const ge=(...Ae)=>{const Be=ye().then($e=>{const Ie=Ve($e,he);if(Ie){const R=Ie(...Ae);return pe=R==null?void 0:R.remove,R}else throw new Pi(`"${U}.${he}()" is not implemented on ${se}`,nn.Unimplemented)});return he==="addListener"&&(Be.remove=async()=>pe()),Be};return ge.toString=()=>`${he.toString()}() { [capacitor code] }`,Object.defineProperty(ge,"name",{value:he,writable:!1,configurable:!1}),ge},fe=Oe("addListener"),ee=Oe("removeListener"),te=(he,pe)=>{const ge=fe({eventName:he},pe),Ae=async()=>{const $e=await ge;ee({eventName:he,callbackId:$e},pe)},Be=new Promise($e=>ge.then(()=>$e({remove:Ae})));return Be.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await Ae()},Be},Ne=new Proxy({},{get(he,pe){switch(pe){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return ne?te:fe;case"removeListener":return ee;default:return Oe(pe)}}});return c[U]=Ne,x.set(U,{name:U,proxy:Ne,platforms:new Set([...Object.keys(q),...ne?[se]:[]])}),Ne},D=((i=l==null?void 0:l.currentPlatform)===null||i===void 0?void 0:i.registerPlugin)||O;return a.convertFileSrc||(a.convertFileSrc=U=>U),a.getPlatform=d,a.handleError=m,a.isNativePlatform=g,a.isPluginAvailable=_,a.pluginMethodNoop=b,a.registerPlugin=D,a.Exception=Pi,a.DEBUG=!!a.DEBUG,a.isLoggingEnabled=!!a.isLoggingEnabled,a.platform=a.getPlatform(),a.isNative=a.isNativePlatform(),a},Ow=e=>e.Capacitor=kw(e),Nr=Ow(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),xu=Nr.registerPlugin;Nr.Plugins;class Ru{constructor(t){this.listeners={},this.windowListeners={},t&&(console.warn(`Capacitor WebPlugin "${t.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=t)}addListener(t,s){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(s);const r=this.windowListeners[t];r&&!r.registered&&this.addWindowListener(r);const i=async()=>this.removeListener(t,s),o=Promise.resolve({remove:i});return Object.defineProperty(o,"remove",{value:async()=>{console.warn("Using addListener() without 'await' is deprecated."),await i()}}),o}async removeAllListeners(){this.listeners={};for(const t in this.windowListeners)this.removeWindowListener(this.windowListeners[t]);this.windowListeners={}}notifyListeners(t,s){const n=this.listeners[t];n&&n.forEach(r=>r(s))}hasListeners(t){return!!this.listeners[t].length}registerWindowListener(t,s){this.windowListeners[s]={registered:!1,windowEventName:t,pluginEventName:s,handler:n=>{this.notifyListeners(s,n)}}}unimplemented(t="not implemented"){return new Nr.Exception(t,nn.Unimplemented)}unavailable(t="not available"){return new Nr.Exception(t,nn.Unavailable)}async removeListener(t,s){const n=this.listeners[t];if(!n)return;const r=n.indexOf(s);this.listeners[t].splice(r,1),this.listeners[t].length||this.removeWindowListener(this.windowListeners[t])}addWindowListener(t){window.addEventListener(t.windowEventName,t.handler),t.registered=!0}removeWindowListener(t){t&&(window.removeEventListener(t.windowEventName,t.handler),t.registered=!1)}}const Va=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),Ka=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class Aw extends Ru{async getCookies(){const t=document.cookie,s={};return t.split(";").forEach(n=>{if(n.length<=0)return;let[r,i]=n.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");r=Ka(r).trim(),i=Ka(i).trim(),s[r]=i}),s}async setCookie(t){try{const s=Va(t.key),n=Va(t.value),r=`; expires=${(t.expires||"").replace("expires=","")}`,i=(t.path||"/").replace("path=",""),o=t.url!=null&&t.url.length>0?`domain=${t.url}`:"";document.cookie=`${s}=${n||""}${r}; path=${i}; ${o};`}catch(s){return Promise.reject(s)}}async deleteCookie(t){try{document.cookie=`${t.key}=; Max-Age=0`}catch(s){return Promise.reject(s)}}async clearCookies(){try{const t=document.cookie.split(";")||[];for(const s of t)document.cookie=s.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(t){return Promise.reject(t)}}async clearAllCookies(){try{await this.clearCookies()}catch(t){return Promise.reject(t)}}}xu("CapacitorCookies",{web:()=>new Aw});const Iw=async e=>new Promise((t,s)=>{const n=new FileReader;n.onload=()=>{const r=n.result;t(r.indexOf(",")>=0?r.split(",")[1]:r)},n.onerror=r=>s(r),n.readAsDataURL(e)}),Uw=(e={})=>{const t=Object.keys(e);return Object.keys(e).map(r=>r.toLocaleLowerCase()).reduce((r,i,o)=>(r[i]=e[t[o]],r),{})},Lw=(e,t=!0)=>e?Object.entries(e).reduce((n,r)=>{const[i,o]=r;let a,c;return Array.isArray(o)?(c="",o.forEach(l=>{a=t?encodeURIComponent(l):l,c+=`${i}=${a}&`}),c.slice(0,-1)):(a=t?encodeURIComponent(o):o,c=`${i}=${a}`),`${n}&${c}`},"").substr(1):null,jw=(e,t={})=>{const s=Object.assign({method:e.method||"GET",headers:e.headers},t),r=Uw(e.headers)["content-type"]||"";if(typeof e.data=="string")s.body=e.data;else if(r.includes("application/x-www-form-urlencoded")){const i=new URLSearchParams;for(const[o,a]of Object.entries(e.data||{}))i.set(o,a);s.body=i.toString()}else if(r.includes("multipart/form-data")||e.data instanceof FormData){const i=new FormData;if(e.data instanceof FormData)e.data.forEach((a,c)=>{i.append(c,a)});else for(const a of Object.keys(e.data))i.append(a,e.data[a]);s.body=i;const o=new Headers(s.headers);o.delete("content-type"),s.headers=o}else(r.includes("application/json")||typeof e.data=="object")&&(s.body=JSON.stringify(e.data));return s};class Nw extends Ru{async request(t){const s=jw(t,t.webFetchExtra),n=Lw(t.params,t.shouldEncodeUrlParams),r=n?`${t.url}?${n}`:t.url,i=await fetch(r,s),o=i.headers.get("content-type")||"";let{responseType:a="text"}=i.ok?t:{};o.includes("application/json")&&(a="json");let c,l;switch(a){case"arraybuffer":case"blob":l=await i.blob(),c=await Iw(l);break;case"json":c=await i.json();break;case"document":case"text":default:c=await i.text()}const u={};return i.headers.forEach((d,h)=>{u[h]=d}),{data:c,headers:u,status:i.status,url:i.url}}async get(t){return this.request(Object.assign(Object.assign({},t),{method:"GET"}))}async post(t){return this.request(Object.assign(Object.assign({},t),{method:"POST"}))}async put(t){return this.request(Object.assign(Object.assign({},t),{method:"PUT"}))}async patch(t){return this.request(Object.assign(Object.assign({},t),{method:"PATCH"}))}async delete(t){return this.request(Object.assign(Object.assign({},t),{method:"DELETE"}))}}xu("CapacitorHttp",{web:()=>new Nw});const Rn=(e,t=[])=>{const s=/^( *)("[\w-]+": )?("[^"]*"|[\w.+-]*)?([,[{])?$/mg,n=(r,i,o,a,c)=>{let l=i||"";const u=o?o.replace(/[": ]/g,""):void 0;if(u&&(l+=`<span class="json-key">${u}</span>: `),a&&(l+=`<span class="${a.startsWith('"')?"json-string":"json-value"}">${a}</span>`,u&&t.includes(u))){const d=new Date(Number(a)*1e3),h=`${d.toDateString()}, ${d.toLocaleTimeString()}`;h&&(l+=` <span class="json-date">(${h})</span>`)}return l+(c||"")};return e?JSON.stringify(e,null,2).replace(/&/g,"&amp;").replace(/\\"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(s,n):""},$w=()=>(e,t)=>{var a,c;const{otherSettings:s,librarySettings:n}=window.appSettings.getCurrentSettings(),r=s?(s.roles??"").split(","):[];let i;if(n.authorityUrl.includes("auth0"))i=t["http://ngx-auth.com/roles"];else if(n.authorityUrl.includes("zitadel")){const l=t["urn:zitadel:iam:org:project:roles"];i=Object.keys(l??{})}else i=(c=(a=t==null?void 0:t.resource_access)==null?void 0:a.account)==null?void 0:c.roles;return r.every(l=>(i??[]).includes(l))?!0:"forbidden"},cr=`
    .flex {
        flex: 1;
    }

    .hidden {
        display: none !important;
    }

    .row {
        display: flex;
        flex-direction: row;
    }

    .column {
        display: flex;
        flex-direction: column;
    }

    .card {
        border: 1px solid rgba(0, 0, 0, 0.12);
        border-radius: 4px;
        background-color: white;
        margin: 12px 6px;
    }

    .card .card-status {
        display: block;
        width: 10px;
        height: 10px;
        border-radius: 50%;
        margin-left: 8px;
        background-color: #f2f2f2;
    }
    .card .card-status.error {
        background-color: #ef5350;
    }
    .card .card-status.success {
        background-color: #66bb6a;
    }

    .card .card-title {
        padding: 16px;
        font-size: 20px;
        font-weight: 500;
        color: rgba(0, 0, 0, 0.87);
        align-items: center;
    }

    .card .box {
        height: 200px;
        border-top: 1px solid lightgray;
        word-break: break-all;
        overflow: auto;
        background-color: #f2f2f2;
        padding: 12px;
    }
    .card .box pre {
        margin: 0;
    }

    .card .card-actions {
        padding: 0 14px 8px 14px;
        min-height: 50px;
    }
    .card .card-actions .input {
        display: flex;
        align-items: center;
    }
    .card .card-actions .input:not(:last-child) {
        margin-bottom: 8px;
    }
    .card .card-actions .input label {
        width: 125px;
        text-align: right;
        margin-right: 14px;
    }
    .card .card-actions .input input {
        padding: 4px;
    }

    .json-key {
        color: rgb(124, 77, 255);
    }

    .json-value {
        color: rgb(67, 122, 237);
    }

    .json-string {
        color: rgb(83, 160, 83);
    }

    .json-date {
        color: rgb(200, 56, 198);
    }

    input {
        color: #5e35b1;
        padding: 10px;
        border: 1px solid #0000001f;
        border-radius: 4px;
        font-size: 14px;
    }

    input:invalid {
        border-color: #f44336;
    }

    input[type="checkbox"] {
        margin-right: 10px;
    }

    select {
        color: #5e35b1;
        padding: 8px 6px;
        border: 1px solid #0000001f;
        border-radius: 4px;
    }

    button {
        cursor: pointer;
    }

    @media only screen and (max-width: 600px) {
        :host {
            padding: 0 !important;
            padding-bottom: 24px !important;
        }

        :host .card {
            border-left: 0;
            border-right: 0;
            border-radius: 0;
            margin: 0;
            margin-bottom: 6px;
        }
    }
`,Tu=document.createElement("template");Tu.innerHTML=`
    <style>
        ${cr}

        :host {
            display: flex;
            flex: 1;
            flex-direction: column;
            padding: 20px 28px;
        }

        :host .info {
            margin: 16px;
        }

        :host .info .title {
            min-width: 130px;
        }

        :host .info .value {
            overflow-x: auto;
            white-space: pre-wrap;
            word-wrap: break-word;
        }

        :host .info code {
            width: 100%;
        }
    </style>

    <div class="card">
        <div class="info column">
            <div class="title">Authenticated</div>
            <code>
                <pre id="isAuthenticated" class="value json-value"></pre>
            </code>
        </div>

        <div class="info column">
            <div class="title">User session</div>
            <code>
                <pre id="userSession" class="value"></pre>
            </code>
        </div>

        <div class="info column">
            <div class="title">Access token</div>
            <code>
                <pre id="accessToken" class="value json-value"></pre>
                <pre id="accessTokenDecoded" class="value"></pre>
            </code>
        </div>

        <div class="info column">
            <div class="title">Id token</div>
            <code>
                <pre id="idToken" class="value json-value"></pre>
                <pre id="idTokenDecoded" class="value"></pre>
            </code>
        </div>

        <div class="info column">
            <div class="title">User profile</div>
            <code>
                <pre id="userProfile" class="value"></pre>
            </code>
        </div>
    </div>
`;class Mw extends HTMLElement{constructor(){var t;super(),this.attachShadow({mode:"open"}),(t=this.shadowRoot)==null||t.appendChild(document.importNode(Tu.content,!0)),this.isAuthenticated=!1,this.userSession=void 0,this.accessToken=void 0,this.accessTokenDecoded=void 0,this.idToken=void 0,this.idTokenDecoded=void 0,this.userProfile=void 0}set isAuthenticated(t){t!==null&&this.update("#isAuthenticated",typeof t=="boolean"?String(t):t)}set userSession(t){this.update("#userSession",Rn(t,["expires_at"]))}set accessToken(t){this.update("#accessToken",t)}set accessTokenDecoded(t){const s=typeof t!="string"?Rn(t,["exp","iat","auth_time"]):"(no decoded info as it is not a JWT token)";this.update("#accessTokenDecoded",s)}set idToken(t){this.update("#idToken",t)}set idTokenDecoded(t){this.update("#idTokenDecoded",Rn(t,["exp","iat","auth_time"]))}set userProfile(t){this.update("#userProfile",Rn(t))}connectedCallback(){}disconnectedCallback(){}update(t,s){var r,i,o;const n=(r=this.shadowRoot)==null?void 0:r.querySelector(t);n&&(s==null||s===""?(i=n.closest(".info"))==null||i.classList.add("hidden"):((o=n.closest(".info"))==null||o.classList.remove("hidden"),n.innerHTML=s))}}window.customElements.define("demo-app-debug",Mw);const Cu=document.createElement("template");Cu.innerHTML=`
    <style>
        ${cr}

        :host header {
            z-index: 1;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            padding: calc(8px + var(--safe-area-inset-top)) 16px 30px 16px;
            align-items: center;
            justify-content: space-between;
            height: 142px;
            color: white;
            background: rgb(103, 58, 183);
            background: linear-gradient(180deg, rgba(103, 58, 183, 1) 0%, rgba(94, 53, 177, 1) 100%);
        }

        :host header .row {
            align-items: center;
        }

        :host header .row.top {
            width: 100%;
            gap: 14px;
        }

        :host header .row.select {
            font-size: 1.4em;
            color: #ede7f6;
            padding-bottom: 4px;
        }

        :host header h1 {
            font-size: 18px;
            font-weight: 200;
            letter-spacing: 1px;
            color: #ede7f6;
            margin: 0;
            text-transform: uppercase;
        }

        :host header a.doc {
            padding: 4px 16px;
            font-size: 16px;
            color: white;
            text-decoration: none;
        }

        :host header a.github-icon {
            right: 34px;
            width: 26px;
            height: 26px;
            color: white;
            text-decoration: none;
        }

        @keyframes statusLoadingAnimation {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        :host header .status.loading {
            background: none !important;
        }

        :host header .status.loading:after {
            display: block;
            content: " ";
            width: 11px;
            height: 11px;
            border-radius: 50%;
            border: 2px solid #fff;
            border-color: #fff transparent #fff transparent;
            animation: statusLoadingAnimation 1.2s linear infinite;
        }

        :host header .status.not-authenticated {
            background-color: #EC407A;
        }

        :host header .status.authenticated {
            background-color: #7CB342;
        }

        :host header .status {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            margin-top: 1px;
            margin-right: 8px;
        }

        :host header .title {
            display: flex;
            align-items: center;
            cursor: pointer;
            font-size: 18px;
            font-weight: bold;
            color: white;
            text-decoration: none;
        }

        :host header .title .icon {
            font-size: 22px;
            margin-right: 0.5rem;
        }

        :host header select {
            cursor: pointer;
            text-align: center;
            font-size: 1.1em;
            font-weight: bold;
            color: #ede7f6;
            background: none;
            border: none;
            outline: none;
            padding-top: 0;
            padding-bottom: 0;
        }

        :host header button {
            margin-top: 2px;
        }

        :host header button:not(:last-child) {
            margin-right: 10px;
        }

        :host header .content {
            align-items: center;
            gap: 10px;
        }

        @media only screen and (max-width: 1000px) {
            :host header {
                padding-bottom: 24px;
                height: 148px;
            }

            :host header .row.select {
                font-size: 1.1em;
            }

            :host header a.doc {
                padding-right: 6px;
            }

            :host header .content {
                gap: 8px;
            }
        }
    </style>

    <header class="column">
        <div class="row top" style="height: 44px;">
            <a class="title"
                href="https://badisi.github.io/auth-js/"
                target="_self">
                <span class="icon"></span>Auth-js
            </a>

            <div class="status loading"></div>

            <span style="flex: 1"></span>

            <a class="doc"
                href="https://badisi.github.io/auth-js/getting-started/playground"
                target="_self">
                <span>
                    Documentation
                    <svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24">
                        <path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path>
                    </svg>
                </span>
            </a>

            <a class="github-icon"
                href="https://github.com/Badisi/auth-js"
                target="_self"
                title="View it on GitHub"
                aria-label="GitHub repository">
                <span>
                    <svg viewBox="0 0 24 24"
                        xmlns="http://www.w3.org/2000/svg">
                        <path fill="currentColor"
                            d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12">
                        </path>
                    </svg>
                </span>
            </a>
        </div>

        <div class="column content">
            <h1>Playground</h1>

            <div class="row select">
                <span>&#123;<select id="implementation-select"></select> &nbsp;&#125;</span>
                &nbsp;&nbsp;
                <span>&#123;<select id="setting-select"></select> &nbsp;&#125;</span>
            </div>

            <div class="row">
                <button id="login-button">LOGIN</button>
                <button id="logout-button">LOGOUT</button>
                <button id="silent-renew-button">SILENT RENEW</button>
            </div>
        </div>
    </header>
`;class Dw extends HTMLElement{constructor(){var s,n,r,i,o,a,c;super();z(this,"listeners",[]);z(this,"implSelectEl");z(this,"settingsSelectEl");z(this,"statusEl");z(this,"loginButtonEl");z(this,"logoutButtonEl");z(this,"silentRenewButtonEl");this.attachShadow({mode:"open"}),(s=this.shadowRoot)==null||s.appendChild(document.importNode(Cu.content,!0)),this.implSelectEl=(n=this.shadowRoot)==null?void 0:n.querySelector("#implementation-select"),this.settingsSelectEl=(r=this.shadowRoot)==null?void 0:r.querySelector("#setting-select"),this.statusEl=(i=this.shadowRoot)==null?void 0:i.querySelector(".status"),this.loginButtonEl=(o=this.shadowRoot)==null?void 0:o.querySelector("#login-button"),this.logoutButtonEl=(a=this.shadowRoot)==null?void 0:a.querySelector("#logout-button"),this.silentRenewButtonEl=(c=this.shadowRoot)==null?void 0:c.querySelector("#silent-renew-button")}set isRenewing(s){this.statusEl&&this.statusEl.classList[s?"add":"remove"]("loading")}set isAuthenticated(s){this.statusEl&&s!==null&&s!==void 0&&(this.statusEl.classList.remove("loading"),this.statusEl.title=s?"Authenticated":"Not authenticated",this.statusEl.classList[s?"add":"remove"]("authenticated"),this.statusEl.classList[s?"remove":"add"]("not-authenticated"))}connectedCallback(){var n,r;if(window.location.href.includes(":4200")){const i=document.createElement("option");i.textContent="localhost",(n=this.implSelectEl)==null||n.appendChild(i)}else{window.appSettings.getLibraryImplementations().forEach(o=>{var c;const a=document.createElement("option");a.value=String(o.label),a.textContent=o.label,(c=this.implSelectEl)==null||c.appendChild(a)});const i=()=>{var a;const o=(a=this.implSelectEl)==null?void 0:a.selectedIndex;o!==void 0&&(window.location.href=window.appSettings.getLibraryImplementations()[o].demoUrl)};(r=this.implSelectEl)==null||r.addEventListener("change",i),this.listeners.push(()=>{var o;(o=this.implSelectEl)==null||o.removeEventListener("change",i)})}window.appSettings.getSettings().forEach(i=>{var a;const o=document.createElement("option");o.value=String(i.name),o.textContent=i.name,(a=this.settingsSelectEl)==null||a.appendChild(o)}),this.refreshImplementation(),this.refreshSettings(),this.addEventListeners();const s=i=>{const o=document.createElement("option");o.innerHTML=i.options[i.selectedIndex].innerHTML;const a=document.createElement("select");a.style.visibility="hidden",a.style.position="absolute",a.style.font=window.getComputedStyle(i).font,a.style.padding=window.getComputedStyle(i).padding,a.appendChild(o),document.body.appendChild(a),i.style.width=`${String(a.getBoundingClientRect().width)}px`,a.remove()};this.implSelectEl&&s(this.implSelectEl),this.settingsSelectEl&&s(this.settingsSelectEl)}disconnectedCallback(){this.listeners.forEach(s=>{s()})}addEventListeners(){var o,a,c,l;const s=()=>{this.settingsSelectEl&&(window.appSettings.setCurrentSettingsIndex(this.settingsSelectEl.selectedIndex),location.reload())};(o=this.settingsSelectEl)==null||o.addEventListener("change",s);const n=()=>this.dispatchEvent(new Event("login",{bubbles:!0,composed:!0}));(a=this.loginButtonEl)==null||a.addEventListener("click",n);const r=()=>this.dispatchEvent(new Event("logout",{bubbles:!0,composed:!0}));(c=this.logoutButtonEl)==null||c.addEventListener("click",r);const i=()=>this.dispatchEvent(new Event("silentRenew",{bubbles:!0,composed:!0}));(l=this.silentRenewButtonEl)==null||l.addEventListener("click",i),this.listeners.push(()=>{var u;(u=this.settingsSelectEl)==null||u.removeEventListener("change",s)},()=>{var u;(u=this.loginButtonEl)==null||u.removeEventListener("click",n)},()=>{var u;(u=this.logoutButtonEl)==null||u.removeEventListener("click",r)},()=>{var u;(u=this.silentRenewButtonEl)==null||u.removeEventListener("click",i)})}refreshImplementation(){const s=window.appSettings.getLibraryImplementations();if(window.location.href.includes(":4200"))this.implSelectEl&&(this.implSelectEl.selectedIndex=0);else{const n=s.findIndex(r=>window.location.href.includes(r.demoUrl));this.implSelectEl&&(this.implSelectEl.selectedIndex=n!==-1?n:0)}}refreshSettings(){this.settingsSelectEl&&(this.settingsSelectEl.selectedIndex=window.appSettings.get().currentSettingsIndex)}}window.customElements.define("demo-app-header",Dw);const Pu=document.createElement("template");Pu.innerHTML=`
    <style>
        ${cr}

        :host .tabs {
            position: fixed;
            top: calc(180px + var(--safe-area-inset-top));
            left: 0;
            right: 0;
            z-index: 1;
            align-self: normal;
            padding: 10px 0;
            padding-left: 36px;
            background-color: #7043bf;
            box-shadow: 0 3px 5px -1px #0003, 0 6px 10px #00000024, 0 1px 18px #0000001f;
        }

        :host .tabs a {
            cursor: pointer;
            color: white;
            padding: 8px 16px;
            border-radius: 4px;
            transition: background-color 150ms cubic-bezier(0.35, 0, 0.25, 1);
        }

        :host .tabs a.selected {
            background-color: #512da8;
        }

        :host .tabs a:hover {
            background-color: #4527a0;
        }

        :host .tabs a:not(:last-child) {
            margin-right: 10px;
        }

        :host .tabs-content {
            position: fixed;
            top: calc(180px + 55px + var(--safe-area-inset-top));
            left: 0;
            right: 0;
            bottom: calc(0px + var(--safe-area-inset-bottom));
            overflow: auto;
        }

        @media only screen and (max-width: 600px) {
            :host .tabs {
                padding-left: 0;
                justify-content: center;
            }
        }
    </style>

    <demo-app-header></demo-app-header>
    <nav id="tabs" class="tabs row"></nav>
    <div class="tabs-content">
        <slot id="views"></slot>
    </div>
`;class Hw extends HTMLElement{constructor(){var s,n,r;super();z(this,"listeners",[]);z(this,"tabsContentEl");z(this,"demoAppHeaderEl");z(this,"tabs",[]);z(this,"views",[]);z(this,"currentTabIndex",-1);this.attachShadow({mode:"open"}),(s=this.shadowRoot)==null||s.appendChild(document.importNode(Pu.content,!0)),this.tabsContentEl=(n=this.shadowRoot)==null?void 0:n.querySelector(".tabs-content"),this.demoAppHeaderEl=(r=this.shadowRoot)==null?void 0:r.querySelector("demo-app-header")}set isRenewing(s){this.demoAppHeaderEl&&(this.demoAppHeaderEl.isRenewing=s)}set isAuthenticated(s){this.demoAppHeaderEl&&(this.demoAppHeaderEl.isAuthenticated=s)}connectedCallback(){this.drawTabs(),this.showView(window.appSettings.get().currentTabIndex)}disconnectedCallback(){this.listeners.forEach(s=>{s()})}drawTabs(){var r,i;const s=(r=this.shadowRoot)==null?void 0:r.querySelector("#views"),n=(i=this.shadowRoot)==null?void 0:i.querySelector("#tabs");s&&n&&(this.views=s.assignedElements(),this.views.forEach((o,a)=>{o.style.display="none";const c=document.createElement("a");c.id=`${(o.getAttribute("tabLabel")??"?").toLowerCase()}-button`,c.textContent=o.getAttribute("tabLabel")??"?";const l=()=>{this.showView(a)};c.addEventListener("click",l),this.listeners.push(()=>{c.removeEventListener("click",l)}),n.appendChild(c),this.tabs.push(c)}))}showView(s){var n;this.currentTabIndex!==s&&(this.currentTabIndex=s,this.tabs.forEach((r,i)=>{r.classList[i!==s?"remove":"add"]("selected")}),this.views.forEach((r,i)=>{r.style.display=i!==s?"none":"flex"}),(n=this.tabsContentEl)==null||n.scrollTo(0,0),window.appSettings.setCurrentTabIndex(s))}}window.customElements.define("demo-app-main",Hw);const ku=document.createElement("template");ku.innerHTML=`
    <style>
        ${cr}

        :host {
            display: flex;
            flex: 1;
            flex-direction: column;
            padding: 20px 28px;
        }

        :host .card.apis input {
            width: 100%; /* fix for android-chrome */
        }

        :host .card.apis .card-actions {
            padding-bottom: 16px;
        }

        :host .card.apis .card-actions button {
            margin-left: 14px;
        }

        :host .card.routes {
            margin-top: 20px;
        }

        :host .card.routes .route {
            display: flex;
            align-items: center;
        }

        :host .card.routes .route.query-params {
            margin: 0 0 10px 10px;
        }

        :host .card.routes .route.query-params .info {
            display: flex;
            flex-direction: row;
        }

        :host .card.routes .route.query-params .info .text {
            font-size: 16px;
            color: black;
            margin-right: 12px;
        }

        :host .card.routes .route.query-params .info input {
            width: 500px;
        }

        :host .card.routes .route button {
            padding: 2px 10px;
            min-width: 104px;
            margin: 8px 12px 8px 8px;
        }

        :host .card.routes .route input {
            margin: 0 2px;
            padding: 4px;
        }

        :host .card.routes .route .info {
            padding-bottom: 2px;
            font-size: 14px;
            line-height: 22px;
            text-align: left;
            color: #0000008a;
        }

        :host .card.routes .box {
            height: 100px;
        }

        @media only screen and (max-width: 600px) {
            :host .card.apis .card-actions {
                flex-direction: column;
                margin-left: 3px;
            }
            :host .card.apis .card-actions button {
                margin-top: 12px;
                margin-left: 0;
                padding: 2px 10px;
                min-width: 104px;
                align-self: flex-start;
            }
            :host .card.apis .input label {
                text-align: left;
            }
            :host .card.apis .input {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }
            :host .card.apis input {
                width: inherit;
                align-self: normal;
            }

            :host .card.routes {
                margin-top: 12px;
            }
            :host .card.routes .route {
                margin-left: 3px !important;
            }
            :host .card.routes .route.query-params .info {
                display: flex;
                flex-direction: column;
                flex: 1;
                gap: 8px;
            }
            :host .card.routes .route.query-params .info input {
                margin: 0;
                width: inherit;
                align-self: normal;
            }
            :host .card.routes .route #roles-input {
                width: 90%;
            }
            :host .card.routes .route button {
                margin-left: 3px;
            }
        }
    </style>

    <div class="card apis">
        <div class="card-title row">
            APIs access
            <div id="api-status" class="card-status"></div>
        </div>
        <div class="card-actions row">
            <div class="column flex">
                <div class="input row">
                    <label for="api-url-input">Url</label>
                    <input id="api-url-input" class="flex" />
                </div>
                <div class="input row">
                    <label for="api-headers-input">Custom headers</label>
                    <input id="api-headers-input" class="flex" placeholder='ex: name1:one, name2=two' />
                </div>
            </div>
            <button id="api-get-button">GET</button>
        </div>
        <div class="box">
            <code>
                <pre id="api-response"></pre>
            </code>
        </div>
    </div>

    <div class="card routes">
        <div class="card-title">
            Guards access
        </div>
        <div class="card-actions column">
            <div class="route query-params">
                <div class="info">
                    <div class="text">Query params</div>
                    <input
                        id="guards-query-params-input"
                        placeholder="ex: param1=one&param2=two" />
                </div>
            </div>
            <div class="route">
                <button id="guards-home-button">HOME</button>
                <div class="info">Home page</div>
            </div>
            <div class="route">
                <button id="guards-public-button">PUBLIC</button>
                <div class="info">Public content (no login required)</div>
            </div>
            <div class="route">
                <button id="guards-private-button">PRIVATE</button>
                <div class="info">Private content (login required)</div>
            </div>
            <div class="route">
                <button id="guards-protected-button">PROTECTED</button>
                <div class="info">
                    Protected content (login required + role(s):<input id="guards-roles-input" />)
                </div>
            </div>
        </div>
        <div class="box">
            <slot id="cards"></slot>
        </div>
    </div>
`;class qw extends HTMLElement{constructor(){var s,n,r,i,o,a,c,l,u,d,h,g;super();z(this,"listeners",[]);z(this,"apiStatusEl");z(this,"apiResponseEl");z(this,"apiUrlEl");z(this,"apiHeadersEl");z(this,"apiBtnEl");z(this,"guardsHomeBtnEl");z(this,"guardsPublicBtnEl");z(this,"guardsPrivateBtnEl");z(this,"guardsProtectedBtnEl");z(this,"guardsQueryParamsEl");z(this,"guardsRolesEl");this.attachShadow({mode:"open"}),(s=this.shadowRoot)==null||s.appendChild(document.importNode(ku.content,!0)),this.apiStatusEl=(n=this.shadowRoot)==null?void 0:n.querySelector("#api-status"),this.apiResponseEl=(r=this.shadowRoot)==null?void 0:r.querySelector("#api-response"),this.apiUrlEl=(i=this.shadowRoot)==null?void 0:i.querySelector("#api-url-input"),this.apiHeadersEl=(o=this.shadowRoot)==null?void 0:o.querySelector("#api-headers-input"),this.apiBtnEl=(a=this.shadowRoot)==null?void 0:a.querySelector("#api-get-button"),this.guardsHomeBtnEl=(c=this.shadowRoot)==null?void 0:c.querySelector("#guards-home-button"),this.guardsPublicBtnEl=(l=this.shadowRoot)==null?void 0:l.querySelector("#guards-public-button"),this.guardsPrivateBtnEl=(u=this.shadowRoot)==null?void 0:u.querySelector("#guards-private-button"),this.guardsProtectedBtnEl=(d=this.shadowRoot)==null?void 0:d.querySelector("#guards-protected-button"),this.guardsQueryParamsEl=(h=this.shadowRoot)==null?void 0:h.querySelector("#guards-query-params-input"),this.guardsRolesEl=(g=this.shadowRoot)==null?void 0:g.querySelector("#guards-roles-input")}connectedCallback(){var g,w,_,v,C,m,b,x,O,D,U,q;const s=I=>{var se,ne;if("key"in I&&I.key!=="Enter")return!0;{const le=(se=this.apiHeadersEl)==null?void 0:se.value.split(",").reduce((Ve,Oe)=>{var fe,ee,te,Ne;if(Oe){const he=/^"?([^"]*)"?$/,pe=Oe.split(":"),ge=((ee=he.exec((fe=pe[0])==null?void 0:fe.trim()))==null?void 0:ee[1])??"",Ae=((Ne=he.exec((te=pe[1])==null?void 0:te.trim()))==null?void 0:Ne[1])??"";ge&&(Ve[ge]=Ae)}return Ve},{}),ye=new CustomEvent("api",{bubbles:!0,composed:!0,detail:{url:(ne=this.apiUrlEl)==null?void 0:ne.value,headers:le}});return this.dispatchEvent(ye)}};(g=this.apiBtnEl)==null||g.addEventListener("click",s),(w=this.apiUrlEl)==null||w.addEventListener("keydown",s),(_=this.apiHeadersEl)==null||_.addEventListener("keydown",s);const n=()=>{var I;this.saveSettings({apiUrl:(I=this.apiUrlEl)==null?void 0:I.value})};(v=this.apiUrlEl)==null||v.addEventListener("input",n);const r=()=>{var I;this.saveSettings({apiHeaders:(I=this.apiHeadersEl)==null?void 0:I.value})};(C=this.apiHeadersEl)==null||C.addEventListener("input",r);const i=()=>{var I;this.saveSettings({queryParams:(I=this.guardsQueryParamsEl)==null?void 0:I.value})};(m=this.guardsQueryParamsEl)==null||m.addEventListener("input",i);const o=()=>{var I;this.saveSettings({roles:(I=this.guardsRolesEl)==null?void 0:I.value})};(b=this.guardsRolesEl)==null||b.addEventListener("input",o);const a=I=>{var ne;const se={};return(ne=this.guardsQueryParamsEl)==null||ne.value.split("&").forEach(le=>{const ye=le.split("=");ye.length===2&&(se[ye[0]]=ye[1])}),this.dispatchEvent(new CustomEvent(I,{bubbles:!0,composed:!0,detail:{queryParams:se}}))},c=()=>a("home");(x=this.guardsHomeBtnEl)==null||x.addEventListener("click",c);const l=()=>a("public");(O=this.guardsPublicBtnEl)==null||O.addEventListener("click",l);const u=()=>a("private");(D=this.guardsPrivateBtnEl)==null||D.addEventListener("click",u);const d=I=>"key"in I&&I.key!=="Enter"?!0:a("protected");(U=this.guardsProtectedBtnEl)==null||U.addEventListener("click",d),(q=this.guardsRolesEl)==null||q.addEventListener("keydown",d),this.listeners.push(()=>{var I;return(I=this.apiBtnEl)==null?void 0:I.removeEventListener("click",s)},()=>{var I;return(I=this.apiUrlEl)==null?void 0:I.removeEventListener("keydown",s)},()=>{var I;return(I=this.apiHeadersEl)==null?void 0:I.removeEventListener("keydown",s)},()=>{var I;return(I=this.apiUrlEl)==null?void 0:I.removeEventListener("input",n)},()=>{var I;return(I=this.apiHeadersEl)==null?void 0:I.removeEventListener("input",r)},()=>{var I;return(I=this.guardsQueryParamsEl)==null?void 0:I.removeEventListener("input",i)},()=>{var I;return(I=this.guardsRolesEl)==null?void 0:I.removeEventListener("input",o)},()=>{var I;return(I=this.guardsHomeBtnEl)==null?void 0:I.removeEventListener("click",c)},()=>{var I;return(I=this.guardsPrivateBtnEl)==null?void 0:I.removeEventListener("click",u)},()=>{var I;return(I=this.guardsProtectedBtnEl)==null?void 0:I.removeEventListener("click",d)},()=>{var I;return(I=this.guardsRolesEl)==null?void 0:I.removeEventListener("keydown",d)});const{otherSettings:h}=window.appSettings.getCurrentSettings();this.apiUrlEl&&(this.apiUrlEl.value=(h==null?void 0:h.apiUrl)??""),this.apiHeadersEl&&(this.apiHeadersEl.value=(h==null?void 0:h.apiHeaders)??""),this.guardsQueryParamsEl&&(this.guardsQueryParamsEl.value=(h==null?void 0:h.queryParams)??""),this.guardsRolesEl&&(this.guardsRolesEl.value=(h==null?void 0:h.roles)??"")}disconnectedCallback(){this.listeners.forEach(s=>{s()})}setApiStatus(s,n){var r,i;(r=this.apiStatusEl)==null||r.classList.remove(n?"success":"error"),(i=this.apiStatusEl)==null||i.classList.add(n?"error":"success"),this.apiResponseEl&&(this.apiResponseEl.innerHTML=Rn(s))}saveSettings(s){const n=window.appSettings.getCurrentSettings();n.otherSettings={...n.otherSettings,...s},window.appSettings.addOrUpdateSettings(n)}}window.customElements.define("demo-app-playground",qw);const Ou=document.createElement("template");Ou.innerHTML=`
    <style>
        ${cr}

        :host {
            display: flex;
            flex: 1;
            flex-direction: column;
            padding: 20px 28px;
        }

        :host .card {
            padding: 40px 16px 16px 16px;
        }

        :host form {
            position: relative;
        }

        :host form .input, :host .form-content > * {
            margin-bottom: 24px;
        }

        :host form div:has(#automaticInjectToken:not(:checked)) > div:has(#automaticInjectTokeninclude),
        :host form div:has(#automaticInjectToken:not(:checked)) > div:has(#automaticInjectTokenexclude) {
            label {
                color: lightgray;
            }
            input {
                opacity: 50%;
            }
        }

        :host form div.input:has(#automaticInjectTokeninclude),
        :host form div.input:has(#automaticInjectTokenexclude) {
            flex-direction: row;
            align-items: center;
            margin-left: 32px;

            label {
                margin-bottom: 0;
                margin-right: 8px;
            }

            input {
                flex: 1;
            }
        }

        :host form label {
            margin-bottom: 8px;
        }

        :host .form-actions {
            z-index: 10;
            position: fixed;
            bottom: calc(12px + var(--safe-area-inset-bottom));
            left: calc(50% - 120px);
            padding: 14px 0;
            border-radius: 4px;
            background-color: #E0E0E0;
            width: 240px;
            justify-content: center;
        }

        :host .form-actions button {
            padding: 2px 12px;
        }

        :host .form-actions button:not(:last-of-type) {
            margin-right: 12px;
        }

        :host button {
            cursor: pointer;
        }

        :host #settings-select {
            margin-left: 6px;
            color: black;
        }

        :host #add-settings-button {
            background: none;
            border: none;
            cursor: pointer;
            padding: 4px;
            color: darkgray;
        }

        :host #delete-settings-button {
            position: absolute;
            top: 20px;
            right: 20px;
            display: flex;
            align-items: center;
            background: none;
            border: none;
            cursor: pointer;
            font-size: 14px;
            color: #EF5350;
        }

        :host #save-settings-button {
            color: white;
            padding: 4px 24px;
            border: none;
            border-radius: 4px;
            transition: background-color 150ms cubic-bezier(0.35, 0, 0.25, 1);
            background-color: #512da8;
        }

        :host #cancel-settings-button {
            padding: 4px 18px;
            border: none;
            border-radius: 4px;
            transition: background-color 150ms cubic-bezier(0.35, 0, 0.25, 1);
            background-color: white;
        }

        :host #save-settings-button:hover {
            background-color: #4527a0;
        }

        :host(.dirty) .form-actions {
            display: flex !important;
        }

        :host(.dirty) #delete-settings-button {
            display: none;
        }

        @media only screen and (max-width: 600px) {
            :host .settings-select {
                margin: 12px 8px;
            }
        }
    </style>

    <div class="settings-select row">
        <select id="settings-select"></select>
        <div id="add-settings-button" title="Create new settings">
            <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="currentColor"><path d="M0 0h24v24H0z" fill="none"/><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/></svg>
        </div>
    </div>

    <div class="form-actions row hidden">
        <button id="save-settings-button" type="button">SAVE</button>
        <button id="cancel-settings-button" type="button">CANCEL</button>
    </div>

    <form class="column card">
        <div id="delete-settings-button">
            DELETE
        </div>
        <div class="input column">
            <label for="settingsName">Settings name *</label>
            <input id="settingsName" name="settingsName" required="">
        </div>
        <div class="form-content flex"></div>
    </form>
`;class Bw extends HTMLElement{constructor(){var s;super();z(this,"listeners",[]);z(this,"formEl");z(this,"formContentEl");z(this,"selectEl");z(this,"settingsNameEl");z(this,"formIsDirty",!1);z(this,"formIsNew",!1);this.attachShadow({mode:"open"}),(s=this.shadowRoot)==null||s.appendChild(document.importNode(Ou.content,!0))}connectedCallback(){var h,g,w,_,v,C,m,b,x,O;this.formEl=(h=this.shadowRoot)==null?void 0:h.querySelector("form"),this.formContentEl=(g=this.shadowRoot)==null?void 0:g.querySelector(".form-content"),this.selectEl=(w=this.shadowRoot)==null?void 0:w.querySelector("#settings-select"),this.settingsNameEl=(_=this.shadowRoot)==null?void 0:_.querySelector("#settingsName");const s=D=>{!this.formIsDirty&&D.target.id!=="settings-select"&&(this.formIsDirty=!0,this.classList.add("dirty"))};(v=this.formEl)==null||v.addEventListener("input",s),this.listeners.push(()=>{var D;(D=this.formEl)==null||D.removeEventListener("input",s)}),this.refreshSelect();const n=()=>{this.selectEl&&this.loadSettings(this.selectEl.selectedIndex)};(C=this.selectEl)==null||C.addEventListener("change",n),this.listeners.push(()=>{var D;(D=this.selectEl)==null||D.removeEventListener("change",n)});const r=(m=this.shadowRoot)==null?void 0:m.querySelector("#add-settings-button"),i=()=>{this.add()};r==null||r.addEventListener("click",i),this.listeners.push(()=>r==null?void 0:r.removeEventListener("click",i));const o=(b=this.shadowRoot)==null?void 0:b.querySelector("#delete-settings-button"),a=()=>{this.delete()};o==null||o.addEventListener("click",a),this.listeners.push(()=>o==null?void 0:o.removeEventListener("click",a));const c=(x=this.shadowRoot)==null?void 0:x.querySelector("#save-settings-button"),l=()=>{this.saveAndReload()};c==null||c.addEventListener("click",l),this.listeners.push(()=>c==null?void 0:c.removeEventListener("click",l));const u=(O=this.shadowRoot)==null?void 0:O.querySelector("#cancel-settings-button"),d=()=>{this.cancel()};u==null||u.addEventListener("click",d),this.listeners.push(()=>u==null?void 0:u.removeEventListener("click",d)),this.refreshFormContent(window.appSettings.getCurrentSettings())}disconnectedCallback(){this.listeners.forEach(s=>{s()})}loadSettings(s){window.appSettings.setCurrentSettingsIndex(s),location.reload()}add(){var r;const s="New settings",n=document.createElement("option");n.selected=!0,n.value=s,n.textContent=s,(r=this.selectEl)==null||r.appendChild(n),this.formIsNew=!0,this.formIsDirty=!0,this.classList.add("dirty"),this.refreshFormContent({name:s,librarySettings:{}})}delete(){window.appSettings.deleteCurrentSettings(),window.appSettings.setCurrentSettingsIndex(0),location.reload()}cancel(){this.formIsNew=!1,this.formIsDirty=!1,this.classList.remove("dirty"),this.refreshSelect(),this.refreshFormContent(window.appSettings.getCurrentSettings())}setPathValue(s,n,r){const i=n.split(".");i.reduce((o,a,c)=>(c===i.length-1?(typeof r=="string"&&r.trim()===""&&(r=void 0),o[a]=r):(!(a in o)||typeof o[a]!="object"||o[a]===null)&&(o[a]={}),o[a]),s)}getPathValue(s,n){return n.split(".").reduce((r,i)=>r&&i in r?r[i]:void 0,s)}refreshSelect(){this.selectEl&&(this.selectEl.innerHTML="");const{settings:s,currentSettingsIndex:n}=window.appSettings.get();s.forEach((r,i)=>{var a;const o=document.createElement("option");o.selected=i===n,o.value=String(r.name),o.textContent=r.name,(a=this.selectEl)==null||a.appendChild(o)})}refreshFormContent(s){var n;if(this.formContentEl&&(this.formContentEl.innerHTML=""),this.settingsNameEl){const r=window.appSettings.getLibrarySettingsDefinition(),{name:i,librarySettings:o}=s;this.settingsNameEl.value=i,r.sort((c,l)=>(l._sortIndex||0)-(c._sortIndex||0)).forEach(c=>{var h,g;const l=document.createElement("div");(h=this.formContentEl)==null||h.prepend(l);const u=document.createElement("label");u.htmlFor=c.name.replace(".",""),u.textContent=`${c.label}${c.required?" *":""}`;const d=document.createElement(c.type==="list"?"select":"input");switch(d.id=c.name.replace(".",""),d.name=c.name.replace(".",""),d.required=c.required===!0,c.type){case"boolean":d.checked=this.getPathValue(o,c.name),d.type="checkbox",l.appendChild(d),l.appendChild(u);break;case"list":(g=c.values)==null||g.forEach(w=>{const _=document.createElement("option");_.value=String(w.value),_.textContent=w.label,d.appendChild(_)}),d.value=this.getPathValue(o,c.name),d.classList.add("flex"),l.classList.add("input","column"),l.appendChild(u),l.appendChild(d);break;default:{const w=this.getPathValue(o,c.name);c.type==="json"?d.value=w?JSON.stringify(w):"":d.value=w??"",c.placeholder&&(d.placeholder=c.placeholder),l.classList.add("input","column"),l.appendChild(u),l.appendChild(d);break}}});const a=(n=this.shadowRoot)==null?void 0:n.querySelector("#automaticInjectToken");a&&(a.onclick=()=>{var c,l;if(!a.checked){const u=(c=this.shadowRoot)==null?void 0:c.querySelector("#automaticInjectTokeninclude");u&&(u.disabled=!0,u.value="");const d=(l=this.shadowRoot)==null?void 0:l.querySelector("#automaticInjectTokenexclude");d&&(d.disabled=!0,d.value="")}})}}saveAndReload(){var s,n;if((s=this.formEl)!=null&&s.reportValidity()&&this.settingsNameEl){const r=window.appSettings.getLibrarySettingsDefinition(),i=this.formIsNew?{name:"",librarySettings:{}}:window.appSettings.getCurrentSettings();i.name=this.settingsNameEl.value,r.sort((a,c)=>(a._sortIndex||0)-(c._sortIndex||0)).forEach(a=>{var u;const c=(u=this.shadowRoot)==null?void 0:u.querySelector(`#${a.name.replace(".","")}`);let l;switch(a.type){case"boolean":l=c.checked;break;case"list":l=c.value;break;case"json":try{const d=c.value;d&&d.trim()!==""&&(l=JSON.parse(d))}catch(d){console.error(d)}break;default:l=c.value;break}this.setPathValue(i.librarySettings,a.name,l)});const o=(n=this.shadowRoot)==null?void 0:n.querySelector("#automaticInjectToken");if(!(o!=null&&o.checked))i.librarySettings.automaticInjectToken=!1;else{let a=i.librarySettings.automaticInjectToken;typeof a=="object"&&((!a.include||a.include.trim()==="")&&(!a.exclude||a.exclude.trim()==="")?a=!0:(a.include&&(a.include=a.include.split(",")),a.exclude&&(a.exclude=a.exclude.split(","))),i.librarySettings.automaticInjectToken=a)}window.appSettings.addOrUpdateSettings(i,window.appSettings.get().currentSettingsIndex),this.formIsNew&&this.selectEl&&window.appSettings.setCurrentSettingsIndex(this.selectEl.selectedIndex),location.reload()}}}window.customElements.define("demo-app-settings",Bw);const Fw="@badisi/auth-js",Ww="1.0.0",zw="Authentication and authorization support for web based desktop and mobile applications.",Vw="https://github.com/Badisi/auth-js/tree/main/libs/auth-js",Kw="GPL-3.0-only",Gw="Badisi",Jw={type:"git",url:"git+https://github.com/Badisi/auth-js.git"},Xw=["ionic","capacitor","cordova","hybrid","authentication","authorization","oidc","openidconnect","openid","security","identity","oauth2","oauth","auth","authn","web","mobile"],Qw=!1,Yw={lint:"nx run auth-js:lint",test:"nx run auth-js:test","test:ci":"nx run auth-js:test",build:"nx run auth-js:build",release:"node ../../scripts/release.mjs --projects=auth-js --verbose","release:dry-run":"npm run release -- --dry-run"},Zw={"jwt-decode":"^3.1.2","lodash-es":"^4.17.21","oidc-client-ts":"2.4.0"},e_={"@types/lodash-es":"^4.17.12","@types/cordova":"^11.0.3"},t_={access:"public"},s_={".":{types:"./core/index.d.ts",import:"./esm/core/index.js",require:"./cjs/core/index.js",browser:"./browser/core/index.min.js",default:"./esm/core/index.js"},"./oidc":{types:"./oidc/index.d.ts",import:"./esm/oidc/index.js",require:"./cjs/oidc/index.js",browser:"./browser/oidc/index.min.js",default:"./esm/oidc/index.js"},"./package.json":"./package.json"},n_={name:Fw,version:Ww,description:zw,homepage:Vw,license:Kw,author:Gw,repository:Jw,keywords:Xw,sideEffects:Qw,scripts:Yw,dependencies:Zw,devDependencies:e_,publishConfig:t_,exports:s_},r_="@badisi/auth-vue",i_="1.0.0",o_="Authentication and authorization support for Vue.js based desktop and mobile applications.",a_="https://github.com/Badisi/auth-js/tree/main/libs/auth-vue",c_="GPL-3.0-only",l_="Badisi",u_={type:"git",url:"git+https://github.com/Badisi/auth-js.git"},d_=["vue","vue.js","ionic","capacitor","cordova","hybrid","authentication","authorization","oidc","openidconnect","openid","security","identity","oauth2","oauth","auth","authn","web","mobile"],f_={lint:"nx run auth-vue:lint",build:"nx run auth-vue:build",test:"","test:ci":"",release:"node ../../scripts/release.mjs --projects=auth-vue --verbose","release:dry-run":"npm run release -- --dry-run"},h_={"@badisi/auth-js":"1.0.0"},p_={vue:">= 3","vue-router":">= 4"},g_={access:"public"},m_={".":{types:"./core/index.d.ts",import:"./esm/core/index.js",require:"./cjs/core/index.js",browser:"./browser/core/index.min.js",default:"./esm/core/index.js"},"./package.json":"./package.json"},w_={name:r_,version:i_,description:o_,homepage:a_,license:c_,author:l_,repository:u_,keywords:d_,scripts:f_,dependencies:h_,peerDependencies:p_,publishConfig:g_,exports:m_},__="@badisi/ngx-auth",b_="3.0.0",y_="Authentication and authorization support for Angular based desktop and mobile applications.",v_="https://github.com/Badisi/auth-js/tree/main/libs/ngx-auth",S_="GPL-3.0-only",E_="Badisi",x_={type:"git",url:"git+https://github.com/Badisi/auth-js.git"},R_=["angular","ionic","capacitor","cordova","hybrid","authentication","authorization","oidc","openidconnect","openid","security","identity","oauth2","oauth","auth","authn","web","mobile"],T_={lint:"nx run ngx-auth:lint",test:"nx run ngx-auth:test","test:ci":"nx run ngx-auth:test",build:"nx run ngx-auth:build-lib",release:"node ../../scripts/release.mjs --projects=ngx-auth --verbose","release:dry-run":"npm run release -- --dry-run"},C_={"@hug/ngx-schematics-utilities":"^10.1.4","@badisi/auth-js":"1.0.0",tslib:"^2.8.1"},P_={"@angular/common":">= 15","@angular/core":">= 15","@angular/router":">= 15",rxjs:"^6.5.3 || ^7.4.0"},k_={access:"public"},O_="./schematics/collection.json",A_={name:__,version:b_,description:y_,homepage:v_,license:S_,author:E_,repository:x_,keywords:R_,scripts:T_,dependencies:C_,peerDependencies:P_,publishConfig:k_,schematics:O_,"ng-add":{save:"dependencies"}},I_=[{label:"VanillaJS",demoUrl:"https://badisi.github.io/auth-js/demo-app/auth-js",version:n_.version},{label:"Angular",demoUrl:"https://badisi.github.io/auth-js/demo-app/ngx-auth",version:A_.version},{label:"Vue.js",demoUrl:"https://badisi.github.io/auth-js/demo-app/auth-vue",version:w_.version}],Vo={mobileScheme:"demo-app",desktopNavigationType:Ht.REDIRECT,logLevel:Qt.NONE,loginRequired:!1,retrieveUserSession:!0,loadUserInfo:!0,automaticSilentRenew:!0,automaticLoginOn401:!0,automaticInjectToken:{include:["/api"]}},U_={name:"Auth0",otherSettings:{apiUrl:"https://dev-fijd1e9x.us.auth0.com/api/v2/users/auth0|631b171682c639d40cb84d5c",apiHeaders:"",roles:"view-profile"},librarySettings:{authorityUrl:"https://dev-fijd1e9x.us.auth0.com",clientId:"kRVVEnAWKMpxxpcodl0TqLXfIHgQvmmt",scope:"openid profile email phone offline_access read:current_user",internal:{extraQueryParams:{audience:"https://dev-fijd1e9x.us.auth0.com/api/v2/"}},...Vo}},L_={name:"Zitadel",otherSettings:{apiUrl:"http://localhost:8080/api/my-api",apiHeaders:"",roles:"view-profile"},librarySettings:{authorityUrl:"https://auth-js-0pdipf.zitadel.cloud",clientId:"178200751804317953@demo-app",scope:"openid profile email phone offline_access",internal:{extraQueryParams:{login_hint:"demo"}},...Vo}},j_={name:"Keycloak (local)",otherSettings:{apiUrl:"http://localhost:8080/api/my-api",apiHeaders:"",roles:"view-profile"},librarySettings:{authorityUrl:"http://localhost:8080/auth/realms/demo",clientId:"demo-app",scope:"openid profile email phone",...Vo}},N_=(e=!1)=>[U_,L_,...e?[j_]:[]],$_=[{name:"authorityUrl",label:"Authority url",type:"string",required:!0},{name:"clientId",label:"Client id",type:"string",required:!0},{name:"mobileScheme",label:"Custom mobile scheme name",type:"string"},{name:"scope",label:"Scope",type:"string",placeholder:"ex: openid profile email phone offline_access"},{name:"internal.extraQueryParams",label:"Extra query params",type:"json",placeholder:'ex: {"audience":"value"}'},{name:"authGuardFallbackUrl",label:"AuthGuard fallback url",type:"string",placeholder:"ex: forbidden"},{name:"desktopNavigationType",label:"Desktop navigation type",type:"list",values:[{label:"REDIRECT",value:Ht.REDIRECT},{label:"POPUP",value:Ht.POPUP}]},{name:"logLevel",label:"Log level",type:"list",values:[{label:"NONE",value:Qt.NONE},{label:"ERROR",value:Qt.ERROR},{label:"WARN",value:Qt.WARN},{label:"INFO",value:Qt.INFO},{label:"DEBUG",value:Qt.DEBUG}]},{name:"loginRequired",label:"Login required",type:"boolean"},{name:"retrieveUserSession",label:"Retrieve user's session",type:"boolean"},{name:"loadUserInfo",label:"Load user's info",type:"boolean"},{name:"automaticSilentRenew",label:"Automatic silent renew",type:"boolean"},{name:"automaticInjectToken",label:"Automatic inject token",type:"boolean"},{name:"automaticInjectToken.include",label:"Include url(s)",type:"string",placeholder:"ex: http://localhost, /pathname"},{name:"automaticInjectToken.exclude",label:"Exclude url(s)",type:"string",placeholder:"ex: http://localhost, /pathname"},{name:"automaticLoginOn401",label:"Automatic login on 401",type:"boolean"}];var nr,rr,bs;class M_{constructor(t){K(this,nr,"auth-js:playground:settings");K(this,rr,$_);K(this,bs);S(this,rr).forEach((s,n)=>s._sortIndex=n),ie(this,bs,{currentTabIndex:0,currentSettingsIndex:0,settings:N_(t)})}getLibrarySettingsDefinition(){return S(this,rr)}getLibraryImplementations(){return I_}getSettings(){return this.get().settings}addOrUpdateSettings(t,s=void 0){const n=this.get();s!==void 0?n.settings[s]=t:n.settings.push(t),this.saveDemoAppSettings(n)}deleteCurrentSettings(){const t=this.get(),s=t.currentSettingsIndex;s>=0&&s<t.settings.length&&(t.settings.splice(s,1),this.saveDemoAppSettings(t))}setCurrentTabIndex(t){const s=this.get();s.currentTabIndex=t,this.saveDemoAppSettings(s)}setCurrentSettingsIndex(t){const s=this.get();s.currentSettingsIndex=t,this.saveDemoAppSettings(s)}getCurrentSettings(){const t=this.get(),s=t.currentSettingsIndex;return s>=0&&s<t.settings.length?t.settings[s]:t.settings[0]}get(){const t=sessionStorage.getItem(S(this,nr));if(t){const s={...S(this,bs),...JSON.parse(t)};return S(this,bs).settings.forEach(n=>{s.settings.find(r=>r.name===n.name)||s.settings.push(n)}),s.settings=s.settings.sort((n,r)=>n.name.localeCompare(r.name)),s}return{...S(this,bs)}}saveDemoAppSettings(t){delete t.librarySettingsDefinition,sessionStorage.setItem(S(this,nr),JSON.stringify(t))}}nr=new WeakMap,rr=new WeakMap,bs=new WeakMap;const D_=(e,t)=>{const s=e.__vccOpts||e;for(const[n,r]of t)s[n]=r;return s},H_={};function q_(e,t){const s=Ql("RouterView");return gu(),jm(s)}const B_=D_(H_,[["render",q_]]),F_="modulepreload",W_=function(e){return"/auth-js/demo-app/auth-vue/"+e},Ga={},pr=function(t,s,n){let r=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=Promise.allSettled(s.map(c=>{if(c=W_(c),c in Ga)return;Ga[c]=!0;const l=c.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const d=document.createElement("link");if(d.rel=l?"stylesheet":F_,l||(d.as="script"),d.crossOrigin="",d.href=c,a&&d.setAttribute("nonce",a),document.head.appendChild(d),l)return new Promise((h,g)=>{d.addEventListener("load",h),d.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return r.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})};/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Is=typeof document<"u";function Au(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function z_(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&Au(e.default)}const oe=Object.assign;function ki(e,t){const s={};for(const n in t){const r=t[n];s[n]=wt(r)?r.map(e):e(r)}return s}const jn=()=>{},wt=Array.isArray,Iu=/#/g,V_=/&/g,K_=/\//g,G_=/=/g,J_=/\?/g,Uu=/\+/g,X_=/%5B/g,Q_=/%5D/g,Lu=/%5E/g,Y_=/%60/g,ju=/%7B/g,Z_=/%7C/g,Nu=/%7D/g,eb=/%20/g;function Ko(e){return encodeURI(""+e).replace(Z_,"|").replace(X_,"[").replace(Q_,"]")}function tb(e){return Ko(e).replace(ju,"{").replace(Nu,"}").replace(Lu,"^")}function io(e){return Ko(e).replace(Uu,"%2B").replace(eb,"+").replace(Iu,"%23").replace(V_,"%26").replace(Y_,"`").replace(ju,"{").replace(Nu,"}").replace(Lu,"^")}function sb(e){return io(e).replace(G_,"%3D")}function nb(e){return Ko(e).replace(Iu,"%23").replace(J_,"%3F")}function rb(e){return e==null?"":nb(e).replace(K_,"%2F")}function Wn(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const ib=/\/$/,ob=e=>e.replace(ib,"");function Oi(e,t,s="/"){let n,r={},i="",o="";const a=t.indexOf("#");let c=t.indexOf("?");return a<c&&a>=0&&(c=-1),c>-1&&(n=t.slice(0,c),i=t.slice(c+1,a>-1?a:t.length),r=e(i)),a>-1&&(n=n||t.slice(0,a),o=t.slice(a,t.length)),n=ub(n??t,s),{fullPath:n+(i&&"?")+i+o,path:n,query:r,hash:Wn(o)}}function ab(e,t){const s=t.query?e(t.query):"";return t.path+(s&&"?")+s+(t.hash||"")}function Ja(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function cb(e,t,s){const n=t.matched.length-1,r=s.matched.length-1;return n>-1&&n===r&&rn(t.matched[n],s.matched[r])&&$u(t.params,s.params)&&e(t.query)===e(s.query)&&t.hash===s.hash}function rn(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function $u(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(!lb(e[s],t[s]))return!1;return!0}function lb(e,t){return wt(e)?Xa(e,t):wt(t)?Xa(t,e):e===t}function Xa(e,t){return wt(t)?e.length===t.length&&e.every((s,n)=>s===t[n]):e.length===1&&e[0]===t}function ub(e,t){if(e.startsWith("/"))return e;if(!e)return t;const s=t.split("/"),n=e.split("/"),r=n[n.length-1];(r===".."||r===".")&&n.push("");let i=s.length-1,o,a;for(o=0;o<n.length;o++)if(a=n[o],a!==".")if(a==="..")i>1&&i--;else break;return s.slice(0,i).join("/")+"/"+n.slice(o).join("/")}const zt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var zn;(function(e){e.pop="pop",e.push="push"})(zn||(zn={}));var Nn;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Nn||(Nn={}));function db(e){if(!e)if(Is){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),ob(e)}const fb=/^[^#]+#/;function hb(e,t){return e.replace(fb,"#")+t}function pb(e,t){const s=document.documentElement.getBoundingClientRect(),n=e.getBoundingClientRect();return{behavior:t.behavior,left:n.left-s.left-(t.left||0),top:n.top-s.top-(t.top||0)}}const ni=()=>({left:window.scrollX,top:window.scrollY});function gb(e){let t;if("el"in e){const s=e.el,n=typeof s=="string"&&s.startsWith("#"),r=typeof s=="string"?n?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!r)return;t=pb(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function Qa(e,t){return(history.state?history.state.position-t:-1)+e}const oo=new Map;function mb(e,t){oo.set(e,t)}function wb(e){const t=oo.get(e);return oo.delete(e),t}let _b=()=>location.protocol+"//"+location.host;function Mu(e,t){const{pathname:s,search:n,hash:r}=t,i=e.indexOf("#");if(i>-1){let a=r.includes(e.slice(i))?e.slice(i).length:1,c=r.slice(a);return c[0]!=="/"&&(c="/"+c),Ja(c,"")}return Ja(s,e)+n+r}function bb(e,t,s,n){let r=[],i=[],o=null;const a=({state:h})=>{const g=Mu(e,location),w=s.value,_=t.value;let v=0;if(h){if(s.value=g,t.value=h,o&&o===w){o=null;return}v=_?h.position-_.position:0}else n(g);r.forEach(C=>{C(s.value,w,{delta:v,type:zn.pop,direction:v?v>0?Nn.forward:Nn.back:Nn.unknown})})};function c(){o=s.value}function l(h){r.push(h);const g=()=>{const w=r.indexOf(h);w>-1&&r.splice(w,1)};return i.push(g),g}function u(){const{history:h}=window;h.state&&h.replaceState(oe({},h.state,{scroll:ni()}),"")}function d(){for(const h of i)h();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:c,listen:l,destroy:d}}function Ya(e,t,s,n=!1,r=!1){return{back:e,current:t,forward:s,replaced:n,position:window.history.length,scroll:r?ni():null}}function yb(e){const{history:t,location:s}=window,n={value:Mu(e,s)},r={value:t.state};r.value||i(n.value,{back:null,current:n.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(c,l,u){const d=e.indexOf("#"),h=d>-1?(s.host&&document.querySelector("base")?e:e.slice(d))+c:_b()+e+c;try{t[u?"replaceState":"pushState"](l,"",h),r.value=l}catch(g){console.error(g),s[u?"replace":"assign"](h)}}function o(c,l){const u=oe({},t.state,Ya(r.value.back,c,r.value.forward,!0),l,{position:r.value.position});i(c,u,!0),n.value=c}function a(c,l){const u=oe({},r.value,t.state,{forward:c,scroll:ni()});i(u.current,u,!0);const d=oe({},Ya(n.value,c,null),{position:u.position+1},l);i(c,d,!1),n.value=c}return{location:n,state:r,push:a,replace:o}}function vb(e){e=db(e);const t=yb(e),s=bb(e,t.state,t.location,t.replace);function n(i,o=!0){o||s.pauseListeners(),history.go(i)}const r=oe({location:"",base:e,go:n,createHref:hb.bind(null,e)},t,s);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}function Sb(e){return typeof e=="string"||e&&typeof e=="object"}function Du(e){return typeof e=="string"||typeof e=="symbol"}const Hu=Symbol("");var Za;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Za||(Za={}));function on(e,t){return oe(new Error,{type:e,[Hu]:!0},t)}function Ut(e,t){return e instanceof Error&&Hu in e&&(t==null||!!(e.type&t))}const ec="[^/]+?",Eb={sensitive:!1,strict:!1,start:!0,end:!0},xb=/[.+*?^${}()[\]/\\]/g;function Rb(e,t){const s=oe({},Eb,t),n=[];let r=s.start?"^":"";const i=[];for(const l of e){const u=l.length?[]:[90];s.strict&&!l.length&&(r+="/");for(let d=0;d<l.length;d++){const h=l[d];let g=40+(s.sensitive?.25:0);if(h.type===0)d||(r+="/"),r+=h.value.replace(xb,"\\$&"),g+=40;else if(h.type===1){const{value:w,repeatable:_,optional:v,regexp:C}=h;i.push({name:w,repeatable:_,optional:v});const m=C||ec;if(m!==ec){g+=10;try{new RegExp(`(${m})`)}catch(x){throw new Error(`Invalid custom RegExp for param "${w}" (${m}): `+x.message)}}let b=_?`((?:${m})(?:/(?:${m}))*)`:`(${m})`;d||(b=v&&l.length<2?`(?:/${b})`:"/"+b),v&&(b+="?"),r+=b,g+=20,v&&(g+=-8),_&&(g+=-20),m===".*"&&(g+=-50)}u.push(g)}n.push(u)}if(s.strict&&s.end){const l=n.length-1;n[l][n[l].length-1]+=.7000000000000001}s.strict||(r+="/?"),s.end?r+="$":s.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const o=new RegExp(r,s.sensitive?"":"i");function a(l){const u=l.match(o),d={};if(!u)return null;for(let h=1;h<u.length;h++){const g=u[h]||"",w=i[h-1];d[w.name]=g&&w.repeatable?g.split("/"):g}return d}function c(l){let u="",d=!1;for(const h of e){(!d||!u.endsWith("/"))&&(u+="/"),d=!1;for(const g of h)if(g.type===0)u+=g.value;else if(g.type===1){const{value:w,repeatable:_,optional:v}=g,C=w in l?l[w]:"";if(wt(C)&&!_)throw new Error(`Provided param "${w}" is an array but it is not repeatable (* or + modifiers)`);const m=wt(C)?C.join("/"):C;if(!m)if(v)h.length<2&&(u.endsWith("/")?u=u.slice(0,-1):d=!0);else throw new Error(`Missing required param "${w}"`);u+=m}}return u||"/"}return{re:o,score:n,keys:i,parse:a,stringify:c}}function Tb(e,t){let s=0;for(;s<e.length&&s<t.length;){const n=t[s]-e[s];if(n)return n;s++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function qu(e,t){let s=0;const n=e.score,r=t.score;for(;s<n.length&&s<r.length;){const i=Tb(n[s],r[s]);if(i)return i;s++}if(Math.abs(r.length-n.length)===1){if(tc(n))return 1;if(tc(r))return-1}return r.length-n.length}function tc(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Cb={type:0,value:""},Pb=/[a-zA-Z0-9_]/;function kb(e){if(!e)return[[]];if(e==="/")return[[Cb]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(g){throw new Error(`ERR (${s})/"${l}": ${g}`)}let s=0,n=s;const r=[];let i;function o(){i&&r.push(i),i=[]}let a=0,c,l="",u="";function d(){l&&(s===0?i.push({type:0,value:l}):s===1||s===2||s===3?(i.length>1&&(c==="*"||c==="+")&&t(`A repeatable param (${l}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:l,regexp:u,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):t("Invalid state to consume buffer"),l="")}function h(){l+=c}for(;a<e.length;){if(c=e[a++],c==="\\"&&s!==2){n=s,s=4;continue}switch(s){case 0:c==="/"?(l&&d(),o()):c===":"?(d(),s=1):h();break;case 4:h(),s=n;break;case 1:c==="("?s=2:Pb.test(c)?h():(d(),s=0,c!=="*"&&c!=="?"&&c!=="+"&&a--);break;case 2:c===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+c:s=3:u+=c;break;case 3:d(),s=0,c!=="*"&&c!=="?"&&c!=="+"&&a--,u="";break;default:t("Unknown state");break}}return s===2&&t(`Unfinished custom RegExp for param "${l}"`),d(),o(),r}function Ob(e,t,s){const n=Rb(kb(e.path),s),r=oe(n,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function Ab(e,t){const s=[],n=new Map;t=ic({strict:!1,end:!0,sensitive:!1},t);function r(d){return n.get(d)}function i(d,h,g){const w=!g,_=nc(d);_.aliasOf=g&&g.record;const v=ic(t,d),C=[_];if("alias"in d){const x=typeof d.alias=="string"?[d.alias]:d.alias;for(const O of x)C.push(nc(oe({},_,{components:g?g.record.components:_.components,path:O,aliasOf:g?g.record:_})))}let m,b;for(const x of C){const{path:O}=x;if(h&&O[0]!=="/"){const D=h.record.path,U=D[D.length-1]==="/"?"":"/";x.path=h.record.path+(O&&U+O)}if(m=Ob(x,h,v),g?g.alias.push(m):(b=b||m,b!==m&&b.alias.push(m),w&&d.name&&!rc(m)&&o(d.name)),Bu(m)&&c(m),_.children){const D=_.children;for(let U=0;U<D.length;U++)i(D[U],m,g&&g.children[U])}g=g||m}return b?()=>{o(b)}:jn}function o(d){if(Du(d)){const h=n.get(d);h&&(n.delete(d),s.splice(s.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=s.indexOf(d);h>-1&&(s.splice(h,1),d.record.name&&n.delete(d.record.name),d.children.forEach(o),d.alias.forEach(o))}}function a(){return s}function c(d){const h=Lb(d,s);s.splice(h,0,d),d.record.name&&!rc(d)&&n.set(d.record.name,d)}function l(d,h){let g,w={},_,v;if("name"in d&&d.name){if(g=n.get(d.name),!g)throw on(1,{location:d});v=g.record.name,w=oe(sc(h.params,g.keys.filter(b=>!b.optional).concat(g.parent?g.parent.keys.filter(b=>b.optional):[]).map(b=>b.name)),d.params&&sc(d.params,g.keys.map(b=>b.name))),_=g.stringify(w)}else if(d.path!=null)_=d.path,g=s.find(b=>b.re.test(_)),g&&(w=g.parse(_),v=g.record.name);else{if(g=h.name?n.get(h.name):s.find(b=>b.re.test(h.path)),!g)throw on(1,{location:d,currentLocation:h});v=g.record.name,w=oe({},h.params,d.params),_=g.stringify(w)}const C=[];let m=g;for(;m;)C.unshift(m.record),m=m.parent;return{name:v,path:_,params:w,matched:C,meta:Ub(C)}}e.forEach(d=>i(d));function u(){s.length=0,n.clear()}return{addRoute:i,resolve:l,removeRoute:o,clearRoutes:u,getRoutes:a,getRecordMatcher:r}}function sc(e,t){const s={};for(const n of t)n in e&&(s[n]=e[n]);return s}function nc(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:Ib(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function Ib(e){const t={},s=e.props||!1;if("component"in e)t.default=s;else for(const n in e.components)t[n]=typeof s=="object"?s[n]:s;return t}function rc(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Ub(e){return e.reduce((t,s)=>oe(t,s.meta),{})}function ic(e,t){const s={};for(const n in e)s[n]=n in t?t[n]:e[n];return s}function Lb(e,t){let s=0,n=t.length;for(;s!==n;){const i=s+n>>1;qu(e,t[i])<0?n=i:s=i+1}const r=jb(e);return r&&(n=t.lastIndexOf(r,n-1)),n}function jb(e){let t=e;for(;t=t.parent;)if(Bu(t)&&qu(e,t)===0)return t}function Bu({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function Nb(e){const t={};if(e===""||e==="?")return t;const n=(e[0]==="?"?e.slice(1):e).split("&");for(let r=0;r<n.length;++r){const i=n[r].replace(Uu," "),o=i.indexOf("="),a=Wn(o<0?i:i.slice(0,o)),c=o<0?null:Wn(i.slice(o+1));if(a in t){let l=t[a];wt(l)||(l=t[a]=[l]),l.push(c)}else t[a]=c}return t}function oc(e){let t="";for(let s in e){const n=e[s];if(s=sb(s),n==null){n!==void 0&&(t+=(t.length?"&":"")+s);continue}(wt(n)?n.map(i=>i&&io(i)):[n&&io(n)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+s,i!=null&&(t+="="+i))})}return t}function $b(e){const t={};for(const s in e){const n=e[s];n!==void 0&&(t[s]=wt(n)?n.map(r=>r==null?null:""+r):n==null?n:""+n)}return t}const Mb=Symbol(""),ac=Symbol(""),ri=Symbol(""),Fu=Symbol(""),ao=Symbol("");function wn(){let e=[];function t(n){return e.push(n),()=>{const r=e.indexOf(n);r>-1&&e.splice(r,1)}}function s(){e=[]}return{add:t,list:()=>e.slice(),reset:s}}function Xt(e,t,s,n,r,i=o=>o()){const o=n&&(n.enterCallbacks[r]=n.enterCallbacks[r]||[]);return()=>new Promise((a,c)=>{const l=h=>{h===!1?c(on(4,{from:s,to:t})):h instanceof Error?c(h):Sb(h)?c(on(2,{from:t,to:h})):(o&&n.enterCallbacks[r]===o&&typeof h=="function"&&o.push(h),a())},u=i(()=>e.call(n&&n.instances[r],t,s,l));let d=Promise.resolve(u);e.length<3&&(d=d.then(l)),d.catch(h=>c(h))})}function Ai(e,t,s,n,r=i=>i()){const i=[];for(const o of e)for(const a in o.components){let c=o.components[a];if(!(t!=="beforeRouteEnter"&&!o.instances[a]))if(Au(c)){const u=(c.__vccOpts||c)[t];u&&i.push(Xt(u,s,n,o,a,r))}else{let l=c();i.push(()=>l.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const d=z_(u)?u.default:u;o.mods[a]=u,o.components[a]=d;const g=(d.__vccOpts||d)[t];return g&&Xt(g,s,n,o,a,r)()}))}}return i}function cc(e){const t=mt(ri),s=mt(Fu),n=st(()=>{const c=js(e.to);return t.resolve(c)}),r=st(()=>{const{matched:c}=n.value,{length:l}=c,u=c[l-1],d=s.matched;if(!u||!d.length)return-1;const h=d.findIndex(rn.bind(null,u));if(h>-1)return h;const g=lc(c[l-2]);return l>1&&lc(u)===g&&d[d.length-1].path!==g?d.findIndex(rn.bind(null,c[l-2])):h}),i=st(()=>r.value>-1&&Fb(s.params,n.value.params)),o=st(()=>r.value>-1&&r.value===s.matched.length-1&&$u(s.params,n.value.params));function a(c={}){if(Bb(c)){const l=t[js(e.replace)?"replace":"push"](js(e.to)).catch(jn);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>l),l}return Promise.resolve()}return{route:n,href:st(()=>n.value.href),isActive:i,isExactActive:o,navigate:a}}function Db(e){return e.length===1?e[0]:e}const Hb=qo({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:cc,setup(e,{slots:t}){const s=Yr(cc(e)),{options:n}=mt(ri),r=st(()=>({[uc(e.activeClass,n.linkActiveClass,"router-link-active")]:s.isActive,[uc(e.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const i=t.default&&Db(t.default(s));return e.custom?i:yu("a",{"aria-current":s.isExactActive?e.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:r.value},i)}}}),qb=Hb;function Bb(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Fb(e,t){for(const s in t){const n=t[s],r=e[s];if(typeof n=="string"){if(n!==r)return!1}else if(!wt(r)||r.length!==n.length||n.some((i,o)=>i!==r[o]))return!1}return!0}function lc(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const uc=(e,t,s)=>e??t??s,Wb=qo({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:s}){const n=mt(ao),r=st(()=>e.route||n.value),i=mt(ac,0),o=st(()=>{let l=js(i);const{matched:u}=r.value;let d;for(;(d=u[l])&&!d.components;)l++;return l}),a=st(()=>r.value.matched[o.value]);br(ac,st(()=>o.value+1)),br(Mb,a),br(ao,r);const c=ls();return yr(()=>[c.value,a.value,e.name],([l,u,d],[h,g,w])=>{u&&(u.instances[d]=l,g&&g!==u&&l&&l===h&&(u.leaveGuards.size||(u.leaveGuards=g.leaveGuards),u.updateGuards.size||(u.updateGuards=g.updateGuards))),l&&u&&(!g||!rn(u,g)||!h)&&(u.enterCallbacks[d]||[]).forEach(_=>_(l))},{flush:"post"}),()=>{const l=r.value,u=e.name,d=a.value,h=d&&d.components[u];if(!h)return dc(s.default,{Component:h,route:l});const g=d.props[u],w=g?g===!0?l.params:typeof g=="function"?g(l):g:null,v=yu(h,oe({},w,t,{onVnodeUnmounted:C=>{C.component.isUnmounted&&(d.instances[u]=null)},ref:c}));return dc(s.default,{Component:v,route:l})||v}}});function dc(e,t){if(!e)return null;const s=e(t);return s.length===1?s[0]:s}const zb=Wb;function Vb(e){const t=Ab(e.routes,e),s=e.parseQuery||Nb,n=e.stringifyQuery||oc,r=e.history,i=wn(),o=wn(),a=wn(),c=Ml(zt);let l=zt;Is&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=ki.bind(null,R=>""+R),d=ki.bind(null,rb),h=ki.bind(null,Wn);function g(R,H){let $,F;return Du(R)?($=t.getRecordMatcher(R),F=H):F=R,t.addRoute(F,$)}function w(R){const H=t.getRecordMatcher(R);H&&t.removeRoute(H)}function _(){return t.getRoutes().map(R=>R.record)}function v(R){return!!t.getRecordMatcher(R)}function C(R,H){if(H=oe({},H||c.value),typeof R=="string"){const p=Oi(s,R,H.path),y=t.resolve({path:p.path},H),P=r.createHref(p.fullPath);return oe(p,y,{params:h(y.params),hash:Wn(p.hash),redirectedFrom:void 0,href:P})}let $;if(R.path!=null)$=oe({},R,{path:Oi(s,R.path,H.path).path});else{const p=oe({},R.params);for(const y in p)p[y]==null&&delete p[y];$=oe({},R,{params:d(p)}),H.params=d(H.params)}const F=t.resolve($,H),ue=R.hash||"";F.params=u(h(F.params));const ve=ab(n,oe({},R,{hash:tb(ue),path:F.path})),f=r.createHref(ve);return oe({fullPath:ve,hash:ue,query:n===oc?$b(R.query):R.query||{}},F,{redirectedFrom:void 0,href:f})}function m(R){return typeof R=="string"?Oi(s,R,c.value.path):oe({},R)}function b(R,H){if(l!==R)return on(8,{from:H,to:R})}function x(R){return U(R)}function O(R){return x(oe(m(R),{replace:!0}))}function D(R){const H=R.matched[R.matched.length-1];if(H&&H.redirect){const{redirect:$}=H;let F=typeof $=="function"?$(R):$;return typeof F=="string"&&(F=F.includes("?")||F.includes("#")?F=m(F):{path:F},F.params={}),oe({query:R.query,hash:R.hash,params:F.path!=null?{}:R.params},F)}}function U(R,H){const $=l=C(R),F=c.value,ue=R.state,ve=R.force,f=R.replace===!0,p=D($);if(p)return U(oe(m(p),{state:typeof p=="object"?oe({},ue,p.state):ue,force:ve,replace:f}),H||$);const y=$;y.redirectedFrom=H;let P;return!ve&&cb(n,F,$)&&(P=on(16,{to:y,from:F}),pe(F,F,!0,!1)),(P?Promise.resolve(P):se(y,F)).catch(T=>Ut(T)?Ut(T,2)?T:he(T):te(T,y,F)).then(T=>{if(T){if(Ut(T,2))return U(oe({replace:f},m(T.to),{state:typeof T.to=="object"?oe({},ue,T.to.state):ue,force:ve}),H||y)}else T=le(y,F,!0,f,ue);return ne(y,F,T),T})}function q(R,H){const $=b(R,H);return $?Promise.reject($):Promise.resolve()}function I(R){const H=Be.values().next().value;return H&&typeof H.runWithContext=="function"?H.runWithContext(R):R()}function se(R,H){let $;const[F,ue,ve]=Kb(R,H);$=Ai(F.reverse(),"beforeRouteLeave",R,H);for(const p of F)p.leaveGuards.forEach(y=>{$.push(Xt(y,R,H))});const f=q.bind(null,R,H);return $.push(f),Ie($).then(()=>{$=[];for(const p of i.list())$.push(Xt(p,R,H));return $.push(f),Ie($)}).then(()=>{$=Ai(ue,"beforeRouteUpdate",R,H);for(const p of ue)p.updateGuards.forEach(y=>{$.push(Xt(y,R,H))});return $.push(f),Ie($)}).then(()=>{$=[];for(const p of ve)if(p.beforeEnter)if(wt(p.beforeEnter))for(const y of p.beforeEnter)$.push(Xt(y,R,H));else $.push(Xt(p.beforeEnter,R,H));return $.push(f),Ie($)}).then(()=>(R.matched.forEach(p=>p.enterCallbacks={}),$=Ai(ve,"beforeRouteEnter",R,H,I),$.push(f),Ie($))).then(()=>{$=[];for(const p of o.list())$.push(Xt(p,R,H));return $.push(f),Ie($)}).catch(p=>Ut(p,8)?p:Promise.reject(p))}function ne(R,H,$){a.list().forEach(F=>I(()=>F(R,H,$)))}function le(R,H,$,F,ue){const ve=b(R,H);if(ve)return ve;const f=H===zt,p=Is?history.state:{};$&&(F||f?r.replace(R.fullPath,oe({scroll:f&&p&&p.scroll},ue)):r.push(R.fullPath,ue)),c.value=R,pe(R,H,$,f),he()}let ye;function Ve(){ye||(ye=r.listen((R,H,$)=>{if(!$e.listening)return;const F=C(R),ue=D(F);if(ue){U(oe(ue,{replace:!0,force:!0}),F).catch(jn);return}l=F;const ve=c.value;Is&&mb(Qa(ve.fullPath,$.delta),ni()),se(F,ve).catch(f=>Ut(f,12)?f:Ut(f,2)?(U(oe(m(f.to),{force:!0}),F).then(p=>{Ut(p,20)&&!$.delta&&$.type===zn.pop&&r.go(-1,!1)}).catch(jn),Promise.reject()):($.delta&&r.go(-$.delta,!1),te(f,F,ve))).then(f=>{f=f||le(F,ve,!1),f&&($.delta&&!Ut(f,8)?r.go(-$.delta,!1):$.type===zn.pop&&Ut(f,20)&&r.go(-1,!1)),ne(F,ve,f)}).catch(jn)}))}let Oe=wn(),fe=wn(),ee;function te(R,H,$){he(R);const F=fe.list();return F.length?F.forEach(ue=>ue(R,H,$)):console.error(R),Promise.reject(R)}function Ne(){return ee&&c.value!==zt?Promise.resolve():new Promise((R,H)=>{Oe.add([R,H])})}function he(R){return ee||(ee=!R,Ve(),Oe.list().forEach(([H,$])=>R?$(R):H()),Oe.reset()),R}function pe(R,H,$,F){const{scrollBehavior:ue}=e;if(!Is||!ue)return Promise.resolve();const ve=!$&&wb(Qa(R.fullPath,0))||(F||!$)&&history.state&&history.state.scroll||null;return Bl().then(()=>ue(R,H,ve)).then(f=>f&&gb(f)).catch(f=>te(f,R,H))}const ge=R=>r.go(R);let Ae;const Be=new Set,$e={currentRoute:c,listening:!0,addRoute:g,removeRoute:w,clearRoutes:t.clearRoutes,hasRoute:v,getRoutes:_,resolve:C,options:e,push:x,replace:O,go:ge,back:()=>ge(-1),forward:()=>ge(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:fe.add,isReady:Ne,install(R){const H=this;R.component("RouterLink",qb),R.component("RouterView",zb),R.config.globalProperties.$router=H,Object.defineProperty(R.config.globalProperties,"$route",{enumerable:!0,get:()=>js(c)}),Is&&!Ae&&c.value===zt&&(Ae=!0,x(r.location).catch(ue=>{}));const $={};for(const ue in zt)Object.defineProperty($,ue,{get:()=>c.value[ue],enumerable:!0});R.provide(ri,H),R.provide(Fu,Nl($)),R.provide(ao,c);const F=R.unmount;Be.add(R),R.unmount=function(){Be.delete(R),Be.size<1&&(l=zt,ye&&ye(),ye=null,c.value=zt,Ae=!1,ee=!1),F()}}};function Ie(R){return R.reduce((H,$)=>H.then(()=>I($)),Promise.resolve())}return $e}function Kb(e,t){const s=[],n=[],r=[],i=Math.max(t.matched.length,e.matched.length);for(let o=0;o<i;o++){const a=t.matched[o];a&&(e.matched.find(l=>rn(l,a))?n.push(a):s.push(a));const c=e.matched[o];c&&(t.matched.find(l=>rn(l,c))||r.push(c))}return[s,n,r]}function Gb(){return mt(ri)}function Wu(e,t){return function(){return e.apply(t,arguments)}}const{toString:Jb}=Object.prototype,{getPrototypeOf:Go}=Object,ii=(e=>t=>{const s=Jb.call(t);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),_t=e=>(e=e.toLowerCase(),t=>ii(t)===e),oi=e=>t=>typeof t===e,{isArray:un}=Array,Vn=oi("undefined");function Xb(e){return e!==null&&!Vn(e)&&e.constructor!==null&&!Vn(e.constructor)&&it(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const zu=_t("ArrayBuffer");function Qb(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&zu(e.buffer),t}const Yb=oi("string"),it=oi("function"),Vu=oi("number"),ai=e=>e!==null&&typeof e=="object",Zb=e=>e===!0||e===!1,Er=e=>{if(ii(e)!=="object")return!1;const t=Go(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},ey=_t("Date"),ty=_t("File"),sy=_t("Blob"),ny=_t("FileList"),ry=e=>ai(e)&&it(e.pipe),iy=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||it(e.append)&&((t=ii(e))==="formdata"||t==="object"&&it(e.toString)&&e.toString()==="[object FormData]"))},oy=_t("URLSearchParams"),[ay,cy,ly,uy]=["ReadableStream","Request","Response","Headers"].map(_t),dy=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function lr(e,t,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let n,r;if(typeof e!="object"&&(e=[e]),un(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const i=s?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let a;for(n=0;n<o;n++)a=i[n],t.call(null,e[a],a,e)}}function Ku(e,t){t=t.toLowerCase();const s=Object.keys(e);let n=s.length,r;for(;n-- >0;)if(r=s[n],t===r.toLowerCase())return r;return null}const fs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Gu=e=>!Vn(e)&&e!==fs;function co(){const{caseless:e}=Gu(this)&&this||{},t={},s=(n,r)=>{const i=e&&Ku(t,r)||r;Er(t[i])&&Er(n)?t[i]=co(t[i],n):Er(n)?t[i]=co({},n):un(n)?t[i]=n.slice():t[i]=n};for(let n=0,r=arguments.length;n<r;n++)arguments[n]&&lr(arguments[n],s);return t}const fy=(e,t,s,{allOwnKeys:n}={})=>(lr(t,(r,i)=>{s&&it(r)?e[i]=Wu(r,s):e[i]=r},{allOwnKeys:n}),e),hy=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),py=(e,t,s,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},gy=(e,t,s,n)=>{let r,i,o;const a={};if(t=t||{},e==null)return t;do{for(r=Object.getOwnPropertyNames(e),i=r.length;i-- >0;)o=r[i],(!n||n(o,e,t))&&!a[o]&&(t[o]=e[o],a[o]=!0);e=s!==!1&&Go(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},my=(e,t,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=t.length;const n=e.indexOf(t,s);return n!==-1&&n===s},wy=e=>{if(!e)return null;if(un(e))return e;let t=e.length;if(!Vu(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},_y=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Go(Uint8Array)),by=(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const i=r.value;t.call(e,i[0],i[1])}},yy=(e,t)=>{let s;const n=[];for(;(s=e.exec(t))!==null;)n.push(s);return n},vy=_t("HTMLFormElement"),Sy=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,n,r){return n.toUpperCase()+r}),fc=(({hasOwnProperty:e})=>(t,s)=>e.call(t,s))(Object.prototype),Ey=_t("RegExp"),Ju=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),n={};lr(s,(r,i)=>{let o;(o=t(r,i,e))!==!1&&(n[i]=o||r)}),Object.defineProperties(e,n)},xy=e=>{Ju(e,(t,s)=>{if(it(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const n=e[s];if(it(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},Ry=(e,t)=>{const s={},n=r=>{r.forEach(i=>{s[i]=!0})};return un(e)?n(e):n(String(e).split(t)),s},Ty=()=>{},Cy=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Py(e){return!!(e&&it(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const ky=e=>{const t=new Array(10),s=(n,r)=>{if(ai(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[r]=n;const i=un(n)?[]:{};return lr(n,(o,a)=>{const c=s(o,r+1);!Vn(c)&&(i[a]=c)}),t[r]=void 0,i}}return n};return s(e,0)},Oy=_t("AsyncFunction"),Ay=e=>e&&(ai(e)||it(e))&&it(e.then)&&it(e.catch),Xu=((e,t)=>e?setImmediate:t?((s,n)=>(fs.addEventListener("message",({source:r,data:i})=>{r===fs&&i===s&&n.length&&n.shift()()},!1),r=>{n.push(r),fs.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",it(fs.postMessage)),Iy=typeof queueMicrotask<"u"?queueMicrotask.bind(fs):typeof process<"u"&&process.nextTick||Xu,E={isArray:un,isArrayBuffer:zu,isBuffer:Xb,isFormData:iy,isArrayBufferView:Qb,isString:Yb,isNumber:Vu,isBoolean:Zb,isObject:ai,isPlainObject:Er,isReadableStream:ay,isRequest:cy,isResponse:ly,isHeaders:uy,isUndefined:Vn,isDate:ey,isFile:ty,isBlob:sy,isRegExp:Ey,isFunction:it,isStream:ry,isURLSearchParams:oy,isTypedArray:_y,isFileList:ny,forEach:lr,merge:co,extend:fy,trim:dy,stripBOM:hy,inherits:py,toFlatObject:gy,kindOf:ii,kindOfTest:_t,endsWith:my,toArray:wy,forEachEntry:by,matchAll:yy,isHTMLForm:vy,hasOwnProperty:fc,hasOwnProp:fc,reduceDescriptors:Ju,freezeMethods:xy,toObjectSet:Ry,toCamelCase:Sy,noop:Ty,toFiniteNumber:Cy,findKey:Ku,global:fs,isContextDefined:Gu,isSpecCompliantForm:Py,toJSONObject:ky,isAsyncFn:Oy,isThenable:Ay,setImmediate:Xu,asap:Iy};function Y(e,t,s,n,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),n&&(this.request=n),r&&(this.response=r,this.status=r.status?r.status:null)}E.inherits(Y,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:E.toJSONObject(this.config),code:this.code,status:this.status}}});const Qu=Y.prototype,Yu={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Yu[e]={value:e}});Object.defineProperties(Y,Yu);Object.defineProperty(Qu,"isAxiosError",{value:!0});Y.from=(e,t,s,n,r,i)=>{const o=Object.create(Qu);return E.toFlatObject(e,o,function(c){return c!==Error.prototype},a=>a!=="isAxiosError"),Y.call(o,e.message,t,s,n,r),o.cause=e,o.name=e.name,i&&Object.assign(o,i),o};const Uy=null;function lo(e){return E.isPlainObject(e)||E.isArray(e)}function Zu(e){return E.endsWith(e,"[]")?e.slice(0,-2):e}function hc(e,t,s){return e?e.concat(t).map(function(r,i){return r=Zu(r),!s&&i?"["+r+"]":r}).join(s?".":""):t}function Ly(e){return E.isArray(e)&&!e.some(lo)}const jy=E.toFlatObject(E,{},null,function(t){return/^is[A-Z]/.test(t)});function ci(e,t,s){if(!E.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,s=E.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_,v){return!E.isUndefined(v[_])});const n=s.metaTokens,r=s.visitor||u,i=s.dots,o=s.indexes,c=(s.Blob||typeof Blob<"u"&&Blob)&&E.isSpecCompliantForm(t);if(!E.isFunction(r))throw new TypeError("visitor must be a function");function l(w){if(w===null)return"";if(E.isDate(w))return w.toISOString();if(!c&&E.isBlob(w))throw new Y("Blob is not supported. Use a Buffer instead.");return E.isArrayBuffer(w)||E.isTypedArray(w)?c&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function u(w,_,v){let C=w;if(w&&!v&&typeof w=="object"){if(E.endsWith(_,"{}"))_=n?_:_.slice(0,-2),w=JSON.stringify(w);else if(E.isArray(w)&&Ly(w)||(E.isFileList(w)||E.endsWith(_,"[]"))&&(C=E.toArray(w)))return _=Zu(_),C.forEach(function(b,x){!(E.isUndefined(b)||b===null)&&t.append(o===!0?hc([_],x,i):o===null?_:_+"[]",l(b))}),!1}return lo(w)?!0:(t.append(hc(v,_,i),l(w)),!1)}const d=[],h=Object.assign(jy,{defaultVisitor:u,convertValue:l,isVisitable:lo});function g(w,_){if(!E.isUndefined(w)){if(d.indexOf(w)!==-1)throw Error("Circular reference detected in "+_.join("."));d.push(w),E.forEach(w,function(C,m){(!(E.isUndefined(C)||C===null)&&r.call(t,C,E.isString(m)?m.trim():m,_,h))===!0&&g(C,_?_.concat(m):[m])}),d.pop()}}if(!E.isObject(e))throw new TypeError("data must be an object");return g(e),t}function pc(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Jo(e,t){this._pairs=[],e&&ci(e,this,t)}const ed=Jo.prototype;ed.append=function(t,s){this._pairs.push([t,s])};ed.toString=function(t){const s=t?function(n){return t.call(this,n,pc)}:pc;return this._pairs.map(function(r){return s(r[0])+"="+s(r[1])},"").join("&")};function Ny(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function td(e,t,s){if(!t)return e;const n=s&&s.encode||Ny;E.isFunction(s)&&(s={serialize:s});const r=s&&s.serialize;let i;if(r?i=r(t,s):i=E.isURLSearchParams(t)?t.toString():new Jo(t,s).toString(n),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class gc{constructor(){this.handlers=[]}use(t,s,n){return this.handlers.push({fulfilled:t,rejected:s,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){E.forEach(this.handlers,function(n){n!==null&&t(n)})}}const sd={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},$y=typeof URLSearchParams<"u"?URLSearchParams:Jo,My=typeof FormData<"u"?FormData:null,Dy=typeof Blob<"u"?Blob:null,Hy={isBrowser:!0,classes:{URLSearchParams:$y,FormData:My,Blob:Dy},protocols:["http","https","file","blob","url","data"]},Xo=typeof window<"u"&&typeof document<"u",uo=typeof navigator=="object"&&navigator||void 0,qy=Xo&&(!uo||["ReactNative","NativeScript","NS"].indexOf(uo.product)<0),By=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Fy=Xo&&window.location.href||"http://localhost",Wy=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Xo,hasStandardBrowserEnv:qy,hasStandardBrowserWebWorkerEnv:By,navigator:uo,origin:Fy},Symbol.toStringTag,{value:"Module"})),He={...Wy,...Hy};function zy(e,t){return ci(e,new He.classes.URLSearchParams,Object.assign({visitor:function(s,n,r,i){return He.isNode&&E.isBuffer(s)?(this.append(n,s.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}function Vy(e){return E.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Ky(e){const t={},s=Object.keys(e);let n;const r=s.length;let i;for(n=0;n<r;n++)i=s[n],t[i]=e[i];return t}function nd(e){function t(s,n,r,i){let o=s[i++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),c=i>=s.length;return o=!o&&E.isArray(r)?r.length:o,c?(E.hasOwnProp(r,o)?r[o]=[r[o],n]:r[o]=n,!a):((!r[o]||!E.isObject(r[o]))&&(r[o]=[]),t(s,n,r[o],i)&&E.isArray(r[o])&&(r[o]=Ky(r[o])),!a)}if(E.isFormData(e)&&E.isFunction(e.entries)){const s={};return E.forEachEntry(e,(n,r)=>{t(Vy(n),r,s,0)}),s}return null}function Gy(e,t,s){if(E.isString(e))try{return(t||JSON.parse)(e),E.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(0,JSON.stringify)(e)}const ur={transitional:sd,adapter:["xhr","http","fetch"],transformRequest:[function(t,s){const n=s.getContentType()||"",r=n.indexOf("application/json")>-1,i=E.isObject(t);if(i&&E.isHTMLForm(t)&&(t=new FormData(t)),E.isFormData(t))return r?JSON.stringify(nd(t)):t;if(E.isArrayBuffer(t)||E.isBuffer(t)||E.isStream(t)||E.isFile(t)||E.isBlob(t)||E.isReadableStream(t))return t;if(E.isArrayBufferView(t))return t.buffer;if(E.isURLSearchParams(t))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return zy(t,this.formSerializer).toString();if((a=E.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return ci(a?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||r?(s.setContentType("application/json",!1),Gy(t)):t}],transformResponse:[function(t){const s=this.transitional||ur.transitional,n=s&&s.forcedJSONParsing,r=this.responseType==="json";if(E.isResponse(t)||E.isReadableStream(t))return t;if(t&&E.isString(t)&&(n&&!this.responseType||r)){const o=!(s&&s.silentJSONParsing)&&r;try{return JSON.parse(t)}catch(a){if(o)throw a.name==="SyntaxError"?Y.from(a,Y.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:He.classes.FormData,Blob:He.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};E.forEach(["delete","get","head","post","put","patch"],e=>{ur.headers[e]={}});const Jy=E.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Xy=e=>{const t={};let s,n,r;return e&&e.split(`
`).forEach(function(o){r=o.indexOf(":"),s=o.substring(0,r).trim().toLowerCase(),n=o.substring(r+1).trim(),!(!s||t[s]&&Jy[s])&&(s==="set-cookie"?t[s]?t[s].push(n):t[s]=[n]:t[s]=t[s]?t[s]+", "+n:n)}),t},mc=Symbol("internals");function _n(e){return e&&String(e).trim().toLowerCase()}function xr(e){return e===!1||e==null?e:E.isArray(e)?e.map(xr):String(e)}function Qy(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=s.exec(e);)t[n[1]]=n[2];return t}const Yy=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Ii(e,t,s,n,r){if(E.isFunction(n))return n.call(this,t,s);if(r&&(t=s),!!E.isString(t)){if(E.isString(n))return t.indexOf(n)!==-1;if(E.isRegExp(n))return n.test(t)}}function Zy(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,s,n)=>s.toUpperCase()+n)}function ev(e,t){const s=E.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+s,{value:function(r,i,o){return this[n].call(this,t,r,i,o)},configurable:!0})})}class Ge{constructor(t){t&&this.set(t)}set(t,s,n){const r=this;function i(a,c,l){const u=_n(c);if(!u)throw new Error("header name must be a non-empty string");const d=E.findKey(r,u);(!d||r[d]===void 0||l===!0||l===void 0&&r[d]!==!1)&&(r[d||c]=xr(a))}const o=(a,c)=>E.forEach(a,(l,u)=>i(l,u,c));if(E.isPlainObject(t)||t instanceof this.constructor)o(t,s);else if(E.isString(t)&&(t=t.trim())&&!Yy(t))o(Xy(t),s);else if(E.isHeaders(t))for(const[a,c]of t.entries())i(c,a,n);else t!=null&&i(s,t,n);return this}get(t,s){if(t=_n(t),t){const n=E.findKey(this,t);if(n){const r=this[n];if(!s)return r;if(s===!0)return Qy(r);if(E.isFunction(s))return s.call(this,r,n);if(E.isRegExp(s))return s.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,s){if(t=_n(t),t){const n=E.findKey(this,t);return!!(n&&this[n]!==void 0&&(!s||Ii(this,this[n],n,s)))}return!1}delete(t,s){const n=this;let r=!1;function i(o){if(o=_n(o),o){const a=E.findKey(n,o);a&&(!s||Ii(n,n[a],a,s))&&(delete n[a],r=!0)}}return E.isArray(t)?t.forEach(i):i(t),r}clear(t){const s=Object.keys(this);let n=s.length,r=!1;for(;n--;){const i=s[n];(!t||Ii(this,this[i],i,t,!0))&&(delete this[i],r=!0)}return r}normalize(t){const s=this,n={};return E.forEach(this,(r,i)=>{const o=E.findKey(n,i);if(o){s[o]=xr(r),delete s[i];return}const a=t?Zy(i):String(i).trim();a!==i&&delete s[i],s[a]=xr(r),n[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const s=Object.create(null);return E.forEach(this,(n,r)=>{n!=null&&n!==!1&&(s[r]=t&&E.isArray(n)?n.join(", "):n)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,s])=>t+": "+s).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...s){const n=new this(t);return s.forEach(r=>n.set(r)),n}static accessor(t){const n=(this[mc]=this[mc]={accessors:{}}).accessors,r=this.prototype;function i(o){const a=_n(o);n[a]||(ev(r,o),n[a]=!0)}return E.isArray(t)?t.forEach(i):i(t),this}}Ge.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);E.reduceDescriptors(Ge.prototype,({value:e},t)=>{let s=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[s]=n}}});E.freezeMethods(Ge);function Ui(e,t){const s=this||ur,n=t||s,r=Ge.from(n.headers);let i=n.data;return E.forEach(e,function(a){i=a.call(s,i,r.normalize(),t?t.status:void 0)}),r.normalize(),i}function rd(e){return!!(e&&e.__CANCEL__)}function dn(e,t,s){Y.call(this,e??"canceled",Y.ERR_CANCELED,t,s),this.name="CanceledError"}E.inherits(dn,Y,{__CANCEL__:!0});function id(e,t,s){const n=s.config.validateStatus;!s.status||!n||n(s.status)?e(s):t(new Y("Request failed with status code "+s.status,[Y.ERR_BAD_REQUEST,Y.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function tv(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function sv(e,t){e=e||10;const s=new Array(e),n=new Array(e);let r=0,i=0,o;return t=t!==void 0?t:1e3,function(c){const l=Date.now(),u=n[i];o||(o=l),s[r]=c,n[r]=l;let d=i,h=0;for(;d!==r;)h+=s[d++],d=d%e;if(r=(r+1)%e,r===i&&(i=(i+1)%e),l-o<t)return;const g=u&&l-u;return g?Math.round(h*1e3/g):void 0}}function nv(e,t){let s=0,n=1e3/t,r,i;const o=(l,u=Date.now())=>{s=u,r=null,i&&(clearTimeout(i),i=null),e.apply(null,l)};return[(...l)=>{const u=Date.now(),d=u-s;d>=n?o(l,u):(r=l,i||(i=setTimeout(()=>{i=null,o(r)},n-d)))},()=>r&&o(r)]}const $r=(e,t,s=3)=>{let n=0;const r=sv(50,250);return nv(i=>{const o=i.loaded,a=i.lengthComputable?i.total:void 0,c=o-n,l=r(c),u=o<=a;n=o;const d={loaded:o,total:a,progress:a?o/a:void 0,bytes:c,rate:l||void 0,estimated:l&&a&&u?(a-o)/l:void 0,event:i,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(d)},s)},wc=(e,t)=>{const s=e!=null;return[n=>t[0]({lengthComputable:s,total:e,loaded:n}),t[1]]},_c=e=>(...t)=>E.asap(()=>e(...t)),rv=He.hasStandardBrowserEnv?((e,t)=>s=>(s=new URL(s,He.origin),e.protocol===s.protocol&&e.host===s.host&&(t||e.port===s.port)))(new URL(He.origin),He.navigator&&/(msie|trident)/i.test(He.navigator.userAgent)):()=>!0,iv=He.hasStandardBrowserEnv?{write(e,t,s,n,r,i){const o=[e+"="+encodeURIComponent(t)];E.isNumber(s)&&o.push("expires="+new Date(s).toGMTString()),E.isString(n)&&o.push("path="+n),E.isString(r)&&o.push("domain="+r),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function ov(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function av(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function od(e,t,s){let n=!ov(t);return e&&(n||s==!1)?av(e,t):t}const bc=e=>e instanceof Ge?{...e}:e;function Rs(e,t){t=t||{};const s={};function n(l,u,d,h){return E.isPlainObject(l)&&E.isPlainObject(u)?E.merge.call({caseless:h},l,u):E.isPlainObject(u)?E.merge({},u):E.isArray(u)?u.slice():u}function r(l,u,d,h){if(E.isUndefined(u)){if(!E.isUndefined(l))return n(void 0,l,d,h)}else return n(l,u,d,h)}function i(l,u){if(!E.isUndefined(u))return n(void 0,u)}function o(l,u){if(E.isUndefined(u)){if(!E.isUndefined(l))return n(void 0,l)}else return n(void 0,u)}function a(l,u,d){if(d in t)return n(l,u);if(d in e)return n(void 0,l)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(l,u,d)=>r(bc(l),bc(u),d,!0)};return E.forEach(Object.keys(Object.assign({},e,t)),function(u){const d=c[u]||r,h=d(e[u],t[u],u);E.isUndefined(h)&&d!==a||(s[u]=h)}),s}const ad=e=>{const t=Rs({},e);let{data:s,withXSRFToken:n,xsrfHeaderName:r,xsrfCookieName:i,headers:o,auth:a}=t;t.headers=o=Ge.from(o),t.url=td(od(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let c;if(E.isFormData(s)){if(He.hasStandardBrowserEnv||He.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[l,...u]=c?c.split(";").map(d=>d.trim()).filter(Boolean):[];o.setContentType([l||"multipart/form-data",...u].join("; "))}}if(He.hasStandardBrowserEnv&&(n&&E.isFunction(n)&&(n=n(t)),n||n!==!1&&rv(t.url))){const l=r&&i&&iv.read(i);l&&o.set(r,l)}return t},cv=typeof XMLHttpRequest<"u",lv=cv&&function(e){return new Promise(function(s,n){const r=ad(e);let i=r.data;const o=Ge.from(r.headers).normalize();let{responseType:a,onUploadProgress:c,onDownloadProgress:l}=r,u,d,h,g,w;function _(){g&&g(),w&&w(),r.cancelToken&&r.cancelToken.unsubscribe(u),r.signal&&r.signal.removeEventListener("abort",u)}let v=new XMLHttpRequest;v.open(r.method.toUpperCase(),r.url,!0),v.timeout=r.timeout;function C(){if(!v)return;const b=Ge.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),O={data:!a||a==="text"||a==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:b,config:e,request:v};id(function(U){s(U),_()},function(U){n(U),_()},O),v=null}"onloadend"in v?v.onloadend=C:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(C)},v.onabort=function(){v&&(n(new Y("Request aborted",Y.ECONNABORTED,e,v)),v=null)},v.onerror=function(){n(new Y("Network Error",Y.ERR_NETWORK,e,v)),v=null},v.ontimeout=function(){let x=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const O=r.transitional||sd;r.timeoutErrorMessage&&(x=r.timeoutErrorMessage),n(new Y(x,O.clarifyTimeoutError?Y.ETIMEDOUT:Y.ECONNABORTED,e,v)),v=null},i===void 0&&o.setContentType(null),"setRequestHeader"in v&&E.forEach(o.toJSON(),function(x,O){v.setRequestHeader(O,x)}),E.isUndefined(r.withCredentials)||(v.withCredentials=!!r.withCredentials),a&&a!=="json"&&(v.responseType=r.responseType),l&&([h,w]=$r(l,!0),v.addEventListener("progress",h)),c&&v.upload&&([d,g]=$r(c),v.upload.addEventListener("progress",d),v.upload.addEventListener("loadend",g)),(r.cancelToken||r.signal)&&(u=b=>{v&&(n(!b||b.type?new dn(null,e,v):b),v.abort(),v=null)},r.cancelToken&&r.cancelToken.subscribe(u),r.signal&&(r.signal.aborted?u():r.signal.addEventListener("abort",u)));const m=tv(r.url);if(m&&He.protocols.indexOf(m)===-1){n(new Y("Unsupported protocol "+m+":",Y.ERR_BAD_REQUEST,e));return}v.send(i||null)})},uv=(e,t)=>{const{length:s}=e=e?e.filter(Boolean):[];if(t||s){let n=new AbortController,r;const i=function(l){if(!r){r=!0,a();const u=l instanceof Error?l:this.reason;n.abort(u instanceof Y?u:new dn(u instanceof Error?u.message:u))}};let o=t&&setTimeout(()=>{o=null,i(new Y(`timeout ${t} of ms exceeded`,Y.ETIMEDOUT))},t);const a=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(l=>{l.unsubscribe?l.unsubscribe(i):l.removeEventListener("abort",i)}),e=null)};e.forEach(l=>l.addEventListener("abort",i));const{signal:c}=n;return c.unsubscribe=()=>E.asap(a),c}},dv=function*(e,t){let s=e.byteLength;if(s<t){yield e;return}let n=0,r;for(;n<s;)r=n+t,yield e.slice(n,r),n=r},fv=async function*(e,t){for await(const s of hv(e))yield*dv(s,t)},hv=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:s,value:n}=await t.read();if(s)break;yield n}}finally{await t.cancel()}},yc=(e,t,s,n)=>{const r=fv(e,t);let i=0,o,a=c=>{o||(o=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:l,value:u}=await r.next();if(l){a(),c.close();return}let d=u.byteLength;if(s){let h=i+=d;s(h)}c.enqueue(new Uint8Array(u))}catch(l){throw a(l),l}},cancel(c){return a(c),r.return()}},{highWaterMark:2})},li=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",cd=li&&typeof ReadableStream=="function",pv=li&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),ld=(e,...t)=>{try{return!!e(...t)}catch{return!1}},gv=cd&&ld(()=>{let e=!1;const t=new Request(He.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),vc=64*1024,fo=cd&&ld(()=>E.isReadableStream(new Response("").body)),Mr={stream:fo&&(e=>e.body)};li&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Mr[t]&&(Mr[t]=E.isFunction(e[t])?s=>s[t]():(s,n)=>{throw new Y(`Response type '${t}' is not supported`,Y.ERR_NOT_SUPPORT,n)})})})(new Response);const mv=async e=>{if(e==null)return 0;if(E.isBlob(e))return e.size;if(E.isSpecCompliantForm(e))return(await new Request(He.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(E.isArrayBufferView(e)||E.isArrayBuffer(e))return e.byteLength;if(E.isURLSearchParams(e)&&(e=e+""),E.isString(e))return(await pv(e)).byteLength},wv=async(e,t)=>{const s=E.toFiniteNumber(e.getContentLength());return s??mv(t)},_v=li&&(async e=>{let{url:t,method:s,data:n,signal:r,cancelToken:i,timeout:o,onDownloadProgress:a,onUploadProgress:c,responseType:l,headers:u,withCredentials:d="same-origin",fetchOptions:h}=ad(e);l=l?(l+"").toLowerCase():"text";let g=uv([r,i&&i.toAbortSignal()],o),w;const _=g&&g.unsubscribe&&(()=>{g.unsubscribe()});let v;try{if(c&&gv&&s!=="get"&&s!=="head"&&(v=await wv(u,n))!==0){let O=new Request(t,{method:"POST",body:n,duplex:"half"}),D;if(E.isFormData(n)&&(D=O.headers.get("content-type"))&&u.setContentType(D),O.body){const[U,q]=wc(v,$r(_c(c)));n=yc(O.body,vc,U,q)}}E.isString(d)||(d=d?"include":"omit");const C="credentials"in Request.prototype;w=new Request(t,{...h,signal:g,method:s.toUpperCase(),headers:u.normalize().toJSON(),body:n,duplex:"half",credentials:C?d:void 0});let m=await fetch(w);const b=fo&&(l==="stream"||l==="response");if(fo&&(a||b&&_)){const O={};["status","statusText","headers"].forEach(I=>{O[I]=m[I]});const D=E.toFiniteNumber(m.headers.get("content-length")),[U,q]=a&&wc(D,$r(_c(a),!0))||[];m=new Response(yc(m.body,vc,U,()=>{q&&q(),_&&_()}),O)}l=l||"text";let x=await Mr[E.findKey(Mr,l)||"text"](m,e);return!b&&_&&_(),await new Promise((O,D)=>{id(O,D,{data:x,headers:Ge.from(m.headers),status:m.status,statusText:m.statusText,config:e,request:w})})}catch(C){throw _&&_(),C&&C.name==="TypeError"&&/fetch/i.test(C.message)?Object.assign(new Y("Network Error",Y.ERR_NETWORK,e,w),{cause:C.cause||C}):Y.from(C,C&&C.code,e,w)}}),ho={http:Uy,xhr:lv,fetch:_v};E.forEach(ho,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Sc=e=>`- ${e}`,bv=e=>E.isFunction(e)||e===null||e===!1,ud={getAdapter:e=>{e=E.isArray(e)?e:[e];const{length:t}=e;let s,n;const r={};for(let i=0;i<t;i++){s=e[i];let o;if(n=s,!bv(s)&&(n=ho[(o=String(s)).toLowerCase()],n===void 0))throw new Y(`Unknown adapter '${o}'`);if(n)break;r[o||"#"+i]=n}if(!n){const i=Object.entries(r).map(([a,c])=>`adapter ${a} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=t?i.length>1?`since :
`+i.map(Sc).join(`
`):" "+Sc(i[0]):"as no adapter specified";throw new Y("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:ho};function Li(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new dn(null,e)}function Ec(e){return Li(e),e.headers=Ge.from(e.headers),e.data=Ui.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),ud.getAdapter(e.adapter||ur.adapter)(e).then(function(n){return Li(e),n.data=Ui.call(e,e.transformResponse,n),n.headers=Ge.from(n.headers),n},function(n){return rd(n)||(Li(e),n&&n.response&&(n.response.data=Ui.call(e,e.transformResponse,n.response),n.response.headers=Ge.from(n.response.headers))),Promise.reject(n)})}const dd="1.8.4",ui={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{ui[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const xc={};ui.transitional=function(t,s,n){function r(i,o){return"[Axios v"+dd+"] Transitional option '"+i+"'"+o+(n?". "+n:"")}return(i,o,a)=>{if(t===!1)throw new Y(r(o," has been removed"+(s?" in "+s:"")),Y.ERR_DEPRECATED);return s&&!xc[o]&&(xc[o]=!0,console.warn(r(o," has been deprecated since v"+s+" and will be removed in the near future"))),t?t(i,o,a):!0}};ui.spelling=function(t){return(s,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function yv(e,t,s){if(typeof e!="object")throw new Y("options must be an object",Y.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let r=n.length;for(;r-- >0;){const i=n[r],o=t[i];if(o){const a=e[i],c=a===void 0||o(a,i,e);if(c!==!0)throw new Y("option "+i+" must be "+c,Y.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new Y("Unknown option "+i,Y.ERR_BAD_OPTION)}}const Rr={assertOptions:yv,validators:ui},vt=Rr.validators;class vs{constructor(t){this.defaults=t,this.interceptors={request:new gc,response:new gc}}async request(t,s){try{return await this._request(t,s)}catch(n){if(n instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const i=r.stack?r.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(t,s){typeof t=="string"?(s=s||{},s.url=t):s=t||{},s=Rs(this.defaults,s);const{transitional:n,paramsSerializer:r,headers:i}=s;n!==void 0&&Rr.assertOptions(n,{silentJSONParsing:vt.transitional(vt.boolean),forcedJSONParsing:vt.transitional(vt.boolean),clarifyTimeoutError:vt.transitional(vt.boolean)},!1),r!=null&&(E.isFunction(r)?s.paramsSerializer={serialize:r}:Rr.assertOptions(r,{encode:vt.function,serialize:vt.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),Rr.assertOptions(s,{baseUrl:vt.spelling("baseURL"),withXsrfToken:vt.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let o=i&&E.merge(i.common,i[s.method]);i&&E.forEach(["delete","get","head","post","put","patch","common"],w=>{delete i[w]}),s.headers=Ge.concat(o,i);const a=[];let c=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(s)===!1||(c=c&&_.synchronous,a.unshift(_.fulfilled,_.rejected))});const l=[];this.interceptors.response.forEach(function(_){l.push(_.fulfilled,_.rejected)});let u,d=0,h;if(!c){const w=[Ec.bind(this),void 0];for(w.unshift.apply(w,a),w.push.apply(w,l),h=w.length,u=Promise.resolve(s);d<h;)u=u.then(w[d++],w[d++]);return u}h=a.length;let g=s;for(d=0;d<h;){const w=a[d++],_=a[d++];try{g=w(g)}catch(v){_.call(this,v);break}}try{u=Ec.call(this,g)}catch(w){return Promise.reject(w)}for(d=0,h=l.length;d<h;)u=u.then(l[d++],l[d++]);return u}getUri(t){t=Rs(this.defaults,t);const s=od(t.baseURL,t.url,t.allowAbsoluteUrls);return td(s,t.params,t.paramsSerializer)}}E.forEach(["delete","get","head","options"],function(t){vs.prototype[t]=function(s,n){return this.request(Rs(n||{},{method:t,url:s,data:(n||{}).data}))}});E.forEach(["post","put","patch"],function(t){function s(n){return function(i,o,a){return this.request(Rs(a||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}vs.prototype[t]=s(),vs.prototype[t+"Form"]=s(!0)});class Qo{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(i){s=i});const n=this;this.promise.then(r=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](r);n._listeners=null}),this.promise.then=r=>{let i;const o=new Promise(a=>{n.subscribe(a),i=a}).then(r);return o.cancel=function(){n.unsubscribe(i)},o},t(function(i,o,a){n.reason||(n.reason=new dn(i,o,a),s(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const s=this._listeners.indexOf(t);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const t=new AbortController,s=n=>{t.abort(n)};return this.subscribe(s),t.signal.unsubscribe=()=>this.unsubscribe(s),t.signal}static source(){let t;return{token:new Qo(function(r){t=r}),cancel:t}}}function vv(e){return function(s){return e.apply(null,s)}}function Sv(e){return E.isObject(e)&&e.isAxiosError===!0}const po={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(po).forEach(([e,t])=>{po[t]=e});function fd(e){const t=new vs(e),s=Wu(vs.prototype.request,t);return E.extend(s,vs.prototype,t,{allOwnKeys:!0}),E.extend(s,t,null,{allOwnKeys:!0}),s.create=function(r){return fd(Rs(e,r))},s}const Re=fd(ur);Re.Axios=vs;Re.CanceledError=dn;Re.CancelToken=Qo;Re.isCancel=rd;Re.VERSION=dd;Re.toFormData=ci;Re.AxiosError=Y;Re.Cancel=Re.CanceledError;Re.all=function(t){return Promise.all(t)};Re.spread=vv;Re.isAxiosError=Sv;Re.mergeConfig=Rs;Re.AxiosHeaders=Ge;Re.formToJSON=e=>nd(E.isHTMLForm(e)?new FormData(e):e);Re.getAdapter=ud.getAdapter;Re.HttpStatusCode=po;Re.default=Re;const Ev=["isRenewing","isAuthenticated"],xv=["isAuthenticated","userProfile","userSession","idToken","idTokenDecoded","accessToken","accessTokenDecoded"],Rv=qo({__name:"DemoView",setup(e){const t=Fg("demoAppPlayground"),s=Gb(),n=async i=>{const{url:o,headers:a}=i.detail;o&&await Re.get(o,{headers:a}).then(c=>{var l;return(l=t.value)==null?void 0:l.setApiStatus(c.data,!1)}).catch(c=>{var l;return(l=t.value)==null?void 0:l.setApiStatus(c,!0)})},r=async(i,o)=>{const{queryParams:a}=o.detail;await s.push({path:i,query:a,force:!0})};return(i,o)=>{const a=Ql("RouterView");return gu(),Lm("demo-app-main",{isRenewing:i.$authService.isRenewingRef.value,isAuthenticated:i.$authService.isAuthenticatedRef.value,onLogin:o[5]||(o[5]=c=>i.$authService.login()),onLogout:o[6]||(o[6]=c=>i.$authService.logout({redirectUrl:"/"})),"on:silentRenew":o[7]||(o[7]=c=>i.$authService.renew())},[Ln("demo-app-playground",{ref:"demoAppPlayground",tabLabel:"Playground",onApi:o[0]||(o[0]=c=>n(c)),onHome:o[1]||(o[1]=c=>r("/",c)),onPublic:o[2]||(o[2]=c=>r("public",c)),onPrivate:o[3]||(o[3]=c=>r("private",c)),onProtected:o[4]||(o[4]=c=>r("protected",c))},[rt(a)],544),Ln("demo-app-debug",{tabLabel:"Debug",isAuthenticated:i.$authService.isAuthenticatedRef.value,userProfile:i.$authService.userProfileRef.value,userSession:i.$authService.userSessionRef.value,idToken:i.$authService.idTokenRef.value,idTokenDecoded:i.$authService.idTokenDecodedRef.value,accessToken:i.$authService.accessTokenRef.value,accessTokenDecoded:i.$authService.accessTokenDecodedRef.value},null,8,xv),o[8]||(o[8]=Ln("demo-app-settings",{tabLabel:"Settings"},null,-1))],40,Ev)}}}),Rc=Vb({history:vb("/auth-js/demo-app/auth-vue/"),routes:[{path:"/",component:Rv,children:[{path:"forbidden",component:()=>pr(()=>import("./PageView-mtBQQcbK.js"),__vite__mapDeps([0,1])),meta:{title:"ACCESS FORBIDDEN"}},{path:"public",component:()=>pr(()=>import("./PageView-mtBQQcbK.js"),__vite__mapDeps([0,1])),meta:{title:"PUBLIC CONTENT"}},{path:"private",component:()=>pr(()=>import("./PageView-mtBQQcbK.js"),__vite__mapDeps([0,1])),meta:{title:"PRIVATE CONTENT",authGuard:!0}},{path:"protected",component:()=>pr(()=>import("./PageView-mtBQQcbK.js"),__vite__mapDeps([0,1])),meta:{title:"PROTECTED CONTENT",authGuard:{validator:$w()}}}]}]});(()=>{window.appSettings=new M_(!1);const e=document.createElement("div");e.innerHTML="Loading...",document.body.appendChild(e),Rw(window.appSettings.getCurrentSettings().librarySettings).then(t=>{e.replaceWith(document.createElement("root"));const s=bw(B_);s.use(t,{router:Rc}),s.use(Rc),s.mount("root")}).catch(t=>{var n;const s=t instanceof Error?t.message:String(t);e.innerHTML=`${s}<br/><button id="loginButton">Login</button>`,(n=document.body.querySelector("#loginButton"))==null||n.addEventListener("click",()=>{location.reload()},{once:!0}),console.error(t)})})();export{D_ as _,Ln as a,Lm as c,gu as o,lg as t};
