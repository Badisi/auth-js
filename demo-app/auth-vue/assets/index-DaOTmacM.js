const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/PageView-Mxqy6L7h.js","assets/PageView-B4iHu5ze.css"])))=>i.map(i=>d[i]);
var gd=Object.defineProperty;var ea=e=>{throw TypeError(e)};var md=(e,t,s)=>t in e?gd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var z=(e,t,s)=>md(e,typeof t!="symbol"?t+"":t,s),hi=(e,t,s)=>t.has(e)||ea("Cannot "+s);var S=(e,t,s)=>(hi(e,t,"read from private field"),s?s.call(e):t.get(e)),K=(e,t,s)=>t.has(e)?ea("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),ie=(e,t,s,n)=>(hi(e,t,"write to private field"),n?n.call(e,s):t.set(e,s),s),F=(e,t,s)=>(hi(e,t,"access private method"),s);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function s(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=s(r);fetch(r.href,i)}})();var pi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Br(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function wd(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var s=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};s.prototype=t.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(s,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}),s}function _d(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var hr={exports:{}};const bd={},vd=Object.freeze(Object.defineProperty({__proto__:null,default:bd},Symbol.toStringTag,{value:"Module"})),yd=wd(vd);var Sd=hr.exports,ta;function Wr(){return ta||(ta=1,function(e,t){(function(s,n){e.exports=n()})(Sd,function(){var s=s||function(n,r){var i;if(typeof window<"u"&&window.crypto&&(i=window.crypto),typeof self<"u"&&self.crypto&&(i=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(i=globalThis.crypto),!i&&typeof window<"u"&&window.msCrypto&&(i=window.msCrypto),!i&&typeof pi<"u"&&pi.crypto&&(i=pi.crypto),!i&&typeof _d=="function")try{i=yd}catch{}var o=function(){if(i){if(typeof i.getRandomValues=="function")try{return i.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof i.randomBytes=="function")try{return i.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},a=Object.create||function(){function m(){}return function(v){var x;return m.prototype=v,x=new m,m.prototype=null,x}}(),l={},c=l.lib={},u=c.Base=function(){return{extend:function(m){var v=a(this);return m&&v.mixIn(m),(!v.hasOwnProperty("init")||this.init===v.init)&&(v.init=function(){v.$super.init.apply(this,arguments)}),v.init.prototype=v,v.$super=this,v},create:function(){var m=this.extend();return m.init.apply(m,arguments),m},init:function(){},mixIn:function(m){for(var v in m)m.hasOwnProperty(v)&&(this[v]=m[v]);m.hasOwnProperty("toString")&&(this.toString=m.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),d=c.WordArray=u.extend({init:function(m,v){m=this.words=m||[],v!=r?this.sigBytes=v:this.sigBytes=m.length*4},toString:function(m){return(m||p).stringify(this)},concat:function(m){var v=this.words,x=m.words,O=this.sigBytes,H=m.sigBytes;if(this.clamp(),O%4)for(var U=0;U<H;U++){var q=x[U>>>2]>>>24-U%4*8&255;v[O+U>>>2]|=q<<24-(O+U)%4*8}else for(var I=0;I<H;I+=4)v[O+I>>>2]=x[I>>>2];return this.sigBytes+=H,this},clamp:function(){var m=this.words,v=this.sigBytes;m[v>>>2]&=4294967295<<32-v%4*8,m.length=n.ceil(v/4)},clone:function(){var m=u.clone.call(this);return m.words=this.words.slice(0),m},random:function(m){for(var v=[],x=0;x<m;x+=4)v.push(o());return new d.init(v,m)}}),f=l.enc={},p=f.Hex={stringify:function(m){for(var v=m.words,x=m.sigBytes,O=[],H=0;H<x;H++){var U=v[H>>>2]>>>24-H%4*8&255;O.push((U>>>4).toString(16)),O.push((U&15).toString(16))}return O.join("")},parse:function(m){for(var v=m.length,x=[],O=0;O<v;O+=2)x[O>>>3]|=parseInt(m.substr(O,2),16)<<24-O%8*4;return new d.init(x,v/2)}},w=f.Latin1={stringify:function(m){for(var v=m.words,x=m.sigBytes,O=[],H=0;H<x;H++){var U=v[H>>>2]>>>24-H%4*8&255;O.push(String.fromCharCode(U))}return O.join("")},parse:function(m){for(var v=m.length,x=[],O=0;O<v;O++)x[O>>>2]|=(m.charCodeAt(O)&255)<<24-O%4*8;return new d.init(x,v)}},_=f.Utf8={stringify:function(m){try{return decodeURIComponent(escape(w.stringify(m)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(m){return w.parse(unescape(encodeURIComponent(m)))}},y=c.BufferedBlockAlgorithm=u.extend({reset:function(){this._data=new d.init,this._nDataBytes=0},_append:function(m){typeof m=="string"&&(m=_.parse(m)),this._data.concat(m),this._nDataBytes+=m.sigBytes},_process:function(m){var v,x=this._data,O=x.words,H=x.sigBytes,U=this.blockSize,q=U*4,I=H/q;m?I=n.ceil(I):I=n.max((I|0)-this._minBufferSize,0);var se=I*U,ne=n.min(se*4,H);if(se){for(var ce=0;ce<se;ce+=U)this._doProcessBlock(O,ce);v=O.splice(0,se),x.sigBytes-=ne}return new d.init(v,ne)},clone:function(){var m=u.clone.call(this);return m._data=this._data.clone(),m},_minBufferSize:0});c.Hasher=y.extend({cfg:u.extend(),init:function(m){this.cfg=this.cfg.extend(m),this.reset()},reset:function(){y.reset.call(this),this._doReset()},update:function(m){return this._append(m),this._process(),this},finalize:function(m){m&&this._append(m);var v=this._doFinalize();return v},blockSize:16,_createHelper:function(m){return function(v,x){return new m.init(x).finalize(v)}},_createHmacHelper:function(m){return function(v,x){return new P.HMAC.init(m,x).finalize(v)}}});var P=l.algo={};return l}(Math);return s})}(hr)),hr.exports}var Ed=Wr();const xd=Br(Ed);var pr={exports:{}},Rd=pr.exports,sa;function Td(){return sa||(sa=1,function(e,t){(function(s,n){e.exports=n(Wr())})(Rd,function(s){return function(n){var r=s,i=r.lib,o=i.WordArray,a=i.Hasher,l=r.algo,c=[],u=[];(function(){function p(P){for(var m=n.sqrt(P),v=2;v<=m;v++)if(!(P%v))return!1;return!0}function w(P){return(P-(P|0))*4294967296|0}for(var _=2,y=0;y<64;)p(_)&&(y<8&&(c[y]=w(n.pow(_,1/2))),u[y]=w(n.pow(_,1/3)),y++),_++})();var d=[],f=l.SHA256=a.extend({_doReset:function(){this._hash=new o.init(c.slice(0))},_doProcessBlock:function(p,w){for(var _=this._hash.words,y=_[0],P=_[1],m=_[2],v=_[3],x=_[4],O=_[5],H=_[6],U=_[7],q=0;q<64;q++){if(q<16)d[q]=p[w+q]|0;else{var I=d[q-15],se=(I<<25|I>>>7)^(I<<14|I>>>18)^I>>>3,ne=d[q-2],ce=(ne<<15|ne>>>17)^(ne<<13|ne>>>19)^ne>>>10;d[q]=se+d[q-7]+ce+d[q-16]}var ve=x&O^~x&H,We=y&P^y&m^P&m,Pe=(y<<30|y>>>2)^(y<<19|y>>>13)^(y<<10|y>>>22),de=(x<<26|x>>>6)^(x<<21|x>>>11)^(x<<7|x>>>25),ee=U+de+ve+u[q]+d[q],te=Pe+We;U=H,H=O,O=x,x=v+ee|0,v=m,m=P,P=y,y=ee+te|0}_[0]=_[0]+y|0,_[1]=_[1]+P|0,_[2]=_[2]+m|0,_[3]=_[3]+v|0,_[4]=_[4]+x|0,_[5]=_[5]+O|0,_[6]=_[6]+H|0,_[7]=_[7]+U|0},_doFinalize:function(){var p=this._data,w=p.words,_=this._nDataBytes*8,y=p.sigBytes*8;return w[y>>>5]|=128<<24-y%32,w[(y+64>>>9<<4)+14]=n.floor(_/4294967296),w[(y+64>>>9<<4)+15]=_,p.sigBytes=w.length*4,this._process(),this._hash},clone:function(){var p=a.clone.call(this);return p._hash=this._hash.clone(),p}});r.SHA256=a._createHelper(f),r.HmacSHA256=a._createHmacHelper(f)}(Math),s.SHA256})}(pr)),pr.exports}var Cd=Td();const Pd=Br(Cd);var gr={exports:{}},kd=gr.exports,na;function Od(){return na||(na=1,function(e,t){(function(s,n){e.exports=n(Wr())})(kd,function(s){return function(){var n=s,r=n.lib,i=r.WordArray,o=n.enc;o.Base64={stringify:function(l){var c=l.words,u=l.sigBytes,d=this._map;l.clamp();for(var f=[],p=0;p<u;p+=3)for(var w=c[p>>>2]>>>24-p%4*8&255,_=c[p+1>>>2]>>>24-(p+1)%4*8&255,y=c[p+2>>>2]>>>24-(p+2)%4*8&255,P=w<<16|_<<8|y,m=0;m<4&&p+m*.75<u;m++)f.push(d.charAt(P>>>6*(3-m)&63));var v=d.charAt(64);if(v)for(;f.length%4;)f.push(v);return f.join("")},parse:function(l){var c=l.length,u=this._map,d=this._reverseMap;if(!d){d=this._reverseMap=[];for(var f=0;f<u.length;f++)d[u.charCodeAt(f)]=f}var p=u.charAt(64);if(p){var w=l.indexOf(p);w!==-1&&(c=w)}return a(l,c,d)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function a(l,c,u){for(var d=[],f=0,p=0;p<c;p++)if(p%4){var w=u[l.charCodeAt(p-1)]<<p%4*2,_=u[l.charCodeAt(p)]>>>6-p%4*2,y=w|_;d[f>>>2]|=y<<24-f%4*8,f++}return i.create(d,f)}}(),s.enc.Base64})}(gr)),gr.exports}var Ad=Od();const ra=Br(Ad);var mr={exports:{}},Id=mr.exports,ia;function Ud(){return ia||(ia=1,function(e,t){(function(s,n){e.exports=n(Wr())})(Id,function(s){return s.enc.Utf8})}(mr)),mr.exports}var Ld=Ud();const Nd=Br(Ld);function Mi(e){this.message=e}Mi.prototype=new Error,Mi.prototype.name="InvalidCharacterError";var oa=typeof window<"u"&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new Mi("'atob' failed: The string to be decoded is not correctly encoded.");for(var s,n,r=0,i=0,o="";n=t.charAt(i++);~n&&(s=r%4?64*s+n:n,r++%4)?o+=String.fromCharCode(255&s>>(-2*r&6)):0)n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(n);return o};function jd(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(s){return decodeURIComponent(oa(s).replace(/(.)/g,function(n,r){var i=r.charCodeAt(0).toString(16).toUpperCase();return i.length<2&&(i="0"+i),"%"+i}))}(t)}catch{return oa(t)}}function Pr(e){this.message=e}function Nl(e,t){if(typeof e!="string")throw new Pr("Invalid token specified");var s=(t=t||{}).header===!0?0:1;try{return JSON.parse(jd(e.split(".")[s]))}catch(n){throw new Pr("Invalid token specified: "+n.message)}}Pr.prototype=new Error,Pr.prototype.name="InvalidTokenError";var Md={debug:()=>{},info:()=>{},warn:()=>{},error:()=>{}},yt,St,Ys=(e=>(e[e.NONE=0]="NONE",e[e.ERROR=1]="ERROR",e[e.WARN=2]="WARN",e[e.INFO=3]="INFO",e[e.DEBUG=4]="DEBUG",e))(Ys||{});(e=>{function t(){yt=3,St=Md}e.reset=t;function s(r){if(!(0<=r&&r<=4))throw new Error("Invalid log level");yt=r}e.setLevel=s;function n(r){St=r}e.setLogger=n})(Ys||(Ys={}));var X=class{constructor(e){this._name=e}debug(...e){yt>=4&&St.debug(X._format(this._name,this._method),...e)}info(...e){yt>=3&&St.info(X._format(this._name,this._method),...e)}warn(...e){yt>=2&&St.warn(X._format(this._name,this._method),...e)}error(...e){yt>=1&&St.error(X._format(this._name,this._method),...e)}throw(e){throw this.error(e),e}create(e){const t=Object.create(this);return t._method=e,t.debug("begin"),t}static createStatic(e,t){const s=new X(`${e}.${t}`);return s.debug("begin"),s}static _format(e,t){const s=`[${e}]`;return t?`${s} ${t}:`:s}static debug(e,...t){yt>=4&&St.debug(X._format(e),...t)}static info(e,...t){yt>=3&&St.info(X._format(e),...t)}static warn(e,...t){yt>=2&&St.warn(X._format(e),...t)}static error(e,...t){yt>=1&&St.error(X._format(e),...t)}};Ys.reset();var $d="10000000-1000-4000-8000-100000000000",Tt=class{static _randomWord(){return xd.lib.WordArray.random(1).words[0]}static generateUUIDv4(){return $d.replace(/[018]/g,t=>(+t^Tt._randomWord()&15>>+t/4).toString(16)).replace(/-/g,"")}static generateCodeVerifier(){return Tt.generateUUIDv4()+Tt.generateUUIDv4()+Tt.generateUUIDv4()}static generateCodeChallenge(e){try{const t=Pd(e);return ra.stringify(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}catch(t){throw X.error("CryptoUtils.generateCodeChallenge",t),t}}static generateBasicAuth(e,t){const s=Nd.parse([e,t].join(":"));return ra.stringify(s)}},Vt=class{constructor(t){this._name=t,this._logger=new X(`Event('${this._name}')`),this._callbacks=[]}addHandler(t){return this._callbacks.push(t),()=>this.removeHandler(t)}removeHandler(t){const s=this._callbacks.lastIndexOf(t);s>=0&&this._callbacks.splice(s,1)}raise(...t){this._logger.debug("raise:",...t);for(const s of this._callbacks)s(...t)}},$i=class{static decode(e){try{return Nl(e)}catch(t){throw X.error("JwtUtils.decode",t),t}}},aa=class{static center({...e}){var t,s,n;return e.width==null&&(e.width=(t=[800,720,600,480].find(r=>r<=window.outerWidth/1.618))!=null?t:360),(s=e.left)!=null||(e.left=Math.max(0,Math.round(window.screenX+(window.outerWidth-e.width)/2))),e.height!=null&&((n=e.top)!=null||(e.top=Math.max(0,Math.round(window.screenY+(window.outerHeight-e.height)/2)))),e}static serialize(e){return Object.entries(e).filter(([,t])=>t!=null).map(([t,s])=>`${t}=${typeof s!="boolean"?s:s?"yes":"no"}`).join(",")}},at=class extends Vt{constructor(){super(...arguments),this._logger=new X(`Timer('${this._name}')`),this._timerHandle=null,this._expiration=0,this._callback=()=>{const e=this._expiration-at.getEpochTime();this._logger.debug("timer completes in",e),this._expiration<=at.getEpochTime()&&(this.cancel(),super.raise())}}static getEpochTime(){return Math.floor(Date.now()/1e3)}init(e){const t=this._logger.create("init");e=Math.max(Math.floor(e),1);const s=at.getEpochTime()+e;if(this.expiration===s&&this._timerHandle){t.debug("skipping since already initialized for expiration at",this.expiration);return}this.cancel(),t.debug("using duration",e),this._expiration=s;const n=Math.min(e,5);this._timerHandle=setInterval(this._callback,n*1e3)}get expiration(){return this._expiration}cancel(){this._logger.create("cancel"),this._timerHandle&&(clearInterval(this._timerHandle),this._timerHandle=null)}},Hi=class{static readParams(e,t="query"){if(!e)throw new TypeError("Invalid URL");const n=new URL(e,"http://127.0.0.1")[t==="fragment"?"hash":"search"];return new URLSearchParams(n.slice(1))}},Di=";",vs=class extends Error{constructor(e,t){var s,n,r;if(super(e.error_description||e.error||""),this.form=t,this.name="ErrorResponse",!e.error)throw X.error("ErrorResponse","No error passed"),new Error("No error passed");this.error=e.error,this.error_description=(s=e.error_description)!=null?s:null,this.error_uri=(n=e.error_uri)!=null?n:null,this.state=e.userState,this.session_state=(r=e.session_state)!=null?r:null,this.url_state=e.url_state}},wo=class extends Error{constructor(e){super(e),this.name="ErrorTimeout"}},Hd=class{constructor(e){this._logger=new X("AccessTokenEvents"),this._expiringTimer=new at("Access token expiring"),this._expiredTimer=new at("Access token expired"),this._expiringNotificationTimeInSeconds=e.expiringNotificationTimeInSeconds}load(e){const t=this._logger.create("load");if(e.access_token&&e.expires_in!==void 0){const s=e.expires_in;if(t.debug("access token present, remaining duration:",s),s>0){let r=s-this._expiringNotificationTimeInSeconds;r<=0&&(r=1),t.debug("registering expiring timer, raising in",r,"seconds"),this._expiringTimer.init(r)}else t.debug("canceling existing expiring timer because we're past expiration."),this._expiringTimer.cancel();const n=s+1;t.debug("registering expired timer, raising in",n,"seconds"),this._expiredTimer.init(n)}else this._expiringTimer.cancel(),this._expiredTimer.cancel()}unload(){this._logger.debug("unload: canceling existing access token timers"),this._expiringTimer.cancel(),this._expiredTimer.cancel()}addAccessTokenExpiring(e){return this._expiringTimer.addHandler(e)}removeAccessTokenExpiring(e){this._expiringTimer.removeHandler(e)}addAccessTokenExpired(e){return this._expiredTimer.addHandler(e)}removeAccessTokenExpired(e){this._expiredTimer.removeHandler(e)}},Dd=class{constructor(e,t,s,n,r){this._callback=e,this._client_id=t,this._intervalInSeconds=n,this._stopOnError=r,this._logger=new X("CheckSessionIFrame"),this._timer=null,this._session_state=null,this._message=o=>{o.origin===this._frame_origin&&o.source===this._frame.contentWindow&&(o.data==="error"?(this._logger.error("error message from check session op iframe"),this._stopOnError&&this.stop()):o.data==="changed"?(this._logger.debug("changed message from check session op iframe"),this.stop(),this._callback()):this._logger.debug(o.data+" message from check session op iframe"))};const i=new URL(s);this._frame_origin=i.origin,this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="fixed",this._frame.style.left="-1000px",this._frame.style.top="0",this._frame.width="0",this._frame.height="0",this._frame.src=i.href}load(){return new Promise(e=>{this._frame.onload=()=>{e()},window.document.body.appendChild(this._frame),window.addEventListener("message",this._message,!1)})}start(e){if(this._session_state===e)return;this._logger.create("start"),this.stop(),this._session_state=e;const t=()=>{!this._frame.contentWindow||!this._session_state||this._frame.contentWindow.postMessage(this._client_id+" "+this._session_state,this._frame_origin)};t(),this._timer=setInterval(t,this._intervalInSeconds*1e3)}stop(){this._logger.create("stop"),this._session_state=null,this._timer&&(clearInterval(this._timer),this._timer=null)}},_o=class{constructor(){this._logger=new X("InMemoryWebStorage"),this._data={}}clear(){this._logger.create("clear"),this._data={}}getItem(e){return this._logger.create(`getItem('${e}')`),this._data[e]}setItem(e,t){this._logger.create(`setItem('${e}')`),this._data[e]=t}removeItem(e){this._logger.create(`removeItem('${e}')`),delete this._data[e]}get length(){return Object.getOwnPropertyNames(this._data).length}key(e){return Object.getOwnPropertyNames(this._data)[e]}},bo=class{constructor(e=[],t=null,s={}){this._jwtHandler=t,this._extraHeaders=s,this._logger=new X("JsonService"),this._contentTypes=[],this._contentTypes.push(...e,"application/json"),t&&this._contentTypes.push("application/jwt")}async fetchWithTimeout(e,t={}){const{timeoutInSeconds:s,...n}=t;if(!s)return await fetch(e,n);const r=new AbortController,i=setTimeout(()=>r.abort(),s*1e3);try{return await fetch(e,{...t,signal:r.signal})}catch(o){throw o instanceof DOMException&&o.name==="AbortError"?new wo("Network timed out"):o}finally{clearTimeout(i)}}async getJson(e,{token:t,credentials:s}={}){const n=this._logger.create("getJson"),r={Accept:this._contentTypes.join(", ")};t&&(n.debug("token passed, setting Authorization header"),r.Authorization="Bearer "+t),this.appendExtraHeaders(r);let i;try{n.debug("url:",e),i=await this.fetchWithTimeout(e,{method:"GET",headers:r,credentials:s})}catch(l){throw n.error("Network Error"),l}n.debug("HTTP response received, status",i.status);const o=i.headers.get("Content-Type");if(o&&!this._contentTypes.find(l=>o.startsWith(l))&&n.throw(new Error(`Invalid response Content-Type: ${o??"undefined"}, from URL: ${e}`)),i.ok&&this._jwtHandler&&(o!=null&&o.startsWith("application/jwt")))return await this._jwtHandler(await i.text());let a;try{a=await i.json()}catch(l){throw n.error("Error parsing JSON response",l),i.ok?l:new Error(`${i.statusText} (${i.status})`)}if(!i.ok)throw n.error("Error from server:",a),a.error?new vs(a):new Error(`${i.statusText} (${i.status}): ${JSON.stringify(a)}`);return a}async postForm(e,{body:t,basicAuth:s,timeoutInSeconds:n,initCredentials:r}){const i=this._logger.create("postForm"),o={Accept:this._contentTypes.join(", "),"Content-Type":"application/x-www-form-urlencoded"};s!==void 0&&(o.Authorization="Basic "+s),this.appendExtraHeaders(o);let a;try{i.debug("url:",e),a=await this.fetchWithTimeout(e,{method:"POST",headers:o,body:t,timeoutInSeconds:n,credentials:r})}catch(d){throw i.error("Network error"),d}i.debug("HTTP response received, status",a.status);const l=a.headers.get("Content-Type");if(l&&!this._contentTypes.find(d=>l.startsWith(d)))throw new Error(`Invalid response Content-Type: ${l??"undefined"}, from URL: ${e}`);const c=await a.text();let u={};if(c)try{u=JSON.parse(c)}catch(d){throw i.error("Error parsing JSON response",d),a.ok?d:new Error(`${a.statusText} (${a.status})`)}if(!a.ok)throw i.error("Error from server:",u),u.error?new vs(u,t):new Error(`${a.statusText} (${a.status}): ${JSON.stringify(u)}`);return u}appendExtraHeaders(e){const t=this._logger.create("appendExtraHeaders"),s=Object.keys(this._extraHeaders),n=["authorization","accept","content-type"];s.length!==0&&s.forEach(r=>{if(n.includes(r.toLocaleLowerCase())){t.warn("Protected header could not be overridden",r,n);return}const i=typeof this._extraHeaders[r]=="function"?this._extraHeaders[r]():this._extraHeaders[r];i&&i!==""&&(e[r]=i)})}},qd=class{constructor(e){this._settings=e,this._logger=new X("MetadataService"),this._signingKeys=null,this._metadata=null,this._metadataUrl=this._settings.metadataUrl,this._jsonService=new bo(["application/jwk-set+json"],null,this._settings.extraHeaders),this._settings.signingKeys&&(this._logger.debug("using signingKeys from settings"),this._signingKeys=this._settings.signingKeys),this._settings.metadata&&(this._logger.debug("using metadata from settings"),this._metadata=this._settings.metadata),this._settings.fetchRequestCredentials&&(this._logger.debug("using fetchRequestCredentials from settings"),this._fetchRequestCredentials=this._settings.fetchRequestCredentials)}resetSigningKeys(){this._signingKeys=null}async getMetadata(){const e=this._logger.create("getMetadata");if(this._metadata)return e.debug("using cached values"),this._metadata;if(!this._metadataUrl)throw e.throw(new Error("No authority or metadataUrl configured on settings")),null;e.debug("getting metadata from",this._metadataUrl);const t=await this._jsonService.getJson(this._metadataUrl,{credentials:this._fetchRequestCredentials});return e.debug("merging remote JSON with seed metadata"),this._metadata=Object.assign({},this._settings.metadataSeed,t),this._metadata}getIssuer(){return this._getMetadataProperty("issuer")}getAuthorizationEndpoint(){return this._getMetadataProperty("authorization_endpoint")}getUserInfoEndpoint(){return this._getMetadataProperty("userinfo_endpoint")}getTokenEndpoint(e=!0){return this._getMetadataProperty("token_endpoint",e)}getCheckSessionIframe(){return this._getMetadataProperty("check_session_iframe",!0)}getEndSessionEndpoint(){return this._getMetadataProperty("end_session_endpoint",!0)}getRevocationEndpoint(e=!0){return this._getMetadataProperty("revocation_endpoint",e)}getKeysEndpoint(e=!0){return this._getMetadataProperty("jwks_uri",e)}async _getMetadataProperty(e,t=!1){const s=this._logger.create(`_getMetadataProperty('${e}')`),n=await this.getMetadata();if(s.debug("resolved"),n[e]===void 0){if(t===!0){s.warn("Metadata does not contain optional property");return}s.throw(new Error("Metadata does not contain property "+e))}return n[e]}async getSigningKeys(){const e=this._logger.create("getSigningKeys");if(this._signingKeys)return e.debug("returning signingKeys from cache"),this._signingKeys;const t=await this.getKeysEndpoint(!1);e.debug("got jwks_uri",t);const s=await this._jsonService.getJson(t);if(e.debug("got key set",s),!Array.isArray(s.keys))throw e.throw(new Error("Missing keys on keyset")),null;return this._signingKeys=s.keys,this._signingKeys}},vo=class{constructor({prefix:e="oidc.",store:t=localStorage}={}){this._logger=new X("WebStorageStateStore"),this._store=t,this._prefix=e}async set(e,t){this._logger.create(`set('${e}')`),e=this._prefix+e,await this._store.setItem(e,t)}async get(e){return this._logger.create(`get('${e}')`),e=this._prefix+e,await this._store.getItem(e)}async remove(e){this._logger.create(`remove('${e}')`),e=this._prefix+e;const t=await this._store.getItem(e);return await this._store.removeItem(e),t}async getAllKeys(){this._logger.create("getAllKeys");const e=await this._store.length,t=[];for(let s=0;s<e;s++){const n=await this._store.key(s);n&&n.indexOf(this._prefix)===0&&t.push(n.substr(this._prefix.length))}return t}},Fd="code",Bd="openid",Wd="client_secret_post",zd="query",Vd=60*15,Kd=60*5,qi=class{constructor({authority:e,metadataUrl:t,metadata:s,signingKeys:n,metadataSeed:r,client_id:i,client_secret:o,response_type:a=Fd,scope:l=Bd,redirect_uri:c,post_logout_redirect_uri:u,client_authentication:d=Wd,prompt:f,display:p,max_age:w,ui_locales:_,acr_values:y,resource:P,response_mode:m=zd,filterProtocolClaims:v=!0,loadUserInfo:x=!1,staleStateAgeInSeconds:O=Vd,clockSkewInSeconds:H=Kd,userInfoJwtIssuer:U="OP",mergeClaims:q=!1,disablePKCE:I=!1,stateStore:se,refreshTokenCredentials:ne,revokeTokenAdditionalContentTypes:ce,fetchRequestCredentials:ve,refreshTokenAllowedScope:We,extraQueryParams:Pe={},extraTokenParams:de={},extraHeaders:ee={}}){if(this.authority=e,t?this.metadataUrl=t:(this.metadataUrl=e,e&&(this.metadataUrl.endsWith("/")||(this.metadataUrl+="/"),this.metadataUrl+=".well-known/openid-configuration")),this.metadata=s,this.metadataSeed=r,this.signingKeys=n,this.client_id=i,this.client_secret=o,this.response_type=a,this.scope=l,this.redirect_uri=c,this.post_logout_redirect_uri=u,this.client_authentication=d,this.prompt=f,this.display=p,this.max_age=w,this.ui_locales=_,this.acr_values=y,this.resource=P,this.response_mode=m,this.filterProtocolClaims=v??!0,this.loadUserInfo=!!x,this.staleStateAgeInSeconds=O,this.clockSkewInSeconds=H,this.userInfoJwtIssuer=U,this.mergeClaims=!!q,this.disablePKCE=!!I,this.revokeTokenAdditionalContentTypes=ce,ve&&ne&&console.warn("Both fetchRequestCredentials and refreshTokenCredentials is set. Only fetchRequestCredentials will be used."),this.fetchRequestCredentials=ve||ne||"same-origin",se)this.stateStore=se;else{const te=typeof window<"u"?window.localStorage:new _o;this.stateStore=new vo({store:te})}this.refreshTokenAllowedScope=We,this.extraQueryParams=Pe,this.extraTokenParams=de,this.extraHeaders=ee}},Gd=class{constructor(e,t){this._settings=e,this._metadataService=t,this._logger=new X("UserInfoService"),this._getClaimsFromJwt=async s=>{const n=this._logger.create("_getClaimsFromJwt");try{const r=$i.decode(s);return n.debug("JWT decoding successful"),r}catch(r){throw n.error("Error parsing JWT response"),r}},this._jsonService=new bo(void 0,this._getClaimsFromJwt,this._settings.extraHeaders)}async getClaims(e){const t=this._logger.create("getClaims");e||this._logger.throw(new Error("No token passed"));const s=await this._metadataService.getUserInfoEndpoint();t.debug("got userinfo url",s);const n=await this._jsonService.getJson(s,{token:e,credentials:this._settings.fetchRequestCredentials});return t.debug("got claims",n),n}},jl=class{constructor(e,t){this._settings=e,this._metadataService=t,this._logger=new X("TokenClient"),this._jsonService=new bo(this._settings.revokeTokenAdditionalContentTypes,null,this._settings.extraHeaders)}async exchangeCode({grant_type:e="authorization_code",redirect_uri:t=this._settings.redirect_uri,client_id:s=this._settings.client_id,client_secret:n=this._settings.client_secret,...r}){const i=this._logger.create("exchangeCode");s||i.throw(new Error("A client_id is required")),t||i.throw(new Error("A redirect_uri is required")),r.code||i.throw(new Error("A code is required"));const o=new URLSearchParams({grant_type:e,redirect_uri:t});for(const[u,d]of Object.entries(r))d!=null&&o.set(u,d);let a;switch(this._settings.client_authentication){case"client_secret_basic":if(!n)throw i.throw(new Error("A client_secret is required")),null;a=Tt.generateBasicAuth(s,n);break;case"client_secret_post":o.append("client_id",s),n&&o.append("client_secret",n);break}const l=await this._metadataService.getTokenEndpoint(!1);i.debug("got token endpoint");const c=await this._jsonService.postForm(l,{body:o,basicAuth:a,initCredentials:this._settings.fetchRequestCredentials});return i.debug("got response"),c}async exchangeCredentials({grant_type:e="password",client_id:t=this._settings.client_id,client_secret:s=this._settings.client_secret,scope:n=this._settings.scope,...r}){const i=this._logger.create("exchangeCredentials");t||i.throw(new Error("A client_id is required"));const o=new URLSearchParams({grant_type:e,scope:n});for(const[u,d]of Object.entries(r))d!=null&&o.set(u,d);let a;switch(this._settings.client_authentication){case"client_secret_basic":if(!s)throw i.throw(new Error("A client_secret is required")),null;a=Tt.generateBasicAuth(t,s);break;case"client_secret_post":o.append("client_id",t),s&&o.append("client_secret",s);break}const l=await this._metadataService.getTokenEndpoint(!1);i.debug("got token endpoint");const c=await this._jsonService.postForm(l,{body:o,basicAuth:a,initCredentials:this._settings.fetchRequestCredentials});return i.debug("got response"),c}async exchangeRefreshToken({grant_type:e="refresh_token",client_id:t=this._settings.client_id,client_secret:s=this._settings.client_secret,timeoutInSeconds:n,...r}){const i=this._logger.create("exchangeRefreshToken");t||i.throw(new Error("A client_id is required")),r.refresh_token||i.throw(new Error("A refresh_token is required"));const o=new URLSearchParams({grant_type:e});for(const[u,d]of Object.entries(r))Array.isArray(d)?d.forEach(f=>o.append(u,f)):d!=null&&o.set(u,d);let a;switch(this._settings.client_authentication){case"client_secret_basic":if(!s)throw i.throw(new Error("A client_secret is required")),null;a=Tt.generateBasicAuth(t,s);break;case"client_secret_post":o.append("client_id",t),s&&o.append("client_secret",s);break}const l=await this._metadataService.getTokenEndpoint(!1);i.debug("got token endpoint");const c=await this._jsonService.postForm(l,{body:o,basicAuth:a,timeoutInSeconds:n,initCredentials:this._settings.fetchRequestCredentials});return i.debug("got response"),c}async revoke(e){var t;const s=this._logger.create("revoke");e.token||s.throw(new Error("A token is required"));const n=await this._metadataService.getRevocationEndpoint(!1);s.debug(`got revocation endpoint, revoking ${(t=e.token_type_hint)!=null?t:"default token type"}`);const r=new URLSearchParams;for(const[i,o]of Object.entries(e))o!=null&&r.set(i,o);r.set("client_id",this._settings.client_id),this._settings.client_secret&&r.set("client_secret",this._settings.client_secret),await this._jsonService.postForm(n,{body:r}),s.debug("got response")}},Jd=class{constructor(e,t,s){this._settings=e,this._metadataService=t,this._claimsService=s,this._logger=new X("ResponseValidator"),this._userInfoService=new Gd(this._settings,this._metadataService),this._tokenClient=new jl(this._settings,this._metadataService)}async validateSigninResponse(e,t){const s=this._logger.create("validateSigninResponse");this._processSigninState(e,t),s.debug("state processed"),await this._processCode(e,t),s.debug("code processed"),e.isOpenId&&this._validateIdTokenAttributes(e),s.debug("tokens validated"),await this._processClaims(e,t==null?void 0:t.skipUserInfo,e.isOpenId),s.debug("claims processed")}async validateCredentialsResponse(e,t){const s=this._logger.create("validateCredentialsResponse");e.isOpenId&&e.id_token&&this._validateIdTokenAttributes(e),s.debug("tokens validated"),await this._processClaims(e,t,e.isOpenId),s.debug("claims processed")}async validateRefreshResponse(e,t){var s,n;const r=this._logger.create("validateRefreshResponse");e.userState=t.data,(s=e.session_state)!=null||(e.session_state=t.session_state),(n=e.scope)!=null||(e.scope=t.scope),e.isOpenId&&e.id_token&&(this._validateIdTokenAttributes(e,t.id_token),r.debug("ID Token validated")),e.id_token||(e.id_token=t.id_token,e.profile=t.profile);const i=e.isOpenId&&!!e.id_token;await this._processClaims(e,!1,i),r.debug("claims processed")}validateSignoutResponse(e,t){const s=this._logger.create("validateSignoutResponse");if(t.id!==e.state&&s.throw(new Error("State does not match")),s.debug("state validated"),e.userState=t.data,e.error)throw s.warn("Response was error",e.error),new vs(e)}_processSigninState(e,t){var s;const n=this._logger.create("_processSigninState");if(t.id!==e.state&&n.throw(new Error("State does not match")),t.client_id||n.throw(new Error("No client_id on state")),t.authority||n.throw(new Error("No authority on state")),this._settings.authority!==t.authority&&n.throw(new Error("authority mismatch on settings vs. signin state")),this._settings.client_id&&this._settings.client_id!==t.client_id&&n.throw(new Error("client_id mismatch on settings vs. signin state")),n.debug("state validated"),e.userState=t.data,e.url_state=t.url_state,(s=e.scope)!=null||(e.scope=t.scope),e.error)throw n.warn("Response was error",e.error),new vs(e);t.code_verifier&&!e.code&&n.throw(new Error("Expected code in response"))}async _processClaims(e,t=!1,s=!0){const n=this._logger.create("_processClaims");if(e.profile=this._claimsService.filterProtocolClaims(e.profile),t||!this._settings.loadUserInfo||!e.access_token){n.debug("not loading user info");return}n.debug("loading user info");const r=await this._userInfoService.getClaims(e.access_token);n.debug("user info claims received from user info endpoint"),s&&r.sub!==e.profile.sub&&n.throw(new Error("subject from UserInfo response does not match subject in ID Token")),e.profile=this._claimsService.mergeClaims(e.profile,this._claimsService.filterProtocolClaims(r)),n.debug("user info claims received, updated profile:",e.profile)}async _processCode(e,t){const s=this._logger.create("_processCode");if(e.code){s.debug("Validating code");const n=await this._tokenClient.exchangeCode({client_id:t.client_id,client_secret:t.client_secret,code:e.code,redirect_uri:t.redirect_uri,code_verifier:t.code_verifier,...t.extraTokenParams});Object.assign(e,n)}else s.debug("No code to process")}_validateIdTokenAttributes(e,t){var s;const n=this._logger.create("_validateIdTokenAttributes");n.debug("decoding ID Token JWT");const r=$i.decode((s=e.id_token)!=null?s:"");if(r.sub||n.throw(new Error("ID Token is missing a subject claim")),t){const i=$i.decode(t);r.sub!==i.sub&&n.throw(new Error("sub in id_token does not match current sub")),r.auth_time&&r.auth_time!==i.auth_time&&n.throw(new Error("auth_time in id_token does not match original auth_time")),r.azp&&r.azp!==i.azp&&n.throw(new Error("azp in id_token does not match original azp")),!r.azp&&i.azp&&n.throw(new Error("azp not in id_token, but present in original id_token"))}e.profile=r}},Zs=class{constructor(e){this.id=e.id||Tt.generateUUIDv4(),this.data=e.data,e.created&&e.created>0?this.created=e.created:this.created=at.getEpochTime(),this.request_type=e.request_type,this.url_state=e.url_state}toStorageString(){return new X("State").create("toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type,url_state:this.url_state})}static fromStorageString(e){return X.createStatic("State","fromStorageString"),new Zs(JSON.parse(e))}static async clearStaleState(e,t){const s=X.createStatic("State","clearStaleState"),n=at.getEpochTime()-t,r=await e.getAllKeys();s.debug("got keys",r);for(let i=0;i<r.length;i++){const o=r[i],a=await e.get(o);let l=!1;if(a)try{const c=Zs.fromStorageString(a);s.debug("got item from key:",o,c.created),c.created<=n&&(l=!0)}catch(c){s.error("Error parsing state for key:",o,c),l=!0}else s.debug("no item in storage for key:",o),l=!0;l&&(s.debug("removed item for key:",o),e.remove(o))}}},yo=class extends Zs{constructor(e){super(e),e.code_verifier===!0?this.code_verifier=Tt.generateCodeVerifier():e.code_verifier&&(this.code_verifier=e.code_verifier),this.code_verifier&&(this.code_challenge=Tt.generateCodeChallenge(this.code_verifier)),this.authority=e.authority,this.client_id=e.client_id,this.redirect_uri=e.redirect_uri,this.scope=e.scope,this.client_secret=e.client_secret,this.extraTokenParams=e.extraTokenParams,this.response_mode=e.response_mode,this.skipUserInfo=e.skipUserInfo}toStorageString(){return new X("SigninState").create("toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type,url_state:this.url_state,code_verifier:this.code_verifier,authority:this.authority,client_id:this.client_id,redirect_uri:this.redirect_uri,scope:this.scope,client_secret:this.client_secret,extraTokenParams:this.extraTokenParams,response_mode:this.response_mode,skipUserInfo:this.skipUserInfo})}static fromStorageString(e){X.createStatic("SigninState","fromStorageString");const t=JSON.parse(e);return new yo(t)}},Xd=class{constructor({url:e,authority:t,client_id:s,redirect_uri:n,response_type:r,scope:i,state_data:o,response_mode:a,request_type:l,client_secret:c,nonce:u,url_state:d,resource:f,skipUserInfo:p,extraQueryParams:w,extraTokenParams:_,disablePKCE:y,...P}){if(this._logger=new X("SigninRequest"),!e)throw this._logger.error("ctor: No url passed"),new Error("url");if(!s)throw this._logger.error("ctor: No client_id passed"),new Error("client_id");if(!n)throw this._logger.error("ctor: No redirect_uri passed"),new Error("redirect_uri");if(!r)throw this._logger.error("ctor: No response_type passed"),new Error("response_type");if(!i)throw this._logger.error("ctor: No scope passed"),new Error("scope");if(!t)throw this._logger.error("ctor: No authority passed"),new Error("authority");this.state=new yo({data:o,request_type:l,url_state:d,code_verifier:!y,client_id:s,authority:t,redirect_uri:n,response_mode:a,client_secret:c,scope:i,extraTokenParams:_,skipUserInfo:p});const m=new URL(e);m.searchParams.append("client_id",s),m.searchParams.append("redirect_uri",n),m.searchParams.append("response_type",r),m.searchParams.append("scope",i),u&&m.searchParams.append("nonce",u);let v=this.state.id;d&&(v=`${v}${Di}${d}`),m.searchParams.append("state",v),this.state.code_challenge&&(m.searchParams.append("code_challenge",this.state.code_challenge),m.searchParams.append("code_challenge_method","S256")),f&&(Array.isArray(f)?f:[f]).forEach(O=>m.searchParams.append("resource",O));for(const[x,O]of Object.entries({response_mode:a,...P,...w}))O!=null&&m.searchParams.append(x,O.toString());this.url=m.href}},Qd="openid",gi=class{constructor(e){if(this.access_token="",this.token_type="",this.profile={},this.state=e.get("state"),this.session_state=e.get("session_state"),this.state){const t=decodeURIComponent(this.state).split(Di);this.state=t[0],t.length>1&&(this.url_state=t.slice(1).join(Di))}this.error=e.get("error"),this.error_description=e.get("error_description"),this.error_uri=e.get("error_uri"),this.code=e.get("code")}get expires_in(){if(this.expires_at!==void 0)return this.expires_at-at.getEpochTime()}set expires_in(e){typeof e=="string"&&(e=Number(e)),e!==void 0&&e>=0&&(this.expires_at=Math.floor(e)+at.getEpochTime())}get isOpenId(){var e;return((e=this.scope)==null?void 0:e.split(" ").includes(Qd))||!!this.id_token}},Yd=class{constructor({url:e,state_data:t,id_token_hint:s,post_logout_redirect_uri:n,extraQueryParams:r,request_type:i,client_id:o}){if(this._logger=new X("SignoutRequest"),!e)throw this._logger.error("ctor: No url passed"),new Error("url");const a=new URL(e);s&&a.searchParams.append("id_token_hint",s),o&&a.searchParams.append("client_id",o),n&&(a.searchParams.append("post_logout_redirect_uri",n),t&&(this.state=new Zs({data:t,request_type:i}),a.searchParams.append("state",this.state.id)));for(const[l,c]of Object.entries({...r}))c!=null&&a.searchParams.append(l,c.toString());this.url=a.href}},Zd=class{constructor(e){this.state=e.get("state"),this.error=e.get("error"),this.error_description=e.get("error_description"),this.error_uri=e.get("error_uri")}},ef=["nbf","jti","auth_time","nonce","acr","amr","azp","at_hash"],tf=["sub","iss","aud","exp","iat"],sf=class{constructor(e){this._settings=e,this._logger=new X("ClaimsService")}filterProtocolClaims(e){const t={...e};if(this._settings.filterProtocolClaims){let s;Array.isArray(this._settings.filterProtocolClaims)?s=this._settings.filterProtocolClaims:s=ef;for(const n of s)tf.includes(n)||delete t[n]}return t}mergeClaims(e,t){const s={...e};for(const[n,r]of Object.entries(t))for(const i of Array.isArray(r)?r:[r]){const o=s[n];o===void 0?s[n]=i:Array.isArray(o)?o.includes(i)||o.push(i):s[n]!==i&&(typeof i=="object"&&this._settings.mergeClaims?s[n]=this.mergeClaims(o,i):s[n]=[o,i])}return s}},nf=class{constructor(e,t){this._logger=new X("OidcClient"),this.settings=e instanceof qi?e:new qi(e),this.metadataService=t??new qd(this.settings),this._claimsService=new sf(this.settings),this._validator=new Jd(this.settings,this.metadataService,this._claimsService),this._tokenClient=new jl(this.settings,this.metadataService)}async createSigninRequest({state:e,request:t,request_uri:s,request_type:n,id_token_hint:r,login_hint:i,skipUserInfo:o,nonce:a,url_state:l,response_type:c=this.settings.response_type,scope:u=this.settings.scope,redirect_uri:d=this.settings.redirect_uri,prompt:f=this.settings.prompt,display:p=this.settings.display,max_age:w=this.settings.max_age,ui_locales:_=this.settings.ui_locales,acr_values:y=this.settings.acr_values,resource:P=this.settings.resource,response_mode:m=this.settings.response_mode,extraQueryParams:v=this.settings.extraQueryParams,extraTokenParams:x=this.settings.extraTokenParams}){const O=this._logger.create("createSigninRequest");if(c!=="code")throw new Error("Only the Authorization Code flow (with PKCE) is supported");const H=await this.metadataService.getAuthorizationEndpoint();O.debug("Received authorization endpoint",H);const U=new Xd({url:H,authority:this.settings.authority,client_id:this.settings.client_id,redirect_uri:d,response_type:c,scope:u,state_data:e,url_state:l,prompt:f,display:p,max_age:w,ui_locales:_,id_token_hint:r,login_hint:i,acr_values:y,resource:P,request:t,request_uri:s,extraQueryParams:v,extraTokenParams:x,request_type:n,response_mode:m,client_secret:this.settings.client_secret,skipUserInfo:o,nonce:a,disablePKCE:this.settings.disablePKCE});await this.clearStaleState();const q=U.state;return await this.settings.stateStore.set(q.id,q.toStorageString()),U}async readSigninResponseState(e,t=!1){const s=this._logger.create("readSigninResponseState"),n=new gi(Hi.readParams(e,this.settings.response_mode));if(!n.state)throw s.throw(new Error("No state in response")),null;const r=await this.settings.stateStore[t?"remove":"get"](n.state);if(!r)throw s.throw(new Error("No matching state found in storage")),null;return{state:yo.fromStorageString(r),response:n}}async processSigninResponse(e){const t=this._logger.create("processSigninResponse"),{state:s,response:n}=await this.readSigninResponseState(e,!0);return t.debug("received state from storage; validating response"),await this._validator.validateSigninResponse(n,s),n}async processResourceOwnerPasswordCredentials({username:e,password:t,skipUserInfo:s=!1,extraTokenParams:n={}}){const r=await this._tokenClient.exchangeCredentials({username:e,password:t,...n}),i=new gi(new URLSearchParams);return Object.assign(i,r),await this._validator.validateCredentialsResponse(i,s),i}async useRefreshToken({state:e,timeoutInSeconds:t}){var s;const n=this._logger.create("useRefreshToken");let r;if(this.settings.refreshTokenAllowedScope===void 0)r=e.scope;else{const a=this.settings.refreshTokenAllowedScope.split(" ");r=(((s=e.scope)==null?void 0:s.split(" "))||[]).filter(c=>a.includes(c)).join(" ")}const i=await this._tokenClient.exchangeRefreshToken({refresh_token:e.refresh_token,resource:e.resource,scope:r,timeoutInSeconds:t}),o=new gi(new URLSearchParams);return Object.assign(o,i),n.debug("validating response",o),await this._validator.validateRefreshResponse(o,{...e,scope:r}),o}async createSignoutRequest({state:e,id_token_hint:t,client_id:s,request_type:n,post_logout_redirect_uri:r=this.settings.post_logout_redirect_uri,extraQueryParams:i=this.settings.extraQueryParams}={}){const o=this._logger.create("createSignoutRequest"),a=await this.metadataService.getEndSessionEndpoint();if(!a)throw o.throw(new Error("No end session endpoint")),null;o.debug("Received end session endpoint",a),!s&&r&&!t&&(s=this.settings.client_id);const l=new Yd({url:a,id_token_hint:t,client_id:s,post_logout_redirect_uri:r,state_data:e,extraQueryParams:i,request_type:n});await this.clearStaleState();const c=l.state;return c&&(o.debug("Signout request has state to persist"),await this.settings.stateStore.set(c.id,c.toStorageString())),l}async readSignoutResponseState(e,t=!1){const s=this._logger.create("readSignoutResponseState"),n=new Zd(Hi.readParams(e,this.settings.response_mode));if(!n.state){if(s.debug("No state in response"),n.error)throw s.warn("Response was error:",n.error),new vs(n);return{state:void 0,response:n}}const r=await this.settings.stateStore[t?"remove":"get"](n.state);if(!r)throw s.throw(new Error("No matching state found in storage")),null;return{state:Zs.fromStorageString(r),response:n}}async processSignoutResponse(e){const t=this._logger.create("processSignoutResponse"),{state:s,response:n}=await this.readSignoutResponseState(e,!0);return s?(t.debug("Received state from storage; validating response"),this._validator.validateSignoutResponse(n,s)):t.debug("No state from storage; skipping response validation"),n}clearStaleState(){return this._logger.create("clearStaleState"),Zs.clearStaleState(this.settings.stateStore,this.settings.staleStateAgeInSeconds)}async revokeToken(e,t){return this._logger.create("revokeToken"),await this._tokenClient.revoke({token:e,token_type_hint:t})}},rf=class{constructor(e){this._userManager=e,this._logger=new X("SessionMonitor"),this._start=async t=>{const s=t.session_state;if(!s)return;const n=this._logger.create("_start");if(t.profile?(this._sub=t.profile.sub,this._sid=t.profile.sid,n.debug("session_state",s,", sub",this._sub)):(this._sub=void 0,this._sid=void 0,n.debug("session_state",s,", anonymous user")),this._checkSessionIFrame){this._checkSessionIFrame.start(s);return}try{const r=await this._userManager.metadataService.getCheckSessionIframe();if(r){n.debug("initializing check session iframe");const i=this._userManager.settings.client_id,o=this._userManager.settings.checkSessionIntervalInSeconds,a=this._userManager.settings.stopCheckSessionOnError,l=new Dd(this._callback,i,r,o,a);await l.load(),this._checkSessionIFrame=l,l.start(s)}else n.warn("no check session iframe found in the metadata")}catch(r){n.error("Error from getCheckSessionIframe:",r instanceof Error?r.message:r)}},this._stop=()=>{const t=this._logger.create("_stop");if(this._sub=void 0,this._sid=void 0,this._checkSessionIFrame&&this._checkSessionIFrame.stop(),this._userManager.settings.monitorAnonymousSession){const s=setInterval(async()=>{clearInterval(s);try{const n=await this._userManager.querySessionStatus();if(n){const r={session_state:n.session_state,profile:n.sub&&n.sid?{sub:n.sub,sid:n.sid}:null};this._start(r)}}catch(n){t.error("error from querySessionStatus",n instanceof Error?n.message:n)}},1e3)}},this._callback=async()=>{const t=this._logger.create("_callback");try{const s=await this._userManager.querySessionStatus();let n=!0;s&&this._checkSessionIFrame?s.sub===this._sub?(n=!1,this._checkSessionIFrame.start(s.session_state),s.sid===this._sid?t.debug("same sub still logged in at OP, restarting check session iframe; session_state",s.session_state):(t.debug("same sub still logged in at OP, session state has changed, restarting check session iframe; session_state",s.session_state),this._userManager.events._raiseUserSessionChanged())):t.debug("different subject signed into OP",s.sub):t.debug("subject no longer signed into OP"),n?this._sub?this._userManager.events._raiseUserSignedOut():this._userManager.events._raiseUserSignedIn():t.debug("no change in session detected, no event to raise")}catch(s){this._sub&&(t.debug("Error calling queryCurrentSigninSession; raising signed out event",s),this._userManager.events._raiseUserSignedOut())}},e||this._logger.throw(new Error("No user manager passed")),this._userManager.events.addUserLoaded(this._start),this._userManager.events.addUserUnloaded(this._stop),this._init().catch(t=>{this._logger.error(t)})}async _init(){this._logger.create("_init");const e=await this._userManager.getUser();if(e)this._start(e);else if(this._userManager.settings.monitorAnonymousSession){const t=await this._userManager.querySessionStatus();if(t){const s={session_state:t.session_state,profile:t.sub&&t.sid?{sub:t.sub,sid:t.sid}:null};this._start(s)}}}},wr=class{constructor(e){var t;this.id_token=e.id_token,this.session_state=(t=e.session_state)!=null?t:null,this.access_token=e.access_token,this.refresh_token=e.refresh_token,this.token_type=e.token_type,this.scope=e.scope,this.profile=e.profile,this.expires_at=e.expires_at,this.state=e.userState,this.url_state=e.url_state}get expires_in(){if(this.expires_at!==void 0)return this.expires_at-at.getEpochTime()}set expires_in(e){e!==void 0&&(this.expires_at=Math.floor(e)+at.getEpochTime())}get expired(){const e=this.expires_in;if(e!==void 0)return e<=0}get scopes(){var e,t;return(t=(e=this.scope)==null?void 0:e.split(" "))!=null?t:[]}toStorageString(){return new X("User").create("toStorageString"),JSON.stringify({id_token:this.id_token,session_state:this.session_state,access_token:this.access_token,refresh_token:this.refresh_token,token_type:this.token_type,scope:this.scope,profile:this.profile,expires_at:this.expires_at})}static fromStorageString(e){return X.createStatic("User","fromStorageString"),new wr(JSON.parse(e))}},la="oidc-client",Ml=class{constructor(){this._abort=new Vt("Window navigation aborted"),this._disposeHandlers=new Set,this._window=null}async navigate(e){const t=this._logger.create("navigate");if(!this._window)throw new Error("Attempted to navigate on a disposed window");t.debug("setting URL in window"),this._window.location.replace(e.url);const{url:s,keepOpen:n}=await new Promise((r,i)=>{const o=a=>{var l;const c=a.data,u=(l=e.scriptOrigin)!=null?l:window.location.origin;if(!(a.origin!==u||(c==null?void 0:c.source)!==la)){try{const d=Hi.readParams(c.url,e.response_mode).get("state");if(d||t.warn("no state found in response url"),a.source!==this._window&&d!==e.state)return}catch{this._dispose(),i(new Error("Invalid response from window"))}r(c)}};window.addEventListener("message",o,!1),this._disposeHandlers.add(()=>window.removeEventListener("message",o,!1)),this._disposeHandlers.add(this._abort.addHandler(a=>{this._dispose(),i(a)}))});return t.debug("got response from window"),this._dispose(),n||this.close(),{url:s}}_dispose(){this._logger.create("_dispose");for(const e of this._disposeHandlers)e();this._disposeHandlers.clear()}static _notifyParent(e,t,s=!1,n=window.location.origin){e.postMessage({source:la,url:t,keepOpen:s},n)}},$l={location:!1,toolbar:!1,height:640,closePopupWindowAfterInSeconds:-1},Hl="_blank",of=60,af=2,Dl=10,lf=class extends qi{constructor(e){const{popup_redirect_uri:t=e.redirect_uri,popup_post_logout_redirect_uri:s=e.post_logout_redirect_uri,popupWindowFeatures:n=$l,popupWindowTarget:r=Hl,redirectMethod:i="assign",redirectTarget:o="self",iframeNotifyParentOrigin:a=e.iframeNotifyParentOrigin,iframeScriptOrigin:l=e.iframeScriptOrigin,silent_redirect_uri:c=e.redirect_uri,silentRequestTimeoutInSeconds:u=Dl,automaticSilentRenew:d=!0,validateSubOnSilentRenew:f=!0,includeIdTokenInSilentRenew:p=!1,monitorSession:w=!1,monitorAnonymousSession:_=!1,checkSessionIntervalInSeconds:y=af,query_status_response_type:P="code",stopCheckSessionOnError:m=!0,revokeTokenTypes:v=["access_token","refresh_token"],revokeTokensOnSignout:x=!1,includeIdTokenInSilentSignout:O=!1,accessTokenExpiringNotificationTimeInSeconds:H=of,userStore:U}=e;if(super(e),this.popup_redirect_uri=t,this.popup_post_logout_redirect_uri=s,this.popupWindowFeatures=n,this.popupWindowTarget=r,this.redirectMethod=i,this.redirectTarget=o,this.iframeNotifyParentOrigin=a,this.iframeScriptOrigin=l,this.silent_redirect_uri=c,this.silentRequestTimeoutInSeconds=u,this.automaticSilentRenew=d,this.validateSubOnSilentRenew=f,this.includeIdTokenInSilentRenew=p,this.monitorSession=w,this.monitorAnonymousSession=_,this.checkSessionIntervalInSeconds=y,this.stopCheckSessionOnError=m,this.query_status_response_type=P,this.revokeTokenTypes=v,this.revokeTokensOnSignout=x,this.includeIdTokenInSilentSignout=O,this.accessTokenExpiringNotificationTimeInSeconds=H,U)this.userStore=U;else{const q=typeof window<"u"?window.sessionStorage:new _o;this.userStore=new vo({store:q})}}},Fi=class extends Ml{constructor({silentRequestTimeoutInSeconds:e=Dl}){super(),this._logger=new X("IFrameWindow"),this._timeoutInSeconds=e,this._frame=Fi.createHiddenIframe(),this._window=this._frame.contentWindow}static createHiddenIframe(){const e=window.document.createElement("iframe");return e.style.visibility="hidden",e.style.position="fixed",e.style.left="-1000px",e.style.top="0",e.width="0",e.height="0",window.document.body.appendChild(e),e}async navigate(e){this._logger.debug("navigate: Using timeout of:",this._timeoutInSeconds);const t=setTimeout(()=>this._abort.raise(new wo("IFrame timed out without a response")),this._timeoutInSeconds*1e3);return this._disposeHandlers.add(()=>clearTimeout(t)),await super.navigate(e)}close(){var e;this._frame&&(this._frame.parentNode&&(this._frame.addEventListener("load",t=>{var s;const n=t.target;(s=n.parentNode)==null||s.removeChild(n),this._abort.raise(new Error("IFrame removed from DOM"))},!0),(e=this._frame.contentWindow)==null||e.location.replace("about:blank")),this._frame=null),this._window=null}static notifyParent(e,t){return super._notifyParent(window.parent,e,!1,t)}},cf=class{constructor(e){this._settings=e,this._logger=new X("IFrameNavigator")}async prepare({silentRequestTimeoutInSeconds:e=this._settings.silentRequestTimeoutInSeconds}){return new Fi({silentRequestTimeoutInSeconds:e})}async callback(e){this._logger.create("callback"),Fi.notifyParent(e,this._settings.iframeNotifyParentOrigin)}},uf=500,df=1e3,ca=class extends Ml{constructor({popupWindowTarget:e=Hl,popupWindowFeatures:t={}}){super(),this._logger=new X("PopupWindow");const s=aa.center({...$l,...t});this._window=window.open(void 0,e,aa.serialize(s)),t.closePopupWindowAfterInSeconds&&t.closePopupWindowAfterInSeconds>0&&setTimeout(()=>{if(!this._window||typeof this._window.closed!="boolean"||this._window.closed){this._abort.raise(new Error("Popup blocked by user"));return}this.close()},t.closePopupWindowAfterInSeconds*df)}async navigate(e){var t;(t=this._window)==null||t.focus();const s=setInterval(()=>{(!this._window||this._window.closed)&&this._abort.raise(new Error("Popup closed by user"))},uf);return this._disposeHandlers.add(()=>clearInterval(s)),await super.navigate(e)}close(){this._window&&(this._window.closed||(this._window.close(),this._abort.raise(new Error("Popup closed")))),this._window=null}static notifyOpener(e,t){if(!window.opener)throw new Error("No window.opener. Can't complete notification.");return super._notifyParent(window.opener,e,t)}},ff=class{constructor(e){this._settings=e,this._logger=new X("PopupNavigator")}async prepare({popupWindowFeatures:e=this._settings.popupWindowFeatures,popupWindowTarget:t=this._settings.popupWindowTarget}){return new ca({popupWindowFeatures:e,popupWindowTarget:t})}async callback(e,{keepOpen:t=!1}){this._logger.create("callback"),ca.notifyOpener(e,t)}},hf=class{constructor(e){this._settings=e,this._logger=new X("RedirectNavigator")}async prepare({redirectMethod:e=this._settings.redirectMethod,redirectTarget:t=this._settings.redirectTarget}){var s;this._logger.create("prepare");let n=window.self;t==="top"&&(n=(s=window.top)!=null?s:window.self);const r=n.location[e].bind(n.location);let i;return{navigate:async o=>{this._logger.create("navigate");const a=new Promise((l,c)=>{i=c});return r(o.url),await a},close:()=>{this._logger.create("close"),i==null||i(new Error("Redirect aborted")),n.stop()}}}async callback(){}},pf=class extends Hd{constructor(e){super({expiringNotificationTimeInSeconds:e.accessTokenExpiringNotificationTimeInSeconds}),this._logger=new X("UserManagerEvents"),this._userLoaded=new Vt("User loaded"),this._userUnloaded=new Vt("User unloaded"),this._silentRenewError=new Vt("Silent renew error"),this._userSignedIn=new Vt("User signed in"),this._userSignedOut=new Vt("User signed out"),this._userSessionChanged=new Vt("User session changed")}load(e,t=!0){super.load(e),t&&this._userLoaded.raise(e)}unload(){super.unload(),this._userUnloaded.raise()}addUserLoaded(e){return this._userLoaded.addHandler(e)}removeUserLoaded(e){return this._userLoaded.removeHandler(e)}addUserUnloaded(e){return this._userUnloaded.addHandler(e)}removeUserUnloaded(e){return this._userUnloaded.removeHandler(e)}addSilentRenewError(e){return this._silentRenewError.addHandler(e)}removeSilentRenewError(e){return this._silentRenewError.removeHandler(e)}_raiseSilentRenewError(e){this._silentRenewError.raise(e)}addUserSignedIn(e){return this._userSignedIn.addHandler(e)}removeUserSignedIn(e){this._userSignedIn.removeHandler(e)}_raiseUserSignedIn(){this._userSignedIn.raise()}addUserSignedOut(e){return this._userSignedOut.addHandler(e)}removeUserSignedOut(e){this._userSignedOut.removeHandler(e)}_raiseUserSignedOut(){this._userSignedOut.raise()}addUserSessionChanged(e){return this._userSessionChanged.addHandler(e)}removeUserSessionChanged(e){this._userSessionChanged.removeHandler(e)}_raiseUserSessionChanged(){this._userSessionChanged.raise()}},gf=class{constructor(e){this._userManager=e,this._logger=new X("SilentRenewService"),this._isStarted=!1,this._retryTimer=new at("Retry Silent Renew"),this._tokenExpiring=async()=>{const t=this._logger.create("_tokenExpiring");try{await this._userManager.signinSilent(),t.debug("silent token renewal successful")}catch(s){if(s instanceof wo){t.warn("ErrorTimeout from signinSilent:",s,"retry in 5s"),this._retryTimer.init(5);return}t.error("Error from signinSilent:",s),this._userManager.events._raiseSilentRenewError(s)}}}async start(){const e=this._logger.create("start");if(!this._isStarted){this._isStarted=!0,this._userManager.events.addAccessTokenExpiring(this._tokenExpiring),this._retryTimer.addHandler(this._tokenExpiring);try{await this._userManager.getUser()}catch(t){e.error("getUser error",t)}}}stop(){this._isStarted&&(this._retryTimer.cancel(),this._retryTimer.removeHandler(this._tokenExpiring),this._userManager.events.removeAccessTokenExpiring(this._tokenExpiring),this._isStarted=!1)}},mf=class{constructor(e,t){this.refresh_token=e.refresh_token,this.id_token=e.id_token,this.session_state=e.session_state,this.scope=e.scope,this.profile=e.profile,this.resource=t,this.data=e.state}},wf=class{constructor(e,t,s,n){this._logger=new X("UserManager"),this.settings=new lf(e),this._client=new nf(e),this._redirectNavigator=t??new hf(this.settings),this._popupNavigator=s??new ff(this.settings),this._iframeNavigator=n??new cf(this.settings),this._events=new pf(this.settings),this._silentRenewService=new gf(this),this.settings.automaticSilentRenew&&this.startSilentRenew(),this._sessionMonitor=null,this.settings.monitorSession&&(this._sessionMonitor=new rf(this))}get events(){return this._events}get metadataService(){return this._client.metadataService}async getUser(){const e=this._logger.create("getUser"),t=await this._loadUser();return t?(e.info("user loaded"),this._events.load(t,!1),t):(e.info("user not found in storage"),null)}async removeUser(){const e=this._logger.create("removeUser");await this.storeUser(null),e.info("user removed from storage"),this._events.unload()}async signinRedirect(e={}){this._logger.create("signinRedirect");const{redirectMethod:t,...s}=e,n=await this._redirectNavigator.prepare({redirectMethod:t});await this._signinStart({request_type:"si:r",...s},n)}async signinRedirectCallback(e=window.location.href){const t=this._logger.create("signinRedirectCallback"),s=await this._signinEnd(e);return s.profile&&s.profile.sub?t.info("success, signed in subject",s.profile.sub):t.info("no subject"),s}async signinResourceOwnerCredentials({username:e,password:t,skipUserInfo:s=!1}){const n=this._logger.create("signinResourceOwnerCredential"),r=await this._client.processResourceOwnerPasswordCredentials({username:e,password:t,skipUserInfo:s,extraTokenParams:this.settings.extraTokenParams});n.debug("got signin response");const i=await this._buildUser(r);return i.profile&&i.profile.sub?n.info("success, signed in subject",i.profile.sub):n.info("no subject"),i}async signinPopup(e={}){const t=this._logger.create("signinPopup"),{popupWindowFeatures:s,popupWindowTarget:n,...r}=e,i=this.settings.popup_redirect_uri;i||t.throw(new Error("No popup_redirect_uri configured"));const o=await this._popupNavigator.prepare({popupWindowFeatures:s,popupWindowTarget:n}),a=await this._signin({request_type:"si:p",redirect_uri:i,display:"popup",...r},o);return a&&(a.profile&&a.profile.sub?t.info("success, signed in subject",a.profile.sub):t.info("no subject")),a}async signinPopupCallback(e=window.location.href,t=!1){const s=this._logger.create("signinPopupCallback");await this._popupNavigator.callback(e,{keepOpen:t}),s.info("success")}async signinSilent(e={}){var t;const s=this._logger.create("signinSilent"),{silentRequestTimeoutInSeconds:n,resource:r,...i}=e;let o=await this._loadUser();if(o!=null&&o.refresh_token){s.debug("using refresh token");const u=new mf(o,r);return await this._useRefreshToken(u)}const a=this.settings.silent_redirect_uri;a||s.throw(new Error("No silent_redirect_uri configured"));let l;o&&this.settings.validateSubOnSilentRenew&&(s.debug("subject prior to silent renew:",o.profile.sub),l=o.profile.sub);const c=await this._iframeNavigator.prepare({silentRequestTimeoutInSeconds:n});return o=await this._signin({request_type:"si:s",redirect_uri:a,prompt:"none",id_token_hint:this.settings.includeIdTokenInSilentRenew?o==null?void 0:o.id_token:void 0,...i},c,l),o&&((t=o.profile)!=null&&t.sub?s.info("success, signed in subject",o.profile.sub):s.info("no subject")),o}async _useRefreshToken(e){const t=await this._client.useRefreshToken({state:e,timeoutInSeconds:this.settings.silentRequestTimeoutInSeconds}),s=new wr({...e,...t});return await this.storeUser(s),this._events.load(s),s}async signinSilentCallback(e=window.location.href){const t=this._logger.create("signinSilentCallback");await this._iframeNavigator.callback(e),t.info("success")}async signinCallback(e=window.location.href){const{state:t}=await this._client.readSigninResponseState(e);switch(t.request_type){case"si:r":return await this.signinRedirectCallback(e);case"si:p":return await this.signinPopupCallback(e);case"si:s":return await this.signinSilentCallback(e);default:throw new Error("invalid response_type in state")}}async signoutCallback(e=window.location.href,t=!1){const{state:s}=await this._client.readSignoutResponseState(e);if(s)switch(s.request_type){case"so:r":await this.signoutRedirectCallback(e);break;case"so:p":await this.signoutPopupCallback(e,t);break;case"so:s":await this.signoutSilentCallback(e);break;default:throw new Error("invalid response_type in state")}}async querySessionStatus(e={}){const t=this._logger.create("querySessionStatus"),{silentRequestTimeoutInSeconds:s,...n}=e,r=this.settings.silent_redirect_uri;r||t.throw(new Error("No silent_redirect_uri configured"));const i=await this._loadUser(),o=await this._iframeNavigator.prepare({silentRequestTimeoutInSeconds:s}),a=await this._signinStart({request_type:"si:s",redirect_uri:r,prompt:"none",id_token_hint:this.settings.includeIdTokenInSilentRenew?i==null?void 0:i.id_token:void 0,response_type:this.settings.query_status_response_type,scope:"openid",skipUserInfo:!0,...n},o);try{const l=await this._client.processSigninResponse(a.url);return t.debug("got signin response"),l.session_state&&l.profile.sub?(t.info("success for subject",l.profile.sub),{session_state:l.session_state,sub:l.profile.sub,sid:l.profile.sid}):(t.info("success, user not authenticated"),null)}catch(l){if(this.settings.monitorAnonymousSession&&l instanceof vs)switch(l.error){case"login_required":case"consent_required":case"interaction_required":case"account_selection_required":return t.info("success for anonymous user"),{session_state:l.session_state}}throw l}}async _signin(e,t,s){const n=await this._signinStart(e,t);return await this._signinEnd(n.url,s)}async _signinStart(e,t){const s=this._logger.create("_signinStart");try{const n=await this._client.createSigninRequest(e);return s.debug("got signin request"),await t.navigate({url:n.url,state:n.state.id,response_mode:n.state.response_mode,scriptOrigin:this.settings.iframeScriptOrigin})}catch(n){throw s.debug("error after preparing navigator, closing navigator window"),t.close(),n}}async _signinEnd(e,t){const s=this._logger.create("_signinEnd"),n=await this._client.processSigninResponse(e);return s.debug("got signin response"),await this._buildUser(n,t)}async _buildUser(e,t){const s=this._logger.create("_buildUser"),n=new wr(e);if(t){if(t!==n.profile.sub)throw s.debug("current user does not match user returned from signin. sub from signin:",n.profile.sub),new vs({...e,error:"login_required"});s.debug("current user matches user returned from signin")}return await this.storeUser(n),s.debug("user stored"),this._events.load(n),n}async signoutRedirect(e={}){const t=this._logger.create("signoutRedirect"),{redirectMethod:s,...n}=e,r=await this._redirectNavigator.prepare({redirectMethod:s});await this._signoutStart({request_type:"so:r",post_logout_redirect_uri:this.settings.post_logout_redirect_uri,...n},r),t.info("success")}async signoutRedirectCallback(e=window.location.href){const t=this._logger.create("signoutRedirectCallback"),s=await this._signoutEnd(e);return t.info("success"),s}async signoutPopup(e={}){const t=this._logger.create("signoutPopup"),{popupWindowFeatures:s,popupWindowTarget:n,...r}=e,i=this.settings.popup_post_logout_redirect_uri,o=await this._popupNavigator.prepare({popupWindowFeatures:s,popupWindowTarget:n});await this._signout({request_type:"so:p",post_logout_redirect_uri:i,state:i==null?void 0:{},...r},o),t.info("success")}async signoutPopupCallback(e=window.location.href,t=!1){const s=this._logger.create("signoutPopupCallback");await this._popupNavigator.callback(e,{keepOpen:t}),s.info("success")}async _signout(e,t){const s=await this._signoutStart(e,t);return await this._signoutEnd(s.url)}async _signoutStart(e={},t){var s;const n=this._logger.create("_signoutStart");try{const r=await this._loadUser();n.debug("loaded current user from storage"),this.settings.revokeTokensOnSignout&&await this._revokeInternal(r);const i=e.id_token_hint||r&&r.id_token;i&&(n.debug("setting id_token_hint in signout request"),e.id_token_hint=i),await this.removeUser(),n.debug("user removed, creating signout request");const o=await this._client.createSignoutRequest(e);return n.debug("got signout request"),await t.navigate({url:o.url,state:(s=o.state)==null?void 0:s.id,scriptOrigin:this.settings.iframeScriptOrigin})}catch(r){throw n.debug("error after preparing navigator, closing navigator window"),t.close(),r}}async _signoutEnd(e){const t=this._logger.create("_signoutEnd"),s=await this._client.processSignoutResponse(e);return t.debug("got signout response"),s}async signoutSilent(e={}){var t;const s=this._logger.create("signoutSilent"),{silentRequestTimeoutInSeconds:n,...r}=e,i=this.settings.includeIdTokenInSilentSignout?(t=await this._loadUser())==null?void 0:t.id_token:void 0,o=this.settings.popup_post_logout_redirect_uri,a=await this._iframeNavigator.prepare({silentRequestTimeoutInSeconds:n});await this._signout({request_type:"so:s",post_logout_redirect_uri:o,id_token_hint:i,...r},a),s.info("success")}async signoutSilentCallback(e=window.location.href){const t=this._logger.create("signoutSilentCallback");await this._iframeNavigator.callback(e),t.info("success")}async revokeTokens(e){const t=await this._loadUser();await this._revokeInternal(t,e)}async _revokeInternal(e,t=this.settings.revokeTokenTypes){const s=this._logger.create("_revokeInternal");if(!e)return;const n=t.filter(r=>typeof e[r]=="string");if(!n.length){s.debug("no need to revoke due to no token(s)");return}for(const r of n)await this._client.revokeToken(e[r],r),s.info(`${r} revoked successfully`),r!=="access_token"&&(e[r]=null);await this.storeUser(e),s.debug("user stored"),this._events.load(e)}startSilentRenew(){this._logger.create("startSilentRenew"),this._silentRenewService.start()}stopSilentRenew(){this._silentRenewService.stop()}get _userStoreKey(){return`user:${this.settings.authority}:${this.settings.client_id}`}async _loadUser(){const e=this._logger.create("_loadUser"),t=await this.settings.userStore.get(this._userStoreKey);return t?(e.debug("user storageString loaded"),wr.fromStorageString(t)):(e.debug("no user storageString"),null)}async storeUser(e){const t=this._logger.create("storeUser");if(e){t.debug("storing user");const s=e.toStorageString();await this.settings.userStore.set(this._userStoreKey,s)}else this._logger.debug("removing user"),await this.settings.userStore.remove(this._userStoreKey)}async clearStaleState(){await this._client.clearStaleState()}},Xt=(e=>(e[e.NONE=0]="NONE",e[e.ERROR=1]="ERROR",e[e.WARN=2]="WARN",e[e.INFO=3]="INFO",e[e.DEBUG=4]="DEBUG",e))(Xt||{}),zn,Yt,xt,ds,jt,as;const Ae=class Ae{constructor(t){K(this,jt);K(this,ds,[]);t&&S(this,ds).push(t)}static init(t,s=1,n=console){this.setLibName(t),this.setLogLevel(s),this.setLogger(n)}static setLibName(t){ie(this,zn,t)}static setLogLevel(t){ie(this,Yt,t),Ys.setLevel(t)}static setLogger(t){ie(this,xt,t),Ys.setLogger(t)}createChild(t){const s=new Ae;return S(s,ds).push(...S(this,ds),t),s}debug(...t){S(Ae,Yt)>=4&&S(Ae,xt).debug(F(this,jt,as).call(this),...t)}info(...t){S(Ae,Yt)>=3&&S(Ae,xt).info(F(this,jt,as).call(this),...t)}warn(...t){S(Ae,Yt)>=2&&S(Ae,xt).warn(F(this,jt,as).call(this),...t)}error(...t){S(Ae,Yt)>=1&&S(Ae,xt).error(F(this,jt,as).call(this),...t)}getError(t,s=!1){return S(Ae,xt).error(F(this,jt,as).call(this,s),t),new Error(t)}notif(...t){S(Ae,xt).warn(F(this,jt,as).call(this,!1),...t)}};zn=new WeakMap,Yt=new WeakMap,xt=new WeakMap,ds=new WeakMap,jt=new WeakSet,as=function(t=!0){let s=`[${S(Ae,zn)}]`;return t&&(s+=`[${S(this,ds).join(".")}]`),s},K(Ae,zn),K(Ae,Yt),K(Ae,xt);let lt=Ae;class _f{}var Zt,js;class rs{constructor(){K(this,Zt,[]);K(this,js)}add(t,s){const n={subscriber:t,options:s};return S(this,Zt).push(n),S(this,js)&&(t(...S(this,js)),s!=null&&s.once&&this.unsubscribe(n)),{unsubscribe:()=>{this.unsubscribe(n)}}}notify(...t){ie(this,js,t),S(this,Zt).forEach(s=>{var n;s.subscriber(...t),(n=s.options)!=null&&n.once&&this.unsubscribe(s)})}unsubscribe(t){if(t){const s=S(this,Zt).indexOf(t);s!==-1&&S(this,Zt).splice(s,1)}else ie(this,Zt,[])}}Zt=new WeakMap,js=new WeakMap;const bf=new lt("AuthUtils"),it=class it{};z(it,"isCordova",()=>typeof window.cordova<"u"||typeof window.phonegap<"u"||typeof window.PhoneGap<"u"),z(it,"isCapacitor",()=>{var t;return!!((t=window.Capacitor)!=null&&t.isNativePlatform())}),z(it,"isNativeMobile",()=>it.isCapacitor()||it.isCordova()),z(it,"decodeJwt",t=>{try{return t&&Nl(t)}catch{return bf.createChild("decodeJwt").warn("Token was not decoded as it is not a valid JWT."),t}}),z(it,"isUrlMatching",(t,s)=>{if(s!==void 0){const n=new URL(t,"http://test"),r=new URL(s,"http://test");if(r.pathname!==""&&r.pathname!=="/"&&!n.pathname.includes(r.pathname)||r.origin!=="http://test"&&(n.protocol!==r.protocol||n.origin!==r.origin||!`${n.origin}${n.pathname}}`.includes(`${r.origin}${r.pathname}`)))return!1;let i=!0;return r.searchParams.forEach((o,a)=>{n.searchParams.getAll(a).includes(o)||(i=!1)}),i}return!1}),z(it,"getBaseUrl",()=>{var s;const t=document.baseURI??((s=document.querySelector("base"))==null?void 0:s.href);return t.endsWith("/")?t:`${t}/`}),z(it,"stringToURL",t=>{try{return new URL(t)}catch{const s=t.startsWith("/")?t.substring(1,t.length):t;return new URL(`${it.getBaseUrl()}${s}`)}});let Ee=it;const vf=async(e,t)=>{const s=new t;return await s.init(e),s};var ql=typeof global=="object"&&global&&global.Object===Object&&global,yf=typeof self=="object"&&self&&self.Object===Object&&self,rn=ql||yf||Function("return this")(),kr=rn.Symbol,Fl=Object.prototype,Sf=Fl.hasOwnProperty,Ef=Fl.toString,dn=kr?kr.toStringTag:void 0;function xf(e){var t=Sf.call(e,dn),s=e[dn];try{e[dn]=void 0;var n=!0}catch{}var r=Ef.call(e);return n&&(t?e[dn]=s:delete e[dn]),r}var Rf=Object.prototype,Tf=Rf.toString;function Cf(e){return Tf.call(e)}var Pf="[object Null]",kf="[object Undefined]",ua=kr?kr.toStringTag:void 0;function zr(e){return e==null?e===void 0?kf:Pf:ua&&ua in Object(e)?xf(e):Cf(e)}function nr(e){return e!=null&&typeof e=="object"}var Bi=Array.isArray;function xs(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function Bl(e){return e}var Of="[object AsyncFunction]",Af="[object Function]",If="[object GeneratorFunction]",Uf="[object Proxy]";function So(e){if(!xs(e))return!1;var t=zr(e);return t==Af||t==If||t==Of||t==Uf}var mi=rn["__core-js_shared__"],da=function(){var e=/[^.]+$/.exec(mi&&mi.keys&&mi.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Lf(e){return!!da&&da in e}var Nf=Function.prototype,jf=Nf.toString;function Mf(e){if(e!=null){try{return jf.call(e)}catch{}try{return e+""}catch{}}return""}var $f=/[\\^$.*+?()[\]{}|]/g,Hf=/^\[object .+?Constructor\]$/,Df=Function.prototype,qf=Object.prototype,Ff=Df.toString,Bf=qf.hasOwnProperty,Wf=RegExp("^"+Ff.call(Bf).replace($f,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function zf(e){if(!xs(e)||Lf(e))return!1;var t=So(e)?Wf:Hf;return t.test(Mf(e))}function Vf(e,t){return e==null?void 0:e[t]}function Eo(e,t){var s=Vf(e,t);return zf(s)?s:void 0}var fa=Object.create,Kf=function(){function e(){}return function(t){if(!xs(t))return{};if(fa)return fa(t);e.prototype=t;var s=new e;return e.prototype=void 0,s}}();function Gf(e,t,s){switch(s.length){case 0:return e.call(t);case 1:return e.call(t,s[0]);case 2:return e.call(t,s[0],s[1]);case 3:return e.call(t,s[0],s[1],s[2])}return e.apply(t,s)}function Jf(e,t){var s=-1,n=e.length;for(t||(t=Array(n));++s<n;)t[s]=e[s];return t}var Xf=800,Qf=16,Yf=Date.now;function Zf(e){var t=0,s=0;return function(){var n=Yf(),r=Qf-(n-s);if(s=n,r>0){if(++t>=Xf)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function eh(e){return function(){return e}}var Or=function(){try{var e=Eo(Object,"defineProperty");return e({},"",{}),e}catch{}}(),th=Or?function(e,t){return Or(e,"toString",{configurable:!0,enumerable:!1,value:eh(t),writable:!0})}:Bl,sh=Zf(th),nh=9007199254740991,rh=/^(?:0|[1-9]\d*)$/;function Wl(e,t){var s=typeof e;return t=t??nh,!!t&&(s=="number"||s!="symbol"&&rh.test(e))&&e>-1&&e%1==0&&e<t}function xo(e,t,s){t=="__proto__"&&Or?Or(e,t,{configurable:!0,enumerable:!0,value:s,writable:!0}):e[t]=s}function Vr(e,t){return e===t||e!==e&&t!==t}var ih=Object.prototype,oh=ih.hasOwnProperty;function ah(e,t,s){var n=e[t];(!(oh.call(e,t)&&Vr(n,s))||s===void 0&&!(t in e))&&xo(e,t,s)}function lh(e,t,s,n){var r=!s;s||(s={});for(var i=-1,o=t.length;++i<o;){var a=t[i],l=void 0;l===void 0&&(l=e[a]),r?xo(s,a,l):ah(s,a,l)}return s}var ha=Math.max;function ch(e,t,s){return t=ha(t===void 0?e.length-1:t,0),function(){for(var n=arguments,r=-1,i=ha(n.length-t,0),o=Array(i);++r<i;)o[r]=n[t+r];r=-1;for(var a=Array(t+1);++r<t;)a[r]=n[r];return a[t]=s(o),Gf(e,this,a)}}function uh(e,t){return sh(ch(e,t,Bl),e+"")}var dh=9007199254740991;function zl(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=dh}function Ro(e){return e!=null&&zl(e.length)&&!So(e)}function fh(e,t,s){if(!xs(s))return!1;var n=typeof t;return(n=="number"?Ro(s)&&Wl(t,s.length):n=="string"&&t in s)?Vr(s[t],e):!1}function hh(e){return uh(function(t,s){var n=-1,r=s.length,i=r>1?s[r-1]:void 0,o=r>2?s[2]:void 0;for(i=e.length>3&&typeof i=="function"?(r--,i):void 0,o&&fh(s[0],s[1],o)&&(i=r<3?void 0:i,r=1),t=Object(t);++n<r;){var a=s[n];a&&e(t,a,n,i)}return t})}var ph=Object.prototype;function Vl(e){var t=e&&e.constructor,s=typeof t=="function"&&t.prototype||ph;return e===s}function gh(e,t){for(var s=-1,n=Array(e);++s<e;)n[s]=t(s);return n}var mh="[object Arguments]";function pa(e){return nr(e)&&zr(e)==mh}var Kl=Object.prototype,wh=Kl.hasOwnProperty,_h=Kl.propertyIsEnumerable,Wi=pa(function(){return arguments}())?pa:function(e){return nr(e)&&wh.call(e,"callee")&&!_h.call(e,"callee")};function bh(){return!1}var Gl=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ga=Gl&&typeof module=="object"&&module&&!module.nodeType&&module,vh=ga&&ga.exports===Gl,ma=vh?rn.Buffer:void 0,yh=ma?ma.isBuffer:void 0,Jl=yh||bh,Sh="[object Arguments]",Eh="[object Array]",xh="[object Boolean]",Rh="[object Date]",Th="[object Error]",Ch="[object Function]",Ph="[object Map]",kh="[object Number]",Oh="[object Object]",Ah="[object RegExp]",Ih="[object Set]",Uh="[object String]",Lh="[object WeakMap]",Nh="[object ArrayBuffer]",jh="[object DataView]",Mh="[object Float32Array]",$h="[object Float64Array]",Hh="[object Int8Array]",Dh="[object Int16Array]",qh="[object Int32Array]",Fh="[object Uint8Array]",Bh="[object Uint8ClampedArray]",Wh="[object Uint16Array]",zh="[object Uint32Array]",be={};be[Mh]=be[$h]=be[Hh]=be[Dh]=be[qh]=be[Fh]=be[Bh]=be[Wh]=be[zh]=!0;be[Sh]=be[Eh]=be[Nh]=be[xh]=be[jh]=be[Rh]=be[Th]=be[Ch]=be[Ph]=be[kh]=be[Oh]=be[Ah]=be[Ih]=be[Uh]=be[Lh]=!1;function Vh(e){return nr(e)&&zl(e.length)&&!!be[zr(e)]}function Kh(e){return function(t){return e(t)}}var Xl=typeof exports=="object"&&exports&&!exports.nodeType&&exports,xn=Xl&&typeof module=="object"&&module&&!module.nodeType&&module,Gh=xn&&xn.exports===Xl,wi=Gh&&ql.process,wa=function(){try{var e=xn&&xn.require&&xn.require("util").types;return e||wi&&wi.binding&&wi.binding("util")}catch{}}(),_a=wa&&wa.isTypedArray,Ql=_a?Kh(_a):Vh;function Jh(e,t){var s=Bi(e),n=!s&&Wi(e),r=!s&&!n&&Jl(e),i=!s&&!n&&!r&&Ql(e),o=s||n||r||i,a=o?gh(e.length,String):[],l=a.length;for(var c in e)o&&(c=="length"||r&&(c=="offset"||c=="parent")||i&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Wl(c,l))||a.push(c);return a}function Xh(e,t){return function(s){return e(t(s))}}function Qh(e){var t=[];if(e!=null)for(var s in Object(e))t.push(s);return t}var Yh=Object.prototype,Zh=Yh.hasOwnProperty;function ep(e){if(!xs(e))return Qh(e);var t=Vl(e),s=[];for(var n in e)n=="constructor"&&(t||!Zh.call(e,n))||s.push(n);return s}function Yl(e){return Ro(e)?Jh(e):ep(e)}var Nn=Eo(Object,"create");function tp(){this.__data__=Nn?Nn(null):{},this.size=0}function sp(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var np="__lodash_hash_undefined__",rp=Object.prototype,ip=rp.hasOwnProperty;function op(e){var t=this.__data__;if(Nn){var s=t[e];return s===np?void 0:s}return ip.call(t,e)?t[e]:void 0}var ap=Object.prototype,lp=ap.hasOwnProperty;function cp(e){var t=this.__data__;return Nn?t[e]!==void 0:lp.call(t,e)}var up="__lodash_hash_undefined__";function dp(e,t){var s=this.__data__;return this.size+=this.has(e)?0:1,s[e]=Nn&&t===void 0?up:t,this}function ys(e){var t=-1,s=e==null?0:e.length;for(this.clear();++t<s;){var n=e[t];this.set(n[0],n[1])}}ys.prototype.clear=tp;ys.prototype.delete=sp;ys.prototype.get=op;ys.prototype.has=cp;ys.prototype.set=dp;function fp(){this.__data__=[],this.size=0}function Kr(e,t){for(var s=e.length;s--;)if(Vr(e[s][0],t))return s;return-1}var hp=Array.prototype,pp=hp.splice;function gp(e){var t=this.__data__,s=Kr(t,e);if(s<0)return!1;var n=t.length-1;return s==n?t.pop():pp.call(t,s,1),--this.size,!0}function mp(e){var t=this.__data__,s=Kr(t,e);return s<0?void 0:t[s][1]}function wp(e){return Kr(this.__data__,e)>-1}function _p(e,t){var s=this.__data__,n=Kr(s,e);return n<0?(++this.size,s.push([e,t])):s[n][1]=t,this}function Dt(e){var t=-1,s=e==null?0:e.length;for(this.clear();++t<s;){var n=e[t];this.set(n[0],n[1])}}Dt.prototype.clear=fp;Dt.prototype.delete=gp;Dt.prototype.get=mp;Dt.prototype.has=wp;Dt.prototype.set=_p;var Zl=Eo(rn,"Map");function bp(){this.size=0,this.__data__={hash:new ys,map:new(Zl||Dt),string:new ys}}function vp(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Gr(e,t){var s=e.__data__;return vp(t)?s[typeof t=="string"?"string":"hash"]:s.map}function yp(e){var t=Gr(this,e).delete(e);return this.size-=t?1:0,t}function Sp(e){return Gr(this,e).get(e)}function Ep(e){return Gr(this,e).has(e)}function xp(e,t){var s=Gr(this,e),n=s.size;return s.set(e,t),this.size+=s.size==n?0:1,this}function on(e){var t=-1,s=e==null?0:e.length;for(this.clear();++t<s;){var n=e[t];this.set(n[0],n[1])}}on.prototype.clear=bp;on.prototype.delete=yp;on.prototype.get=Sp;on.prototype.has=Ep;on.prototype.set=xp;var ec=Xh(Object.getPrototypeOf,Object),Rp="[object Object]",Tp=Function.prototype,Cp=Object.prototype,tc=Tp.toString,Pp=Cp.hasOwnProperty,kp=tc.call(Object);function Op(e){if(!nr(e)||zr(e)!=Rp)return!1;var t=ec(e);if(t===null)return!0;var s=Pp.call(t,"constructor")&&t.constructor;return typeof s=="function"&&s instanceof s&&tc.call(s)==kp}function Ap(){this.__data__=new Dt,this.size=0}function Ip(e){var t=this.__data__,s=t.delete(e);return this.size=t.size,s}function Up(e){return this.__data__.get(e)}function Lp(e){return this.__data__.has(e)}var Np=200;function jp(e,t){var s=this.__data__;if(s instanceof Dt){var n=s.__data__;if(!Zl||n.length<Np-1)return n.push([e,t]),this.size=++s.size,this;s=this.__data__=new on(n)}return s.set(e,t),this.size=s.size,this}function an(e){var t=this.__data__=new Dt(e);this.size=t.size}an.prototype.clear=Ap;an.prototype.delete=Ip;an.prototype.get=Up;an.prototype.has=Lp;an.prototype.set=jp;var sc=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ba=sc&&typeof module=="object"&&module&&!module.nodeType&&module,Mp=ba&&ba.exports===sc,va=Mp?rn.Buffer:void 0;va&&va.allocUnsafe;function $p(e,t){return e.slice()}var ya=rn.Uint8Array;function Hp(e){var t=new e.constructor(e.byteLength);return new ya(t).set(new ya(e)),t}function Dp(e,t){var s=Hp(e.buffer);return new e.constructor(s,e.byteOffset,e.length)}function qp(e){return typeof e.constructor=="function"&&!Vl(e)?Kf(ec(e)):{}}function Fp(e){return function(t,s,n){for(var r=-1,i=Object(t),o=n(t),a=o.length;a--;){var l=o[++r];if(s(i[l],l,i)===!1)break}return t}}var Bp=Fp();function zi(e,t,s){(s!==void 0&&!Vr(e[t],s)||s===void 0&&!(t in e))&&xo(e,t,s)}function Wp(e){return nr(e)&&Ro(e)}function Vi(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}function zp(e){return lh(e,Yl(e))}function Vp(e,t,s,n,r,i,o){var a=Vi(e,s),l=Vi(t,s),c=o.get(l);if(c){zi(e,s,c);return}var u=i?i(a,l,s+"",e,t,o):void 0,d=u===void 0;if(d){var f=Bi(l),p=!f&&Jl(l),w=!f&&!p&&Ql(l);u=l,f||p||w?Bi(a)?u=a:Wp(a)?u=Jf(a):p?(d=!1,u=$p(l)):w?(d=!1,u=Dp(l)):u=[]:Op(l)||Wi(l)?(u=a,Wi(a)?u=zp(a):(!xs(a)||So(a))&&(u=qp(l))):d=!1}d&&(o.set(l,u),r(u,l,n,i,o),o.delete(l)),zi(e,s,u)}function nc(e,t,s,n,r){e!==t&&Bp(t,function(i,o){if(r||(r=new an),xs(i))Vp(e,t,o,s,nc,n,r);else{var a=n?n(Vi(e,o),i,o+"",e,t,r):void 0;a===void 0&&(a=i),zi(e,o,a)}},Yl)}var Kp=hh(function(e,t,s){nc(e,t,s)}),Ht=(e=>(e.REDIRECT="REDIRECT",e.POPUP="POPUP",e))(Ht||{});const Ts="auth-js:oidc_manager:redirect_url",Ft={loginRequired:!1,retrieveUserSession:!0,loadUserInfo:!1,automaticSilentRenew:!0,desktopNavigationType:Ht.REDIRECT,scope:"openid profile email phone",logLevel:Xt.NONE,automaticLoginOn401:!0,automaticInjectToken:{include:e=>{const t=new URL(e,"http://default-base");return t.hostname.startsWith("api")||t.pathname.startsWith("/api")||!1}},internal:{response_type:"code",redirect_uri:"?oidc-callback=login",post_logout_redirect_uri:"?oidc-callback=logout",popup_redirect_uri:"oidc/callback/popup_redirect.html",popup_post_logout_redirect_uri:"oidc/callback/popup_redirect.html",silent_redirect_uri:"oidc/callback/silent_redirect.html",mobileWindowPresentationStyle:"popover"}},kt=new lt("MobileStorage"),Cs=window.localStorage;var Ol;const Xe=(Ol=window.Capacitor)==null?void 0:Ol.Plugins.Storage;var Al;const Qe=(Al=window.Capacitor)==null?void 0:Al.Plugins.Preferences;var Il;const Ve=(Il=window.Capacitor)==null?void 0:Il.Plugins.SecureStoragePlugin;class Gp{constructor(){if(!Ve){let t=`[@badisi/auth-js] This application is currently using an unsafe storage.

`;t+="ⓘ Please follow the recommended guide and use `capacitor-secure-storage-plugin` instead.",kt.notif(t)}Ve?kt.debug("Using `capacitor-secure-storage-plugin` implementation"):Qe?kt.debug("Using `@capacitor/preferences` implementation"):Xe?kt.debug("Using `@capacitor/storage` implementation"):kt.debug("Using `localStorage` implementation")}get length(){return(async()=>Ve?(await Ve.keys()).value.length:Qe?(await Qe.keys()).keys.length:Xe?(await Xe.keys()).keys.length:Cs.length)()}async key(t){return Ve?(await Ve.keys()).value[t]:Qe?(await Qe.keys()).keys[t]:Xe?(await Xe.keys()).keys[t]:Cs.key(t)}async clear(){kt.debug("clear"),Ve?await Ve.clear():Qe?await Qe.clear():Xe?await Xe.clear():Cs.clear()}async getItem(t){if(kt.debug(`getItem('${t}')`),Ve)try{return(await Ve.get({key:t})).value}catch{return null}else return Qe?(await Qe.get({key:t})).value:Xe?(await Xe.get({key:t})).value:Cs.getItem(t)}async setItem(t,s){kt.debug(`setItem('${t}')`),Ve?await Ve.set({key:t,value:s}):Qe?await Qe.set({key:t,value:s}):Xe?await Xe.set({key:t,value:s}):Cs.setItem(t,s)}async removeItem(t){if(kt.debug(`removeItem('${t}')`),Ve)try{await Ve.remove({key:t})}catch{}else Qe?await Qe.remove({key:t}):Xe?await Xe.remove({key:t}):Cs.removeItem(t)}}class To{constructor(){z(this,"expired");z(this,"expires_in");z(this,"expires_at")}static deserialize(t){const s=new To,n=Object.keys(s);for(const r of n)s[r]=t[r];return s}}const Jp=new lt("OIDCAuthGuard");var Mt,qr,rc;class Xp{constructor(t){K(this,qr);K(this,Mt);ie(this,Mt,t)}async validate(t,s){let n=(s==null?void 0:s.fallbackUrl)??S(this,Mt).getSettings().authGuardFallbackUrl;if(n=(n==null?void 0:n.trim())!==""?n:void 0,await S(this,Mt).isAuthenticated()){const i=await F(this,qr,rc).call(this,s==null?void 0:s.validator);return!i&&n?n:i}else return n??await S(this,Mt).login({redirectUrl:t})}}Mt=new WeakMap,qr=new WeakSet,rc=async function(t){if(typeof t=="function"){const s=await S(this,Mt).getUserProfile(),n=await S(this,Mt).getAccessTokenDecoded();return await Promise.resolve(t(s,n))}else if(t)return Jp.error("`authGuardValidator` must be a function"),!1;return!0};const Bt=new lt("OIDCAuthInterceptor");var ut,Vn,Kn,Ms,Ce,ic,wn,oc,Ki,ac,lc;class Qp{constructor(t){K(this,Ce);K(this,ut);K(this,Vn,window.fetch);K(this,Kn,XMLHttpRequest.prototype.open);K(this,Ms,XMLHttpRequest.prototype.send);Bt.debug("init"),ie(this,ut,t),F(this,Ce,ac).call(this),F(this,Ce,lc).call(this)}}ut=new WeakMap,Vn=new WeakMap,Kn=new WeakMap,Ms=new WeakMap,Ce=new WeakSet,ic=function(t){try{return new URL(t).href}catch{return new URL(`${location.origin}${t.startsWith("/")?"":"/"}${t}`).href}},wn=function(t,s){const n=F(this,Ce,ic).call(this,t);if(typeof s=="function")return s(n);if(typeof s=="string"){const r=s.replace(/\//g,"\\/").replace(/\./g,"\\.").replace(/\*\*/g,"*").replace(/\*/g,".*");return new RegExp(r).exec(n)!==null}else return s.exec(n)!==null},oc=function(t,s){let n=!1;if(typeof s=="boolean")n=s;else{const{include:r,exclude:i}=s;Array.isArray(r)?n=r.some(o=>F(this,Ce,wn).call(this,t,o)):r&&(n=F(this,Ce,wn).call(this,t,r)),Array.isArray(i)?i.some(o=>F(this,Ce,wn).call(this,t,o))&&(n=!1):i&&F(this,Ce,wn).call(this,t,i)&&(n=!1)}return n},Ki=function(t){const s=S(this,ut).getSettings().automaticInjectToken??!1;return s!==!1&&F(this,Ce,oc).call(this,t,s)},ac=function(t=!0){const s=Bt.createChild("monkeyPathFetch");s.debug(t?"enabling..":"disabling.."),window.fetch&&(t?window.fetch=async(n,r)=>{const i=n instanceof Request?n.url:n.toString();if(Bt.debug("received fetch url:",i),F(this,Ce,Ki).call(this,i)){const a=await S(this,ut).getAccessToken();r&&a&&(Bt.debug("adding bearer to url:",i),r.headers={Authorization:`Bearer ${a}`,...r.headers})}const o=await S(this,Vn).apply(window,[n,r]);return o.status===401&&(S(this,ut).getSettings().automaticLoginOn401??!1)&&await S(this,ut).login(),o}:window.fetch=S(this,Vn),s.debug("done"))},lc=function(t=!0){const s=Bt.createChild("monkeyPatchXmlHttpRequest");if(s.debug(t?"enabling..":"disabling.."),XMLHttpRequest.prototype.open&&XMLHttpRequest.prototype.send){if(t){const n=this;XMLHttpRequest.prototype.open=function(r,i,...o){this.url=i,S(n,Kn).apply(this,[r,i,...o])},XMLHttpRequest.prototype.send=function(r){var l,c;const i=typeof this.url=="string"?this.url:(l=this.url)==null?void 0:l.href;Bt.debug("received xhr url:",i);const o=this.onreadystatechange;this.onreadystatechange=u=>{o==null||o.apply(this,[u]),this.readyState===XMLHttpRequest.DONE&&this.status===401&&(S(n,ut).getSettings().automaticLoginOn401??!1)&&S(n,ut).login()};const a=i?F(c=n,Ce,Ki).call(c,i):!1;this.readyState===XMLHttpRequest.OPENED&&a?S(n,ut).getAccessToken().then(u=>{u&&(Bt.debug("adding bearer to url:",i),this.setRequestHeader("Authorization",`Bearer ${u}`))}).catch(u=>{Bt.error(u)}).finally(()=>{S(n,Ms).apply(this,[r])}):S(n,Ms).apply(this,[r])}}else XMLHttpRequest.prototype.open=S(this,Kn),XMLHttpRequest.prototype.send=S(this,Ms);s.debug("done")}};const Yp=10*1e3;var Ul;const fn=(Ul=window.Capacitor)==null?void 0:Ul.Plugins.App;var Ll;const rt=(Ll=window.Capacitor)==null?void 0:Ll.Plugins.Browser,Ut=new lt("MobileWindow"),_i=Ut.createChild("navigate");var Gn,Jn,Xn,Qn,Yn,$s,Hs,fs,Ue,_n,cc,Gi,uc,eg,dc;class Zp{constructor(t,s){K(this,Ue);K(this,Gn);K(this,Jn);K(this,Xn,window.handleOpenURL);K(this,Qn);K(this,Yn);K(this,$s);K(this,Hs,!0);K(this,fs,!1);if(this.redirectUrl=t,this.params=s,!Ee.isCapacitor()&&!Ee.isCordova())throw Ut.notif("ⓘ Please follow the installation guide and install either `Capacitor` or `Cordova` dependency."),Ut.getError("Required core dependency `Capacitor` or `Cordova` not found");if(!rt)throw Ut.notif("ⓘ Please follow the installation guide and install `@capacitor/browser` plugin."),Ut.getError("Required browser plugin not found");rt&&Ut.debug("Using `@capacitor/browser` implementation")}async navigate(t){return _i.debug(t.url),ie(this,Hs,!1),ie(this,fs,!1),new Promise((s,n)=>{ie(this,Yn,s),ie(this,$s,n),F(this,Ue,dc).call(this).then(()=>{rt&&F(this,Ue,uc).call(this,t)})})}async close(){const t=Ut.createChild("cleanup");t.debug("begin"),S(this,Hs)||await(rt==null?void 0:rt.close().catch(s=>{t.error(s)})),t.debug("success")}}Gn=new WeakMap,Jn=new WeakMap,Xn=new WeakMap,Qn=new WeakMap,Yn=new WeakMap,$s=new WeakMap,Hs=new WeakMap,fs=new WeakMap,Ue=new WeakSet,_n=async function(){var s,n;const t=Ut.createChild("cleanup");t.debug("begin"),window.handleOpenURL=S(this,Xn),await((s=S(this,Jn))==null?void 0:s.remove()),await((n=S(this,Gn))==null?void 0:n.remove()),clearTimeout(S(this,Qn)),t.debug("success")},cc=async function(t){var s;_i.error("error response:",t),await this.close(),await F(this,Ue,_n).call(this),(s=S(this,$s))==null||s.call(this,new Error(t)),ie(this,fs,!0)},Gi=async function(t){var s;_i.debug("successful response:",t),await this.close(),await F(this,Ue,_n).call(this),(s=S(this,Yn))==null||s.call(this,{url:t}),ie(this,fs,!0)},uc=async function(t){ie(this,Jn,await(rt==null?void 0:rt.addListener("browserFinished",()=>{ie(this,Hs,!0),setTimeout(()=>{var s;S(this,fs)||(F(this,Ue,_n).call(this),(s=S(this,$s))==null||s.call(this,"Capacitor browser closed by user"))},1e3)}))),await(rt==null?void 0:rt.open({url:t.url,toolbarColor:this.params.mobileWindowToolbarColor,presentationStyle:this.params.mobileWindowPresentationStyle,width:this.params.mobileWindowWidth,height:this.params.mobileWindowWidth}))},eg=async function(t){},dc=async function(){var s;const t=Ut.createChild("installCustomUrlSchemeHandler");ie(this,Qn,setTimeout(()=>void F(this,Ue,cc).call(this,"Installing custom url scheme handler, timed out without a response"),Yp)),await F(this,Ue,_n).call(this),Ee.isCapacitor()?(t.debug("listening to Capacitor `appUrlOpen` event"),ie(this,Gn,await((s=fn==null?void 0:fn.addListener)==null?void 0:s.call(fn,"appUrlOpen",({url:n})=>{Ee.isUrlMatching(n,this.redirectUrl)&&F(this,Ue,Gi).call(this,n)})))):Ee.isCordova()&&(t.debug("waiting for Cordova `handleOpenURL` callback"),window.handleOpenURL=n=>{var r;(r=S(this,Xn))==null||r.call(this,n),Ee.isUrlMatching(n,this.redirectUrl)&&F(this,Ue,Gi).call(this,n)}),t.debug("success")};const tg=new lt("MobileNavigator");class sg{prepare(t,s){return tg.debug("prepare"),new Zp(t,s)}}var Ds;class ng extends wf{constructor(s){super({authority:s.authorityUrl,client_id:s.clientId,scope:s.scope,loadUserInfo:s.loadUserInfo,automaticSilentRenew:s.automaticSilentRenew,...s.internal});K(this,Ds);this.libSettings=s,ie(this,Ds,new sg)}async signoutMobile(s={}){var d,f,p,w;const n=this._logger.create("signout"),{mobileWindowToolbarColor:r,mobileWindowPresentationStyle:i,mobileWindowWidth:o,mobileWindowHeight:a,...l}=s,c={mobileWindowToolbarColor:r??((d=this.libSettings.internal)==null?void 0:d.mobileWindowToolbarColor),mobileWindowPresentationStyle:i??((f=this.libSettings.internal)==null?void 0:f.mobileWindowPresentationStyle),mobileWindowWidth:o??((p=this.libSettings.internal)==null?void 0:p.mobileWindowWidth),mobileWindowHeight:a??((w=this.libSettings.internal)==null?void 0:w.mobileWindowHeight)},u=S(this,Ds).prepare(this.settings.post_logout_redirect_uri,c);await this._signout({request_type:"so:m",post_logout_redirect_uri:this.settings.post_logout_redirect_uri,...l},u),n.info("success")}async signinMobile(s={}){var f,p,w,_;const n=this._logger.create("signin"),{mobileWindowToolbarColor:r,mobileWindowPresentationStyle:i,mobileWindowWidth:o,mobileWindowHeight:a,...l}=s,c={mobileWindowToolbarColor:r??((f=this.libSettings.internal)==null?void 0:f.mobileWindowToolbarColor),mobileWindowPresentationStyle:i??((p=this.libSettings.internal)==null?void 0:p.mobileWindowPresentationStyle),mobileWindowWidth:o??((w=this.libSettings.internal)==null?void 0:w.mobileWindowWidth),mobileWindowHeight:a??((_=this.libSettings.internal)==null?void 0:_.mobileWindowHeight)},u=S(this,Ds).prepare(this.settings.redirect_uri,c),d=await this._signin({request_type:"si:m",redirect_uri:this.settings.redirect_uri,...l},u);d.profile.sub?n.info("success, signed in subject",d.profile.sub):n.info("no subject")}}Ds=new WeakMap;const Ot=new lt("OIDCAuthManager");var qs,Fs,Bs,Ws,hs,zs,Vs,Zn,ps,gs,Ks,Gs,ms,Js,Re,ye,Xs,J,fc,zt,hc,bn,_r,vn,yn,Ji,br,vr;class rg extends _f{constructor(){super(...arguments);K(this,J);K(this,qs,new rs);K(this,Fs,new rs);K(this,Bs,new rs);K(this,Ws,new rs);K(this,hs,new rs);K(this,zs,new rs);K(this,Vs,new rs);K(this,Zn,[]);K(this,ps);K(this,gs);K(this,Ks);K(this,Gs);K(this,ms,!1);K(this,Js,!1);K(this,Re);K(this,ye,Ft);K(this,Xs)}set user(s){S(this,Xs)!==s&&(ie(this,Xs,s),ie(this,ps,s?s.id_token:void 0),ie(this,gs,s?s.access_token:void 0),ie(this,Ks,s!=null&&s.profile?s.profile:void 0),ie(this,Gs,s?To.deserialize(s):void 0),ie(this,ms,!!(s&&!s.expired)),S(this,qs).notify(S(this,ps)),S(this,Fs).notify(S(this,gs)),S(this,Bs).notify(S(this,Ks)),S(this,Ws).notify(S(this,Gs)),S(this,hs).notify(S(this,ms)))}async init(s){var i,o;lt.setLogLevel(s.logLevel??Ft.logLevel);const n=Ee.isNativeMobile();if(n&&!s.mobileScheme)throw Ot.getError("Parameter `mobileScheme` is required for mobile platform");const r=n?`${s.mobileScheme}://localhost/`:Ee.getBaseUrl();if(ie(this,ye,Kp({},Ft,{internal:{userStore:new vo({store:n?new Gp:new _o}),redirect_uri:`${r}${Ft.internal.redirect_uri}`,post_logout_redirect_uri:`${r}${Ft.internal.post_logout_redirect_uri}`,popup_redirect_uri:`${r}${Ft.internal.popup_redirect_uri}`,popup_post_logout_redirect_uri:`${r}${Ft.internal.popup_post_logout_redirect_uri}`,silent_redirect_uri:`${r}${Ft.internal.silent_redirect_uri}`}},s)),F(this,J,fc).call(this),ie(this,Re,new ng(S(this,ye))),(S(this,ye).automaticLoginOn401||S(this,ye).automaticInjectToken)&&new Qp(this),S(this,Zn).push(S(this,Re).events.addUserLoaded(a=>{this.user=a}),S(this,Re).events.addUserUnloaded(()=>{S(this,Xs)&&(this.user=null,S(this,ye).loginRequired&&location.reload())}),S(this,Re).events.addSilentRenewError(async()=>{await F(this,J,yn).call(this)})),Ee.isUrlMatching(location.href,(i=S(this,ye).internal)==null?void 0:i.redirect_uri))await F(this,J,_r).call(this,async()=>{const a=sessionStorage.getItem(Ts);await F(this,J,br).call(this,()=>S(this,Re).signinRedirectCallback(location.href),a),sessionStorage.removeItem(Ts)});else if(Ee.isUrlMatching(location.href,(o=S(this,ye).internal)==null?void 0:o.post_logout_redirect_uri))await F(this,J,_r).call(this,async()=>{const a=sessionStorage.getItem(Ts);await F(this,J,vr).call(this,()=>S(this,Re).signoutRedirectCallback(location.href),a),sessionStorage.removeItem(Ts)});else if(S(this,ye).retrieveUserSession||S(this,ye).loginRequired){const a=await S(this,Re).getUser();!a||a.expired?!n&&S(this,ye).retrieveUserSession?await F(this,J,_r).call(this,()=>F(this,J,Ji).call(this).catch(async l=>{const{error:c,message:u}=l;if(S(this,ye).loginRequired&&(c!=null&&c.includes("_required")||u.includes("_required")))await this.login();else if(Ot.warn("User's session cannot be retrieved:",u),S(this,hs).notify(!1),S(this,ye).loginRequired)throw l})):S(this,ye).loginRequired?await this.login():this.user=null:this.user=a}else this.user=null}async logout(s){var r;const n=(s==null?void 0:s.redirectUrl)??location.href;if(Ee.isNativeMobile())await F(this,J,vr).call(this,()=>S(this,Re).signoutMobile(s),n);else switch((s==null?void 0:s.desktopNavigationType)??S(this,ye).desktopNavigationType){case Ht.POPUP:await F(this,J,vr).call(this,()=>S(this,Re).signoutPopup(s),n);break;case Ht.REDIRECT:default:sessionStorage.setItem(Ts,n),await((r=S(this,Re))==null?void 0:r.signoutRedirect(s));break}}async login(s){var r;const n=(s==null?void 0:s.redirectUrl)??location.href;if(Ee.isNativeMobile())await F(this,J,br).call(this,()=>S(this,Re).signinMobile(s),n);else switch((s==null?void 0:s.desktopNavigationType)??S(this,ye).desktopNavigationType){case Ht.POPUP:await F(this,J,br).call(this,()=>S(this,Re).signinPopup(s),n);break;case Ht.REDIRECT:default:sessionStorage.setItem(Ts,n),await((r=S(this,Re))==null?void 0:r.signinRedirect(s));break}return S(this,ms)}async renew(s){return F(this,J,Ji).call(this,s).catch(n=>{Ot.error(n)})}getSettings(){return S(this,ye)}isRenewing(){return S(this,Js)}async isAuthenticated(){return await F(this,J,zt).call(this,"isAuthenticated()"),S(this,ms)}async runGuard(s,n){return new Xp(this).validate(s,n)}async getUserProfile(){return await F(this,J,zt).call(this,"getUserProfile()"),S(this,Ks)}async getUserSession(){return await F(this,J,zt).call(this,"getUserSession()"),S(this,Gs)}async getIdToken(){return await F(this,J,zt).call(this,"getIdToken()"),S(this,ps)}async getIdTokenDecoded(){return await F(this,J,zt).call(this,"getIdTokenDecoded()"),Ee.decodeJwt(S(this,ps))}async getAccessToken(){return await F(this,J,zt).call(this,"getAccessToken()"),S(this,gs)}async getAccessTokenDecoded(){return await F(this,J,zt).call(this,"getAccessTokenDecoded()"),Ee.decodeJwt(S(this,gs))}destroy(){S(this,qs).unsubscribe(),S(this,Fs).unsubscribe(),S(this,Bs).unsubscribe(),S(this,Ws).unsubscribe(),S(this,hs).unsubscribe(),S(this,zs).unsubscribe(),S(this,Vs).unsubscribe(),S(this,Zn).forEach(s=>{s()})}onIdTokenChanged(s,n){return S(this,qs).add(s,n)}onAccessTokenChanged(s,n){return S(this,Fs).add(s,n)}onUserProfileChanged(s,n){return S(this,Bs).add(s,n)}onUserSessionChanged(s,n){return S(this,Ws).add(s,n)}onAuthenticatedChanged(s,n){return S(this,hs).add(s,n)}onRenewingChanged(s,n){return S(this,zs).add(s,n)}onRedirect(s,n){return S(this,Vs).add(s,n)}}qs=new WeakMap,Fs=new WeakMap,Bs=new WeakMap,Ws=new WeakMap,hs=new WeakMap,zs=new WeakMap,Vs=new WeakMap,Zn=new WeakMap,ps=new WeakMap,gs=new WeakMap,Ks=new WeakMap,Gs=new WeakMap,ms=new WeakMap,Js=new WeakMap,Re=new WeakMap,ye=new WeakMap,Xs=new WeakMap,J=new WeakSet,fc=function(){var s,n;[(s=S(this,ye).internal)==null?void 0:s.silent_redirect_uri,(n=S(this,ye).internal)==null?void 0:n.popup_redirect_uri].forEach(r=>{var a;const i=(a=new RegExp(/^.*\/(.*).html$/gm).exec(r??""))==null?void 0:a[1],o=new Error(`${r??"redirect uri"} was not found.`);if(o.stack=void 0,Ee.isUrlMatching(location.href,r))throw Ot.notif("ⓘ Encountered an error that usually means you forgot to include the redirect html files in your application assets."),o;if(i&&location.href.includes(`/${i}.html`))throw Ot.notif("ⓘ Encountered an error that usually means your redirect urls are misconfigured."),o})},zt=async function(s){const n=Date.now();for(;S(this,Js);){if(Date.now()>n+5e3){Ot.error(`\`${s}\``,"timed out waiting for renew to finish.");break}await new Promise(r=>setTimeout(r,100))}},hc=function(s){const n=Ee.stringToURL(s??"/");S(this,ye).loginRequired&&location.origin===n.origin&&location.reload()},bn=function(s){ie(this,Js,s),S(this,zs).notify(s)},_r=async function(s){S(this,ye).loginRequired?await s():s()},vn=async function(s,n){n&&(Ot.error(n),await F(this,J,yn).call(this));const r=Ee.stringToURL(s??"/");location.origin===r.origin?(history.replaceState(history.state,"",r.href),S(this,Vs).notify(r)):location.href=r.href},yn=async function(){var s,n;this.user=null,await Promise.all([(s=S(this,Re))==null?void 0:s.clearStaleState(),(n=S(this,Re))==null?void 0:n.removeUser()])},Ji=async function(s){var n;F(this,J,bn).call(this,!0);try{await((n=S(this,Re))==null?void 0:n.signinSilent(s))}catch(r){throw await F(this,J,yn).call(this),r}finally{F(this,J,bn).call(this,!1)}},br=async function(s,n){try{F(this,J,bn).call(this,!0),await s().catch(r=>{const i=r;throw i.message==="Attempted to navigate on a disposed window"&&(Ot.notif("ⓘ Encountered an error that may be due to an ad blocker."),i.stack=void 0),i}),await F(this,J,vn).call(this,n)}catch(r){throw await F(this,J,vn).call(this,"/",r),r}finally{F(this,J,bn).call(this,!1)}},vr=async function(s,n){try{await s().catch(r=>{const i=r;throw i.message==="Attempted to navigate on a disposed window"&&(Ot.notif("ⓘ Encountered an error that may be due to an ad blocker."),i.stack=void 0),i}),await F(this,J,vn).call(this,n),await F(this,J,yn).call(this)}catch(r){throw n="/",await F(this,J,vn).call(this,n,r),r}finally{F(this,J,hc).call(this,n)}};const ig=async e=>await vf(e,rg);class og{constructor(t){z(this,"manager");this.manager=t}async login(t){return this.manager.login(t)}async logout(t){return this.manager.logout(t)}async renew(t){return this.manager.renew(t)}isRenewing(){return this.manager.isRenewing()}async isAuthenticated(){return this.manager.isAuthenticated()}getSettings(){return this.manager.getSettings()}async getUserProfile(){return this.manager.getUserProfile()}async getUserSession(){return this.manager.getUserSession()}async getIdToken(){return this.manager.getIdToken()}async getIdTokenDecoded(){return this.manager.getIdTokenDecoded()}async getAccessToken(){return this.manager.getAccessToken()}async getAccessTokenDecoded(){return this.manager.getAccessTokenDecoded()}async runGuard(t,s){return this.manager.runGuard(t,s)}}/**
 * @license GPL-3.0-only
 * Package @badisi/auth-js <https://github.com/Badisi/auth-js/tree/main/libs/auth-js>
 * Released under GNU General Public License v3.0 only <https://github.com/Badisi/auth-js/blob/main/LICENSE>
 * SPDX-License-Identifier: GPL-3.0-only
 * Copyright (C) 2018 Badisi
 */lt.init("@badisi/auth-js");/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Co(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const me={},As=[],Ct=()=>{},ag=()=>!1,Jr=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Po=e=>e.startsWith("onUpdate:"),He=Object.assign,ko=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},lg=Object.prototype.hasOwnProperty,le=(e,t)=>lg.call(e,t),Q=Array.isArray,Is=e=>Xr(e)==="[object Map]",pc=e=>Xr(e)==="[object Set]",Z=e=>typeof e=="function",Te=e=>typeof e=="string",ts=e=>typeof e=="symbol",Se=e=>e!==null&&typeof e=="object",gc=e=>(Se(e)||Z(e))&&Z(e.then)&&Z(e.catch),mc=Object.prototype.toString,Xr=e=>mc.call(e),cg=e=>Xr(e).slice(8,-1),wc=e=>Xr(e)==="[object Object]",Oo=e=>Te(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Rn=Co(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Qr=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},ug=/-(\w)/g,ct=Qr(e=>e.replace(ug,(t,s)=>s?s.toUpperCase():"")),dg=/\B([A-Z])/g,Rs=Qr(e=>e.replace(dg,"-$1").toLowerCase()),Yr=Qr(e=>e.charAt(0).toUpperCase()+e.slice(1)),bi=Qr(e=>e?`on${Yr(e)}`:""),es=(e,t)=>!Object.is(e,t),vi=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},_c=(e,t,s,n=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:n,value:s})},fg=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Sa;const Zr=()=>Sa||(Sa=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ao(e){if(Q(e)){const t={};for(let s=0;s<e.length;s++){const n=e[s],r=Te(n)?mg(n):Ao(n);if(r)for(const i in r)t[i]=r[i]}return t}else if(Te(e)||Se(e))return e}const hg=/;(?![^(]*\))/g,pg=/:([^]+)/,gg=/\/\*[^]*?\*\//g;function mg(e){const t={};return e.replace(gg,"").split(hg).forEach(s=>{if(s){const n=s.split(pg);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function Io(e){let t="";if(Te(e))t=e;else if(Q(e))for(let s=0;s<e.length;s++){const n=Io(e[s]);n&&(t+=n+" ")}else if(Se(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const wg="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",_g=Co(wg);function bc(e){return!!e||e===""}const vc=e=>!!(e&&e.__v_isRef===!0),bg=e=>Te(e)?e:e==null?"":Q(e)||Se(e)&&(e.toString===mc||!Z(e.toString))?vc(e)?bg(e.value):JSON.stringify(e,yc,2):String(e),yc=(e,t)=>vc(t)?yc(e,t.value):Is(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[n,r],i)=>(s[yi(n,i)+" =>"]=r,s),{})}:pc(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>yi(s))}:ts(t)?yi(t):Se(t)&&!Q(t)&&!wc(t)?String(t):t,yi=(e,t="")=>{var s;return ts(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ze;class vg{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ze,!t&&Ze&&(this.index=(Ze.scopes||(Ze.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=Ze;try{return Ze=this,t()}finally{Ze=s}}}on(){Ze=this}off(){Ze=this.parent}stop(t){if(this._active){this._active=!1;let s,n;for(s=0,n=this.effects.length;s<n;s++)this.effects[s].stop();for(this.effects.length=0,s=0,n=this.cleanups.length;s<n;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,n=this.scopes.length;s<n;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function yg(){return Ze}let _e;const Si=new WeakSet;class Sc{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ze&&Ze.active&&Ze.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Si.has(this)&&(Si.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||xc(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Ea(this),Rc(this);const t=_e,s=dt;_e=this,dt=!0;try{return this.fn()}finally{Tc(this),_e=t,dt=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)No(t);this.deps=this.depsTail=void 0,Ea(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Si.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Xi(this)&&this.run()}get dirty(){return Xi(this)}}let Ec=0,Tn,Cn;function xc(e,t=!1){if(e.flags|=8,t){e.next=Cn,Cn=e;return}e.next=Tn,Tn=e}function Uo(){Ec++}function Lo(){if(--Ec>0)return;if(Cn){let t=Cn;for(Cn=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;Tn;){let t=Tn;for(Tn=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(n){e||(e=n)}t=s}}if(e)throw e}function Rc(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Tc(e){let t,s=e.depsTail,n=s;for(;n;){const r=n.prevDep;n.version===-1?(n===s&&(s=r),No(n),Sg(n)):t=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=r}e.deps=t,e.depsTail=s}function Xi(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Cc(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Cc(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===jn))return;e.globalVersion=jn;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!Xi(e)){e.flags&=-3;return}const s=_e,n=dt;_e=e,dt=!0;try{Rc(e);const r=e.fn(e._value);(t.version===0||es(r,e._value))&&(e._value=r,t.version++)}catch(r){throw t.version++,r}finally{_e=s,dt=n,Tc(e),e.flags&=-3}}function No(e,t=!1){const{dep:s,prevSub:n,nextSub:r}=e;if(n&&(n.nextSub=r,e.prevSub=void 0),r&&(r.prevSub=n,e.nextSub=void 0),s.subs===e&&(s.subs=n,!n&&s.computed)){s.computed.flags&=-5;for(let i=s.computed.deps;i;i=i.nextDep)No(i,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function Sg(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let dt=!0;const Pc=[];function ss(){Pc.push(dt),dt=!1}function ns(){const e=Pc.pop();dt=e===void 0?!0:e}function Ea(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=_e;_e=void 0;try{t()}finally{_e=s}}}let jn=0;class Eg{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class jo{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!_e||!dt||_e===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==_e)s=this.activeLink=new Eg(_e,this),_e.deps?(s.prevDep=_e.depsTail,_e.depsTail.nextDep=s,_e.depsTail=s):_e.deps=_e.depsTail=s,kc(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const n=s.nextDep;n.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=n),s.prevDep=_e.depsTail,s.nextDep=void 0,_e.depsTail.nextDep=s,_e.depsTail=s,_e.deps===s&&(_e.deps=n)}return s}trigger(t){this.version++,jn++,this.notify(t)}notify(t){Uo();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{Lo()}}}function kc(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let n=t.deps;n;n=n.nextDep)kc(n)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const Qi=new WeakMap,_s=Symbol(""),Yi=Symbol(""),Mn=Symbol("");function je(e,t,s){if(dt&&_e){let n=Qi.get(e);n||Qi.set(e,n=new Map);let r=n.get(s);r||(n.set(s,r=new jo),r.map=n,r.key=s),r.track()}}function $t(e,t,s,n,r,i){const o=Qi.get(e);if(!o){jn++;return}const a=l=>{l&&l.trigger()};if(Uo(),t==="clear")o.forEach(a);else{const l=Q(e),c=l&&Oo(s);if(l&&s==="length"){const u=Number(n);o.forEach((d,f)=>{(f==="length"||f===Mn||!ts(f)&&f>=u)&&a(d)})}else switch((s!==void 0||o.has(void 0))&&a(o.get(s)),c&&a(o.get(Mn)),t){case"add":l?c&&a(o.get("length")):(a(o.get(_s)),Is(e)&&a(o.get(Yi)));break;case"delete":l||(a(o.get(_s)),Is(e)&&a(o.get(Yi)));break;case"set":Is(e)&&a(o.get(_s));break}}Lo()}function Ps(e){const t=ae(e);return t===e?t:(je(t,"iterate",Mn),ft(e)?t:t.map(Fe))}function Mo(e){return je(e=ae(e),"iterate",Mn),e}const xg={__proto__:null,[Symbol.iterator](){return Ei(this,Symbol.iterator,Fe)},concat(...e){return Ps(this).concat(...e.map(t=>Q(t)?Ps(t):t))},entries(){return Ei(this,"entries",e=>(e[1]=Fe(e[1]),e))},every(e,t){return At(this,"every",e,t,void 0,arguments)},filter(e,t){return At(this,"filter",e,t,s=>s.map(Fe),arguments)},find(e,t){return At(this,"find",e,t,Fe,arguments)},findIndex(e,t){return At(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return At(this,"findLast",e,t,Fe,arguments)},findLastIndex(e,t){return At(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return At(this,"forEach",e,t,void 0,arguments)},includes(...e){return xi(this,"includes",e)},indexOf(...e){return xi(this,"indexOf",e)},join(e){return Ps(this).join(e)},lastIndexOf(...e){return xi(this,"lastIndexOf",e)},map(e,t){return At(this,"map",e,t,void 0,arguments)},pop(){return hn(this,"pop")},push(...e){return hn(this,"push",e)},reduce(e,...t){return xa(this,"reduce",e,t)},reduceRight(e,...t){return xa(this,"reduceRight",e,t)},shift(){return hn(this,"shift")},some(e,t){return At(this,"some",e,t,void 0,arguments)},splice(...e){return hn(this,"splice",e)},toReversed(){return Ps(this).toReversed()},toSorted(e){return Ps(this).toSorted(e)},toSpliced(...e){return Ps(this).toSpliced(...e)},unshift(...e){return hn(this,"unshift",e)},values(){return Ei(this,"values",Fe)}};function Ei(e,t,s){const n=Mo(e),r=n[t]();return n!==e&&!ft(e)&&(r._next=r.next,r.next=()=>{const i=r._next();return i.value&&(i.value=s(i.value)),i}),r}const Rg=Array.prototype;function At(e,t,s,n,r,i){const o=Mo(e),a=o!==e&&!ft(e),l=o[t];if(l!==Rg[t]){const d=l.apply(e,i);return a?Fe(d):d}let c=s;o!==e&&(a?c=function(d,f){return s.call(this,Fe(d),f,e)}:s.length>2&&(c=function(d,f){return s.call(this,d,f,e)}));const u=l.call(o,c,n);return a&&r?r(u):u}function xa(e,t,s,n){const r=Mo(e);let i=s;return r!==e&&(ft(e)?s.length>3&&(i=function(o,a,l){return s.call(this,o,a,l,e)}):i=function(o,a,l){return s.call(this,o,Fe(a),l,e)}),r[t](i,...n)}function xi(e,t,s){const n=ae(e);je(n,"iterate",Mn);const r=n[t](...s);return(r===-1||r===!1)&&Do(s[0])?(s[0]=ae(s[0]),n[t](...s)):r}function hn(e,t,s=[]){ss(),Uo();const n=ae(e)[t].apply(e,s);return Lo(),ns(),n}const Tg=Co("__proto__,__v_isRef,__isVue"),Oc=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ts));function Cg(e){ts(e)||(e=String(e));const t=ae(this);return je(t,"has",e),t.hasOwnProperty(e)}class Ac{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,n){if(s==="__v_skip")return t.__v_skip;const r=this._isReadonly,i=this._isShallow;if(s==="__v_isReactive")return!r;if(s==="__v_isReadonly")return r;if(s==="__v_isShallow")return i;if(s==="__v_raw")return n===(r?i?Mg:Nc:i?Lc:Uc).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const o=Q(t);if(!r){let l;if(o&&(l=xg[s]))return l;if(s==="hasOwnProperty")return Cg}const a=Reflect.get(t,s,$e(t)?t:n);return(ts(s)?Oc.has(s):Tg(s))||(r||je(t,"get",s),i)?a:$e(a)?o&&Oo(s)?a:a.value:Se(a)?r?Mc(a):ei(a):a}}class Ic extends Ac{constructor(t=!1){super(!1,t)}set(t,s,n,r){let i=t[s];if(!this._isShallow){const l=Ss(i);if(!ft(n)&&!Ss(n)&&(i=ae(i),n=ae(n)),!Q(t)&&$e(i)&&!$e(n))return l?!1:(i.value=n,!0)}const o=Q(t)&&Oo(s)?Number(s)<t.length:le(t,s),a=Reflect.set(t,s,n,$e(t)?t:r);return t===ae(r)&&(o?es(n,i)&&$t(t,"set",s,n):$t(t,"add",s,n)),a}deleteProperty(t,s){const n=le(t,s);t[s];const r=Reflect.deleteProperty(t,s);return r&&n&&$t(t,"delete",s,void 0),r}has(t,s){const n=Reflect.has(t,s);return(!ts(s)||!Oc.has(s))&&je(t,"has",s),n}ownKeys(t){return je(t,"iterate",Q(t)?"length":_s),Reflect.ownKeys(t)}}class Pg extends Ac{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const kg=new Ic,Og=new Pg,Ag=new Ic(!0);const Zi=e=>e,cr=e=>Reflect.getPrototypeOf(e);function Ig(e,t,s){return function(...n){const r=this.__v_raw,i=ae(r),o=Is(i),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,c=r[e](...n),u=s?Zi:t?eo:Fe;return!t&&je(i,"iterate",l?Yi:_s),{next(){const{value:d,done:f}=c.next();return f?{value:d,done:f}:{value:a?[u(d[0]),u(d[1])]:u(d),done:f}},[Symbol.iterator](){return this}}}}function ur(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Ug(e,t){const s={get(r){const i=this.__v_raw,o=ae(i),a=ae(r);e||(es(r,a)&&je(o,"get",r),je(o,"get",a));const{has:l}=cr(o),c=t?Zi:e?eo:Fe;if(l.call(o,r))return c(i.get(r));if(l.call(o,a))return c(i.get(a));i!==o&&i.get(r)},get size(){const r=this.__v_raw;return!e&&je(ae(r),"iterate",_s),Reflect.get(r,"size",r)},has(r){const i=this.__v_raw,o=ae(i),a=ae(r);return e||(es(r,a)&&je(o,"has",r),je(o,"has",a)),r===a?i.has(r):i.has(r)||i.has(a)},forEach(r,i){const o=this,a=o.__v_raw,l=ae(a),c=t?Zi:e?eo:Fe;return!e&&je(l,"iterate",_s),a.forEach((u,d)=>r.call(i,c(u),c(d),o))}};return He(s,e?{add:ur("add"),set:ur("set"),delete:ur("delete"),clear:ur("clear")}:{add(r){!t&&!ft(r)&&!Ss(r)&&(r=ae(r));const i=ae(this);return cr(i).has.call(i,r)||(i.add(r),$t(i,"add",r,r)),this},set(r,i){!t&&!ft(i)&&!Ss(i)&&(i=ae(i));const o=ae(this),{has:a,get:l}=cr(o);let c=a.call(o,r);c||(r=ae(r),c=a.call(o,r));const u=l.call(o,r);return o.set(r,i),c?es(i,u)&&$t(o,"set",r,i):$t(o,"add",r,i),this},delete(r){const i=ae(this),{has:o,get:a}=cr(i);let l=o.call(i,r);l||(r=ae(r),l=o.call(i,r)),a&&a.call(i,r);const c=i.delete(r);return l&&$t(i,"delete",r,void 0),c},clear(){const r=ae(this),i=r.size!==0,o=r.clear();return i&&$t(r,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(r=>{s[r]=Ig(r,e,t)}),s}function $o(e,t){const s=Ug(e,t);return(n,r,i)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?n:Reflect.get(le(s,r)&&r in n?s:n,r,i)}const Lg={get:$o(!1,!1)},Ng={get:$o(!1,!0)},jg={get:$o(!0,!1)};const Uc=new WeakMap,Lc=new WeakMap,Nc=new WeakMap,Mg=new WeakMap;function $g(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Hg(e){return e.__v_skip||!Object.isExtensible(e)?0:$g(cg(e))}function ei(e){return Ss(e)?e:Ho(e,!1,kg,Lg,Uc)}function jc(e){return Ho(e,!1,Ag,Ng,Lc)}function Mc(e){return Ho(e,!0,Og,jg,Nc)}function Ho(e,t,s,n,r){if(!Se(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=r.get(e);if(i)return i;const o=Hg(e);if(o===0)return e;const a=new Proxy(e,o===2?n:s);return r.set(e,a),a}function Pn(e){return Ss(e)?Pn(e.__v_raw):!!(e&&e.__v_isReactive)}function Ss(e){return!!(e&&e.__v_isReadonly)}function ft(e){return!!(e&&e.__v_isShallow)}function Do(e){return e?!!e.__v_raw:!1}function ae(e){const t=e&&e.__v_raw;return t?ae(t):e}function Dg(e){return!le(e,"__v_skip")&&Object.isExtensible(e)&&_c(e,"__v_skip",!0),e}const Fe=e=>Se(e)?ei(e):e,eo=e=>Se(e)?Mc(e):e;function $e(e){return e?e.__v_isRef===!0:!1}function ls(e){return Hc(e,!1)}function $c(e){return Hc(e,!0)}function Hc(e,t){return $e(e)?e:new qg(e,t)}class qg{constructor(t,s){this.dep=new jo,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:ae(t),this._value=s?t:Fe(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,n=this.__v_isShallow||ft(t)||Ss(t);t=n?t:ae(t),es(t,s)&&(this._rawValue=t,this._value=n?t:Fe(t),this.dep.trigger())}}function Us(e){return $e(e)?e.value:e}const Fg={get:(e,t,s)=>t==="__v_raw"?e:Us(Reflect.get(e,t,s)),set:(e,t,s,n)=>{const r=e[t];return $e(r)&&!$e(s)?(r.value=s,!0):Reflect.set(e,t,s,n)}};function Dc(e){return Pn(e)?e:new Proxy(e,Fg)}class Bg{constructor(t,s,n){this.fn=t,this.setter=s,this._value=void 0,this.dep=new jo(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=jn-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&_e!==this)return xc(this,!0),!0}get value(){const t=this.dep.track();return Cc(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Wg(e,t,s=!1){let n,r;return Z(e)?n=e:(n=e.get,r=e.set),new Bg(n,r,s)}const dr={},Ar=new WeakMap;let cs;function zg(e,t=!1,s=cs){if(s){let n=Ar.get(s);n||Ar.set(s,n=[]),n.push(e)}}function Vg(e,t,s=me){const{immediate:n,deep:r,once:i,scheduler:o,augmentJob:a,call:l}=s,c=x=>r?x:ft(x)||r===!1||r===0?Qt(x,1):Qt(x);let u,d,f,p,w=!1,_=!1;if($e(e)?(d=()=>e.value,w=ft(e)):Pn(e)?(d=()=>c(e),w=!0):Q(e)?(_=!0,w=e.some(x=>Pn(x)||ft(x)),d=()=>e.map(x=>{if($e(x))return x.value;if(Pn(x))return c(x);if(Z(x))return l?l(x,2):x()})):Z(e)?t?d=l?()=>l(e,2):e:d=()=>{if(f){ss();try{f()}finally{ns()}}const x=cs;cs=u;try{return l?l(e,3,[p]):e(p)}finally{cs=x}}:d=Ct,t&&r){const x=d,O=r===!0?1/0:r;d=()=>Qt(x(),O)}const y=yg(),P=()=>{u.stop(),y&&y.active&&ko(y.effects,u)};if(i&&t){const x=t;t=(...O)=>{x(...O),P()}}let m=_?new Array(e.length).fill(dr):dr;const v=x=>{if(!(!(u.flags&1)||!u.dirty&&!x))if(t){const O=u.run();if(r||w||(_?O.some((H,U)=>es(H,m[U])):es(O,m))){f&&f();const H=cs;cs=u;try{const U=[O,m===dr?void 0:_&&m[0]===dr?[]:m,p];l?l(t,3,U):t(...U),m=O}finally{cs=H}}}else u.run()};return a&&a(v),u=new Sc(d),u.scheduler=o?()=>o(v,!1):v,p=x=>zg(x,!1,u),f=u.onStop=()=>{const x=Ar.get(u);if(x){if(l)l(x,4);else for(const O of x)O();Ar.delete(u)}},t?n?v(!0):m=u.run():o?o(v.bind(null,!0),!0):u.run(),P.pause=u.pause.bind(u),P.resume=u.resume.bind(u),P.stop=P,P}function Qt(e,t=1/0,s){if(t<=0||!Se(e)||e.__v_skip||(s=s||new Set,s.has(e)))return e;if(s.add(e),t--,$e(e))Qt(e.value,t,s);else if(Q(e))for(let n=0;n<e.length;n++)Qt(e[n],t,s);else if(pc(e)||Is(e))e.forEach(n=>{Qt(n,t,s)});else if(wc(e)){for(const n in e)Qt(e[n],t,s);for(const n of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,n)&&Qt(e[n],t,s)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function rr(e,t,s,n){try{return n?e(...n):e()}catch(r){ti(r,t,s)}}function Pt(e,t,s,n){if(Z(e)){const r=rr(e,t,s,n);return r&&gc(r)&&r.catch(i=>{ti(i,t,s)}),r}if(Q(e)){const r=[];for(let i=0;i<e.length;i++)r.push(Pt(e[i],t,s,n));return r}}function ti(e,t,s,n=!0){const r=t?t.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||me;if(t){let a=t.parent;const l=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const u=a.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](e,l,c)===!1)return}a=a.parent}if(i){ss(),rr(i,null,10,[e,l,c]),ns();return}}Kg(e,s,r,n,o)}function Kg(e,t,s,n=!0,r=!1){if(r)throw e;console.error(e)}const Be=[];let Et=-1;const Ls=[];let Kt=null,ks=0;const qc=Promise.resolve();let Ir=null;function Fc(e){const t=Ir||qc;return e?t.then(this?e.bind(this):e):t}function Gg(e){let t=Et+1,s=Be.length;for(;t<s;){const n=t+s>>>1,r=Be[n],i=$n(r);i<e||i===e&&r.flags&2?t=n+1:s=n}return t}function qo(e){if(!(e.flags&1)){const t=$n(e),s=Be[Be.length-1];!s||!(e.flags&2)&&t>=$n(s)?Be.push(e):Be.splice(Gg(t),0,e),e.flags|=1,Bc()}}function Bc(){Ir||(Ir=qc.then(zc))}function Jg(e){Q(e)?Ls.push(...e):Kt&&e.id===-1?Kt.splice(ks+1,0,e):e.flags&1||(Ls.push(e),e.flags|=1),Bc()}function Ra(e,t,s=Et+1){for(;s<Be.length;s++){const n=Be[s];if(n&&n.flags&2){if(e&&n.id!==e.uid)continue;Be.splice(s,1),s--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function Wc(e){if(Ls.length){const t=[...new Set(Ls)].sort((s,n)=>$n(s)-$n(n));if(Ls.length=0,Kt){Kt.push(...t);return}for(Kt=t,ks=0;ks<Kt.length;ks++){const s=Kt[ks];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}Kt=null,ks=0}}const $n=e=>e.id==null?e.flags&2?-1:1/0:e.id;function zc(e){try{for(Et=0;Et<Be.length;Et++){const t=Be[Et];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),rr(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Et<Be.length;Et++){const t=Be[Et];t&&(t.flags&=-2)}Et=-1,Be.length=0,Wc(),Ir=null,(Be.length||Ls.length)&&zc()}}let ot=null,Vc=null;function Ur(e){const t=ot;return ot=e,Vc=e&&e.type.__scopeId||null,t}function Xg(e,t=ot,s){if(!t||e._n)return e;const n=(...r)=>{n._d&&Na(-1);const i=Ur(t);let o;try{o=e(...r)}finally{Ur(i),n._d&&Na(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function is(e,t,s,n){const r=e.dirs,i=t&&t.dirs;for(let o=0;o<r.length;o++){const a=r[o];i&&(a.oldValue=i[o].value);let l=a.dir[n];l&&(ss(),Pt(l,s,8,[e.el,a,e,t]),ns())}}const Qg=Symbol("_vte"),Yg=e=>e.__isTeleport;function Fo(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Fo(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function Bo(e,t){return Z(e)?He({name:e.name},t,{setup:e}):e}function Kc(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function Zg(e){const t=Zm(),s=$c(null);if(t){const r=t.refs===me?t.refs={}:t.refs;Object.defineProperty(r,e,{enumerable:!0,get:()=>s.value,set:i=>s.value=i})}return s}function Lr(e,t,s,n,r=!1){if(Q(e)){e.forEach((w,_)=>Lr(w,t&&(Q(t)?t[_]:t),s,n,r));return}if(kn(n)&&!r){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&Lr(e,t,s,n.component.subTree);return}const i=n.shapeFlag&4?Vo(n.component):n.el,o=r?null:i,{i:a,r:l}=e,c=t&&t.r,u=a.refs===me?a.refs={}:a.refs,d=a.setupState,f=ae(d),p=d===me?()=>!1:w=>le(f,w);if(c!=null&&c!==l&&(Te(c)?(u[c]=null,p(c)&&(d[c]=null)):$e(c)&&(c.value=null)),Z(l))rr(l,a,12,[o,u]);else{const w=Te(l),_=$e(l);if(w||_){const y=()=>{if(e.f){const P=w?p(l)?d[l]:u[l]:l.value;r?Q(P)&&ko(P,i):Q(P)?P.includes(i)||P.push(i):w?(u[l]=[i],p(l)&&(d[l]=u[l])):(l.value=[i],e.k&&(u[e.k]=l.value))}else w?(u[l]=o,p(l)&&(d[l]=o)):_&&(l.value=o,e.k&&(u[e.k]=o))};o?(y.id=-1,Ye(y,s)):y()}}}Zr().requestIdleCallback;Zr().cancelIdleCallback;const kn=e=>!!e.type.__asyncLoader,Gc=e=>e.type.__isKeepAlive;function em(e,t){Jc(e,"a",t)}function tm(e,t){Jc(e,"da",t)}function Jc(e,t,s=Ie){const n=e.__wdc||(e.__wdc=()=>{let r=s;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(si(t,n,s),s){let r=s.parent;for(;r&&r.parent;)Gc(r.parent.vnode)&&sm(n,t,s,r),r=r.parent}}function sm(e,t,s,n){const r=si(t,e,n,!0);Xc(()=>{ko(n[t],r)},s)}function si(e,t,s=Ie,n=!1){if(s){const r=s[e]||(s[e]=[]),i=t.__weh||(t.__weh=(...o)=>{ss();const a=ir(s),l=Pt(t,s,e,o);return a(),ns(),l});return n?r.unshift(i):r.push(i),i}}const qt=e=>(t,s=Ie)=>{(!qn||e==="sp")&&si(e,(...n)=>t(...n),s)},nm=qt("bm"),rm=qt("m"),im=qt("bu"),om=qt("u"),am=qt("bum"),Xc=qt("um"),lm=qt("sp"),cm=qt("rtg"),um=qt("rtc");function dm(e,t=Ie){si("ec",e,t)}const fm="components";function Qc(e,t){return pm(fm,e,!0,t)||e}const hm=Symbol.for("v-ndc");function pm(e,t,s=!0,n=!1){const r=ot||Ie;if(r){const i=r.type;{const a=rw(i,!1);if(a&&(a===t||a===ct(t)||a===Yr(ct(t))))return i}const o=Ta(r[e]||i[e],t)||Ta(r.appContext[e],t);return!o&&n?i:o}}function Ta(e,t){return e&&(e[t]||e[ct(t)]||e[Yr(ct(t))])}const to=e=>e?bu(e)?Vo(e):to(e.parent):null,On=He(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>to(e.parent),$root:e=>to(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Zc(e),$forceUpdate:e=>e.f||(e.f=()=>{qo(e.update)}),$nextTick:e=>e.n||(e.n=Fc.bind(e.proxy)),$watch:e=>Nm.bind(e)}),Ri=(e,t)=>e!==me&&!e.__isScriptSetup&&le(e,t),gm={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:n,data:r,props:i,accessCache:o,type:a,appContext:l}=e;let c;if(t[0]!=="$"){const p=o[t];if(p!==void 0)switch(p){case 1:return n[t];case 2:return r[t];case 4:return s[t];case 3:return i[t]}else{if(Ri(n,t))return o[t]=1,n[t];if(r!==me&&le(r,t))return o[t]=2,r[t];if((c=e.propsOptions[0])&&le(c,t))return o[t]=3,i[t];if(s!==me&&le(s,t))return o[t]=4,s[t];so&&(o[t]=0)}}const u=On[t];let d,f;if(u)return t==="$attrs"&&je(e.attrs,"get",""),u(e);if((d=a.__cssModules)&&(d=d[t]))return d;if(s!==me&&le(s,t))return o[t]=4,s[t];if(f=l.config.globalProperties,le(f,t))return f[t]},set({_:e},t,s){const{data:n,setupState:r,ctx:i}=e;return Ri(r,t)?(r[t]=s,!0):n!==me&&le(n,t)?(n[t]=s,!0):le(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:n,appContext:r,propsOptions:i}},o){let a;return!!s[o]||e!==me&&le(e,o)||Ri(t,o)||(a=i[0])&&le(a,o)||le(n,o)||le(On,o)||le(r.config.globalProperties,o)},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:le(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function Ca(e){return Q(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let so=!0;function mm(e){const t=Zc(e),s=e.proxy,n=e.ctx;so=!1,t.beforeCreate&&Pa(t.beforeCreate,e,"bc");const{data:r,computed:i,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:d,mounted:f,beforeUpdate:p,updated:w,activated:_,deactivated:y,beforeDestroy:P,beforeUnmount:m,destroyed:v,unmounted:x,render:O,renderTracked:H,renderTriggered:U,errorCaptured:q,serverPrefetch:I,expose:se,inheritAttrs:ne,components:ce,directives:ve,filters:We}=t;if(c&&wm(c,n,null),o)for(const ee in o){const te=o[ee];Z(te)&&(n[ee]=te.bind(s))}if(r){const ee=r.call(s,s);Se(ee)&&(e.data=ei(ee))}if(so=!0,i)for(const ee in i){const te=i[ee],Le=Z(te)?te.bind(s,s):Z(te.get)?te.get.bind(s,s):Ct,fe=!Z(te)&&Z(te.set)?te.set.bind(s):Ct,he=et({get:Le,set:fe});Object.defineProperty(n,ee,{enumerable:!0,configurable:!0,get:()=>he.value,set:pe=>he.value=pe})}if(a)for(const ee in a)Yc(a[ee],n,s,ee);if(l){const ee=Z(l)?l.call(s):l;Reflect.ownKeys(ee).forEach(te=>{yr(te,ee[te])})}u&&Pa(u,e,"c");function de(ee,te){Q(te)?te.forEach(Le=>ee(Le.bind(s))):te&&ee(te.bind(s))}if(de(nm,d),de(rm,f),de(im,p),de(om,w),de(em,_),de(tm,y),de(dm,q),de(um,H),de(cm,U),de(am,m),de(Xc,x),de(lm,I),Q(se))if(se.length){const ee=e.exposed||(e.exposed={});se.forEach(te=>{Object.defineProperty(ee,te,{get:()=>s[te],set:Le=>s[te]=Le})})}else e.exposed||(e.exposed={});O&&e.render===Ct&&(e.render=O),ne!=null&&(e.inheritAttrs=ne),ce&&(e.components=ce),ve&&(e.directives=ve),I&&Kc(e)}function wm(e,t,s=Ct){Q(e)&&(e=no(e));for(const n in e){const r=e[n];let i;Se(r)?"default"in r?i=ht(r.from||n,r.default,!0):i=ht(r.from||n):i=ht(r),$e(i)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):t[n]=i}}function Pa(e,t,s){Pt(Q(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,s)}function Yc(e,t,s,n){let r=n.includes(".")?hu(s,n):()=>s[n];if(Te(e)){const i=t[e];Z(i)&&Sr(r,i)}else if(Z(e))Sr(r,e.bind(s));else if(Se(e))if(Q(e))e.forEach(i=>Yc(i,t,s,n));else{const i=Z(e.handler)?e.handler.bind(s):t[e.handler];Z(i)&&Sr(r,i,e)}}function Zc(e){const t=e.type,{mixins:s,extends:n}=t,{mixins:r,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,a=i.get(t);let l;return a?l=a:!r.length&&!s&&!n?l=t:(l={},r.length&&r.forEach(c=>Nr(l,c,o,!0)),Nr(l,t,o)),Se(t)&&i.set(t,l),l}function Nr(e,t,s,n=!1){const{mixins:r,extends:i}=t;i&&Nr(e,i,s,!0),r&&r.forEach(o=>Nr(e,o,s,!0));for(const o in t)if(!(n&&o==="expose")){const a=_m[o]||s&&s[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const _m={data:ka,props:Oa,emits:Oa,methods:Sn,computed:Sn,beforeCreate:qe,created:qe,beforeMount:qe,mounted:qe,beforeUpdate:qe,updated:qe,beforeDestroy:qe,beforeUnmount:qe,destroyed:qe,unmounted:qe,activated:qe,deactivated:qe,errorCaptured:qe,serverPrefetch:qe,components:Sn,directives:Sn,watch:vm,provide:ka,inject:bm};function ka(e,t){return t?e?function(){return He(Z(e)?e.call(this,this):e,Z(t)?t.call(this,this):t)}:t:e}function bm(e,t){return Sn(no(e),no(t))}function no(e){if(Q(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function qe(e,t){return e?[...new Set([].concat(e,t))]:t}function Sn(e,t){return e?He(Object.create(null),e,t):t}function Oa(e,t){return e?Q(e)&&Q(t)?[...new Set([...e,...t])]:He(Object.create(null),Ca(e),Ca(t??{})):t}function vm(e,t){if(!e)return t;if(!t)return e;const s=He(Object.create(null),e);for(const n in t)s[n]=qe(e[n],t[n]);return s}function eu(){return{app:null,config:{isNativeTag:ag,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let ym=0;function Sm(e,t){return function(n,r=null){Z(n)||(n=He({},n)),r!=null&&!Se(r)&&(r=null);const i=eu(),o=new WeakSet,a=[];let l=!1;const c=i.app={_uid:ym++,_component:n,_props:r,_container:null,_context:i,_instance:null,version:ow,get config(){return i.config},set config(u){},use(u,...d){return o.has(u)||(u&&Z(u.install)?(o.add(u),u.install(c,...d)):Z(u)&&(o.add(u),u(c,...d))),c},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),c},component(u,d){return d?(i.components[u]=d,c):i.components[u]},directive(u,d){return d?(i.directives[u]=d,c):i.directives[u]},mount(u,d,f){if(!l){const p=c._ceVNode||st(n,r);return p.appContext=i,f===!0?f="svg":f===!1&&(f=void 0),e(p,u,f),l=!0,c._container=u,u.__vue_app__=c,Vo(p.component)}},onUnmount(u){a.push(u)},unmount(){l&&(Pt(a,c._instance,16),e(null,c._container),delete c._container.__vue_app__)},provide(u,d){return i.provides[u]=d,c},runWithContext(u){const d=Ns;Ns=c;try{return u()}finally{Ns=d}}};return c}}let Ns=null;function yr(e,t){if(Ie){let s=Ie.provides;const n=Ie.parent&&Ie.parent.provides;n===s&&(s=Ie.provides=Object.create(n)),s[e]=t}}function ht(e,t,s=!1){const n=Ie||ot;if(n||Ns){const r=Ns?Ns._context.provides:n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(r&&e in r)return r[e];if(arguments.length>1)return s&&Z(t)?t.call(n&&n.proxy):t}}const tu={},su=()=>Object.create(tu),nu=e=>Object.getPrototypeOf(e)===tu;function Em(e,t,s,n=!1){const r={},i=su();e.propsDefaults=Object.create(null),ru(e,t,r,i);for(const o in e.propsOptions[0])o in r||(r[o]=void 0);s?e.props=n?r:jc(r):e.type.props?e.props=r:e.props=i,e.attrs=i}function xm(e,t,s,n){const{props:r,attrs:i,vnode:{patchFlag:o}}=e,a=ae(r),[l]=e.propsOptions;let c=!1;if((n||o>0)&&!(o&16)){if(o&8){const u=e.vnode.dynamicProps;for(let d=0;d<u.length;d++){let f=u[d];if(ni(e.emitsOptions,f))continue;const p=t[f];if(l)if(le(i,f))p!==i[f]&&(i[f]=p,c=!0);else{const w=ct(f);r[w]=ro(l,a,w,p,e,!1)}else p!==i[f]&&(i[f]=p,c=!0)}}}else{ru(e,t,r,i)&&(c=!0);let u;for(const d in a)(!t||!le(t,d)&&((u=Rs(d))===d||!le(t,u)))&&(l?s&&(s[d]!==void 0||s[u]!==void 0)&&(r[d]=ro(l,a,d,void 0,e,!0)):delete r[d]);if(i!==a)for(const d in i)(!t||!le(t,d))&&(delete i[d],c=!0)}c&&$t(e.attrs,"set","")}function ru(e,t,s,n){const[r,i]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(Rn(l))continue;const c=t[l];let u;r&&le(r,u=ct(l))?!i||!i.includes(u)?s[u]=c:(a||(a={}))[u]=c:ni(e.emitsOptions,l)||(!(l in n)||c!==n[l])&&(n[l]=c,o=!0)}if(i){const l=ae(s),c=a||me;for(let u=0;u<i.length;u++){const d=i[u];s[d]=ro(r,l,d,c[d],e,!le(c,d))}}return o}function ro(e,t,s,n,r,i){const o=e[s];if(o!=null){const a=le(o,"default");if(a&&n===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Z(l)){const{propsDefaults:c}=r;if(s in c)n=c[s];else{const u=ir(r);n=c[s]=l.call(null,t),u()}}else n=l;r.ce&&r.ce._setProp(s,n)}o[0]&&(i&&!a?n=!1:o[1]&&(n===""||n===Rs(s))&&(n=!0))}return n}const Rm=new WeakMap;function iu(e,t,s=!1){const n=s?Rm:t.propsCache,r=n.get(e);if(r)return r;const i=e.props,o={},a=[];let l=!1;if(!Z(e)){const u=d=>{l=!0;const[f,p]=iu(d,t,!0);He(o,f),p&&a.push(...p)};!s&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!i&&!l)return Se(e)&&n.set(e,As),As;if(Q(i))for(let u=0;u<i.length;u++){const d=ct(i[u]);Aa(d)&&(o[d]=me)}else if(i)for(const u in i){const d=ct(u);if(Aa(d)){const f=i[u],p=o[d]=Q(f)||Z(f)?{type:f}:He({},f),w=p.type;let _=!1,y=!0;if(Q(w))for(let P=0;P<w.length;++P){const m=w[P],v=Z(m)&&m.name;if(v==="Boolean"){_=!0;break}else v==="String"&&(y=!1)}else _=Z(w)&&w.name==="Boolean";p[0]=_,p[1]=y,(_||le(p,"default"))&&a.push(d)}}const c=[o,a];return Se(e)&&n.set(e,c),c}function Aa(e){return e[0]!=="$"&&!Rn(e)}const ou=e=>e[0]==="_"||e==="$stable",Wo=e=>Q(e)?e.map(Rt):[Rt(e)],Tm=(e,t,s)=>{if(t._n)return t;const n=Xg((...r)=>Wo(t(...r)),s);return n._c=!1,n},au=(e,t,s)=>{const n=e._ctx;for(const r in e){if(ou(r))continue;const i=e[r];if(Z(i))t[r]=Tm(r,i,n);else if(i!=null){const o=Wo(i);t[r]=()=>o}}},lu=(e,t)=>{const s=Wo(t);e.slots.default=()=>s},cu=(e,t,s)=>{for(const n in t)(s||n!=="_")&&(e[n]=t[n])},Cm=(e,t,s)=>{const n=e.slots=su();if(e.vnode.shapeFlag&32){const r=t._;r?(cu(n,t,s),s&&_c(n,"_",r,!0)):au(t,n)}else t&&lu(e,t)},Pm=(e,t,s)=>{const{vnode:n,slots:r}=e;let i=!0,o=me;if(n.shapeFlag&32){const a=t._;a?s&&a===1?i=!1:cu(r,t,s):(i=!t.$stable,au(t,r)),o=t}else t&&(lu(e,t),o={default:1});if(i)for(const a in r)!ou(a)&&o[a]==null&&delete r[a]},Ye=Fm;function km(e){return Om(e)}function Om(e,t){const s=Zr();s.__VUE__=!0;const{insert:n,remove:r,patchProp:i,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:f,setScopeId:p=Ct,insertStaticContent:w}=e,_=(h,g,b,T=null,k=null,C=null,j=void 0,N=null,L=!!g.dynamicChildren)=>{if(h===g)return;h&&!pn(h,g)&&(T=R(h),pe(h,k,C,!0),h=null),g.patchFlag===-2&&(L=!1,g.dynamicChildren=null);const{type:A,ref:V,shapeFlag:$}=g;switch(A){case ri:y(h,g,b,T);break;case Hn:P(h,g,b,T);break;case Ci:h==null&&m(g,b,T,j);break;case Nt:ce(h,g,b,T,k,C,j,N,L);break;default:$&1?O(h,g,b,T,k,C,j,N,L):$&6?ve(h,g,b,T,k,C,j,N,L):($&64||$&128)&&A.process(h,g,b,T,k,C,j,N,L,B)}V!=null&&k&&Lr(V,h&&h.ref,C,g||h,!g)},y=(h,g,b,T)=>{if(h==null)n(g.el=a(g.children),b,T);else{const k=g.el=h.el;g.children!==h.children&&c(k,g.children)}},P=(h,g,b,T)=>{h==null?n(g.el=l(g.children||""),b,T):g.el=h.el},m=(h,g,b,T)=>{[h.el,h.anchor]=w(h.children,g,b,T,h.el,h.anchor)},v=({el:h,anchor:g},b,T)=>{let k;for(;h&&h!==g;)k=f(h),n(h,b,T),h=k;n(g,b,T)},x=({el:h,anchor:g})=>{let b;for(;h&&h!==g;)b=f(h),r(h),h=b;r(g)},O=(h,g,b,T,k,C,j,N,L)=>{g.type==="svg"?j="svg":g.type==="math"&&(j="mathml"),h==null?H(g,b,T,k,C,j,N,L):I(h,g,k,C,j,N,L)},H=(h,g,b,T,k,C,j,N)=>{let L,A;const{props:V,shapeFlag:$,transition:W,dirs:G}=h;if(L=h.el=o(h.type,C,V&&V.is,V),$&8?u(L,h.children):$&16&&q(h.children,L,null,T,k,Ti(h,C),j,N),G&&is(h,null,T,"created"),U(L,h,h.scopeId,j,T),V){for(const we in V)we!=="value"&&!Rn(we)&&i(L,we,null,V[we],C,T);"value"in V&&i(L,"value",null,V.value,C),(A=V.onVnodeBeforeMount)&&bt(A,T,h)}G&&is(h,null,T,"beforeMount");const re=Am(k,W);re&&W.beforeEnter(L),n(L,g,b),((A=V&&V.onVnodeMounted)||re||G)&&Ye(()=>{A&&bt(A,T,h),re&&W.enter(L),G&&is(h,null,T,"mounted")},k)},U=(h,g,b,T,k)=>{if(b&&p(h,b),T)for(let C=0;C<T.length;C++)p(h,T[C]);if(k){let C=k.subTree;if(g===C||gu(C.type)&&(C.ssContent===g||C.ssFallback===g)){const j=k.vnode;U(h,j,j.scopeId,j.slotScopeIds,k.parent)}}},q=(h,g,b,T,k,C,j,N,L=0)=>{for(let A=L;A<h.length;A++){const V=h[A]=N?Gt(h[A]):Rt(h[A]);_(null,V,g,b,T,k,C,j,N)}},I=(h,g,b,T,k,C,j)=>{const N=g.el=h.el;let{patchFlag:L,dynamicChildren:A,dirs:V}=g;L|=h.patchFlag&16;const $=h.props||me,W=g.props||me;let G;if(b&&os(b,!1),(G=W.onVnodeBeforeUpdate)&&bt(G,b,g,h),V&&is(g,h,b,"beforeUpdate"),b&&os(b,!0),($.innerHTML&&W.innerHTML==null||$.textContent&&W.textContent==null)&&u(N,""),A?se(h.dynamicChildren,A,N,b,T,Ti(g,k),C):j||te(h,g,N,null,b,T,Ti(g,k),C,!1),L>0){if(L&16)ne(N,$,W,b,k);else if(L&2&&$.class!==W.class&&i(N,"class",null,W.class,k),L&4&&i(N,"style",$.style,W.style,k),L&8){const re=g.dynamicProps;for(let we=0;we<re.length;we++){const ue=re[we],Ge=$[ue],ze=W[ue];(ze!==Ge||ue==="value")&&i(N,ue,Ge,ze,k,b)}}L&1&&h.children!==g.children&&u(N,g.children)}else!j&&A==null&&ne(N,$,W,b,k);((G=W.onVnodeUpdated)||V)&&Ye(()=>{G&&bt(G,b,g,h),V&&is(g,h,b,"updated")},T)},se=(h,g,b,T,k,C,j)=>{for(let N=0;N<g.length;N++){const L=h[N],A=g[N],V=L.el&&(L.type===Nt||!pn(L,A)||L.shapeFlag&70)?d(L.el):b;_(L,A,V,null,T,k,C,j,!0)}},ne=(h,g,b,T,k)=>{if(g!==b){if(g!==me)for(const C in g)!Rn(C)&&!(C in b)&&i(h,C,g[C],null,k,T);for(const C in b){if(Rn(C))continue;const j=b[C],N=g[C];j!==N&&C!=="value"&&i(h,C,N,j,k,T)}"value"in b&&i(h,"value",g.value,b.value,k)}},ce=(h,g,b,T,k,C,j,N,L)=>{const A=g.el=h?h.el:a(""),V=g.anchor=h?h.anchor:a("");let{patchFlag:$,dynamicChildren:W,slotScopeIds:G}=g;G&&(N=N?N.concat(G):G),h==null?(n(A,b,T),n(V,b,T),q(g.children||[],b,V,k,C,j,N,L)):$>0&&$&64&&W&&h.dynamicChildren?(se(h.dynamicChildren,W,b,k,C,j,N),(g.key!=null||k&&g===k.subTree)&&uu(h,g,!0)):te(h,g,b,V,k,C,j,N,L)},ve=(h,g,b,T,k,C,j,N,L)=>{g.slotScopeIds=N,h==null?g.shapeFlag&512?k.ctx.activate(g,b,T,j,L):We(g,b,T,k,C,j,L):Pe(h,g,L)},We=(h,g,b,T,k,C,j)=>{const N=h.component=Ym(h,T,k);if(Gc(h)&&(N.ctx.renderer=B),ew(N,!1,j),N.asyncDep){if(k&&k.registerDep(N,de,j),!h.el){const L=N.subTree=st(Hn);P(null,L,g,b)}}else de(N,h,g,b,k,C,j)},Pe=(h,g,b)=>{const T=g.component=h.component;if(Dm(h,g,b))if(T.asyncDep&&!T.asyncResolved){ee(T,g,b);return}else T.next=g,T.update();else g.el=h.el,T.vnode=g},de=(h,g,b,T,k,C,j)=>{const N=()=>{if(h.isMounted){let{next:$,bu:W,u:G,parent:re,vnode:we}=h;{const wt=du(h);if(wt){$&&($.el=we.el,ee(h,$,j)),wt.asyncDep.then(()=>{h.isUnmounted||N()});return}}let ue=$,Ge;os(h,!1),$?($.el=we.el,ee(h,$,j)):$=we,W&&vi(W),(Ge=$.props&&$.props.onVnodeBeforeUpdate)&&bt(Ge,re,$,we),os(h,!0);const ze=Ua(h),mt=h.subTree;h.subTree=ze,_(mt,ze,d(mt.el),R(mt),h,k,C),$.el=ze.el,ue===null&&qm(h,ze.el),G&&Ye(G,k),(Ge=$.props&&$.props.onVnodeUpdated)&&Ye(()=>bt(Ge,re,$,we),k)}else{let $;const{el:W,props:G}=g,{bm:re,m:we,parent:ue,root:Ge,type:ze}=h,mt=kn(g);os(h,!1),re&&vi(re),!mt&&($=G&&G.onVnodeBeforeMount)&&bt($,ue,g),os(h,!0);{Ge.ce&&Ge.ce._injectChildStyle(ze);const wt=h.subTree=Ua(h);_(null,wt,b,T,h,k,C),g.el=wt.el}if(we&&Ye(we,k),!mt&&($=G&&G.onVnodeMounted)){const wt=g;Ye(()=>bt($,ue,wt),k)}(g.shapeFlag&256||ue&&kn(ue.vnode)&&ue.vnode.shapeFlag&256)&&h.a&&Ye(h.a,k),h.isMounted=!0,g=b=T=null}};h.scope.on();const L=h.effect=new Sc(N);h.scope.off();const A=h.update=L.run.bind(L),V=h.job=L.runIfDirty.bind(L);V.i=h,V.id=h.uid,L.scheduler=()=>qo(V),os(h,!0),A()},ee=(h,g,b)=>{g.component=h;const T=h.vnode.props;h.vnode=g,h.next=null,xm(h,g.props,T,b),Pm(h,g.children,b),ss(),Ra(h),ns()},te=(h,g,b,T,k,C,j,N,L=!1)=>{const A=h&&h.children,V=h?h.shapeFlag:0,$=g.children,{patchFlag:W,shapeFlag:G}=g;if(W>0){if(W&128){fe(A,$,b,T,k,C,j,N,L);return}else if(W&256){Le(A,$,b,T,k,C,j,N,L);return}}G&8?(V&16&&Oe(A,k,C),$!==A&&u(b,$)):V&16?G&16?fe(A,$,b,T,k,C,j,N,L):Oe(A,k,C,!0):(V&8&&u(b,""),G&16&&q($,b,T,k,C,j,N,L))},Le=(h,g,b,T,k,C,j,N,L)=>{h=h||As,g=g||As;const A=h.length,V=g.length,$=Math.min(A,V);let W;for(W=0;W<$;W++){const G=g[W]=L?Gt(g[W]):Rt(g[W]);_(h[W],G,b,null,k,C,j,N,L)}A>V?Oe(h,k,C,!0,!1,$):q(g,b,T,k,C,j,N,L,$)},fe=(h,g,b,T,k,C,j,N,L)=>{let A=0;const V=g.length;let $=h.length-1,W=V-1;for(;A<=$&&A<=W;){const G=h[A],re=g[A]=L?Gt(g[A]):Rt(g[A]);if(pn(G,re))_(G,re,b,null,k,C,j,N,L);else break;A++}for(;A<=$&&A<=W;){const G=h[$],re=g[W]=L?Gt(g[W]):Rt(g[W]);if(pn(G,re))_(G,re,b,null,k,C,j,N,L);else break;$--,W--}if(A>$){if(A<=W){const G=W+1,re=G<V?g[G].el:T;for(;A<=W;)_(null,g[A]=L?Gt(g[A]):Rt(g[A]),b,re,k,C,j,N,L),A++}}else if(A>W)for(;A<=$;)pe(h[A],k,C,!0),A++;else{const G=A,re=A,we=new Map;for(A=re;A<=W;A++){const Je=g[A]=L?Gt(g[A]):Rt(g[A]);Je.key!=null&&we.set(Je.key,A)}let ue,Ge=0;const ze=W-re+1;let mt=!1,wt=0;const un=new Array(ze);for(A=0;A<ze;A++)un[A]=0;for(A=G;A<=$;A++){const Je=h[A];if(Ge>=ze){pe(Je,k,C,!0);continue}let _t;if(Je.key!=null)_t=we.get(Je.key);else for(ue=re;ue<=W;ue++)if(un[ue-re]===0&&pn(Je,g[ue])){_t=ue;break}_t===void 0?pe(Je,k,C,!0):(un[_t-re]=A+1,_t>=wt?wt=_t:mt=!0,_(Je,g[_t],b,null,k,C,j,N,L),Ge++)}const Yo=mt?Im(un):As;for(ue=Yo.length-1,A=ze-1;A>=0;A--){const Je=re+A,_t=g[Je],Zo=Je+1<V?g[Je+1].el:T;un[A]===0?_(null,_t,b,Zo,k,C,j,N,L):mt&&(ue<0||A!==Yo[ue]?he(_t,b,Zo,2):ue--)}}},he=(h,g,b,T,k=null)=>{const{el:C,type:j,transition:N,children:L,shapeFlag:A}=h;if(A&6){he(h.component.subTree,g,b,T);return}if(A&128){h.suspense.move(g,b,T);return}if(A&64){j.move(h,g,b,B);return}if(j===Nt){n(C,g,b);for(let $=0;$<L.length;$++)he(L[$],g,b,T);n(h.anchor,g,b);return}if(j===Ci){v(h,g,b);return}if(T!==2&&A&1&&N)if(T===0)N.beforeEnter(C),n(C,g,b),Ye(()=>N.enter(C),k);else{const{leave:$,delayLeave:W,afterLeave:G}=N,re=()=>n(C,g,b),we=()=>{$(C,()=>{re(),G&&G()})};W?W(C,re,we):we()}else n(C,g,b)},pe=(h,g,b,T=!1,k=!1)=>{const{type:C,props:j,ref:N,children:L,dynamicChildren:A,shapeFlag:V,patchFlag:$,dirs:W,cacheIndex:G}=h;if($===-2&&(k=!1),N!=null&&Lr(N,null,b,h,!0),G!=null&&(g.renderCache[G]=void 0),V&256){g.ctx.deactivate(h);return}const re=V&1&&W,we=!kn(h);let ue;if(we&&(ue=j&&j.onVnodeBeforeUnmount)&&bt(ue,g,h),V&6)Ne(h.component,b,T);else{if(V&128){h.suspense.unmount(b,T);return}re&&is(h,null,g,"beforeUnmount"),V&64?h.type.remove(h,g,b,B,T):A&&!A.hasOnce&&(C!==Nt||$>0&&$&64)?Oe(A,g,b,!1,!0):(C===Nt&&$&384||!k&&V&16)&&Oe(L,g,b),T&&ke(h)}(we&&(ue=j&&j.onVnodeUnmounted)||re)&&Ye(()=>{ue&&bt(ue,g,h),re&&is(h,null,g,"unmounted")},b)},ke=h=>{const{type:g,el:b,anchor:T,transition:k}=h;if(g===Nt){De(b,T);return}if(g===Ci){x(h);return}const C=()=>{r(b),k&&!k.persisted&&k.afterLeave&&k.afterLeave()};if(h.shapeFlag&1&&k&&!k.persisted){const{leave:j,delayLeave:N}=k,L=()=>j(b,C);N?N(h.el,C,L):L()}else C()},De=(h,g)=>{let b;for(;h!==g;)b=f(h),r(h),h=b;r(g)},Ne=(h,g,b)=>{const{bum:T,scope:k,job:C,subTree:j,um:N,m:L,a:A}=h;Ia(L),Ia(A),T&&vi(T),k.stop(),C&&(C.flags|=8,pe(j,h,g,b)),N&&Ye(N,g),Ye(()=>{h.isUnmounted=!0},g),g&&g.pendingBranch&&!g.isUnmounted&&h.asyncDep&&!h.asyncResolved&&h.suspenseId===g.pendingId&&(g.deps--,g.deps===0&&g.resolve())},Oe=(h,g,b,T=!1,k=!1,C=0)=>{for(let j=C;j<h.length;j++)pe(h[j],g,b,T,k)},R=h=>{if(h.shapeFlag&6)return R(h.component.subTree);if(h.shapeFlag&128)return h.suspense.next();const g=f(h.anchor||h.el),b=g&&g[Qg];return b?f(b):g};let D=!1;const M=(h,g,b)=>{h==null?g._vnode&&pe(g._vnode,null,null,!0):_(g._vnode||null,h,g,null,null,null,b),g._vnode=h,D||(D=!0,Ra(),Wc(),D=!1)},B={p:_,um:pe,m:he,r:ke,mt:We,mc:q,pc:te,pbc:se,n:R,o:e};return{render:M,hydrate:void 0,createApp:Sm(M)}}function Ti({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function os({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Am(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function uu(e,t,s=!1){const n=e.children,r=t.children;if(Q(n)&&Q(r))for(let i=0;i<n.length;i++){const o=n[i];let a=r[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[i]=Gt(r[i]),a.el=o.el),!s&&a.patchFlag!==-2&&uu(o,a)),a.type===ri&&(a.el=o.el)}}function Im(e){const t=e.slice(),s=[0];let n,r,i,o,a;const l=e.length;for(n=0;n<l;n++){const c=e[n];if(c!==0){if(r=s[s.length-1],e[r]<c){t[n]=r,s.push(n);continue}for(i=0,o=s.length-1;i<o;)a=i+o>>1,e[s[a]]<c?i=a+1:o=a;c<e[s[i]]&&(i>0&&(t[n]=s[i-1]),s[i]=n)}}for(i=s.length,o=s[i-1];i-- >0;)s[i]=o,o=t[o];return s}function du(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:du(t)}function Ia(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Um=Symbol.for("v-scx"),Lm=()=>ht(Um);function Sr(e,t,s){return fu(e,t,s)}function fu(e,t,s=me){const{immediate:n,deep:r,flush:i,once:o}=s,a=He({},s),l=t&&n||!t&&i!=="post";let c;if(qn){if(i==="sync"){const p=Lm();c=p.__watcherHandles||(p.__watcherHandles=[])}else if(!l){const p=()=>{};return p.stop=Ct,p.resume=Ct,p.pause=Ct,p}}const u=Ie;a.call=(p,w,_)=>Pt(p,u,w,_);let d=!1;i==="post"?a.scheduler=p=>{Ye(p,u&&u.suspense)}:i!=="sync"&&(d=!0,a.scheduler=(p,w)=>{w?p():qo(p)}),a.augmentJob=p=>{t&&(p.flags|=4),d&&(p.flags|=2,u&&(p.id=u.uid,p.i=u))};const f=Vg(e,t,a);return qn&&(c?c.push(f):l&&f()),f}function Nm(e,t,s){const n=this.proxy,r=Te(e)?e.includes(".")?hu(n,e):()=>n[e]:e.bind(n,n);let i;Z(t)?i=t:(i=t.handler,s=t);const o=ir(this),a=fu(r,i.bind(n),s);return o(),a}function hu(e,t){const s=t.split(".");return()=>{let n=e;for(let r=0;r<s.length&&n;r++)n=n[s[r]];return n}}const jm=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${ct(t)}Modifiers`]||e[`${Rs(t)}Modifiers`];function Mm(e,t,...s){if(e.isUnmounted)return;const n=e.vnode.props||me;let r=s;const i=t.startsWith("update:"),o=i&&jm(n,t.slice(7));o&&(o.trim&&(r=s.map(u=>Te(u)?u.trim():u)),o.number&&(r=s.map(fg)));let a,l=n[a=bi(t)]||n[a=bi(ct(t))];!l&&i&&(l=n[a=bi(Rs(t))]),l&&Pt(l,e,6,r);const c=n[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,Pt(c,e,6,r)}}function pu(e,t,s=!1){const n=t.emitsCache,r=n.get(e);if(r!==void 0)return r;const i=e.emits;let o={},a=!1;if(!Z(e)){const l=c=>{const u=pu(c,t,!0);u&&(a=!0,He(o,u))};!s&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!i&&!a?(Se(e)&&n.set(e,null),null):(Q(i)?i.forEach(l=>o[l]=null):He(o,i),Se(e)&&n.set(e,o),o)}function ni(e,t){return!e||!Jr(t)?!1:(t=t.slice(2).replace(/Once$/,""),le(e,t[0].toLowerCase()+t.slice(1))||le(e,Rs(t))||le(e,t))}function Ua(e){const{type:t,vnode:s,proxy:n,withProxy:r,propsOptions:[i],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:d,data:f,setupState:p,ctx:w,inheritAttrs:_}=e,y=Ur(e);let P,m;try{if(s.shapeFlag&4){const x=r||n,O=x;P=Rt(c.call(O,x,u,d,p,f,w)),m=a}else{const x=t;P=Rt(x.length>1?x(d,{attrs:a,slots:o,emit:l}):x(d,null)),m=t.props?a:$m(a)}}catch(x){An.length=0,ti(x,e,1),P=st(Hn)}let v=P;if(m&&_!==!1){const x=Object.keys(m),{shapeFlag:O}=v;x.length&&O&7&&(i&&x.some(Po)&&(m=Hm(m,i)),v=en(v,m,!1,!0))}return s.dirs&&(v=en(v,null,!1,!0),v.dirs=v.dirs?v.dirs.concat(s.dirs):s.dirs),s.transition&&Fo(v,s.transition),P=v,Ur(y),P}const $m=e=>{let t;for(const s in e)(s==="class"||s==="style"||Jr(s))&&((t||(t={}))[s]=e[s]);return t},Hm=(e,t)=>{const s={};for(const n in e)(!Po(n)||!(n.slice(9)in t))&&(s[n]=e[n]);return s};function Dm(e,t,s){const{props:n,children:r,component:i}=e,{props:o,children:a,patchFlag:l}=t,c=i.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return n?La(n,o,c):!!o;if(l&8){const u=t.dynamicProps;for(let d=0;d<u.length;d++){const f=u[d];if(o[f]!==n[f]&&!ni(c,f))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:n===o?!1:n?o?La(n,o,c):!0:!!o;return!1}function La(e,t,s){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let r=0;r<n.length;r++){const i=n[r];if(t[i]!==e[i]&&!ni(s,i))return!0}return!1}function qm({vnode:e,parent:t},s){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n===e)(e=t.vnode).el=s,t=t.parent;else break}}const gu=e=>e.__isSuspense;function Fm(e,t){t&&t.pendingBranch?Q(e)?t.effects.push(...e):t.effects.push(e):Jg(e)}const Nt=Symbol.for("v-fgt"),ri=Symbol.for("v-txt"),Hn=Symbol.for("v-cmt"),Ci=Symbol.for("v-stc"),An=[];let tt=null;function mu(e=!1){An.push(tt=e?null:[])}function Bm(){An.pop(),tt=An[An.length-1]||null}let Dn=1;function Na(e,t=!1){Dn+=e,e<0&&tt&&t&&(tt.hasOnce=!0)}function wu(e){return e.dynamicChildren=Dn>0?tt||As:null,Bm(),Dn>0&&tt&&tt.push(e),e}function Wm(e,t,s,n,r,i){return wu(In(e,t,s,n,r,i,!0))}function zm(e,t,s,n,r){return wu(st(e,t,s,n,r,!0))}function jr(e){return e?e.__v_isVNode===!0:!1}function pn(e,t){return e.type===t.type&&e.key===t.key}const _u=({key:e})=>e??null,Er=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?Te(e)||$e(e)||Z(e)?{i:ot,r:e,k:t,f:!!s}:e:null);function In(e,t=null,s=null,n=0,r=null,i=e===Nt?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&_u(t),ref:t&&Er(t),scopeId:Vc,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:n,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:ot};return a?(zo(l,s),i&128&&e.normalize(l)):s&&(l.shapeFlag|=Te(s)?8:16),Dn>0&&!o&&tt&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&tt.push(l),l}const st=Vm;function Vm(e,t=null,s=null,n=0,r=null,i=!1){if((!e||e===hm)&&(e=Hn),jr(e)){const a=en(e,t,!0);return s&&zo(a,s),Dn>0&&!i&&tt&&(a.shapeFlag&6?tt[tt.indexOf(e)]=a:tt.push(a)),a.patchFlag=-2,a}if(iw(e)&&(e=e.__vccOpts),t){t=Km(t);let{class:a,style:l}=t;a&&!Te(a)&&(t.class=Io(a)),Se(l)&&(Do(l)&&!Q(l)&&(l=He({},l)),t.style=Ao(l))}const o=Te(e)?1:gu(e)?128:Yg(e)?64:Se(e)?4:Z(e)?2:0;return In(e,t,s,n,r,o,i,!0)}function Km(e){return e?Do(e)||nu(e)?He({},e):e:null}function en(e,t,s=!1,n=!1){const{props:r,ref:i,patchFlag:o,children:a,transition:l}=e,c=t?Jm(r||{},t):r,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&_u(c),ref:t&&t.ref?s&&i?Q(i)?i.concat(Er(t)):[i,Er(t)]:Er(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Nt?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&en(e.ssContent),ssFallback:e.ssFallback&&en(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&n&&Fo(u,l.clone(u)),u}function Gm(e=" ",t=0){return st(ri,null,e,t)}function Rt(e){return e==null||typeof e=="boolean"?st(Hn):Q(e)?st(Nt,null,e.slice()):jr(e)?Gt(e):st(ri,null,String(e))}function Gt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:en(e)}function zo(e,t){let s=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(Q(t))s=16;else if(typeof t=="object")if(n&65){const r=t.default;r&&(r._c&&(r._d=!1),zo(e,r()),r._c&&(r._d=!0));return}else{s=32;const r=t._;!r&&!nu(t)?t._ctx=ot:r===3&&ot&&(ot.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Z(t)?(t={default:t,_ctx:ot},s=32):(t=String(t),n&64?(s=16,t=[Gm(t)]):s=8);e.children=t,e.shapeFlag|=s}function Jm(...e){const t={};for(let s=0;s<e.length;s++){const n=e[s];for(const r in n)if(r==="class")t.class!==n.class&&(t.class=Io([t.class,n.class]));else if(r==="style")t.style=Ao([t.style,n.style]);else if(Jr(r)){const i=t[r],o=n[r];o&&i!==o&&!(Q(i)&&i.includes(o))&&(t[r]=i?[].concat(i,o):o)}else r!==""&&(t[r]=n[r])}return t}function bt(e,t,s,n=null){Pt(e,t,7,[s,n])}const Xm=eu();let Qm=0;function Ym(e,t,s){const n=e.type,r=(t?t.appContext:e.appContext)||Xm,i={uid:Qm++,vnode:e,type:n,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new vg(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:iu(n,r),emitsOptions:pu(n,r),emit:null,emitted:null,propsDefaults:me,inheritAttrs:n.inheritAttrs,ctx:me,data:me,props:me,attrs:me,slots:me,refs:me,setupState:me,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=Mm.bind(null,i),e.ce&&e.ce(i),i}let Ie=null;const Zm=()=>Ie||ot;let Mr,io;{const e=Zr(),t=(s,n)=>{let r;return(r=e[s])||(r=e[s]=[]),r.push(n),i=>{r.length>1?r.forEach(o=>o(i)):r[0](i)}};Mr=t("__VUE_INSTANCE_SETTERS__",s=>Ie=s),io=t("__VUE_SSR_SETTERS__",s=>qn=s)}const ir=e=>{const t=Ie;return Mr(e),e.scope.on(),()=>{e.scope.off(),Mr(t)}},ja=()=>{Ie&&Ie.scope.off(),Mr(null)};function bu(e){return e.vnode.shapeFlag&4}let qn=!1;function ew(e,t=!1,s=!1){t&&io(t);const{props:n,children:r}=e.vnode,i=bu(e);Em(e,n,i,t),Cm(e,r,s);const o=i?tw(e,t):void 0;return t&&io(!1),o}function tw(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,gm);const{setup:n}=s;if(n){ss();const r=e.setupContext=n.length>1?nw(e):null,i=ir(e),o=rr(n,e,0,[e.props,r]),a=gc(o);if(ns(),i(),(a||e.sp)&&!kn(e)&&Kc(e),a){if(o.then(ja,ja),t)return o.then(l=>{Ma(e,l)}).catch(l=>{ti(l,e,0)});e.asyncDep=o}else Ma(e,o)}else vu(e)}function Ma(e,t,s){Z(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Se(t)&&(e.setupState=Dc(t)),vu(e)}function vu(e,t,s){const n=e.type;e.render||(e.render=n.render||Ct);{const r=ir(e);ss();try{mm(e)}finally{ns(),r()}}}const sw={get(e,t){return je(e,"get",""),e[t]}};function nw(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,sw),slots:e.slots,emit:e.emit,expose:t}}function Vo(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Dc(Dg(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in On)return On[s](e)},has(t,s){return s in t||s in On}})):e.proxy}function rw(e,t=!0){return Z(e)?e.displayName||e.name:e.name||t&&e.__name}function iw(e){return Z(e)&&"__vccOpts"in e}const et=(e,t)=>Wg(e,t,qn);function yu(e,t,s){const n=arguments.length;return n===2?Se(t)&&!Q(t)?jr(t)?st(e,null,[t]):st(e,t):st(e,null,t):(n>3?s=Array.prototype.slice.call(arguments,2):n===3&&jr(s)&&(s=[s]),st(e,t,s))}const ow="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let oo;const $a=typeof window<"u"&&window.trustedTypes;if($a)try{oo=$a.createPolicy("vue",{createHTML:e=>e})}catch{}const Su=oo?e=>oo.createHTML(e):e=>e,aw="http://www.w3.org/2000/svg",lw="http://www.w3.org/1998/Math/MathML",Lt=typeof document<"u"?document:null,Ha=Lt&&Lt.createElement("template"),cw={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,n)=>{const r=t==="svg"?Lt.createElementNS(aw,e):t==="mathml"?Lt.createElementNS(lw,e):s?Lt.createElement(e,{is:s}):Lt.createElement(e);return e==="select"&&n&&n.multiple!=null&&r.setAttribute("multiple",n.multiple),r},createText:e=>Lt.createTextNode(e),createComment:e=>Lt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Lt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,n,r,i){const o=s?s.previousSibling:t.lastChild;if(r&&(r===i||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),s),!(r===i||!(r=r.nextSibling)););else{Ha.innerHTML=Su(n==="svg"?`<svg>${e}</svg>`:n==="mathml"?`<math>${e}</math>`:e);const a=Ha.content;if(n==="svg"||n==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,s)}return[o?o.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},uw=Symbol("_vtc");function dw(e,t,s){const n=e[uw];n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const Da=Symbol("_vod"),fw=Symbol("_vsh"),hw=Symbol(""),pw=/(^|;)\s*display\s*:/;function gw(e,t,s){const n=e.style,r=Te(s);let i=!1;if(s&&!r){if(t)if(Te(t))for(const o of t.split(";")){const a=o.slice(0,o.indexOf(":")).trim();s[a]==null&&xr(n,a,"")}else for(const o in t)s[o]==null&&xr(n,o,"");for(const o in s)o==="display"&&(i=!0),xr(n,o,s[o])}else if(r){if(t!==s){const o=n[hw];o&&(s+=";"+o),n.cssText=s,i=pw.test(s)}}else t&&e.removeAttribute("style");Da in e&&(e[Da]=i?n.display:"",e[fw]&&(n.display="none"))}const qa=/\s*!important$/;function xr(e,t,s){if(Q(s))s.forEach(n=>xr(e,t,n));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const n=mw(e,t);qa.test(s)?e.setProperty(Rs(n),s.replace(qa,""),"important"):e[n]=s}}const Fa=["Webkit","Moz","ms"],Pi={};function mw(e,t){const s=Pi[t];if(s)return s;let n=ct(t);if(n!=="filter"&&n in e)return Pi[t]=n;n=Yr(n);for(let r=0;r<Fa.length;r++){const i=Fa[r]+n;if(i in e)return Pi[t]=i}return t}const Ba="http://www.w3.org/1999/xlink";function Wa(e,t,s,n,r,i=_g(t)){n&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(Ba,t.slice(6,t.length)):e.setAttributeNS(Ba,t,s):s==null||i&&!bc(s)?e.removeAttribute(t):e.setAttribute(t,i?"":ts(s)?String(s):s)}function za(e,t,s,n,r){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?Su(s):s);return}const i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?e.getAttribute("value")||"":e.value,l=s==null?e.type==="checkbox"?"on":"":String(s);(a!==l||!("_value"in e))&&(e.value=l),s==null&&e.removeAttribute(t),e._value=s;return}let o=!1;if(s===""||s==null){const a=typeof e[t];a==="boolean"?s=bc(s):s==null&&a==="string"?(s="",o=!0):a==="number"&&(s=0,o=!0)}try{e[t]=s}catch{}o&&e.removeAttribute(r||t)}function ww(e,t,s,n){e.addEventListener(t,s,n)}function _w(e,t,s,n){e.removeEventListener(t,s,n)}const Va=Symbol("_vei");function bw(e,t,s,n,r=null){const i=e[Va]||(e[Va]={}),o=i[t];if(n&&o)o.value=n;else{const[a,l]=vw(t);if(n){const c=i[t]=Ew(n,r);ww(e,a,c,l)}else o&&(_w(e,a,o,l),i[t]=void 0)}}const Ka=/(?:Once|Passive|Capture)$/;function vw(e){let t;if(Ka.test(e)){t={};let n;for(;n=e.match(Ka);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Rs(e.slice(2)),t]}let ki=0;const yw=Promise.resolve(),Sw=()=>ki||(yw.then(()=>ki=0),ki=Date.now());function Ew(e,t){const s=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=s.attached)return;Pt(xw(n,s.value),t,5,[n])};return s.value=e,s.attached=Sw(),s}function xw(e,t){if(Q(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(n=>r=>!r._stopped&&n&&n(r))}else return t}const Ga=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Rw=(e,t,s,n,r,i)=>{const o=r==="svg";t==="class"?dw(e,n,o):t==="style"?gw(e,s,n):Jr(t)?Po(t)||bw(e,t,s,n,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Tw(e,t,n,o))?(za(e,t,n),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Wa(e,t,n,o,i,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Te(n))?za(e,ct(t),n,i,t):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),Wa(e,t,n,o))};function Tw(e,t,s,n){if(n)return!!(t==="innerHTML"||t==="textContent"||t in e&&Ga(t)&&Z(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const r=e.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return Ga(t)&&Te(s)?!1:t in e}const Cw=He({patchProp:Rw},cw);let Ja;function Pw(){return Ja||(Ja=km(Cw))}const kw=(...e)=>{const t=Pw().createApp(...e),{mount:s}=t;return t.mount=n=>{const r=Aw(n);if(!r)return;const i=t._component;!Z(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const o=s(r,!1,Ow(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},t};function Ow(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Aw(e){return Te(e)?document.querySelector(e):e}const Iw=()=>{const e=ht("$authService");if(!e)throw new Error("AuthService is not provided");return e};var er,Qs,Fr,Eu;class Uw extends og{constructor(s,n){super(s);K(this,Fr);K(this,er,[]);K(this,Qs);z(this,"isRenewingRef",ls());z(this,"isAuthenticatedRef",ls());z(this,"userProfileRef",ls());z(this,"userSessionRef",ls());z(this,"idTokenRef",ls());z(this,"idTokenDecodedRef",et(()=>this.idTokenRef.value?Ee.decodeJwt(this.idTokenRef.value):void 0));z(this,"accessTokenRef",ls());z(this,"accessTokenDecodedRef",et(()=>this.accessTokenRef.value?Ee.decodeJwt(this.accessTokenRef.value):void 0));ie(this,Qs,n),F(this,Fr,Eu).call(this)}destroy(){S(this,er).forEach(s=>{s.unsubscribe()})}}er=new WeakMap,Qs=new WeakMap,Fr=new WeakSet,Eu=function(){S(this,er).push(this.manager.onIdTokenChanged(s=>{this.idTokenRef.value=s}),this.manager.onAccessTokenChanged(s=>{this.accessTokenRef.value=s}),this.manager.onUserProfileChanged(s=>{this.userProfileRef.value=s}),this.manager.onUserSessionChanged(s=>{this.userSessionRef.value=s}),this.manager.onAuthenticatedChanged(s=>{this.isAuthenticatedRef.value=s}),this.manager.onRenewingChanged(s=>{this.isRenewingRef.value=s}),this.manager.onRedirect(s=>{const n=s.href.replace(Ee.getBaseUrl(),"");S(this,Qs).isReady().then(()=>S(this,Qs).push(n))}))};const Lw=async(e,t)=>Iw().runGuard(e,t),Nw=async e=>{const t=await ig(e);return{install:(s,{router:n})=>{const r=new Uw(t,n);s.provide("$authService",r),s.config.globalProperties.$authService=r,n.beforeEach(async i=>i.meta.authGuard?await Lw(i.fullPath,typeof i.meta.authGuard=="object"?i.meta.authGuard:void 0):!0)}}};/**
 * @license GPL-3.0-only
 * Package @badisi/auth-vue <https://github.com/Badisi/auth-js/tree/main/libs/auth-vue>
 * Released under GNU General Public License v3.0 only <https://github.com/Badisi/auth-js/blob/main/LICENSE>
 * SPDX-License-Identifier: GPL-3.0-only
 * Copyright (C) 2018 Badisi
 */lt.init("@badisi/auth-vue");/*! Capacitor: https://capacitorjs.com/ - MIT License */const jw=e=>{const t=new Map;t.set("web",{name:"web"});const s=e.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:t},n=(i,o)=>{s.platforms.set(i,o)},r=i=>{s.platforms.has(i)&&(s.currentPlatform=s.platforms.get(i))};return s.addPlatform=n,s.setPlatform=r,s},Mw=e=>e.CapacitorPlatforms=jw(e),xu=Mw(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});xu.addPlatform;xu.setPlatform;var tn;(function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"})(tn||(tn={}));class Oi extends Error{constructor(t,s,n){super(t),this.message=t,this.code=s,this.data=n}}const $w=e=>{var t,s;return e!=null&&e.androidBridge?"android":!((s=(t=e==null?void 0:e.webkit)===null||t===void 0?void 0:t.messageHandlers)===null||s===void 0)&&s.bridge?"ios":"web"},Hw=e=>{var t,s,n,r,i;const o=e.CapacitorCustomPlatform||null,a=e.Capacitor||{},l=a.Plugins=a.Plugins||{},c=e.CapacitorPlatforms,u=()=>o!==null?o.name:$w(e),d=((t=c==null?void 0:c.currentPlatform)===null||t===void 0?void 0:t.getPlatform)||u,f=()=>d()!=="web",p=((s=c==null?void 0:c.currentPlatform)===null||s===void 0?void 0:s.isNativePlatform)||f,w=U=>{const q=x.get(U);return!!(q!=null&&q.platforms.has(d())||P(U))},_=((n=c==null?void 0:c.currentPlatform)===null||n===void 0?void 0:n.isPluginAvailable)||w,y=U=>{var q;return(q=a.PluginHeaders)===null||q===void 0?void 0:q.find(I=>I.name===U)},P=((r=c==null?void 0:c.currentPlatform)===null||r===void 0?void 0:r.getPluginHeader)||y,m=U=>e.console.error(U),v=(U,q,I)=>Promise.reject(`${I} does not have an implementation of "${q}".`),x=new Map,O=(U,q={})=>{const I=x.get(U);if(I)return console.warn(`Capacitor plugin "${U}" already registered. Cannot register plugins twice.`),I.proxy;const se=d(),ne=P(U);let ce;const ve=async()=>(!ce&&se in q?ce=typeof q[se]=="function"?ce=await q[se]():ce=q[se]:o!==null&&!ce&&"web"in q&&(ce=typeof q.web=="function"?ce=await q.web():ce=q.web),ce),We=(fe,he)=>{var pe,ke;if(ne){const De=ne==null?void 0:ne.methods.find(Ne=>he===Ne.name);if(De)return De.rtype==="promise"?Ne=>a.nativePromise(U,he.toString(),Ne):(Ne,Oe)=>a.nativeCallback(U,he.toString(),Ne,Oe);if(fe)return(pe=fe[he])===null||pe===void 0?void 0:pe.bind(fe)}else{if(fe)return(ke=fe[he])===null||ke===void 0?void 0:ke.bind(fe);throw new Oi(`"${U}" plugin is not implemented on ${se}`,tn.Unimplemented)}},Pe=fe=>{let he;const pe=(...ke)=>{const De=ve().then(Ne=>{const Oe=We(Ne,fe);if(Oe){const R=Oe(...ke);return he=R==null?void 0:R.remove,R}else throw new Oi(`"${U}.${fe}()" is not implemented on ${se}`,tn.Unimplemented)});return fe==="addListener"&&(De.remove=async()=>he()),De};return pe.toString=()=>`${fe.toString()}() { [capacitor code] }`,Object.defineProperty(pe,"name",{value:fe,writable:!1,configurable:!1}),pe},de=Pe("addListener"),ee=Pe("removeListener"),te=(fe,he)=>{const pe=de({eventName:fe},he),ke=async()=>{const Ne=await pe;ee({eventName:fe,callbackId:Ne},he)},De=new Promise(Ne=>pe.then(()=>Ne({remove:ke})));return De.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await ke()},De},Le=new Proxy({},{get(fe,he){switch(he){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return ne?te:de;case"removeListener":return ee;default:return Pe(he)}}});return l[U]=Le,x.set(U,{name:U,proxy:Le,platforms:new Set([...Object.keys(q),...ne?[se]:[]])}),Le},H=((i=c==null?void 0:c.currentPlatform)===null||i===void 0?void 0:i.registerPlugin)||O;return a.convertFileSrc||(a.convertFileSrc=U=>U),a.getPlatform=d,a.handleError=m,a.isNativePlatform=p,a.isPluginAvailable=_,a.pluginMethodNoop=v,a.registerPlugin=H,a.Exception=Oi,a.DEBUG=!!a.DEBUG,a.isLoggingEnabled=!!a.isLoggingEnabled,a.platform=a.getPlatform(),a.isNative=a.isNativePlatform(),a},Dw=e=>e.Capacitor=Hw(e),$r=Dw(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Ru=$r.registerPlugin;$r.Plugins;class Tu{constructor(t){this.listeners={},this.windowListeners={},t&&(console.warn(`Capacitor WebPlugin "${t.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=t)}addListener(t,s){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(s);const r=this.windowListeners[t];r&&!r.registered&&this.addWindowListener(r);const i=async()=>this.removeListener(t,s),o=Promise.resolve({remove:i});return Object.defineProperty(o,"remove",{value:async()=>{console.warn("Using addListener() without 'await' is deprecated."),await i()}}),o}async removeAllListeners(){this.listeners={};for(const t in this.windowListeners)this.removeWindowListener(this.windowListeners[t]);this.windowListeners={}}notifyListeners(t,s){const n=this.listeners[t];n&&n.forEach(r=>r(s))}hasListeners(t){return!!this.listeners[t].length}registerWindowListener(t,s){this.windowListeners[s]={registered:!1,windowEventName:t,pluginEventName:s,handler:n=>{this.notifyListeners(s,n)}}}unimplemented(t="not implemented"){return new $r.Exception(t,tn.Unimplemented)}unavailable(t="not available"){return new $r.Exception(t,tn.Unavailable)}async removeListener(t,s){const n=this.listeners[t];if(!n)return;const r=n.indexOf(s);this.listeners[t].splice(r,1),this.listeners[t].length||this.removeWindowListener(this.windowListeners[t])}addWindowListener(t){window.addEventListener(t.windowEventName,t.handler),t.registered=!0}removeWindowListener(t){t&&(window.removeEventListener(t.windowEventName,t.handler),t.registered=!1)}}const Xa=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),Qa=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class qw extends Tu{async getCookies(){const t=document.cookie,s={};return t.split(";").forEach(n=>{if(n.length<=0)return;let[r,i]=n.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");r=Qa(r).trim(),i=Qa(i).trim(),s[r]=i}),s}async setCookie(t){try{const s=Xa(t.key),n=Xa(t.value),r=`; expires=${(t.expires||"").replace("expires=","")}`,i=(t.path||"/").replace("path=",""),o=t.url!=null&&t.url.length>0?`domain=${t.url}`:"";document.cookie=`${s}=${n||""}${r}; path=${i}; ${o};`}catch(s){return Promise.reject(s)}}async deleteCookie(t){try{document.cookie=`${t.key}=; Max-Age=0`}catch(s){return Promise.reject(s)}}async clearCookies(){try{const t=document.cookie.split(";")||[];for(const s of t)document.cookie=s.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(t){return Promise.reject(t)}}async clearAllCookies(){try{await this.clearCookies()}catch(t){return Promise.reject(t)}}}Ru("CapacitorCookies",{web:()=>new qw});const Fw=async e=>new Promise((t,s)=>{const n=new FileReader;n.onload=()=>{const r=n.result;t(r.indexOf(",")>=0?r.split(",")[1]:r)},n.onerror=r=>s(r),n.readAsDataURL(e)}),Bw=(e={})=>{const t=Object.keys(e);return Object.keys(e).map(r=>r.toLocaleLowerCase()).reduce((r,i,o)=>(r[i]=e[t[o]],r),{})},Ww=(e,t=!0)=>e?Object.entries(e).reduce((n,r)=>{const[i,o]=r;let a,l;return Array.isArray(o)?(l="",o.forEach(c=>{a=t?encodeURIComponent(c):c,l+=`${i}=${a}&`}),l.slice(0,-1)):(a=t?encodeURIComponent(o):o,l=`${i}=${a}`),`${n}&${l}`},"").substr(1):null,zw=(e,t={})=>{const s=Object.assign({method:e.method||"GET",headers:e.headers},t),r=Bw(e.headers)["content-type"]||"";if(typeof e.data=="string")s.body=e.data;else if(r.includes("application/x-www-form-urlencoded")){const i=new URLSearchParams;for(const[o,a]of Object.entries(e.data||{}))i.set(o,a);s.body=i.toString()}else if(r.includes("multipart/form-data")||e.data instanceof FormData){const i=new FormData;if(e.data instanceof FormData)e.data.forEach((a,l)=>{i.append(l,a)});else for(const a of Object.keys(e.data))i.append(a,e.data[a]);s.body=i;const o=new Headers(s.headers);o.delete("content-type"),s.headers=o}else(r.includes("application/json")||typeof e.data=="object")&&(s.body=JSON.stringify(e.data));return s};class Vw extends Tu{async request(t){const s=zw(t,t.webFetchExtra),n=Ww(t.params,t.shouldEncodeUrlParams),r=n?`${t.url}?${n}`:t.url,i=await fetch(r,s),o=i.headers.get("content-type")||"";let{responseType:a="text"}=i.ok?t:{};o.includes("application/json")&&(a="json");let l,c;switch(a){case"arraybuffer":case"blob":c=await i.blob(),l=await Fw(c);break;case"json":l=await i.json();break;case"document":case"text":default:l=await i.text()}const u={};return i.headers.forEach((d,f)=>{u[f]=d}),{data:l,headers:u,status:i.status,url:i.url}}async get(t){return this.request(Object.assign(Object.assign({},t),{method:"GET"}))}async post(t){return this.request(Object.assign(Object.assign({},t),{method:"POST"}))}async put(t){return this.request(Object.assign(Object.assign({},t),{method:"PUT"}))}async patch(t){return this.request(Object.assign(Object.assign({},t),{method:"PATCH"}))}async delete(t){return this.request(Object.assign(Object.assign({},t),{method:"DELETE"}))}}Ru("CapacitorHttp",{web:()=>new Vw});const En=(e,t=[])=>{const s=/^( *)("[\w-]+": )?("[^"]*"|[\w.+-]*)?([,[{])?$/mg,n=(r,i,o,a,l)=>{let c=i||"";const u=o?o.replace(/[": ]/g,""):void 0;if(u&&(c+=`<span class="json-key">${u}</span>: `),a&&(c+=`<span class="${a.startsWith('"')?"json-string":"json-value"}">${a}</span>`,u&&t.includes(u))){const d=new Date(Number(a)*1e3),f=`${d.toDateString()}, ${d.toLocaleTimeString()}`;f&&(c+=` <span class="json-date">(${f})</span>`)}return c+(l||"")};return e?JSON.stringify(e,null,2).replace(/&/g,"&amp;").replace(/\\"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(s,n):""},Kw=()=>(e,t)=>{var a,l;const{otherSettings:s,librarySettings:n}=window.appSettings.getCurrentSettings(),r=s?(s.roles??"").split(","):[];let i;if(n.authorityUrl.includes("auth0"))i=t["http://ngx-auth.com/roles"];else if(n.authorityUrl.includes("zitadel")){const c=t["urn:zitadel:iam:org:project:roles"];i=Object.keys(c??{})}else i=(l=(a=t==null?void 0:t.resource_access)==null?void 0:a.account)==null?void 0:l.roles;return r.every(c=>(i??[]).includes(c))?!0:"forbidden"},or=`
    .flex {
        flex: 1;
    }

    .hidden {
        display: none !important;
    }

    .row {
        display: flex;
        flex-direction: row;
    }

    .column {
        display: flex;
        flex-direction: column;
    }

    .card {
        border: 1px solid rgba(0, 0, 0, 0.12);
        border-radius: 4px;
        background-color: white;
        margin: 12px 6px;
    }

    .card .card-status {
        display: block;
        width: 10px;
        height: 10px;
        border-radius: 50%;
        margin-left: 8px;
        background-color: #f2f2f2;
    }
    .card .card-status.error {
        background-color: #ef5350;
    }
    .card .card-status.success {
        background-color: #66bb6a;
    }

    .card .card-title {
        padding: 16px;
        font-size: 20px;
        font-weight: 500;
        color: rgba(0, 0, 0, 0.87);
        align-items: center;
    }

    .card .box {
        height: 200px;
        border-top: 1px solid lightgray;
        word-break: break-all;
        overflow: auto;
        background-color: #f2f2f2;
        padding: 12px;
    }
    .card .box pre {
        margin: 0;
    }

    .card .card-actions {
        padding: 0 14px 8px 14px;
        min-height: 50px;
    }
    .card .card-actions .input {
        display: flex;
        align-items: center;
    }
    .card .card-actions .input:not(:last-child) {
        margin-bottom: 8px;
    }
    .card .card-actions .input label {
        width: 125px;
        text-align: right;
        margin-right: 14px;
    }
    .card .card-actions .input input {
        padding: 4px;
    }

    .json-key {
        color: rgb(124, 77, 255);
    }

    .json-value {
        color: rgb(67, 122, 237);
    }

    .json-string {
        color: rgb(83, 160, 83);
    }

    .json-date {
        color: rgb(200, 56, 198);
    }

    input {
        color: #5e35b1;
        padding: 10px;
        border: 1px solid #0000001f;
        border-radius: 4px;
        font-size: 14px;
    }

    input:invalid {
        border-color: #f44336;
    }

    input[type="checkbox"] {
        margin-right: 10px;
    }

    select {
        color: #5e35b1;
        padding: 8px 6px;
        border: 1px solid #0000001f;
        border-radius: 4px;
    }

    button {
        cursor: pointer;
    }

    @media only screen and (max-width: 600px) {
        :host {
            padding: 0 !important;
            padding-bottom: 24px !important;
        }

        :host .card {
            border-left: 0;
            border-right: 0;
            border-radius: 0;
            margin: 0;
            margin-bottom: 6px;
        }
    }
`,Cu=document.createElement("template");Cu.innerHTML=`
    <style>
        ${or}

        :host {
            display: flex;
            flex: 1;
            flex-direction: column;
            padding: 20px 28px;
        }

        :host .info {
            margin: 16px;
        }

        :host .info .title {
            min-width: 130px;
        }

        :host .info .value {
            overflow-x: auto;
            white-space: pre-wrap;
            word-wrap: break-word;
        }

        :host .info code {
            width: 100%;
        }
    </style>

    <div class="card">
        <div class="info column">
            <div class="title">Authenticated</div>
            <code>
                <pre id="isAuthenticated" class="value json-value"></pre>
            </code>
        </div>

        <div class="info column">
            <div class="title">User session</div>
            <code>
                <pre id="userSession" class="value"></pre>
            </code>
        </div>

        <div class="info column">
            <div class="title">Access token</div>
            <code>
                <pre id="accessToken" class="value json-value"></pre>
                <pre id="accessTokenDecoded" class="value"></pre>
            </code>
        </div>

        <div class="info column">
            <div class="title">Id token</div>
            <code>
                <pre id="idToken" class="value json-value"></pre>
                <pre id="idTokenDecoded" class="value"></pre>
            </code>
        </div>

        <div class="info column">
            <div class="title">User profile</div>
            <code>
                <pre id="userProfile" class="value"></pre>
            </code>
        </div>
    </div>
`;class Gw extends HTMLElement{constructor(){var t;super(),this.attachShadow({mode:"open"}),(t=this.shadowRoot)==null||t.appendChild(document.importNode(Cu.content,!0)),this.isAuthenticated=!1,this.userSession=void 0,this.accessToken=void 0,this.accessTokenDecoded=void 0,this.idToken=void 0,this.idTokenDecoded=void 0,this.userProfile=void 0}set isAuthenticated(t){t!==null&&this.update("#isAuthenticated",typeof t=="boolean"?String(t):t)}set userSession(t){this.update("#userSession",En(t,["expires_at"]))}set accessToken(t){this.update("#accessToken",t)}set accessTokenDecoded(t){const s=typeof t!="string"?En(t,["exp","iat","auth_time"]):"(no decoded info as it is not a JWT token)";this.update("#accessTokenDecoded",s)}set idToken(t){this.update("#idToken",t)}set idTokenDecoded(t){this.update("#idTokenDecoded",En(t,["exp","iat","auth_time"]))}set userProfile(t){this.update("#userProfile",En(t))}connectedCallback(){}disconnectedCallback(){}update(t,s){var r,i,o;const n=(r=this.shadowRoot)==null?void 0:r.querySelector(t);n&&(s==null||s===""?(i=n.closest(".info"))==null||i.classList.add("hidden"):((o=n.closest(".info"))==null||o.classList.remove("hidden"),n.innerHTML=s))}}window.customElements.define("demo-app-debug",Gw);const Pu=document.createElement("template");Pu.innerHTML=`
    <style>
        ${or}

        :host header {
            z-index: 1;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            padding: calc(8px + var(--safe-area-inset-top)) 16px 30px 16px;
            align-items: center;
            justify-content: space-between;
            height: 142px;
            color: white;
            background: rgb(103, 58, 183);
            background: linear-gradient(180deg, rgba(103, 58, 183, 1) 0%, rgba(94, 53, 177, 1) 100%);
        }

        :host header .row {
            align-items: center;
        }

        :host header .row.top {
            width: 100%;
            gap: 14px;
        }

        :host header .row.select {
            font-size: 1.4em;
            color: #ede7f6;
            padding-bottom: 4px;
        }

        :host header h1 {
            font-size: 18px;
            font-weight: 200;
            letter-spacing: 1px;
            color: #ede7f6;
            margin: 0;
            text-transform: uppercase;
        }

        :host header a.doc {
            padding: 4px 16px;
            font-size: 16px;
            color: white;
            text-decoration: none;
        }

        :host header a.github-icon {
            right: 34px;
            width: 26px;
            height: 26px;
            color: white;
            text-decoration: none;
        }

        @keyframes statusLoadingAnimation {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        :host header .status.loading {
            background: none !important;
        }

        :host header .status.loading:after {
            display: block;
            content: " ";
            width: 11px;
            height: 11px;
            border-radius: 50%;
            border: 2px solid #fff;
            border-color: #fff transparent #fff transparent;
            animation: statusLoadingAnimation 1.2s linear infinite;
        }

        :host header .status.not-authenticated {
            background-color: #EC407A;
        }

        :host header .status.authenticated {
            background-color: #7CB342;
        }

        :host header .status {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            margin-top: 1px;
            margin-right: 8px;
        }

        :host header .title {
            display: flex;
            align-items: center;
            cursor: pointer;
            font-size: 18px;
            font-weight: bold;
            color: white;
            text-decoration: none;
        }

        :host header .title .icon {
            font-size: 22px;
            margin-right: 0.5rem;
        }

        :host header select {
            cursor: pointer;
            text-align: center;
            font-size: 1.1em;
            font-weight: bold;
            color: #ede7f6;
            background: none;
            border: none;
            outline: none;
            padding-top: 0;
            padding-bottom: 0;
        }

        :host header button {
            margin-top: 2px;
        }

        :host header button:not(:last-child) {
            margin-right: 10px;
        }

        :host header .content {
            align-items: center;
            gap: 10px;
        }

        @media only screen and (max-width: 1000px) {
            :host header {
                padding-bottom: 24px;
                height: 148px;
            }

            :host header .row.select {
                font-size: 1.1em;
            }

            :host header a.doc {
                padding-right: 6px;
            }

            :host header .content {
                gap: 8px;
            }
        }
    </style>

    <header class="column">
        <div class="row top" style="height: 44px;">
            <a class="title"
                href="https://badisi.github.io/auth-js/"
                target="_self">
                <span class="icon">🛡️</span>Auth-js
            </a>

            <div class="status loading"></div>

            <span style="flex: 1"></span>

            <a class="doc"
                href="https://badisi.github.io/auth-js/getting-started/playground"
                target="_self">
                <span>
                    Documentation
                    <svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24">
                        <path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path>
                    </svg>
                </span>
            </a>

            <a class="github-icon"
                href="https://github.com/Badisi/auth-js"
                target="_self"
                title="View it on GitHub"
                aria-label="GitHub repository">
                <span>
                    <svg viewBox="0 0 24 24"
                        xmlns="http://www.w3.org/2000/svg">
                        <path fill="currentColor"
                            d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12">
                        </path>
                    </svg>
                </span>
            </a>
        </div>

        <div class="column content">
            <h1>Playground</h1>

            <div class="row select">
                <span>&#123;<select id="implementation-select"></select> &nbsp;&#125;</span>
                &nbsp;&nbsp;
                <span>&#123;<select id="setting-select"></select> &nbsp;&#125;</span>
            </div>

            <div class="row">
                <button id="login-button">LOGIN</button>
                <button id="logout-button">LOGOUT</button>
                <button id="silent-renew-button">SILENT RENEW</button>
            </div>
        </div>
    </header>
`;class Jw extends HTMLElement{constructor(){var s,n,r,i,o,a,l;super();z(this,"listeners",[]);z(this,"implSelectEl");z(this,"settingsSelectEl");z(this,"statusEl");z(this,"loginButtonEl");z(this,"logoutButtonEl");z(this,"silentRenewButtonEl");this.attachShadow({mode:"open"}),(s=this.shadowRoot)==null||s.appendChild(document.importNode(Pu.content,!0)),this.implSelectEl=(n=this.shadowRoot)==null?void 0:n.querySelector("#implementation-select"),this.settingsSelectEl=(r=this.shadowRoot)==null?void 0:r.querySelector("#setting-select"),this.statusEl=(i=this.shadowRoot)==null?void 0:i.querySelector(".status"),this.loginButtonEl=(o=this.shadowRoot)==null?void 0:o.querySelector("#login-button"),this.logoutButtonEl=(a=this.shadowRoot)==null?void 0:a.querySelector("#logout-button"),this.silentRenewButtonEl=(l=this.shadowRoot)==null?void 0:l.querySelector("#silent-renew-button")}set isRenewing(s){this.statusEl&&this.statusEl.classList[s?"add":"remove"]("loading")}set isAuthenticated(s){this.statusEl&&s!==null&&s!==void 0&&(this.statusEl.classList.remove("loading"),this.statusEl.title=s?"Authenticated":"Not authenticated",this.statusEl.classList[s?"add":"remove"]("authenticated"),this.statusEl.classList[s?"remove":"add"]("not-authenticated"))}connectedCallback(){var n,r;if(window.location.href.includes(":4200")){const i=document.createElement("option");i.textContent="localhost",(n=this.implSelectEl)==null||n.appendChild(i)}else{window.appSettings.getLibraryImplementations().forEach(o=>{var l;const a=document.createElement("option");a.value=String(o.label),a.textContent=o.label,(l=this.implSelectEl)==null||l.appendChild(a)});const i=()=>{var a;const o=(a=this.implSelectEl)==null?void 0:a.selectedIndex;o!==void 0&&(window.location.href=window.appSettings.getLibraryImplementations()[o].demoUrl)};(r=this.implSelectEl)==null||r.addEventListener("change",i),this.listeners.push(()=>{var o;(o=this.implSelectEl)==null||o.removeEventListener("change",i)})}window.appSettings.getSettings().forEach(i=>{var a;const o=document.createElement("option");o.value=String(i.name),o.textContent=i.name,(a=this.settingsSelectEl)==null||a.appendChild(o)}),this.refreshImplementation(),this.refreshSettings(),this.addEventListeners();const s=i=>{const o=document.createElement("option");o.innerHTML=i.options[i.selectedIndex].innerHTML;const a=document.createElement("select");a.style.visibility="hidden",a.style.position="absolute",a.style.font=window.getComputedStyle(i).font,a.style.padding=window.getComputedStyle(i).padding,a.appendChild(o),document.body.appendChild(a),i.style.width=`${String(a.getBoundingClientRect().width)}px`,a.remove()};this.implSelectEl&&s(this.implSelectEl),this.settingsSelectEl&&s(this.settingsSelectEl)}disconnectedCallback(){this.listeners.forEach(s=>{s()})}addEventListeners(){var o,a,l,c;const s=()=>{this.settingsSelectEl&&(window.appSettings.setCurrentSettingsIndex(this.settingsSelectEl.selectedIndex),location.reload())};(o=this.settingsSelectEl)==null||o.addEventListener("change",s);const n=()=>this.dispatchEvent(new Event("login",{bubbles:!0,composed:!0}));(a=this.loginButtonEl)==null||a.addEventListener("click",n);const r=()=>this.dispatchEvent(new Event("logout",{bubbles:!0,composed:!0}));(l=this.logoutButtonEl)==null||l.addEventListener("click",r);const i=()=>this.dispatchEvent(new Event("silentRenew",{bubbles:!0,composed:!0}));(c=this.silentRenewButtonEl)==null||c.addEventListener("click",i),this.listeners.push(()=>{var u;(u=this.settingsSelectEl)==null||u.removeEventListener("change",s)},()=>{var u;(u=this.loginButtonEl)==null||u.removeEventListener("click",n)},()=>{var u;(u=this.logoutButtonEl)==null||u.removeEventListener("click",r)},()=>{var u;(u=this.silentRenewButtonEl)==null||u.removeEventListener("click",i)})}refreshImplementation(){const s=window.appSettings.getLibraryImplementations();if(window.location.href.includes(":4200"))this.implSelectEl&&(this.implSelectEl.selectedIndex=0);else{const n=s.findIndex(r=>window.location.href.includes(r.demoUrl));this.implSelectEl&&(this.implSelectEl.selectedIndex=n!==-1?n:0)}}refreshSettings(){this.settingsSelectEl&&(this.settingsSelectEl.selectedIndex=window.appSettings.get().currentSettingsIndex)}}window.customElements.define("demo-app-header",Jw);const ku=document.createElement("template");ku.innerHTML=`
    <style>
        ${or}

        :host .tabs {
            position: fixed;
            top: calc(180px + var(--safe-area-inset-top));
            left: 0;
            right: 0;
            z-index: 1;
            align-self: normal;
            padding: 10px 0;
            padding-left: 36px;
            background-color: #7043bf;
            box-shadow: 0 3px 5px -1px #0003, 0 6px 10px #00000024, 0 1px 18px #0000001f;
        }

        :host .tabs a {
            cursor: pointer;
            color: white;
            padding: 8px 16px;
            border-radius: 4px;
            transition: background-color 150ms cubic-bezier(0.35, 0, 0.25, 1);
        }

        :host .tabs a.selected {
            background-color: #512da8;
        }

        :host .tabs a:hover {
            background-color: #4527a0;
        }

        :host .tabs a:not(:last-child) {
            margin-right: 10px;
        }

        :host .tabs-content {
            position: fixed;
            top: calc(180px + 55px + var(--safe-area-inset-top));
            left: 0;
            right: 0;
            bottom: calc(0px + var(--safe-area-inset-bottom));
            overflow: auto;
        }

        @media only screen and (max-width: 600px) {
            :host .tabs {
                padding-left: 0;
                justify-content: center;
            }
        }
    </style>

    <demo-app-header></demo-app-header>
    <nav id="tabs" class="tabs row"></nav>
    <div class="tabs-content">
        <slot id="views"></slot>
    </div>
`;class Xw extends HTMLElement{constructor(){var s,n,r;super();z(this,"listeners",[]);z(this,"tabsContentEl");z(this,"demoAppHeaderEl");z(this,"tabs",[]);z(this,"views",[]);z(this,"currentTabIndex",-1);this.attachShadow({mode:"open"}),(s=this.shadowRoot)==null||s.appendChild(document.importNode(ku.content,!0)),this.tabsContentEl=(n=this.shadowRoot)==null?void 0:n.querySelector(".tabs-content"),this.demoAppHeaderEl=(r=this.shadowRoot)==null?void 0:r.querySelector("demo-app-header")}set isRenewing(s){this.demoAppHeaderEl&&(this.demoAppHeaderEl.isRenewing=s)}set isAuthenticated(s){this.demoAppHeaderEl&&(this.demoAppHeaderEl.isAuthenticated=s)}connectedCallback(){this.drawTabs(),this.showView(window.appSettings.get().currentTabIndex)}disconnectedCallback(){this.listeners.forEach(s=>{s()})}drawTabs(){var r,i;const s=(r=this.shadowRoot)==null?void 0:r.querySelector("#views"),n=(i=this.shadowRoot)==null?void 0:i.querySelector("#tabs");s&&n&&(this.views=s.assignedElements(),this.views.forEach((o,a)=>{o.style.display="none";const l=document.createElement("a");l.id=`${(o.getAttribute("tabLabel")??"?").toLowerCase()}-button`,l.textContent=o.getAttribute("tabLabel")??"?";const c=()=>{this.showView(a)};l.addEventListener("click",c),this.listeners.push(()=>{l.removeEventListener("click",c)}),n.appendChild(l),this.tabs.push(l)}))}showView(s){var n;this.currentTabIndex!==s&&(this.currentTabIndex=s,this.tabs.forEach((r,i)=>{r.classList[i!==s?"remove":"add"]("selected")}),this.views.forEach((r,i)=>{r.style.display=i!==s?"none":"flex"}),(n=this.tabsContentEl)==null||n.scrollTo(0,0),window.appSettings.setCurrentTabIndex(s))}}window.customElements.define("demo-app-main",Xw);const Ou=document.createElement("template");Ou.innerHTML=`
    <style>
        ${or}

        :host {
            display: flex;
            flex: 1;
            flex-direction: column;
            padding: 20px 28px;
        }

        :host .card.apis input {
            width: 100%; /* fix for android-chrome */
        }

        :host .card.apis .card-actions {
            padding-bottom: 16px;
        }

        :host .card.apis .card-actions button {
            margin-left: 14px;
        }

        :host .card.routes {
            margin-top: 20px;
        }

        :host .card.routes .route {
            display: flex;
            align-items: center;
        }

        :host .card.routes .route.query-params {
            margin: 0 0 10px 10px;
        }

        :host .card.routes .route.query-params .info {
            display: flex;
            flex-direction: row;
        }

        :host .card.routes .route.query-params .info .text {
            font-size: 16px;
            color: black;
            margin-right: 12px;
        }

        :host .card.routes .route.query-params .info input {
            width: 500px;
        }

        :host .card.routes .route button {
            padding: 2px 10px;
            min-width: 104px;
            margin: 8px 12px 8px 8px;
        }

        :host .card.routes .route input {
            margin: 0 2px;
            padding: 4px;
        }

        :host .card.routes .route .info {
            padding-bottom: 2px;
            font-size: 14px;
            line-height: 22px;
            text-align: left;
            color: #0000008a;
        }

        :host .card.routes .box {
            height: 100px;
        }

        @media only screen and (max-width: 600px) {
            :host .card.apis .card-actions {
                flex-direction: column;
                margin-left: 3px;
            }
            :host .card.apis .card-actions button {
                margin-top: 12px;
                margin-left: 0;
                padding: 2px 10px;
                min-width: 104px;
                align-self: flex-start;
            }
            :host .card.apis .input label {
                text-align: left;
            }
            :host .card.apis .input {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }
            :host .card.apis input {
                width: inherit;
                align-self: normal;
            }

            :host .card.routes {
                margin-top: 12px;
            }
            :host .card.routes .route {
                margin-left: 3px !important;
            }
            :host .card.routes .route.query-params .info {
                display: flex;
                flex-direction: column;
                flex: 1;
                gap: 8px;
            }
            :host .card.routes .route.query-params .info input {
                margin: 0;
                width: inherit;
                align-self: normal;
            }
            :host .card.routes .route #roles-input {
                width: 90%;
            }
            :host .card.routes .route button {
                margin-left: 3px;
            }
        }
    </style>

    <div class="card apis">
        <div class="card-title row">
            APIs access
            <div id="api-status" class="card-status"></div>
        </div>
        <div class="card-actions row">
            <div class="column flex">
                <div class="input row">
                    <label for="api-url-input">Url</label>
                    <input id="api-url-input" class="flex" />
                </div>
                <div class="input row">
                    <label for="api-headers-input">Custom headers</label>
                    <input id="api-headers-input" class="flex" placeholder='ex: name1:one, name2=two' />
                </div>
            </div>
            <button id="api-get-button">GET</button>
        </div>
        <div class="box">
            <code>
                <pre id="api-response"></pre>
            </code>
        </div>
    </div>

    <div class="card routes">
        <div class="card-title">
            Guards access
        </div>
        <div class="card-actions column">
            <div class="route query-params">
                <div class="info">
                    <div class="text">Query params</div>
                    <input
                        id="guards-query-params-input"
                        placeholder="ex: param1=one&param2=two" />
                </div>
            </div>
            <div class="route">
                <button id="guards-home-button">HOME</button>
                <div class="info">Home page</div>
            </div>
            <div class="route">
                <button id="guards-public-button">PUBLIC</button>
                <div class="info">Public content (no login required)</div>
            </div>
            <div class="route">
                <button id="guards-private-button">PRIVATE</button>
                <div class="info">Private content (login required)</div>
            </div>
            <div class="route">
                <button id="guards-protected-button">PROTECTED</button>
                <div class="info">
                    Protected content (login required + role(s):<input id="guards-roles-input" />)
                </div>
            </div>
        </div>
        <div class="box">
            <slot id="cards"></slot>
        </div>
    </div>
`;class Qw extends HTMLElement{constructor(){var s,n,r,i,o,a,l,c,u,d,f,p;super();z(this,"listeners",[]);z(this,"apiStatusEl");z(this,"apiResponseEl");z(this,"apiUrlEl");z(this,"apiHeadersEl");z(this,"apiBtnEl");z(this,"guardsHomeBtnEl");z(this,"guardsPublicBtnEl");z(this,"guardsPrivateBtnEl");z(this,"guardsProtectedBtnEl");z(this,"guardsQueryParamsEl");z(this,"guardsRolesEl");this.attachShadow({mode:"open"}),(s=this.shadowRoot)==null||s.appendChild(document.importNode(Ou.content,!0)),this.apiStatusEl=(n=this.shadowRoot)==null?void 0:n.querySelector("#api-status"),this.apiResponseEl=(r=this.shadowRoot)==null?void 0:r.querySelector("#api-response"),this.apiUrlEl=(i=this.shadowRoot)==null?void 0:i.querySelector("#api-url-input"),this.apiHeadersEl=(o=this.shadowRoot)==null?void 0:o.querySelector("#api-headers-input"),this.apiBtnEl=(a=this.shadowRoot)==null?void 0:a.querySelector("#api-get-button"),this.guardsHomeBtnEl=(l=this.shadowRoot)==null?void 0:l.querySelector("#guards-home-button"),this.guardsPublicBtnEl=(c=this.shadowRoot)==null?void 0:c.querySelector("#guards-public-button"),this.guardsPrivateBtnEl=(u=this.shadowRoot)==null?void 0:u.querySelector("#guards-private-button"),this.guardsProtectedBtnEl=(d=this.shadowRoot)==null?void 0:d.querySelector("#guards-protected-button"),this.guardsQueryParamsEl=(f=this.shadowRoot)==null?void 0:f.querySelector("#guards-query-params-input"),this.guardsRolesEl=(p=this.shadowRoot)==null?void 0:p.querySelector("#guards-roles-input")}connectedCallback(){var p,w,_,y,P,m,v,x,O,H,U,q;const s=I=>{var se,ne;if("key"in I&&I.key!=="Enter")return!0;{const ce=(se=this.apiHeadersEl)==null?void 0:se.value.split(",").reduce((We,Pe)=>{var de,ee,te,Le;if(Pe){const fe=/^"?([^"]*)"?$/,he=Pe.split(":"),pe=((ee=fe.exec((de=he[0])==null?void 0:de.trim()))==null?void 0:ee[1])??"",ke=((Le=fe.exec((te=he[1])==null?void 0:te.trim()))==null?void 0:Le[1])??"";pe&&(We[pe]=ke)}return We},{}),ve=new CustomEvent("api",{bubbles:!0,composed:!0,detail:{url:(ne=this.apiUrlEl)==null?void 0:ne.value,headers:ce}});return this.dispatchEvent(ve)}};(p=this.apiBtnEl)==null||p.addEventListener("click",s),(w=this.apiUrlEl)==null||w.addEventListener("keydown",s),(_=this.apiHeadersEl)==null||_.addEventListener("keydown",s);const n=()=>{var I;this.saveSettings({apiUrl:(I=this.apiUrlEl)==null?void 0:I.value})};(y=this.apiUrlEl)==null||y.addEventListener("input",n);const r=()=>{var I;this.saveSettings({apiHeaders:(I=this.apiHeadersEl)==null?void 0:I.value})};(P=this.apiHeadersEl)==null||P.addEventListener("input",r);const i=()=>{var I;this.saveSettings({queryParams:(I=this.guardsQueryParamsEl)==null?void 0:I.value})};(m=this.guardsQueryParamsEl)==null||m.addEventListener("input",i);const o=()=>{var I;this.saveSettings({roles:(I=this.guardsRolesEl)==null?void 0:I.value})};(v=this.guardsRolesEl)==null||v.addEventListener("input",o);const a=I=>{var ne;const se={};return(ne=this.guardsQueryParamsEl)==null||ne.value.split("&").forEach(ce=>{const ve=ce.split("=");ve.length===2&&(se[ve[0]]=ve[1])}),this.dispatchEvent(new CustomEvent(I,{bubbles:!0,composed:!0,detail:{queryParams:se}}))},l=()=>a("home");(x=this.guardsHomeBtnEl)==null||x.addEventListener("click",l);const c=()=>a("public");(O=this.guardsPublicBtnEl)==null||O.addEventListener("click",c);const u=()=>a("private");(H=this.guardsPrivateBtnEl)==null||H.addEventListener("click",u);const d=I=>"key"in I&&I.key!=="Enter"?!0:a("protected");(U=this.guardsProtectedBtnEl)==null||U.addEventListener("click",d),(q=this.guardsRolesEl)==null||q.addEventListener("keydown",d),this.listeners.push(()=>{var I;return(I=this.apiBtnEl)==null?void 0:I.removeEventListener("click",s)},()=>{var I;return(I=this.apiUrlEl)==null?void 0:I.removeEventListener("keydown",s)},()=>{var I;return(I=this.apiHeadersEl)==null?void 0:I.removeEventListener("keydown",s)},()=>{var I;return(I=this.apiUrlEl)==null?void 0:I.removeEventListener("input",n)},()=>{var I;return(I=this.apiHeadersEl)==null?void 0:I.removeEventListener("input",r)},()=>{var I;return(I=this.guardsQueryParamsEl)==null?void 0:I.removeEventListener("input",i)},()=>{var I;return(I=this.guardsRolesEl)==null?void 0:I.removeEventListener("input",o)},()=>{var I;return(I=this.guardsHomeBtnEl)==null?void 0:I.removeEventListener("click",l)},()=>{var I;return(I=this.guardsPrivateBtnEl)==null?void 0:I.removeEventListener("click",u)},()=>{var I;return(I=this.guardsProtectedBtnEl)==null?void 0:I.removeEventListener("click",d)},()=>{var I;return(I=this.guardsRolesEl)==null?void 0:I.removeEventListener("keydown",d)});const{otherSettings:f}=window.appSettings.getCurrentSettings();this.apiUrlEl&&(this.apiUrlEl.value=(f==null?void 0:f.apiUrl)??""),this.apiHeadersEl&&(this.apiHeadersEl.value=(f==null?void 0:f.apiHeaders)??""),this.guardsQueryParamsEl&&(this.guardsQueryParamsEl.value=(f==null?void 0:f.queryParams)??""),this.guardsRolesEl&&(this.guardsRolesEl.value=(f==null?void 0:f.roles)??"")}disconnectedCallback(){this.listeners.forEach(s=>{s()})}setApiStatus(s,n){var r,i;(r=this.apiStatusEl)==null||r.classList.remove(n?"success":"error"),(i=this.apiStatusEl)==null||i.classList.add(n?"error":"success"),this.apiResponseEl&&(this.apiResponseEl.innerHTML=En(s))}saveSettings(s){const n=window.appSettings.getCurrentSettings();n.otherSettings={...n.otherSettings,...s},window.appSettings.addOrUpdateSettings(n)}}window.customElements.define("demo-app-playground",Qw);const Au=document.createElement("template");Au.innerHTML=`
    <style>
        ${or}

        :host {
            display: flex;
            flex: 1;
            flex-direction: column;
            padding: 20px 28px;
        }

        :host .card {
            padding: 40px 16px 16px 16px;
        }

        :host form {
            position: relative;
        }

        :host form .input, :host .form-content > * {
            margin-bottom: 24px;
        }

        :host form div:has(#automaticInjectToken:not(:checked)) > div:has(#automaticInjectTokeninclude),
        :host form div:has(#automaticInjectToken:not(:checked)) > div:has(#automaticInjectTokenexclude) {
            label {
                color: lightgray;
            }
            input {
                opacity: 50%;
            }
        }

        :host form div.input:has(#automaticInjectTokeninclude),
        :host form div.input:has(#automaticInjectTokenexclude) {
            flex-direction: row;
            align-items: center;
            margin-left: 32px;

            label {
                margin-bottom: 0;
                margin-right: 8px;
            }

            input {
                flex: 1;
            }
        }

        :host form label {
            margin-bottom: 8px;
        }

        :host .form-actions {
            z-index: 10;
            position: fixed;
            bottom: calc(12px + var(--safe-area-inset-bottom));
            left: calc(50% - 120px);
            padding: 14px 0;
            border-radius: 4px;
            background-color: #E0E0E0;
            width: 240px;
            justify-content: center;
        }

        :host .form-actions button {
            padding: 2px 12px;
        }

        :host .form-actions button:not(:last-of-type) {
            margin-right: 12px;
        }

        :host button {
            cursor: pointer;
        }

        :host #settings-select {
            margin-left: 6px;
            color: black;
        }

        :host #add-settings-button {
            background: none;
            border: none;
            cursor: pointer;
            padding: 4px;
            color: darkgray;
        }

        :host #delete-settings-button {
            position: absolute;
            top: 20px;
            right: 20px;
            display: flex;
            align-items: center;
            background: none;
            border: none;
            cursor: pointer;
            font-size: 14px;
            color: #EF5350;
        }

        :host #save-settings-button {
            color: white;
            padding: 4px 24px;
            border: none;
            border-radius: 4px;
            transition: background-color 150ms cubic-bezier(0.35, 0, 0.25, 1);
            background-color: #512da8;
        }

        :host #cancel-settings-button {
            padding: 4px 18px;
            border: none;
            border-radius: 4px;
            transition: background-color 150ms cubic-bezier(0.35, 0, 0.25, 1);
            background-color: white;
        }

        :host #save-settings-button:hover {
            background-color: #4527a0;
        }

        :host(.dirty) .form-actions {
            display: flex !important;
        }

        :host(.dirty) #delete-settings-button {
            display: none;
        }

        @media only screen and (max-width: 600px) {
            :host .settings-select {
                margin: 12px 8px;
            }
        }
    </style>

    <div class="settings-select row">
        <select id="settings-select"></select>
        <div id="add-settings-button" title="Create new settings">
            <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="currentColor"><path d="M0 0h24v24H0z" fill="none"/><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/></svg>
        </div>
    </div>

    <div class="form-actions row hidden">
        <button id="save-settings-button" type="button">SAVE</button>
        <button id="cancel-settings-button" type="button">CANCEL</button>
    </div>

    <form class="column card">
        <div id="delete-settings-button">
            DELETE
        </div>
        <div class="input column">
            <label for="settingsName">Settings name *</label>
            <input id="settingsName" name="settingsName" required="">
        </div>
        <div class="form-content flex"></div>
    </form>
`;class Yw extends HTMLElement{constructor(){var s;super();z(this,"listeners",[]);z(this,"formEl");z(this,"formContentEl");z(this,"selectEl");z(this,"settingsNameEl");z(this,"formIsDirty",!1);z(this,"formIsNew",!1);this.attachShadow({mode:"open"}),(s=this.shadowRoot)==null||s.appendChild(document.importNode(Au.content,!0))}connectedCallback(){var f,p,w,_,y,P,m,v,x,O;this.formEl=(f=this.shadowRoot)==null?void 0:f.querySelector("form"),this.formContentEl=(p=this.shadowRoot)==null?void 0:p.querySelector(".form-content"),this.selectEl=(w=this.shadowRoot)==null?void 0:w.querySelector("#settings-select"),this.settingsNameEl=(_=this.shadowRoot)==null?void 0:_.querySelector("#settingsName");const s=H=>{!this.formIsDirty&&H.target.id!=="settings-select"&&(this.formIsDirty=!0,this.classList.add("dirty"))};(y=this.formEl)==null||y.addEventListener("input",s),this.listeners.push(()=>{var H;(H=this.formEl)==null||H.removeEventListener("input",s)}),this.refreshSelect();const n=()=>{this.selectEl&&this.loadSettings(this.selectEl.selectedIndex)};(P=this.selectEl)==null||P.addEventListener("change",n),this.listeners.push(()=>{var H;(H=this.selectEl)==null||H.removeEventListener("change",n)});const r=(m=this.shadowRoot)==null?void 0:m.querySelector("#add-settings-button"),i=()=>{this.add()};r==null||r.addEventListener("click",i),this.listeners.push(()=>r==null?void 0:r.removeEventListener("click",i));const o=(v=this.shadowRoot)==null?void 0:v.querySelector("#delete-settings-button"),a=()=>{this.delete()};o==null||o.addEventListener("click",a),this.listeners.push(()=>o==null?void 0:o.removeEventListener("click",a));const l=(x=this.shadowRoot)==null?void 0:x.querySelector("#save-settings-button"),c=()=>{this.saveAndReload()};l==null||l.addEventListener("click",c),this.listeners.push(()=>l==null?void 0:l.removeEventListener("click",c));const u=(O=this.shadowRoot)==null?void 0:O.querySelector("#cancel-settings-button"),d=()=>{this.cancel()};u==null||u.addEventListener("click",d),this.listeners.push(()=>u==null?void 0:u.removeEventListener("click",d)),this.refreshFormContent(window.appSettings.getCurrentSettings())}disconnectedCallback(){this.listeners.forEach(s=>{s()})}loadSettings(s){window.appSettings.setCurrentSettingsIndex(s),location.reload()}add(){var r;const s="New settings",n=document.createElement("option");n.selected=!0,n.value=s,n.textContent=s,(r=this.selectEl)==null||r.appendChild(n),this.formIsNew=!0,this.formIsDirty=!0,this.classList.add("dirty"),this.refreshFormContent({name:s,librarySettings:{}})}delete(){window.appSettings.deleteCurrentSettings(),window.appSettings.setCurrentSettingsIndex(0),location.reload()}cancel(){this.formIsNew=!1,this.formIsDirty=!1,this.classList.remove("dirty"),this.refreshSelect(),this.refreshFormContent(window.appSettings.getCurrentSettings())}setPathValue(s,n,r){const i=n.split(".");i.reduce((o,a,l)=>(l===i.length-1?(typeof r=="string"&&r.trim()===""&&(r=void 0),o[a]=r):(!(a in o)||typeof o[a]!="object"||o[a]===null)&&(o[a]={}),o[a]),s)}getPathValue(s,n){return n.split(".").reduce((r,i)=>r&&i in r?r[i]:void 0,s)}refreshSelect(){this.selectEl&&(this.selectEl.innerHTML="");const{settings:s,currentSettingsIndex:n}=window.appSettings.get();s.forEach((r,i)=>{var a;const o=document.createElement("option");o.selected=i===n,o.value=String(r.name),o.textContent=r.name,(a=this.selectEl)==null||a.appendChild(o)})}refreshFormContent(s){var n;if(this.formContentEl&&(this.formContentEl.innerHTML=""),this.settingsNameEl){const r=window.appSettings.getLibrarySettingsDefinition(),{name:i,librarySettings:o}=s;this.settingsNameEl.value=i,r.sort((l,c)=>(c._sortIndex||0)-(l._sortIndex||0)).forEach(l=>{var f,p;const c=document.createElement("div");(f=this.formContentEl)==null||f.prepend(c);const u=document.createElement("label");u.htmlFor=l.name.replace(".",""),u.textContent=`${l.label}${l.required?" *":""}`;const d=document.createElement(l.type==="list"?"select":"input");switch(d.id=l.name.replace(".",""),d.name=l.name.replace(".",""),d.required=l.required===!0,l.type){case"boolean":d.checked=this.getPathValue(o,l.name),d.type="checkbox",c.appendChild(d),c.appendChild(u);break;case"list":(p=l.values)==null||p.forEach(w=>{const _=document.createElement("option");_.value=String(w.value),_.textContent=w.label,d.appendChild(_)}),d.value=this.getPathValue(o,l.name),d.classList.add("flex"),c.classList.add("input","column"),c.appendChild(u),c.appendChild(d);break;default:{const w=this.getPathValue(o,l.name);l.type==="json"?d.value=w?JSON.stringify(w):"":d.value=w??"",l.placeholder&&(d.placeholder=l.placeholder),c.classList.add("input","column"),c.appendChild(u),c.appendChild(d);break}}});const a=(n=this.shadowRoot)==null?void 0:n.querySelector("#automaticInjectToken");a&&(a.onclick=()=>{var l,c;if(!a.checked){const u=(l=this.shadowRoot)==null?void 0:l.querySelector("#automaticInjectTokeninclude");u&&(u.disabled=!0,u.value="");const d=(c=this.shadowRoot)==null?void 0:c.querySelector("#automaticInjectTokenexclude");d&&(d.disabled=!0,d.value="")}})}}saveAndReload(){var s,n;if((s=this.formEl)!=null&&s.reportValidity()&&this.settingsNameEl){const r=window.appSettings.getLibrarySettingsDefinition(),i=this.formIsNew?{name:"",librarySettings:{}}:window.appSettings.getCurrentSettings();i.name=this.settingsNameEl.value,r.sort((a,l)=>(a._sortIndex||0)-(l._sortIndex||0)).forEach(a=>{var u;const l=(u=this.shadowRoot)==null?void 0:u.querySelector(`#${a.name.replace(".","")}`);let c;switch(a.type){case"boolean":c=l.checked;break;case"list":c=l.value;break;case"json":try{const d=l.value;d&&d.trim()!==""&&(c=JSON.parse(d))}catch(d){console.error(d)}break;default:c=l.value;break}this.setPathValue(i.librarySettings,a.name,c)});const o=(n=this.shadowRoot)==null?void 0:n.querySelector("#automaticInjectToken");if(!(o!=null&&o.checked))i.librarySettings.automaticInjectToken=!1;else{let a=i.librarySettings.automaticInjectToken;typeof a=="object"&&((!a.include||a.include.trim()==="")&&(!a.exclude||a.exclude.trim()==="")?a=!0:(a.include&&(a.include=a.include.split(",")),a.exclude&&(a.exclude=a.exclude.split(","))),i.librarySettings.automaticInjectToken=a)}window.appSettings.addOrUpdateSettings(i,window.appSettings.get().currentSettingsIndex),this.formIsNew&&this.selectEl&&window.appSettings.setCurrentSettingsIndex(this.selectEl.selectedIndex),location.reload()}}}window.customElements.define("demo-app-settings",Yw);const Zw="1.0.0",e_={version:Zw},t_="1.0.0",s_={version:t_},n_="3.0.0",r_={version:n_},i_=[{label:"VanillaJS",demoUrl:"https://badisi.github.io/auth-js/demo-app/auth-js",version:e_.version},{label:"Angular",demoUrl:"https://badisi.github.io/auth-js/demo-app/ngx-auth",version:r_.version},{label:"Vue.js",demoUrl:"https://badisi.github.io/auth-js/demo-app/auth-vue",version:s_.version}],Ko={mobileScheme:"demo-app",desktopNavigationType:Ht.REDIRECT,logLevel:Xt.NONE,loginRequired:!1,retrieveUserSession:!0,loadUserInfo:!0,automaticSilentRenew:!0,automaticLoginOn401:!0,automaticInjectToken:{include:["/api"]}},o_={name:"Auth0",otherSettings:{apiUrl:"https://dev-fijd1e9x.us.auth0.com/api/v2/users/auth0|631b171682c639d40cb84d5c",apiHeaders:"",roles:"view-profile"},librarySettings:{authorityUrl:"https://dev-fijd1e9x.us.auth0.com",clientId:"kRVVEnAWKMpxxpcodl0TqLXfIHgQvmmt",scope:"openid profile email phone offline_access read:current_user",internal:{extraQueryParams:{audience:"https://dev-fijd1e9x.us.auth0.com/api/v2/"}},...Ko}},a_={name:"Zitadel",otherSettings:{apiUrl:"http://localhost:8080/api/my-api",apiHeaders:"",roles:"view-profile"},librarySettings:{authorityUrl:"https://auth-js-0pdipf.zitadel.cloud",clientId:"178200751804317953@demo-app",scope:"openid profile email phone offline_access",internal:{extraQueryParams:{login_hint:"demo"}},...Ko}},l_={name:"Keycloak (local)",otherSettings:{apiUrl:"http://localhost:8080/api/my-api",apiHeaders:"",roles:"view-profile"},librarySettings:{authorityUrl:"http://localhost:8080/auth/realms/demo",clientId:"demo-app",scope:"openid profile email phone",...Ko}},c_=(e=!1)=>[o_,a_,...e?[l_]:[]],u_=[{name:"authorityUrl",label:"Authority url",type:"string",required:!0},{name:"clientId",label:"Client id",type:"string",required:!0},{name:"mobileScheme",label:"Custom mobile scheme name",type:"string"},{name:"scope",label:"Scope",type:"string",placeholder:"ex: openid profile email phone offline_access"},{name:"internal.extraQueryParams",label:"Extra query params",type:"json",placeholder:'ex: {"audience":"value"}'},{name:"authGuardFallbackUrl",label:"AuthGuard fallback url",type:"string",placeholder:"ex: forbidden"},{name:"desktopNavigationType",label:"Desktop navigation type",type:"list",values:[{label:"REDIRECT",value:Ht.REDIRECT},{label:"POPUP",value:Ht.POPUP}]},{name:"logLevel",label:"Log level",type:"list",values:[{label:"NONE",value:Xt.NONE},{label:"ERROR",value:Xt.ERROR},{label:"WARN",value:Xt.WARN},{label:"INFO",value:Xt.INFO},{label:"DEBUG",value:Xt.DEBUG}]},{name:"loginRequired",label:"Login required",type:"boolean"},{name:"retrieveUserSession",label:"Retrieve user's session",type:"boolean"},{name:"loadUserInfo",label:"Load user's info",type:"boolean"},{name:"automaticSilentRenew",label:"Automatic silent renew",type:"boolean"},{name:"automaticInjectToken",label:"Automatic inject token",type:"boolean"},{name:"automaticInjectToken.include",label:"Include url(s)",type:"string",placeholder:"ex: http://localhost, /pathname"},{name:"automaticInjectToken.exclude",label:"Exclude url(s)",type:"string",placeholder:"ex: http://localhost, /pathname"},{name:"automaticLoginOn401",label:"Automatic login on 401",type:"boolean"}];var tr,sr,ws;class d_{constructor(t){K(this,tr,"auth-js:playground:settings");K(this,sr,u_);K(this,ws);S(this,sr).forEach((s,n)=>s._sortIndex=n),ie(this,ws,{currentTabIndex:0,currentSettingsIndex:0,settings:c_(t)})}getLibrarySettingsDefinition(){return S(this,sr)}getLibraryImplementations(){return i_}getSettings(){return this.get().settings}addOrUpdateSettings(t,s=void 0){const n=this.get();s!==void 0?n.settings[s]=t:n.settings.push(t),this.saveDemoAppSettings(n)}deleteCurrentSettings(){const t=this.get(),s=t.currentSettingsIndex;s>=0&&s<t.settings.length&&(t.settings.splice(s,1),this.saveDemoAppSettings(t))}setCurrentTabIndex(t){const s=this.get();s.currentTabIndex=t,this.saveDemoAppSettings(s)}setCurrentSettingsIndex(t){const s=this.get();s.currentSettingsIndex=t,this.saveDemoAppSettings(s)}getCurrentSettings(){const t=this.get(),s=t.currentSettingsIndex;return s>=0&&s<t.settings.length?t.settings[s]:t.settings[0]}get(){const t=sessionStorage.getItem(S(this,tr));if(t){const s={...S(this,ws),...JSON.parse(t)};return S(this,ws).settings.forEach(n=>{s.settings.find(r=>r.name===n.name)||s.settings.push(n)}),s.settings=s.settings.sort((n,r)=>n.name.localeCompare(r.name)),s}return{...S(this,ws)}}saveDemoAppSettings(t){delete t.librarySettingsDefinition,sessionStorage.setItem(S(this,tr),JSON.stringify(t))}}tr=new WeakMap,sr=new WeakMap,ws=new WeakMap;const f_=(e,t)=>{const s=e.__vccOpts||e;for(const[n,r]of t)s[n]=r;return s},h_={};function p_(e,t){const s=Qc("RouterView");return mu(),zm(s)}const g_=f_(h_,[["render",p_]]),m_="modulepreload",w_=function(e){return"/auth-js/demo-app/auth-vue/"+e},Ya={},fr=function(t,s,n){let r=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=Promise.allSettled(s.map(l=>{if(l=w_(l),l in Ya)return;Ya[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":m_,c||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),c)return new Promise((f,p)=>{d.addEventListener("load",f),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return r.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})};/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Os=typeof document<"u";function Iu(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function __(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&Iu(e.default)}const oe=Object.assign;function Ai(e,t){const s={};for(const n in t){const r=t[n];s[n]=pt(r)?r.map(e):e(r)}return s}const Un=()=>{},pt=Array.isArray,Uu=/#/g,b_=/&/g,v_=/\//g,y_=/=/g,S_=/\?/g,Lu=/\+/g,E_=/%5B/g,x_=/%5D/g,Nu=/%5E/g,R_=/%60/g,ju=/%7B/g,T_=/%7C/g,Mu=/%7D/g,C_=/%20/g;function Go(e){return encodeURI(""+e).replace(T_,"|").replace(E_,"[").replace(x_,"]")}function P_(e){return Go(e).replace(ju,"{").replace(Mu,"}").replace(Nu,"^")}function ao(e){return Go(e).replace(Lu,"%2B").replace(C_,"+").replace(Uu,"%23").replace(b_,"%26").replace(R_,"`").replace(ju,"{").replace(Mu,"}").replace(Nu,"^")}function k_(e){return ao(e).replace(y_,"%3D")}function O_(e){return Go(e).replace(Uu,"%23").replace(S_,"%3F")}function A_(e){return e==null?"":O_(e).replace(v_,"%2F")}function Fn(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const I_=/\/$/,U_=e=>e.replace(I_,"");function Ii(e,t,s="/"){let n,r={},i="",o="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(n=t.slice(0,l),i=t.slice(l+1,a>-1?a:t.length),r=e(i)),a>-1&&(n=n||t.slice(0,a),o=t.slice(a,t.length)),n=M_(n??t,s),{fullPath:n+(i&&"?")+i+o,path:n,query:r,hash:Fn(o)}}function L_(e,t){const s=t.query?e(t.query):"";return t.path+(s&&"?")+s+(t.hash||"")}function Za(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function N_(e,t,s){const n=t.matched.length-1,r=s.matched.length-1;return n>-1&&n===r&&sn(t.matched[n],s.matched[r])&&$u(t.params,s.params)&&e(t.query)===e(s.query)&&t.hash===s.hash}function sn(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function $u(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(!j_(e[s],t[s]))return!1;return!0}function j_(e,t){return pt(e)?el(e,t):pt(t)?el(t,e):e===t}function el(e,t){return pt(t)?e.length===t.length&&e.every((s,n)=>s===t[n]):e.length===1&&e[0]===t}function M_(e,t){if(e.startsWith("/"))return e;if(!e)return t;const s=t.split("/"),n=e.split("/"),r=n[n.length-1];(r===".."||r===".")&&n.push("");let i=s.length-1,o,a;for(o=0;o<n.length;o++)if(a=n[o],a!==".")if(a==="..")i>1&&i--;else break;return s.slice(0,i).join("/")+"/"+n.slice(o).join("/")}const Wt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Bn;(function(e){e.pop="pop",e.push="push"})(Bn||(Bn={}));var Ln;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Ln||(Ln={}));function $_(e){if(!e)if(Os){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),U_(e)}const H_=/^[^#]+#/;function D_(e,t){return e.replace(H_,"#")+t}function q_(e,t){const s=document.documentElement.getBoundingClientRect(),n=e.getBoundingClientRect();return{behavior:t.behavior,left:n.left-s.left-(t.left||0),top:n.top-s.top-(t.top||0)}}const ii=()=>({left:window.scrollX,top:window.scrollY});function F_(e){let t;if("el"in e){const s=e.el,n=typeof s=="string"&&s.startsWith("#"),r=typeof s=="string"?n?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!r)return;t=q_(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function tl(e,t){return(history.state?history.state.position-t:-1)+e}const lo=new Map;function B_(e,t){lo.set(e,t)}function W_(e){const t=lo.get(e);return lo.delete(e),t}let z_=()=>location.protocol+"//"+location.host;function Hu(e,t){const{pathname:s,search:n,hash:r}=t,i=e.indexOf("#");if(i>-1){let a=r.includes(e.slice(i))?e.slice(i).length:1,l=r.slice(a);return l[0]!=="/"&&(l="/"+l),Za(l,"")}return Za(s,e)+n+r}function V_(e,t,s,n){let r=[],i=[],o=null;const a=({state:f})=>{const p=Hu(e,location),w=s.value,_=t.value;let y=0;if(f){if(s.value=p,t.value=f,o&&o===w){o=null;return}y=_?f.position-_.position:0}else n(p);r.forEach(P=>{P(s.value,w,{delta:y,type:Bn.pop,direction:y?y>0?Ln.forward:Ln.back:Ln.unknown})})};function l(){o=s.value}function c(f){r.push(f);const p=()=>{const w=r.indexOf(f);w>-1&&r.splice(w,1)};return i.push(p),p}function u(){const{history:f}=window;f.state&&f.replaceState(oe({},f.state,{scroll:ii()}),"")}function d(){for(const f of i)f();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:d}}function sl(e,t,s,n=!1,r=!1){return{back:e,current:t,forward:s,replaced:n,position:window.history.length,scroll:r?ii():null}}function K_(e){const{history:t,location:s}=window,n={value:Hu(e,s)},r={value:t.state};r.value||i(n.value,{back:null,current:n.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(l,c,u){const d=e.indexOf("#"),f=d>-1?(s.host&&document.querySelector("base")?e:e.slice(d))+l:z_()+e+l;try{t[u?"replaceState":"pushState"](c,"",f),r.value=c}catch(p){console.error(p),s[u?"replace":"assign"](f)}}function o(l,c){const u=oe({},t.state,sl(r.value.back,l,r.value.forward,!0),c,{position:r.value.position});i(l,u,!0),n.value=l}function a(l,c){const u=oe({},r.value,t.state,{forward:l,scroll:ii()});i(u.current,u,!0);const d=oe({},sl(n.value,l,null),{position:u.position+1},c);i(l,d,!1),n.value=l}return{location:n,state:r,push:a,replace:o}}function G_(e){e=$_(e);const t=K_(e),s=V_(e,t.state,t.location,t.replace);function n(i,o=!0){o||s.pauseListeners(),history.go(i)}const r=oe({location:"",base:e,go:n,createHref:D_.bind(null,e)},t,s);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}function J_(e){return typeof e=="string"||e&&typeof e=="object"}function Du(e){return typeof e=="string"||typeof e=="symbol"}const qu=Symbol("");var nl;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(nl||(nl={}));function nn(e,t){return oe(new Error,{type:e,[qu]:!0},t)}function It(e,t){return e instanceof Error&&qu in e&&(t==null||!!(e.type&t))}const rl="[^/]+?",X_={sensitive:!1,strict:!1,start:!0,end:!0},Q_=/[.+*?^${}()[\]/\\]/g;function Y_(e,t){const s=oe({},X_,t),n=[];let r=s.start?"^":"";const i=[];for(const c of e){const u=c.length?[]:[90];s.strict&&!c.length&&(r+="/");for(let d=0;d<c.length;d++){const f=c[d];let p=40+(s.sensitive?.25:0);if(f.type===0)d||(r+="/"),r+=f.value.replace(Q_,"\\$&"),p+=40;else if(f.type===1){const{value:w,repeatable:_,optional:y,regexp:P}=f;i.push({name:w,repeatable:_,optional:y});const m=P||rl;if(m!==rl){p+=10;try{new RegExp(`(${m})`)}catch(x){throw new Error(`Invalid custom RegExp for param "${w}" (${m}): `+x.message)}}let v=_?`((?:${m})(?:/(?:${m}))*)`:`(${m})`;d||(v=y&&c.length<2?`(?:/${v})`:"/"+v),y&&(v+="?"),r+=v,p+=20,y&&(p+=-8),_&&(p+=-20),m===".*"&&(p+=-50)}u.push(p)}n.push(u)}if(s.strict&&s.end){const c=n.length-1;n[c][n[c].length-1]+=.7000000000000001}s.strict||(r+="/?"),s.end?r+="$":s.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const o=new RegExp(r,s.sensitive?"":"i");function a(c){const u=c.match(o),d={};if(!u)return null;for(let f=1;f<u.length;f++){const p=u[f]||"",w=i[f-1];d[w.name]=p&&w.repeatable?p.split("/"):p}return d}function l(c){let u="",d=!1;for(const f of e){(!d||!u.endsWith("/"))&&(u+="/"),d=!1;for(const p of f)if(p.type===0)u+=p.value;else if(p.type===1){const{value:w,repeatable:_,optional:y}=p,P=w in c?c[w]:"";if(pt(P)&&!_)throw new Error(`Provided param "${w}" is an array but it is not repeatable (* or + modifiers)`);const m=pt(P)?P.join("/"):P;if(!m)if(y)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):d=!0);else throw new Error(`Missing required param "${w}"`);u+=m}}return u||"/"}return{re:o,score:n,keys:i,parse:a,stringify:l}}function Z_(e,t){let s=0;for(;s<e.length&&s<t.length;){const n=t[s]-e[s];if(n)return n;s++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function Fu(e,t){let s=0;const n=e.score,r=t.score;for(;s<n.length&&s<r.length;){const i=Z_(n[s],r[s]);if(i)return i;s++}if(Math.abs(r.length-n.length)===1){if(il(n))return 1;if(il(r))return-1}return r.length-n.length}function il(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const eb={type:0,value:""},tb=/[a-zA-Z0-9_]/;function sb(e){if(!e)return[[]];if(e==="/")return[[eb]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(p){throw new Error(`ERR (${s})/"${c}": ${p}`)}let s=0,n=s;const r=[];let i;function o(){i&&r.push(i),i=[]}let a=0,l,c="",u="";function d(){c&&(s===0?i.push({type:0,value:c}):s===1||s===2||s===3?(i.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),c="")}function f(){c+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&s!==2){n=s,s=4;continue}switch(s){case 0:l==="/"?(c&&d(),o()):l===":"?(d(),s=1):f();break;case 4:f(),s=n;break;case 1:l==="("?s=2:tb.test(l)?f():(d(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:s=3:u+=l;break;case 3:d(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:t("Unknown state");break}}return s===2&&t(`Unfinished custom RegExp for param "${c}"`),d(),o(),r}function nb(e,t,s){const n=Y_(sb(e.path),s),r=oe(n,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function rb(e,t){const s=[],n=new Map;t=cl({strict:!1,end:!0,sensitive:!1},t);function r(d){return n.get(d)}function i(d,f,p){const w=!p,_=al(d);_.aliasOf=p&&p.record;const y=cl(t,d),P=[_];if("alias"in d){const x=typeof d.alias=="string"?[d.alias]:d.alias;for(const O of x)P.push(al(oe({},_,{components:p?p.record.components:_.components,path:O,aliasOf:p?p.record:_})))}let m,v;for(const x of P){const{path:O}=x;if(f&&O[0]!=="/"){const H=f.record.path,U=H[H.length-1]==="/"?"":"/";x.path=f.record.path+(O&&U+O)}if(m=nb(x,f,y),p?p.alias.push(m):(v=v||m,v!==m&&v.alias.push(m),w&&d.name&&!ll(m)&&o(d.name)),Bu(m)&&l(m),_.children){const H=_.children;for(let U=0;U<H.length;U++)i(H[U],m,p&&p.children[U])}p=p||m}return v?()=>{o(v)}:Un}function o(d){if(Du(d)){const f=n.get(d);f&&(n.delete(d),s.splice(s.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=s.indexOf(d);f>-1&&(s.splice(f,1),d.record.name&&n.delete(d.record.name),d.children.forEach(o),d.alias.forEach(o))}}function a(){return s}function l(d){const f=ab(d,s);s.splice(f,0,d),d.record.name&&!ll(d)&&n.set(d.record.name,d)}function c(d,f){let p,w={},_,y;if("name"in d&&d.name){if(p=n.get(d.name),!p)throw nn(1,{location:d});y=p.record.name,w=oe(ol(f.params,p.keys.filter(v=>!v.optional).concat(p.parent?p.parent.keys.filter(v=>v.optional):[]).map(v=>v.name)),d.params&&ol(d.params,p.keys.map(v=>v.name))),_=p.stringify(w)}else if(d.path!=null)_=d.path,p=s.find(v=>v.re.test(_)),p&&(w=p.parse(_),y=p.record.name);else{if(p=f.name?n.get(f.name):s.find(v=>v.re.test(f.path)),!p)throw nn(1,{location:d,currentLocation:f});y=p.record.name,w=oe({},f.params,d.params),_=p.stringify(w)}const P=[];let m=p;for(;m;)P.unshift(m.record),m=m.parent;return{name:y,path:_,params:w,matched:P,meta:ob(P)}}e.forEach(d=>i(d));function u(){s.length=0,n.clear()}return{addRoute:i,resolve:c,removeRoute:o,clearRoutes:u,getRoutes:a,getRecordMatcher:r}}function ol(e,t){const s={};for(const n of t)n in e&&(s[n]=e[n]);return s}function al(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:ib(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function ib(e){const t={},s=e.props||!1;if("component"in e)t.default=s;else for(const n in e.components)t[n]=typeof s=="object"?s[n]:s;return t}function ll(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function ob(e){return e.reduce((t,s)=>oe(t,s.meta),{})}function cl(e,t){const s={};for(const n in e)s[n]=n in t?t[n]:e[n];return s}function ab(e,t){let s=0,n=t.length;for(;s!==n;){const i=s+n>>1;Fu(e,t[i])<0?n=i:s=i+1}const r=lb(e);return r&&(n=t.lastIndexOf(r,n-1)),n}function lb(e){let t=e;for(;t=t.parent;)if(Bu(t)&&Fu(e,t)===0)return t}function Bu({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function cb(e){const t={};if(e===""||e==="?")return t;const n=(e[0]==="?"?e.slice(1):e).split("&");for(let r=0;r<n.length;++r){const i=n[r].replace(Lu," "),o=i.indexOf("="),a=Fn(o<0?i:i.slice(0,o)),l=o<0?null:Fn(i.slice(o+1));if(a in t){let c=t[a];pt(c)||(c=t[a]=[c]),c.push(l)}else t[a]=l}return t}function ul(e){let t="";for(let s in e){const n=e[s];if(s=k_(s),n==null){n!==void 0&&(t+=(t.length?"&":"")+s);continue}(pt(n)?n.map(i=>i&&ao(i)):[n&&ao(n)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+s,i!=null&&(t+="="+i))})}return t}function ub(e){const t={};for(const s in e){const n=e[s];n!==void 0&&(t[s]=pt(n)?n.map(r=>r==null?null:""+r):n==null?n:""+n)}return t}const db=Symbol(""),dl=Symbol(""),oi=Symbol(""),Wu=Symbol(""),co=Symbol("");function gn(){let e=[];function t(n){return e.push(n),()=>{const r=e.indexOf(n);r>-1&&e.splice(r,1)}}function s(){e=[]}return{add:t,list:()=>e.slice(),reset:s}}function Jt(e,t,s,n,r,i=o=>o()){const o=n&&(n.enterCallbacks[r]=n.enterCallbacks[r]||[]);return()=>new Promise((a,l)=>{const c=f=>{f===!1?l(nn(4,{from:s,to:t})):f instanceof Error?l(f):J_(f)?l(nn(2,{from:t,to:f})):(o&&n.enterCallbacks[r]===o&&typeof f=="function"&&o.push(f),a())},u=i(()=>e.call(n&&n.instances[r],t,s,c));let d=Promise.resolve(u);e.length<3&&(d=d.then(c)),d.catch(f=>l(f))})}function Ui(e,t,s,n,r=i=>i()){const i=[];for(const o of e)for(const a in o.components){let l=o.components[a];if(!(t!=="beforeRouteEnter"&&!o.instances[a]))if(Iu(l)){const u=(l.__vccOpts||l)[t];u&&i.push(Jt(u,s,n,o,a,r))}else{let c=l();i.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const d=__(u)?u.default:u;o.mods[a]=u,o.components[a]=d;const p=(d.__vccOpts||d)[t];return p&&Jt(p,s,n,o,a,r)()}))}}return i}function fl(e){const t=ht(oi),s=ht(Wu),n=et(()=>{const l=Us(e.to);return t.resolve(l)}),r=et(()=>{const{matched:l}=n.value,{length:c}=l,u=l[c-1],d=s.matched;if(!u||!d.length)return-1;const f=d.findIndex(sn.bind(null,u));if(f>-1)return f;const p=hl(l[c-2]);return c>1&&hl(u)===p&&d[d.length-1].path!==p?d.findIndex(sn.bind(null,l[c-2])):f}),i=et(()=>r.value>-1&&mb(s.params,n.value.params)),o=et(()=>r.value>-1&&r.value===s.matched.length-1&&$u(s.params,n.value.params));function a(l={}){if(gb(l)){const c=t[Us(e.replace)?"replace":"push"](Us(e.to)).catch(Un);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:n,href:et(()=>n.value.href),isActive:i,isExactActive:o,navigate:a}}function fb(e){return e.length===1?e[0]:e}const hb=Bo({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:fl,setup(e,{slots:t}){const s=ei(fl(e)),{options:n}=ht(oi),r=et(()=>({[pl(e.activeClass,n.linkActiveClass,"router-link-active")]:s.isActive,[pl(e.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const i=t.default&&fb(t.default(s));return e.custom?i:yu("a",{"aria-current":s.isExactActive?e.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:r.value},i)}}}),pb=hb;function gb(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function mb(e,t){for(const s in t){const n=t[s],r=e[s];if(typeof n=="string"){if(n!==r)return!1}else if(!pt(r)||r.length!==n.length||n.some((i,o)=>i!==r[o]))return!1}return!0}function hl(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const pl=(e,t,s)=>e??t??s,wb=Bo({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:s}){const n=ht(co),r=et(()=>e.route||n.value),i=ht(dl,0),o=et(()=>{let c=Us(i);const{matched:u}=r.value;let d;for(;(d=u[c])&&!d.components;)c++;return c}),a=et(()=>r.value.matched[o.value]);yr(dl,et(()=>o.value+1)),yr(db,a),yr(co,r);const l=ls();return Sr(()=>[l.value,a.value,e.name],([c,u,d],[f,p,w])=>{u&&(u.instances[d]=c,p&&p!==u&&c&&c===f&&(u.leaveGuards.size||(u.leaveGuards=p.leaveGuards),u.updateGuards.size||(u.updateGuards=p.updateGuards))),c&&u&&(!p||!sn(u,p)||!f)&&(u.enterCallbacks[d]||[]).forEach(_=>_(c))},{flush:"post"}),()=>{const c=r.value,u=e.name,d=a.value,f=d&&d.components[u];if(!f)return gl(s.default,{Component:f,route:c});const p=d.props[u],w=p?p===!0?c.params:typeof p=="function"?p(c):p:null,y=yu(f,oe({},w,t,{onVnodeUnmounted:P=>{P.component.isUnmounted&&(d.instances[u]=null)},ref:l}));return gl(s.default,{Component:y,route:c})||y}}});function gl(e,t){if(!e)return null;const s=e(t);return s.length===1?s[0]:s}const _b=wb;function bb(e){const t=rb(e.routes,e),s=e.parseQuery||cb,n=e.stringifyQuery||ul,r=e.history,i=gn(),o=gn(),a=gn(),l=$c(Wt);let c=Wt;Os&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Ai.bind(null,R=>""+R),d=Ai.bind(null,A_),f=Ai.bind(null,Fn);function p(R,D){let M,B;return Du(R)?(M=t.getRecordMatcher(R),B=D):B=R,t.addRoute(B,M)}function w(R){const D=t.getRecordMatcher(R);D&&t.removeRoute(D)}function _(){return t.getRoutes().map(R=>R.record)}function y(R){return!!t.getRecordMatcher(R)}function P(R,D){if(D=oe({},D||l.value),typeof R=="string"){const b=Ii(s,R,D.path),T=t.resolve({path:b.path},D),k=r.createHref(b.fullPath);return oe(b,T,{params:f(T.params),hash:Fn(b.hash),redirectedFrom:void 0,href:k})}let M;if(R.path!=null)M=oe({},R,{path:Ii(s,R.path,D.path).path});else{const b=oe({},R.params);for(const T in b)b[T]==null&&delete b[T];M=oe({},R,{params:d(b)}),D.params=d(D.params)}const B=t.resolve(M,D),ge=R.hash||"";B.params=u(f(B.params));const h=L_(n,oe({},R,{hash:P_(ge),path:B.path})),g=r.createHref(h);return oe({fullPath:h,hash:ge,query:n===ul?ub(R.query):R.query||{}},B,{redirectedFrom:void 0,href:g})}function m(R){return typeof R=="string"?Ii(s,R,l.value.path):oe({},R)}function v(R,D){if(c!==R)return nn(8,{from:D,to:R})}function x(R){return U(R)}function O(R){return x(oe(m(R),{replace:!0}))}function H(R){const D=R.matched[R.matched.length-1];if(D&&D.redirect){const{redirect:M}=D;let B=typeof M=="function"?M(R):M;return typeof B=="string"&&(B=B.includes("?")||B.includes("#")?B=m(B):{path:B},B.params={}),oe({query:R.query,hash:R.hash,params:B.path!=null?{}:R.params},B)}}function U(R,D){const M=c=P(R),B=l.value,ge=R.state,h=R.force,g=R.replace===!0,b=H(M);if(b)return U(oe(m(b),{state:typeof b=="object"?oe({},ge,b.state):ge,force:h,replace:g}),D||M);const T=M;T.redirectedFrom=D;let k;return!h&&N_(n,B,M)&&(k=nn(16,{to:T,from:B}),he(B,B,!0,!1)),(k?Promise.resolve(k):se(T,B)).catch(C=>It(C)?It(C,2)?C:fe(C):te(C,T,B)).then(C=>{if(C){if(It(C,2))return U(oe({replace:g},m(C.to),{state:typeof C.to=="object"?oe({},ge,C.to.state):ge,force:h}),D||T)}else C=ce(T,B,!0,g,ge);return ne(T,B,C),C})}function q(R,D){const M=v(R,D);return M?Promise.reject(M):Promise.resolve()}function I(R){const D=De.values().next().value;return D&&typeof D.runWithContext=="function"?D.runWithContext(R):R()}function se(R,D){let M;const[B,ge,h]=vb(R,D);M=Ui(B.reverse(),"beforeRouteLeave",R,D);for(const b of B)b.leaveGuards.forEach(T=>{M.push(Jt(T,R,D))});const g=q.bind(null,R,D);return M.push(g),Oe(M).then(()=>{M=[];for(const b of i.list())M.push(Jt(b,R,D));return M.push(g),Oe(M)}).then(()=>{M=Ui(ge,"beforeRouteUpdate",R,D);for(const b of ge)b.updateGuards.forEach(T=>{M.push(Jt(T,R,D))});return M.push(g),Oe(M)}).then(()=>{M=[];for(const b of h)if(b.beforeEnter)if(pt(b.beforeEnter))for(const T of b.beforeEnter)M.push(Jt(T,R,D));else M.push(Jt(b.beforeEnter,R,D));return M.push(g),Oe(M)}).then(()=>(R.matched.forEach(b=>b.enterCallbacks={}),M=Ui(h,"beforeRouteEnter",R,D,I),M.push(g),Oe(M))).then(()=>{M=[];for(const b of o.list())M.push(Jt(b,R,D));return M.push(g),Oe(M)}).catch(b=>It(b,8)?b:Promise.reject(b))}function ne(R,D,M){a.list().forEach(B=>I(()=>B(R,D,M)))}function ce(R,D,M,B,ge){const h=v(R,D);if(h)return h;const g=D===Wt,b=Os?history.state:{};M&&(B||g?r.replace(R.fullPath,oe({scroll:g&&b&&b.scroll},ge)):r.push(R.fullPath,ge)),l.value=R,he(R,D,M,g),fe()}let ve;function We(){ve||(ve=r.listen((R,D,M)=>{if(!Ne.listening)return;const B=P(R),ge=H(B);if(ge){U(oe(ge,{replace:!0,force:!0}),B).catch(Un);return}c=B;const h=l.value;Os&&B_(tl(h.fullPath,M.delta),ii()),se(B,h).catch(g=>It(g,12)?g:It(g,2)?(U(oe(m(g.to),{force:!0}),B).then(b=>{It(b,20)&&!M.delta&&M.type===Bn.pop&&r.go(-1,!1)}).catch(Un),Promise.reject()):(M.delta&&r.go(-M.delta,!1),te(g,B,h))).then(g=>{g=g||ce(B,h,!1),g&&(M.delta&&!It(g,8)?r.go(-M.delta,!1):M.type===Bn.pop&&It(g,20)&&r.go(-1,!1)),ne(B,h,g)}).catch(Un)}))}let Pe=gn(),de=gn(),ee;function te(R,D,M){fe(R);const B=de.list();return B.length?B.forEach(ge=>ge(R,D,M)):console.error(R),Promise.reject(R)}function Le(){return ee&&l.value!==Wt?Promise.resolve():new Promise((R,D)=>{Pe.add([R,D])})}function fe(R){return ee||(ee=!R,We(),Pe.list().forEach(([D,M])=>R?M(R):D()),Pe.reset()),R}function he(R,D,M,B){const{scrollBehavior:ge}=e;if(!Os||!ge)return Promise.resolve();const h=!M&&W_(tl(R.fullPath,0))||(B||!M)&&history.state&&history.state.scroll||null;return Fc().then(()=>ge(R,D,h)).then(g=>g&&F_(g)).catch(g=>te(g,R,D))}const pe=R=>r.go(R);let ke;const De=new Set,Ne={currentRoute:l,listening:!0,addRoute:p,removeRoute:w,clearRoutes:t.clearRoutes,hasRoute:y,getRoutes:_,resolve:P,options:e,push:x,replace:O,go:pe,back:()=>pe(-1),forward:()=>pe(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:de.add,isReady:Le,install(R){const D=this;R.component("RouterLink",pb),R.component("RouterView",_b),R.config.globalProperties.$router=D,Object.defineProperty(R.config.globalProperties,"$route",{enumerable:!0,get:()=>Us(l)}),Os&&!ke&&l.value===Wt&&(ke=!0,x(r.location).catch(ge=>{}));const M={};for(const ge in Wt)Object.defineProperty(M,ge,{get:()=>l.value[ge],enumerable:!0});R.provide(oi,D),R.provide(Wu,jc(M)),R.provide(co,l);const B=R.unmount;De.add(R),R.unmount=function(){De.delete(R),De.size<1&&(c=Wt,ve&&ve(),ve=null,l.value=Wt,ke=!1,ee=!1),B()}}};function Oe(R){return R.reduce((D,M)=>D.then(()=>I(M)),Promise.resolve())}return Ne}function vb(e,t){const s=[],n=[],r=[],i=Math.max(t.matched.length,e.matched.length);for(let o=0;o<i;o++){const a=t.matched[o];a&&(e.matched.find(c=>sn(c,a))?n.push(a):s.push(a));const l=e.matched[o];l&&(t.matched.find(c=>sn(c,l))||r.push(l))}return[s,n,r]}function yb(){return ht(oi)}function zu(e,t){return function(){return e.apply(t,arguments)}}const{toString:Sb}=Object.prototype,{getPrototypeOf:Jo}=Object,ai=(e=>t=>{const s=Sb.call(t);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),gt=e=>(e=e.toLowerCase(),t=>ai(t)===e),li=e=>t=>typeof t===e,{isArray:ln}=Array,Wn=li("undefined");function Eb(e){return e!==null&&!Wn(e)&&e.constructor!==null&&!Wn(e.constructor)&&nt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Vu=gt("ArrayBuffer");function xb(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Vu(e.buffer),t}const Rb=li("string"),nt=li("function"),Ku=li("number"),ci=e=>e!==null&&typeof e=="object",Tb=e=>e===!0||e===!1,Rr=e=>{if(ai(e)!=="object")return!1;const t=Jo(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Cb=gt("Date"),Pb=gt("File"),kb=gt("Blob"),Ob=gt("FileList"),Ab=e=>ci(e)&&nt(e.pipe),Ib=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||nt(e.append)&&((t=ai(e))==="formdata"||t==="object"&&nt(e.toString)&&e.toString()==="[object FormData]"))},Ub=gt("URLSearchParams"),[Lb,Nb,jb,Mb]=["ReadableStream","Request","Response","Headers"].map(gt),$b=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ar(e,t,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let n,r;if(typeof e!="object"&&(e=[e]),ln(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const i=s?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let a;for(n=0;n<o;n++)a=i[n],t.call(null,e[a],a,e)}}function Gu(e,t){t=t.toLowerCase();const s=Object.keys(e);let n=s.length,r;for(;n-- >0;)if(r=s[n],t===r.toLowerCase())return r;return null}const us=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Ju=e=>!Wn(e)&&e!==us;function uo(){const{caseless:e}=Ju(this)&&this||{},t={},s=(n,r)=>{const i=e&&Gu(t,r)||r;Rr(t[i])&&Rr(n)?t[i]=uo(t[i],n):Rr(n)?t[i]=uo({},n):ln(n)?t[i]=n.slice():t[i]=n};for(let n=0,r=arguments.length;n<r;n++)arguments[n]&&ar(arguments[n],s);return t}const Hb=(e,t,s,{allOwnKeys:n}={})=>(ar(t,(r,i)=>{s&&nt(r)?e[i]=zu(r,s):e[i]=r},{allOwnKeys:n}),e),Db=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),qb=(e,t,s,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},Fb=(e,t,s,n)=>{let r,i,o;const a={};if(t=t||{},e==null)return t;do{for(r=Object.getOwnPropertyNames(e),i=r.length;i-- >0;)o=r[i],(!n||n(o,e,t))&&!a[o]&&(t[o]=e[o],a[o]=!0);e=s!==!1&&Jo(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},Bb=(e,t,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=t.length;const n=e.indexOf(t,s);return n!==-1&&n===s},Wb=e=>{if(!e)return null;if(ln(e))return e;let t=e.length;if(!Ku(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},zb=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Jo(Uint8Array)),Vb=(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const i=r.value;t.call(e,i[0],i[1])}},Kb=(e,t)=>{let s;const n=[];for(;(s=e.exec(t))!==null;)n.push(s);return n},Gb=gt("HTMLFormElement"),Jb=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,n,r){return n.toUpperCase()+r}),ml=(({hasOwnProperty:e})=>(t,s)=>e.call(t,s))(Object.prototype),Xb=gt("RegExp"),Xu=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),n={};ar(s,(r,i)=>{let o;(o=t(r,i,e))!==!1&&(n[i]=o||r)}),Object.defineProperties(e,n)},Qb=e=>{Xu(e,(t,s)=>{if(nt(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const n=e[s];if(nt(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},Yb=(e,t)=>{const s={},n=r=>{r.forEach(i=>{s[i]=!0})};return ln(e)?n(e):n(String(e).split(t)),s},Zb=()=>{},ev=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function tv(e){return!!(e&&nt(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const sv=e=>{const t=new Array(10),s=(n,r)=>{if(ci(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[r]=n;const i=ln(n)?[]:{};return ar(n,(o,a)=>{const l=s(o,r+1);!Wn(l)&&(i[a]=l)}),t[r]=void 0,i}}return n};return s(e,0)},nv=gt("AsyncFunction"),rv=e=>e&&(ci(e)||nt(e))&&nt(e.then)&&nt(e.catch),Qu=((e,t)=>e?setImmediate:t?((s,n)=>(us.addEventListener("message",({source:r,data:i})=>{r===us&&i===s&&n.length&&n.shift()()},!1),r=>{n.push(r),us.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",nt(us.postMessage)),iv=typeof queueMicrotask<"u"?queueMicrotask.bind(us):typeof process<"u"&&process.nextTick||Qu,E={isArray:ln,isArrayBuffer:Vu,isBuffer:Eb,isFormData:Ib,isArrayBufferView:xb,isString:Rb,isNumber:Ku,isBoolean:Tb,isObject:ci,isPlainObject:Rr,isReadableStream:Lb,isRequest:Nb,isResponse:jb,isHeaders:Mb,isUndefined:Wn,isDate:Cb,isFile:Pb,isBlob:kb,isRegExp:Xb,isFunction:nt,isStream:Ab,isURLSearchParams:Ub,isTypedArray:zb,isFileList:Ob,forEach:ar,merge:uo,extend:Hb,trim:$b,stripBOM:Db,inherits:qb,toFlatObject:Fb,kindOf:ai,kindOfTest:gt,endsWith:Bb,toArray:Wb,forEachEntry:Vb,matchAll:Kb,isHTMLForm:Gb,hasOwnProperty:ml,hasOwnProp:ml,reduceDescriptors:Xu,freezeMethods:Qb,toObjectSet:Yb,toCamelCase:Jb,noop:Zb,toFiniteNumber:ev,findKey:Gu,global:us,isContextDefined:Ju,isSpecCompliantForm:tv,toJSONObject:sv,isAsyncFn:nv,isThenable:rv,setImmediate:Qu,asap:iv};function Y(e,t,s,n,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),n&&(this.request=n),r&&(this.response=r,this.status=r.status?r.status:null)}E.inherits(Y,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:E.toJSONObject(this.config),code:this.code,status:this.status}}});const Yu=Y.prototype,Zu={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Zu[e]={value:e}});Object.defineProperties(Y,Zu);Object.defineProperty(Yu,"isAxiosError",{value:!0});Y.from=(e,t,s,n,r,i)=>{const o=Object.create(Yu);return E.toFlatObject(e,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),Y.call(o,e.message,t,s,n,r),o.cause=e,o.name=e.name,i&&Object.assign(o,i),o};const ov=null;function fo(e){return E.isPlainObject(e)||E.isArray(e)}function ed(e){return E.endsWith(e,"[]")?e.slice(0,-2):e}function wl(e,t,s){return e?e.concat(t).map(function(r,i){return r=ed(r),!s&&i?"["+r+"]":r}).join(s?".":""):t}function av(e){return E.isArray(e)&&!e.some(fo)}const lv=E.toFlatObject(E,{},null,function(t){return/^is[A-Z]/.test(t)});function ui(e,t,s){if(!E.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,s=E.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_,y){return!E.isUndefined(y[_])});const n=s.metaTokens,r=s.visitor||u,i=s.dots,o=s.indexes,l=(s.Blob||typeof Blob<"u"&&Blob)&&E.isSpecCompliantForm(t);if(!E.isFunction(r))throw new TypeError("visitor must be a function");function c(w){if(w===null)return"";if(E.isDate(w))return w.toISOString();if(!l&&E.isBlob(w))throw new Y("Blob is not supported. Use a Buffer instead.");return E.isArrayBuffer(w)||E.isTypedArray(w)?l&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function u(w,_,y){let P=w;if(w&&!y&&typeof w=="object"){if(E.endsWith(_,"{}"))_=n?_:_.slice(0,-2),w=JSON.stringify(w);else if(E.isArray(w)&&av(w)||(E.isFileList(w)||E.endsWith(_,"[]"))&&(P=E.toArray(w)))return _=ed(_),P.forEach(function(v,x){!(E.isUndefined(v)||v===null)&&t.append(o===!0?wl([_],x,i):o===null?_:_+"[]",c(v))}),!1}return fo(w)?!0:(t.append(wl(y,_,i),c(w)),!1)}const d=[],f=Object.assign(lv,{defaultVisitor:u,convertValue:c,isVisitable:fo});function p(w,_){if(!E.isUndefined(w)){if(d.indexOf(w)!==-1)throw Error("Circular reference detected in "+_.join("."));d.push(w),E.forEach(w,function(P,m){(!(E.isUndefined(P)||P===null)&&r.call(t,P,E.isString(m)?m.trim():m,_,f))===!0&&p(P,_?_.concat(m):[m])}),d.pop()}}if(!E.isObject(e))throw new TypeError("data must be an object");return p(e),t}function _l(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Xo(e,t){this._pairs=[],e&&ui(e,this,t)}const td=Xo.prototype;td.append=function(t,s){this._pairs.push([t,s])};td.toString=function(t){const s=t?function(n){return t.call(this,n,_l)}:_l;return this._pairs.map(function(r){return s(r[0])+"="+s(r[1])},"").join("&")};function cv(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function sd(e,t,s){if(!t)return e;const n=s&&s.encode||cv;E.isFunction(s)&&(s={serialize:s});const r=s&&s.serialize;let i;if(r?i=r(t,s):i=E.isURLSearchParams(t)?t.toString():new Xo(t,s).toString(n),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class bl{constructor(){this.handlers=[]}use(t,s,n){return this.handlers.push({fulfilled:t,rejected:s,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){E.forEach(this.handlers,function(n){n!==null&&t(n)})}}const nd={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},uv=typeof URLSearchParams<"u"?URLSearchParams:Xo,dv=typeof FormData<"u"?FormData:null,fv=typeof Blob<"u"?Blob:null,hv={isBrowser:!0,classes:{URLSearchParams:uv,FormData:dv,Blob:fv},protocols:["http","https","file","blob","url","data"]},Qo=typeof window<"u"&&typeof document<"u",ho=typeof navigator=="object"&&navigator||void 0,pv=Qo&&(!ho||["ReactNative","NativeScript","NS"].indexOf(ho.product)<0),gv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",mv=Qo&&window.location.href||"http://localhost",wv=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Qo,hasStandardBrowserEnv:pv,hasStandardBrowserWebWorkerEnv:gv,navigator:ho,origin:mv},Symbol.toStringTag,{value:"Module"})),Me={...wv,...hv};function _v(e,t){return ui(e,new Me.classes.URLSearchParams,Object.assign({visitor:function(s,n,r,i){return Me.isNode&&E.isBuffer(s)?(this.append(n,s.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}function bv(e){return E.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function vv(e){const t={},s=Object.keys(e);let n;const r=s.length;let i;for(n=0;n<r;n++)i=s[n],t[i]=e[i];return t}function rd(e){function t(s,n,r,i){let o=s[i++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=i>=s.length;return o=!o&&E.isArray(r)?r.length:o,l?(E.hasOwnProp(r,o)?r[o]=[r[o],n]:r[o]=n,!a):((!r[o]||!E.isObject(r[o]))&&(r[o]=[]),t(s,n,r[o],i)&&E.isArray(r[o])&&(r[o]=vv(r[o])),!a)}if(E.isFormData(e)&&E.isFunction(e.entries)){const s={};return E.forEachEntry(e,(n,r)=>{t(bv(n),r,s,0)}),s}return null}function yv(e,t,s){if(E.isString(e))try{return(t||JSON.parse)(e),E.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(s||JSON.stringify)(e)}const lr={transitional:nd,adapter:["xhr","http","fetch"],transformRequest:[function(t,s){const n=s.getContentType()||"",r=n.indexOf("application/json")>-1,i=E.isObject(t);if(i&&E.isHTMLForm(t)&&(t=new FormData(t)),E.isFormData(t))return r?JSON.stringify(rd(t)):t;if(E.isArrayBuffer(t)||E.isBuffer(t)||E.isStream(t)||E.isFile(t)||E.isBlob(t)||E.isReadableStream(t))return t;if(E.isArrayBufferView(t))return t.buffer;if(E.isURLSearchParams(t))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return _v(t,this.formSerializer).toString();if((a=E.isFileList(t))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return ui(a?{"files[]":t}:t,l&&new l,this.formSerializer)}}return i||r?(s.setContentType("application/json",!1),yv(t)):t}],transformResponse:[function(t){const s=this.transitional||lr.transitional,n=s&&s.forcedJSONParsing,r=this.responseType==="json";if(E.isResponse(t)||E.isReadableStream(t))return t;if(t&&E.isString(t)&&(n&&!this.responseType||r)){const o=!(s&&s.silentJSONParsing)&&r;try{return JSON.parse(t)}catch(a){if(o)throw a.name==="SyntaxError"?Y.from(a,Y.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Me.classes.FormData,Blob:Me.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};E.forEach(["delete","get","head","post","put","patch"],e=>{lr.headers[e]={}});const Sv=E.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ev=e=>{const t={};let s,n,r;return e&&e.split(`
`).forEach(function(o){r=o.indexOf(":"),s=o.substring(0,r).trim().toLowerCase(),n=o.substring(r+1).trim(),!(!s||t[s]&&Sv[s])&&(s==="set-cookie"?t[s]?t[s].push(n):t[s]=[n]:t[s]=t[s]?t[s]+", "+n:n)}),t},vl=Symbol("internals");function mn(e){return e&&String(e).trim().toLowerCase()}function Tr(e){return e===!1||e==null?e:E.isArray(e)?e.map(Tr):String(e)}function xv(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=s.exec(e);)t[n[1]]=n[2];return t}const Rv=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Li(e,t,s,n,r){if(E.isFunction(n))return n.call(this,t,s);if(r&&(t=s),!!E.isString(t)){if(E.isString(n))return t.indexOf(n)!==-1;if(E.isRegExp(n))return n.test(t)}}function Tv(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,s,n)=>s.toUpperCase()+n)}function Cv(e,t){const s=E.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+s,{value:function(r,i,o){return this[n].call(this,t,r,i,o)},configurable:!0})})}let Ke=class{constructor(t){t&&this.set(t)}set(t,s,n){const r=this;function i(a,l,c){const u=mn(l);if(!u)throw new Error("header name must be a non-empty string");const d=E.findKey(r,u);(!d||r[d]===void 0||c===!0||c===void 0&&r[d]!==!1)&&(r[d||l]=Tr(a))}const o=(a,l)=>E.forEach(a,(c,u)=>i(c,u,l));if(E.isPlainObject(t)||t instanceof this.constructor)o(t,s);else if(E.isString(t)&&(t=t.trim())&&!Rv(t))o(Ev(t),s);else if(E.isHeaders(t))for(const[a,l]of t.entries())i(l,a,n);else t!=null&&i(s,t,n);return this}get(t,s){if(t=mn(t),t){const n=E.findKey(this,t);if(n){const r=this[n];if(!s)return r;if(s===!0)return xv(r);if(E.isFunction(s))return s.call(this,r,n);if(E.isRegExp(s))return s.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,s){if(t=mn(t),t){const n=E.findKey(this,t);return!!(n&&this[n]!==void 0&&(!s||Li(this,this[n],n,s)))}return!1}delete(t,s){const n=this;let r=!1;function i(o){if(o=mn(o),o){const a=E.findKey(n,o);a&&(!s||Li(n,n[a],a,s))&&(delete n[a],r=!0)}}return E.isArray(t)?t.forEach(i):i(t),r}clear(t){const s=Object.keys(this);let n=s.length,r=!1;for(;n--;){const i=s[n];(!t||Li(this,this[i],i,t,!0))&&(delete this[i],r=!0)}return r}normalize(t){const s=this,n={};return E.forEach(this,(r,i)=>{const o=E.findKey(n,i);if(o){s[o]=Tr(r),delete s[i];return}const a=t?Tv(i):String(i).trim();a!==i&&delete s[i],s[a]=Tr(r),n[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const s=Object.create(null);return E.forEach(this,(n,r)=>{n!=null&&n!==!1&&(s[r]=t&&E.isArray(n)?n.join(", "):n)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,s])=>t+": "+s).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...s){const n=new this(t);return s.forEach(r=>n.set(r)),n}static accessor(t){const n=(this[vl]=this[vl]={accessors:{}}).accessors,r=this.prototype;function i(o){const a=mn(o);n[a]||(Cv(r,o),n[a]=!0)}return E.isArray(t)?t.forEach(i):i(t),this}};Ke.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);E.reduceDescriptors(Ke.prototype,({value:e},t)=>{let s=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[s]=n}}});E.freezeMethods(Ke);function Ni(e,t){const s=this||lr,n=t||s,r=Ke.from(n.headers);let i=n.data;return E.forEach(e,function(a){i=a.call(s,i,r.normalize(),t?t.status:void 0)}),r.normalize(),i}function id(e){return!!(e&&e.__CANCEL__)}function cn(e,t,s){Y.call(this,e??"canceled",Y.ERR_CANCELED,t,s),this.name="CanceledError"}E.inherits(cn,Y,{__CANCEL__:!0});function od(e,t,s){const n=s.config.validateStatus;!s.status||!n||n(s.status)?e(s):t(new Y("Request failed with status code "+s.status,[Y.ERR_BAD_REQUEST,Y.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function Pv(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function kv(e,t){e=e||10;const s=new Array(e),n=new Array(e);let r=0,i=0,o;return t=t!==void 0?t:1e3,function(l){const c=Date.now(),u=n[i];o||(o=c),s[r]=l,n[r]=c;let d=i,f=0;for(;d!==r;)f+=s[d++],d=d%e;if(r=(r+1)%e,r===i&&(i=(i+1)%e),c-o<t)return;const p=u&&c-u;return p?Math.round(f*1e3/p):void 0}}function Ov(e,t){let s=0,n=1e3/t,r,i;const o=(c,u=Date.now())=>{s=u,r=null,i&&(clearTimeout(i),i=null),e.apply(null,c)};return[(...c)=>{const u=Date.now(),d=u-s;d>=n?o(c,u):(r=c,i||(i=setTimeout(()=>{i=null,o(r)},n-d)))},()=>r&&o(r)]}const Hr=(e,t,s=3)=>{let n=0;const r=kv(50,250);return Ov(i=>{const o=i.loaded,a=i.lengthComputable?i.total:void 0,l=o-n,c=r(l),u=o<=a;n=o;const d={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&u?(a-o)/c:void 0,event:i,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(d)},s)},yl=(e,t)=>{const s=e!=null;return[n=>t[0]({lengthComputable:s,total:e,loaded:n}),t[1]]},Sl=e=>(...t)=>E.asap(()=>e(...t)),Av=Me.hasStandardBrowserEnv?((e,t)=>s=>(s=new URL(s,Me.origin),e.protocol===s.protocol&&e.host===s.host&&(t||e.port===s.port)))(new URL(Me.origin),Me.navigator&&/(msie|trident)/i.test(Me.navigator.userAgent)):()=>!0,Iv=Me.hasStandardBrowserEnv?{write(e,t,s,n,r,i){const o=[e+"="+encodeURIComponent(t)];E.isNumber(s)&&o.push("expires="+new Date(s).toGMTString()),E.isString(n)&&o.push("path="+n),E.isString(r)&&o.push("domain="+r),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Uv(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Lv(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function ad(e,t,s){let n=!Uv(t);return e&&(n||s==!1)?Lv(e,t):t}const El=e=>e instanceof Ke?{...e}:e;function Es(e,t){t=t||{};const s={};function n(c,u,d,f){return E.isPlainObject(c)&&E.isPlainObject(u)?E.merge.call({caseless:f},c,u):E.isPlainObject(u)?E.merge({},u):E.isArray(u)?u.slice():u}function r(c,u,d,f){if(E.isUndefined(u)){if(!E.isUndefined(c))return n(void 0,c,d,f)}else return n(c,u,d,f)}function i(c,u){if(!E.isUndefined(u))return n(void 0,u)}function o(c,u){if(E.isUndefined(u)){if(!E.isUndefined(c))return n(void 0,c)}else return n(void 0,u)}function a(c,u,d){if(d in t)return n(c,u);if(d in e)return n(void 0,c)}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,u,d)=>r(El(c),El(u),d,!0)};return E.forEach(Object.keys(Object.assign({},e,t)),function(u){const d=l[u]||r,f=d(e[u],t[u],u);E.isUndefined(f)&&d!==a||(s[u]=f)}),s}const ld=e=>{const t=Es({},e);let{data:s,withXSRFToken:n,xsrfHeaderName:r,xsrfCookieName:i,headers:o,auth:a}=t;t.headers=o=Ke.from(o),t.url=sd(ad(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(E.isFormData(s)){if(Me.hasStandardBrowserEnv||Me.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[c,...u]=l?l.split(";").map(d=>d.trim()).filter(Boolean):[];o.setContentType([c||"multipart/form-data",...u].join("; "))}}if(Me.hasStandardBrowserEnv&&(n&&E.isFunction(n)&&(n=n(t)),n||n!==!1&&Av(t.url))){const c=r&&i&&Iv.read(i);c&&o.set(r,c)}return t},Nv=typeof XMLHttpRequest<"u",jv=Nv&&function(e){return new Promise(function(s,n){const r=ld(e);let i=r.data;const o=Ke.from(r.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=r,u,d,f,p,w;function _(){p&&p(),w&&w(),r.cancelToken&&r.cancelToken.unsubscribe(u),r.signal&&r.signal.removeEventListener("abort",u)}let y=new XMLHttpRequest;y.open(r.method.toUpperCase(),r.url,!0),y.timeout=r.timeout;function P(){if(!y)return;const v=Ke.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),O={data:!a||a==="text"||a==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:v,config:e,request:y};od(function(U){s(U),_()},function(U){n(U),_()},O),y=null}"onloadend"in y?y.onloadend=P:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(P)},y.onabort=function(){y&&(n(new Y("Request aborted",Y.ECONNABORTED,e,y)),y=null)},y.onerror=function(){n(new Y("Network Error",Y.ERR_NETWORK,e,y)),y=null},y.ontimeout=function(){let x=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const O=r.transitional||nd;r.timeoutErrorMessage&&(x=r.timeoutErrorMessage),n(new Y(x,O.clarifyTimeoutError?Y.ETIMEDOUT:Y.ECONNABORTED,e,y)),y=null},i===void 0&&o.setContentType(null),"setRequestHeader"in y&&E.forEach(o.toJSON(),function(x,O){y.setRequestHeader(O,x)}),E.isUndefined(r.withCredentials)||(y.withCredentials=!!r.withCredentials),a&&a!=="json"&&(y.responseType=r.responseType),c&&([f,w]=Hr(c,!0),y.addEventListener("progress",f)),l&&y.upload&&([d,p]=Hr(l),y.upload.addEventListener("progress",d),y.upload.addEventListener("loadend",p)),(r.cancelToken||r.signal)&&(u=v=>{y&&(n(!v||v.type?new cn(null,e,y):v),y.abort(),y=null)},r.cancelToken&&r.cancelToken.subscribe(u),r.signal&&(r.signal.aborted?u():r.signal.addEventListener("abort",u)));const m=Pv(r.url);if(m&&Me.protocols.indexOf(m)===-1){n(new Y("Unsupported protocol "+m+":",Y.ERR_BAD_REQUEST,e));return}y.send(i||null)})},Mv=(e,t)=>{const{length:s}=e=e?e.filter(Boolean):[];if(t||s){let n=new AbortController,r;const i=function(c){if(!r){r=!0,a();const u=c instanceof Error?c:this.reason;n.abort(u instanceof Y?u:new cn(u instanceof Error?u.message:u))}};let o=t&&setTimeout(()=>{o=null,i(new Y(`timeout ${t} of ms exceeded`,Y.ETIMEDOUT))},t);const a=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(i):c.removeEventListener("abort",i)}),e=null)};e.forEach(c=>c.addEventListener("abort",i));const{signal:l}=n;return l.unsubscribe=()=>E.asap(a),l}},$v=function*(e,t){let s=e.byteLength;if(s<t){yield e;return}let n=0,r;for(;n<s;)r=n+t,yield e.slice(n,r),n=r},Hv=async function*(e,t){for await(const s of Dv(e))yield*$v(s,t)},Dv=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:s,value:n}=await t.read();if(s)break;yield n}}finally{await t.cancel()}},xl=(e,t,s,n)=>{const r=Hv(e,t);let i=0,o,a=l=>{o||(o=!0,n&&n(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await r.next();if(c){a(),l.close();return}let d=u.byteLength;if(s){let f=i+=d;s(f)}l.enqueue(new Uint8Array(u))}catch(c){throw a(c),c}},cancel(l){return a(l),r.return()}},{highWaterMark:2})},di=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",cd=di&&typeof ReadableStream=="function",qv=di&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),ud=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Fv=cd&&ud(()=>{let e=!1;const t=new Request(Me.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Rl=64*1024,po=cd&&ud(()=>E.isReadableStream(new Response("").body)),Dr={stream:po&&(e=>e.body)};di&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Dr[t]&&(Dr[t]=E.isFunction(e[t])?s=>s[t]():(s,n)=>{throw new Y(`Response type '${t}' is not supported`,Y.ERR_NOT_SUPPORT,n)})})})(new Response);const Bv=async e=>{if(e==null)return 0;if(E.isBlob(e))return e.size;if(E.isSpecCompliantForm(e))return(await new Request(Me.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(E.isArrayBufferView(e)||E.isArrayBuffer(e))return e.byteLength;if(E.isURLSearchParams(e)&&(e=e+""),E.isString(e))return(await qv(e)).byteLength},Wv=async(e,t)=>{const s=E.toFiniteNumber(e.getContentLength());return s??Bv(t)},zv=di&&(async e=>{let{url:t,method:s,data:n,signal:r,cancelToken:i,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:u,withCredentials:d="same-origin",fetchOptions:f}=ld(e);c=c?(c+"").toLowerCase():"text";let p=Mv([r,i&&i.toAbortSignal()],o),w;const _=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let y;try{if(l&&Fv&&s!=="get"&&s!=="head"&&(y=await Wv(u,n))!==0){let O=new Request(t,{method:"POST",body:n,duplex:"half"}),H;if(E.isFormData(n)&&(H=O.headers.get("content-type"))&&u.setContentType(H),O.body){const[U,q]=yl(y,Hr(Sl(l)));n=xl(O.body,Rl,U,q)}}E.isString(d)||(d=d?"include":"omit");const P="credentials"in Request.prototype;w=new Request(t,{...f,signal:p,method:s.toUpperCase(),headers:u.normalize().toJSON(),body:n,duplex:"half",credentials:P?d:void 0});let m=await fetch(w);const v=po&&(c==="stream"||c==="response");if(po&&(a||v&&_)){const O={};["status","statusText","headers"].forEach(I=>{O[I]=m[I]});const H=E.toFiniteNumber(m.headers.get("content-length")),[U,q]=a&&yl(H,Hr(Sl(a),!0))||[];m=new Response(xl(m.body,Rl,U,()=>{q&&q(),_&&_()}),O)}c=c||"text";let x=await Dr[E.findKey(Dr,c)||"text"](m,e);return!v&&_&&_(),await new Promise((O,H)=>{od(O,H,{data:x,headers:Ke.from(m.headers),status:m.status,statusText:m.statusText,config:e,request:w})})}catch(P){throw _&&_(),P&&P.name==="TypeError"&&/fetch/i.test(P.message)?Object.assign(new Y("Network Error",Y.ERR_NETWORK,e,w),{cause:P.cause||P}):Y.from(P,P&&P.code,e,w)}}),go={http:ov,xhr:jv,fetch:zv};E.forEach(go,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Tl=e=>`- ${e}`,Vv=e=>E.isFunction(e)||e===null||e===!1,dd={getAdapter:e=>{e=E.isArray(e)?e:[e];const{length:t}=e;let s,n;const r={};for(let i=0;i<t;i++){s=e[i];let o;if(n=s,!Vv(s)&&(n=go[(o=String(s)).toLowerCase()],n===void 0))throw new Y(`Unknown adapter '${o}'`);if(n)break;r[o||"#"+i]=n}if(!n){const i=Object.entries(r).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=t?i.length>1?`since :
`+i.map(Tl).join(`
`):" "+Tl(i[0]):"as no adapter specified";throw new Y("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:go};function ji(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new cn(null,e)}function Cl(e){return ji(e),e.headers=Ke.from(e.headers),e.data=Ni.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),dd.getAdapter(e.adapter||lr.adapter)(e).then(function(n){return ji(e),n.data=Ni.call(e,e.transformResponse,n),n.headers=Ke.from(n.headers),n},function(n){return id(n)||(ji(e),n&&n.response&&(n.response.data=Ni.call(e,e.transformResponse,n.response),n.response.headers=Ke.from(n.response.headers))),Promise.reject(n)})}const fd="1.8.4",fi={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{fi[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Pl={};fi.transitional=function(t,s,n){function r(i,o){return"[Axios v"+fd+"] Transitional option '"+i+"'"+o+(n?". "+n:"")}return(i,o,a)=>{if(t===!1)throw new Y(r(o," has been removed"+(s?" in "+s:"")),Y.ERR_DEPRECATED);return s&&!Pl[o]&&(Pl[o]=!0,console.warn(r(o," has been deprecated since v"+s+" and will be removed in the near future"))),t?t(i,o,a):!0}};fi.spelling=function(t){return(s,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function Kv(e,t,s){if(typeof e!="object")throw new Y("options must be an object",Y.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let r=n.length;for(;r-- >0;){const i=n[r],o=t[i];if(o){const a=e[i],l=a===void 0||o(a,i,e);if(l!==!0)throw new Y("option "+i+" must be "+l,Y.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new Y("Unknown option "+i,Y.ERR_BAD_OPTION)}}const Cr={assertOptions:Kv,validators:fi},vt=Cr.validators;let bs=class{constructor(t){this.defaults=t,this.interceptors={request:new bl,response:new bl}}async request(t,s){try{return await this._request(t,s)}catch(n){if(n instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const i=r.stack?r.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(t,s){typeof t=="string"?(s=s||{},s.url=t):s=t||{},s=Es(this.defaults,s);const{transitional:n,paramsSerializer:r,headers:i}=s;n!==void 0&&Cr.assertOptions(n,{silentJSONParsing:vt.transitional(vt.boolean),forcedJSONParsing:vt.transitional(vt.boolean),clarifyTimeoutError:vt.transitional(vt.boolean)},!1),r!=null&&(E.isFunction(r)?s.paramsSerializer={serialize:r}:Cr.assertOptions(r,{encode:vt.function,serialize:vt.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),Cr.assertOptions(s,{baseUrl:vt.spelling("baseURL"),withXsrfToken:vt.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let o=i&&E.merge(i.common,i[s.method]);i&&E.forEach(["delete","get","head","post","put","patch","common"],w=>{delete i[w]}),s.headers=Ke.concat(o,i);const a=[];let l=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(s)===!1||(l=l&&_.synchronous,a.unshift(_.fulfilled,_.rejected))});const c=[];this.interceptors.response.forEach(function(_){c.push(_.fulfilled,_.rejected)});let u,d=0,f;if(!l){const w=[Cl.bind(this),void 0];for(w.unshift.apply(w,a),w.push.apply(w,c),f=w.length,u=Promise.resolve(s);d<f;)u=u.then(w[d++],w[d++]);return u}f=a.length;let p=s;for(d=0;d<f;){const w=a[d++],_=a[d++];try{p=w(p)}catch(y){_.call(this,y);break}}try{u=Cl.call(this,p)}catch(w){return Promise.reject(w)}for(d=0,f=c.length;d<f;)u=u.then(c[d++],c[d++]);return u}getUri(t){t=Es(this.defaults,t);const s=ad(t.baseURL,t.url,t.allowAbsoluteUrls);return sd(s,t.params,t.paramsSerializer)}};E.forEach(["delete","get","head","options"],function(t){bs.prototype[t]=function(s,n){return this.request(Es(n||{},{method:t,url:s,data:(n||{}).data}))}});E.forEach(["post","put","patch"],function(t){function s(n){return function(i,o,a){return this.request(Es(a||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}bs.prototype[t]=s(),bs.prototype[t+"Form"]=s(!0)});let Gv=class hd{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(i){s=i});const n=this;this.promise.then(r=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](r);n._listeners=null}),this.promise.then=r=>{let i;const o=new Promise(a=>{n.subscribe(a),i=a}).then(r);return o.cancel=function(){n.unsubscribe(i)},o},t(function(i,o,a){n.reason||(n.reason=new cn(i,o,a),s(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const s=this._listeners.indexOf(t);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const t=new AbortController,s=n=>{t.abort(n)};return this.subscribe(s),t.signal.unsubscribe=()=>this.unsubscribe(s),t.signal}static source(){let t;return{token:new hd(function(r){t=r}),cancel:t}}};function Jv(e){return function(s){return e.apply(null,s)}}function Xv(e){return E.isObject(e)&&e.isAxiosError===!0}const mo={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(mo).forEach(([e,t])=>{mo[t]=e});function pd(e){const t=new bs(e),s=zu(bs.prototype.request,t);return E.extend(s,bs.prototype,t,{allOwnKeys:!0}),E.extend(s,t,null,{allOwnKeys:!0}),s.create=function(r){return pd(Es(e,r))},s}const xe=pd(lr);xe.Axios=bs;xe.CanceledError=cn;xe.CancelToken=Gv;xe.isCancel=id;xe.VERSION=fd;xe.toFormData=ui;xe.AxiosError=Y;xe.Cancel=xe.CanceledError;xe.all=function(t){return Promise.all(t)};xe.spread=Jv;xe.isAxiosError=Xv;xe.mergeConfig=Es;xe.AxiosHeaders=Ke;xe.formToJSON=e=>rd(E.isHTMLForm(e)?new FormData(e):e);xe.getAdapter=dd.getAdapter;xe.HttpStatusCode=mo;xe.default=xe;const{Axios:ry,AxiosError:iy,CanceledError:oy,isCancel:ay,CancelToken:ly,VERSION:cy,all:uy,Cancel:dy,isAxiosError:fy,spread:hy,toFormData:py,AxiosHeaders:gy,HttpStatusCode:my,formToJSON:wy,getAdapter:_y,mergeConfig:by}=xe,Qv=["isRenewing","isAuthenticated"],Yv=["isAuthenticated","userProfile","userSession","idToken","idTokenDecoded","accessToken","accessTokenDecoded"],Zv=Bo({__name:"DemoView",setup(e){const t=Zg("demoAppPlayground"),s=yb(),n=async i=>{const{url:o,headers:a}=i.detail;o&&await xe.get(o,{headers:a}).then(l=>{var c;return(c=t.value)==null?void 0:c.setApiStatus(l.data,!1)}).catch(l=>{var c;return(c=t.value)==null?void 0:c.setApiStatus(l,!0)})},r=async(i,o)=>{const{queryParams:a}=o.detail;await s.push({path:i,query:a,force:!0})};return(i,o)=>{const a=Qc("RouterView");return mu(),Wm("demo-app-main",{isRenewing:i.$authService.isRenewingRef.value,isAuthenticated:i.$authService.isAuthenticatedRef.value,onLogin:o[5]||(o[5]=l=>i.$authService.login()),onLogout:o[6]||(o[6]=l=>i.$authService.logout({redirectUrl:"/"})),"on:silentRenew":o[7]||(o[7]=l=>i.$authService.renew())},[In("demo-app-playground",{ref:"demoAppPlayground",tabLabel:"Playground",onApi:o[0]||(o[0]=l=>n(l)),onHome:o[1]||(o[1]=l=>r("/",l)),onPublic:o[2]||(o[2]=l=>r("public",l)),onPrivate:o[3]||(o[3]=l=>r("private",l)),onProtected:o[4]||(o[4]=l=>r("protected",l))},[st(a)],544),In("demo-app-debug",{tabLabel:"Debug",isAuthenticated:i.$authService.isAuthenticatedRef.value,userProfile:i.$authService.userProfileRef.value,userSession:i.$authService.userSessionRef.value,idToken:i.$authService.idTokenRef.value,idTokenDecoded:i.$authService.idTokenDecodedRef.value,accessToken:i.$authService.accessTokenRef.value,accessTokenDecoded:i.$authService.accessTokenDecodedRef.value},null,8,Yv),o[8]||(o[8]=In("demo-app-settings",{tabLabel:"Settings"},null,-1))],40,Qv)}}}),kl=bb({history:G_("/auth-js/demo-app/auth-vue/"),routes:[{path:"/",component:Zv,children:[{path:"forbidden",component:()=>fr(()=>import("./PageView-Mxqy6L7h.js"),__vite__mapDeps([0,1])),meta:{title:"ACCESS FORBIDDEN"}},{path:"public",component:()=>fr(()=>import("./PageView-Mxqy6L7h.js"),__vite__mapDeps([0,1])),meta:{title:"PUBLIC CONTENT"}},{path:"private",component:()=>fr(()=>import("./PageView-Mxqy6L7h.js"),__vite__mapDeps([0,1])),meta:{title:"PRIVATE CONTENT",authGuard:!0}},{path:"protected",component:()=>fr(()=>import("./PageView-Mxqy6L7h.js"),__vite__mapDeps([0,1])),meta:{title:"PROTECTED CONTENT",authGuard:{validator:Kw()}}}]}]});(()=>{window.appSettings=new d_(!1);const e=document.createElement("div");e.innerHTML="Loading...",document.body.appendChild(e),Nw(window.appSettings.getCurrentSettings().librarySettings).then(t=>{e.replaceWith(document.createElement("root"));const s=kw(g_);s.use(t,{router:kl}),s.use(kl),s.mount("root")}).catch(t=>{var n;const s=t instanceof Error?t.message:String(t);e.innerHTML=`${s}<br/><button id="loginButton">Login</button>`,(n=document.body.querySelector("#loginButton"))==null||n.addEventListener("click",()=>{location.reload()},{once:!0}),console.error(t)})})();export{f_ as _,In as a,Wm as c,mu as o,bg as t};
