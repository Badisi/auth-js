const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/PageView-ar595s66.js","assets/PageView-B4iHu5ze.css"])))=>i.map(i=>d[i]);
var wd=Object.defineProperty;var na=e=>{throw TypeError(e)};var _d=(e,t,s)=>t in e?wd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var V=(e,t,s)=>_d(e,typeof t!="symbol"?t+"":t,s),pi=(e,t,s)=>t.has(e)||na("Cannot "+s);var S=(e,t,s)=>(pi(e,t,"read from private field"),s?s.call(e):t.get(e)),K=(e,t,s)=>t.has(e)?na("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),ie=(e,t,s,n)=>(pi(e,t,"write to private field"),n?n.call(e,s):t.set(e,s),s),F=(e,t,s)=>(pi(e,t,"access private method"),s);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function s(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=s(r);fetch(r.href,i)}})();var gi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Br(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function bd(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var s=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};s.prototype=t.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(s,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}),s}function vd(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pr={exports:{}};const yd={},Sd=Object.freeze(Object.defineProperty({__proto__:null,default:yd},Symbol.toStringTag,{value:"Module"})),Ed=bd(Sd);var xd=pr.exports,ra;function Wr(){return ra||(ra=1,function(e,t){(function(s,n){e.exports=n()})(xd,function(){var s=s||function(n,r){var i;if(typeof window<"u"&&window.crypto&&(i=window.crypto),typeof self<"u"&&self.crypto&&(i=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(i=globalThis.crypto),!i&&typeof window<"u"&&window.msCrypto&&(i=window.msCrypto),!i&&typeof gi<"u"&&gi.crypto&&(i=gi.crypto),!i&&typeof vd=="function")try{i=Ed}catch{}var o=function(){if(i){if(typeof i.getRandomValues=="function")try{return i.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof i.randomBytes=="function")try{return i.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},a=Object.create||function(){function m(){}return function(v){var x;return m.prototype=v,x=new m,m.prototype=null,x}}(),l={},c=l.lib={},u=c.Base=function(){return{extend:function(m){var v=a(this);return m&&v.mixIn(m),(!v.hasOwnProperty("init")||this.init===v.init)&&(v.init=function(){v.$super.init.apply(this,arguments)}),v.init.prototype=v,v.$super=this,v},create:function(){var m=this.extend();return m.init.apply(m,arguments),m},init:function(){},mixIn:function(m){for(var v in m)m.hasOwnProperty(v)&&(this[v]=m[v]);m.hasOwnProperty("toString")&&(this.toString=m.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),d=c.WordArray=u.extend({init:function(m,v){m=this.words=m||[],v!=r?this.sigBytes=v:this.sigBytes=m.length*4},toString:function(m){return(m||p).stringify(this)},concat:function(m){var v=this.words,x=m.words,A=this.sigBytes,D=m.sigBytes;if(this.clamp(),A%4)for(var U=0;U<D;U++){var q=x[U>>>2]>>>24-U%4*8&255;v[A+U>>>2]|=q<<24-(A+U)%4*8}else for(var I=0;I<D;I+=4)v[A+I>>>2]=x[I>>>2];return this.sigBytes+=D,this},clamp:function(){var m=this.words,v=this.sigBytes;m[v>>>2]&=4294967295<<32-v%4*8,m.length=n.ceil(v/4)},clone:function(){var m=u.clone.call(this);return m.words=this.words.slice(0),m},random:function(m){for(var v=[],x=0;x<m;x+=4)v.push(o());return new d.init(v,m)}}),f=l.enc={},p=f.Hex={stringify:function(m){for(var v=m.words,x=m.sigBytes,A=[],D=0;D<x;D++){var U=v[D>>>2]>>>24-D%4*8&255;A.push((U>>>4).toString(16)),A.push((U&15).toString(16))}return A.join("")},parse:function(m){for(var v=m.length,x=[],A=0;A<v;A+=2)x[A>>>3]|=parseInt(m.substr(A,2),16)<<24-A%8*4;return new d.init(x,v/2)}},w=f.Latin1={stringify:function(m){for(var v=m.words,x=m.sigBytes,A=[],D=0;D<x;D++){var U=v[D>>>2]>>>24-D%4*8&255;A.push(String.fromCharCode(U))}return A.join("")},parse:function(m){for(var v=m.length,x=[],A=0;A<v;A++)x[A>>>2]|=(m.charCodeAt(A)&255)<<24-A%4*8;return new d.init(x,v)}},_=f.Utf8={stringify:function(m){try{return decodeURIComponent(escape(w.stringify(m)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(m){return w.parse(unescape(encodeURIComponent(m)))}},y=c.BufferedBlockAlgorithm=u.extend({reset:function(){this._data=new d.init,this._nDataBytes=0},_append:function(m){typeof m=="string"&&(m=_.parse(m)),this._data.concat(m),this._nDataBytes+=m.sigBytes},_process:function(m){var v,x=this._data,A=x.words,D=x.sigBytes,U=this.blockSize,q=U*4,I=D/q;m?I=n.ceil(I):I=n.max((I|0)-this._minBufferSize,0);var se=I*U,ne=n.min(se*4,D);if(se){for(var ce=0;ce<se;ce+=U)this._doProcessBlock(A,ce);v=A.splice(0,se),x.sigBytes-=ne}return new d.init(v,ne)},clone:function(){var m=u.clone.call(this);return m._data=this._data.clone(),m},_minBufferSize:0});c.Hasher=y.extend({cfg:u.extend(),init:function(m){this.cfg=this.cfg.extend(m),this.reset()},reset:function(){y.reset.call(this),this._doReset()},update:function(m){return this._append(m),this._process(),this},finalize:function(m){m&&this._append(m);var v=this._doFinalize();return v},blockSize:16,_createHelper:function(m){return function(v,x){return new m.init(x).finalize(v)}},_createHmacHelper:function(m){return function(v,x){return new P.HMAC.init(m,x).finalize(v)}}});var P=l.algo={};return l}(Math);return s})}(pr)),pr.exports}var Rd=Wr();const Td=Br(Rd);var gr={exports:{}},Cd=gr.exports,ia;function Pd(){return ia||(ia=1,function(e,t){(function(s,n){e.exports=n(Wr())})(Cd,function(s){return function(n){var r=s,i=r.lib,o=i.WordArray,a=i.Hasher,l=r.algo,c=[],u=[];(function(){function p(P){for(var m=n.sqrt(P),v=2;v<=m;v++)if(!(P%v))return!1;return!0}function w(P){return(P-(P|0))*4294967296|0}for(var _=2,y=0;y<64;)p(_)&&(y<8&&(c[y]=w(n.pow(_,1/2))),u[y]=w(n.pow(_,1/3)),y++),_++})();var d=[],f=l.SHA256=a.extend({_doReset:function(){this._hash=new o.init(c.slice(0))},_doProcessBlock:function(p,w){for(var _=this._hash.words,y=_[0],P=_[1],m=_[2],v=_[3],x=_[4],A=_[5],D=_[6],U=_[7],q=0;q<64;q++){if(q<16)d[q]=p[w+q]|0;else{var I=d[q-15],se=(I<<25|I>>>7)^(I<<14|I>>>18)^I>>>3,ne=d[q-2],ce=(ne<<15|ne>>>17)^(ne<<13|ne>>>19)^ne>>>10;d[q]=se+d[q-7]+ce+d[q-16]}var ve=x&A^~x&D,We=y&P^y&m^P&m,Pe=(y<<30|y>>>2)^(y<<19|y>>>13)^(y<<10|y>>>22),de=(x<<26|x>>>6)^(x<<21|x>>>11)^(x<<7|x>>>25),ee=U+de+ve+u[q]+d[q],te=Pe+We;U=D,D=A,A=x,x=v+ee|0,v=m,m=P,P=y,y=ee+te|0}_[0]=_[0]+y|0,_[1]=_[1]+P|0,_[2]=_[2]+m|0,_[3]=_[3]+v|0,_[4]=_[4]+x|0,_[5]=_[5]+A|0,_[6]=_[6]+D|0,_[7]=_[7]+U|0},_doFinalize:function(){var p=this._data,w=p.words,_=this._nDataBytes*8,y=p.sigBytes*8;return w[y>>>5]|=128<<24-y%32,w[(y+64>>>9<<4)+14]=n.floor(_/4294967296),w[(y+64>>>9<<4)+15]=_,p.sigBytes=w.length*4,this._process(),this._hash},clone:function(){var p=a.clone.call(this);return p._hash=this._hash.clone(),p}});r.SHA256=a._createHelper(f),r.HmacSHA256=a._createHmacHelper(f)}(Math),s.SHA256})}(gr)),gr.exports}var kd=Pd();const Ad=Br(kd);var mr={exports:{}},Od=mr.exports,oa;function Id(){return oa||(oa=1,function(e,t){(function(s,n){e.exports=n(Wr())})(Od,function(s){return function(){var n=s,r=n.lib,i=r.WordArray,o=n.enc;o.Base64={stringify:function(l){var c=l.words,u=l.sigBytes,d=this._map;l.clamp();for(var f=[],p=0;p<u;p+=3)for(var w=c[p>>>2]>>>24-p%4*8&255,_=c[p+1>>>2]>>>24-(p+1)%4*8&255,y=c[p+2>>>2]>>>24-(p+2)%4*8&255,P=w<<16|_<<8|y,m=0;m<4&&p+m*.75<u;m++)f.push(d.charAt(P>>>6*(3-m)&63));var v=d.charAt(64);if(v)for(;f.length%4;)f.push(v);return f.join("")},parse:function(l){var c=l.length,u=this._map,d=this._reverseMap;if(!d){d=this._reverseMap=[];for(var f=0;f<u.length;f++)d[u.charCodeAt(f)]=f}var p=u.charAt(64);if(p){var w=l.indexOf(p);w!==-1&&(c=w)}return a(l,c,d)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function a(l,c,u){for(var d=[],f=0,p=0;p<c;p++)if(p%4){var w=u[l.charCodeAt(p-1)]<<p%4*2,_=u[l.charCodeAt(p)]>>>6-p%4*2,y=w|_;d[f>>>2]|=y<<24-f%4*8,f++}return i.create(d,f)}}(),s.enc.Base64})}(mr)),mr.exports}var Ud=Id();const aa=Br(Ud);var wr={exports:{}},Ld=wr.exports,la;function Nd(){return la||(la=1,function(e,t){(function(s,n){e.exports=n(Wr())})(Ld,function(s){return s.enc.Utf8})}(wr)),wr.exports}var jd=Nd();const $d=Br(jd);function Mi(e){this.message=e}Mi.prototype=new Error,Mi.prototype.name="InvalidCharacterError";var ca=typeof window<"u"&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new Mi("'atob' failed: The string to be decoded is not correctly encoded.");for(var s,n,r=0,i=0,o="";n=t.charAt(i++);~n&&(s=r%4?64*s+n:n,r++%4)?o+=String.fromCharCode(255&s>>(-2*r&6)):0)n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(n);return o};function Md(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(s){return decodeURIComponent(ca(s).replace(/(.)/g,function(n,r){var i=r.charCodeAt(0).toString(16).toUpperCase();return i.length<2&&(i="0"+i),"%"+i}))}(t)}catch{return ca(t)}}function kr(e){this.message=e}function Ml(e,t){if(typeof e!="string")throw new kr("Invalid token specified");var s=(t=t||{}).header===!0?0:1;try{return JSON.parse(Md(e.split(".")[s]))}catch(n){throw new kr("Invalid token specified: "+n.message)}}kr.prototype=new Error,kr.prototype.name="InvalidTokenError";var Dd={debug:()=>{},info:()=>{},warn:()=>{},error:()=>{}},yt,St,Ys=(e=>(e[e.NONE=0]="NONE",e[e.ERROR=1]="ERROR",e[e.WARN=2]="WARN",e[e.INFO=3]="INFO",e[e.DEBUG=4]="DEBUG",e))(Ys||{});(e=>{function t(){yt=3,St=Dd}e.reset=t;function s(r){if(!(0<=r&&r<=4))throw new Error("Invalid log level");yt=r}e.setLevel=s;function n(r){St=r}e.setLogger=n})(Ys||(Ys={}));var Q=class{constructor(e){this._name=e}debug(...e){yt>=4&&St.debug(Q._format(this._name,this._method),...e)}info(...e){yt>=3&&St.info(Q._format(this._name,this._method),...e)}warn(...e){yt>=2&&St.warn(Q._format(this._name,this._method),...e)}error(...e){yt>=1&&St.error(Q._format(this._name,this._method),...e)}throw(e){throw this.error(e),e}create(e){const t=Object.create(this);return t._method=e,t.debug("begin"),t}static createStatic(e,t){const s=new Q(`${e}.${t}`);return s.debug("begin"),s}static _format(e,t){const s=`[${e}]`;return t?`${s} ${t}:`:s}static debug(e,...t){yt>=4&&St.debug(Q._format(e),...t)}static info(e,...t){yt>=3&&St.info(Q._format(e),...t)}static warn(e,...t){yt>=2&&St.warn(Q._format(e),...t)}static error(e,...t){yt>=1&&St.error(Q._format(e),...t)}};Ys.reset();var Hd="10000000-1000-4000-8000-100000000000",Tt=class{static _randomWord(){return Td.lib.WordArray.random(1).words[0]}static generateUUIDv4(){return Hd.replace(/[018]/g,t=>(+t^Tt._randomWord()&15>>+t/4).toString(16)).replace(/-/g,"")}static generateCodeVerifier(){return Tt.generateUUIDv4()+Tt.generateUUIDv4()+Tt.generateUUIDv4()}static generateCodeChallenge(e){try{const t=Ad(e);return aa.stringify(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}catch(t){throw Q.error("CryptoUtils.generateCodeChallenge",t),t}}static generateBasicAuth(e,t){const s=$d.parse([e,t].join(":"));return aa.stringify(s)}},Gt=class{constructor(t){this._name=t,this._logger=new Q(`Event('${this._name}')`),this._callbacks=[]}addHandler(t){return this._callbacks.push(t),()=>this.removeHandler(t)}removeHandler(t){const s=this._callbacks.lastIndexOf(t);s>=0&&this._callbacks.splice(s,1)}raise(...t){this._logger.debug("raise:",...t);for(const s of this._callbacks)s(...t)}},Di=class{static decode(e){try{return Ml(e)}catch(t){throw Q.error("JwtUtils.decode",t),t}}},ua=class{static center({...e}){var t,s,n;return e.width==null&&(e.width=(t=[800,720,600,480].find(r=>r<=window.outerWidth/1.618))!=null?t:360),(s=e.left)!=null||(e.left=Math.max(0,Math.round(window.screenX+(window.outerWidth-e.width)/2))),e.height!=null&&((n=e.top)!=null||(e.top=Math.max(0,Math.round(window.screenY+(window.outerHeight-e.height)/2)))),e}static serialize(e){return Object.entries(e).filter(([,t])=>t!=null).map(([t,s])=>`${t}=${typeof s!="boolean"?s:s?"yes":"no"}`).join(",")}},at=class extends Gt{constructor(){super(...arguments),this._logger=new Q(`Timer('${this._name}')`),this._timerHandle=null,this._expiration=0,this._callback=()=>{const e=this._expiration-at.getEpochTime();this._logger.debug("timer completes in",e),this._expiration<=at.getEpochTime()&&(this.cancel(),super.raise())}}static getEpochTime(){return Math.floor(Date.now()/1e3)}init(e){const t=this._logger.create("init");e=Math.max(Math.floor(e),1);const s=at.getEpochTime()+e;if(this.expiration===s&&this._timerHandle){t.debug("skipping since already initialized for expiration at",this.expiration);return}this.cancel(),t.debug("using duration",e),this._expiration=s;const n=Math.min(e,5);this._timerHandle=setInterval(this._callback,n*1e3)}get expiration(){return this._expiration}cancel(){this._logger.create("cancel"),this._timerHandle&&(clearInterval(this._timerHandle),this._timerHandle=null)}},Hi=class{static readParams(e,t="query"){if(!e)throw new TypeError("Invalid URL");const n=new URL(e,"http://127.0.0.1")[t==="fragment"?"hash":"search"];return new URLSearchParams(n.slice(1))}},qi=";",vs=class extends Error{constructor(e,t){var s,n,r;if(super(e.error_description||e.error||""),this.form=t,this.name="ErrorResponse",!e.error)throw Q.error("ErrorResponse","No error passed"),new Error("No error passed");this.error=e.error,this.error_description=(s=e.error_description)!=null?s:null,this.error_uri=(n=e.error_uri)!=null?n:null,this.state=e.userState,this.session_state=(r=e.session_state)!=null?r:null,this.url_state=e.url_state}},bo=class extends Error{constructor(e){super(e),this.name="ErrorTimeout"}},qd=class{constructor(e){this._logger=new Q("AccessTokenEvents"),this._expiringTimer=new at("Access token expiring"),this._expiredTimer=new at("Access token expired"),this._expiringNotificationTimeInSeconds=e.expiringNotificationTimeInSeconds}load(e){const t=this._logger.create("load");if(e.access_token&&e.expires_in!==void 0){const s=e.expires_in;if(t.debug("access token present, remaining duration:",s),s>0){let r=s-this._expiringNotificationTimeInSeconds;r<=0&&(r=1),t.debug("registering expiring timer, raising in",r,"seconds"),this._expiringTimer.init(r)}else t.debug("canceling existing expiring timer because we're past expiration."),this._expiringTimer.cancel();const n=s+1;t.debug("registering expired timer, raising in",n,"seconds"),this._expiredTimer.init(n)}else this._expiringTimer.cancel(),this._expiredTimer.cancel()}unload(){this._logger.debug("unload: canceling existing access token timers"),this._expiringTimer.cancel(),this._expiredTimer.cancel()}addAccessTokenExpiring(e){return this._expiringTimer.addHandler(e)}removeAccessTokenExpiring(e){this._expiringTimer.removeHandler(e)}addAccessTokenExpired(e){return this._expiredTimer.addHandler(e)}removeAccessTokenExpired(e){this._expiredTimer.removeHandler(e)}},Fd=class{constructor(e,t,s,n,r){this._callback=e,this._client_id=t,this._intervalInSeconds=n,this._stopOnError=r,this._logger=new Q("CheckSessionIFrame"),this._timer=null,this._session_state=null,this._message=o=>{o.origin===this._frame_origin&&o.source===this._frame.contentWindow&&(o.data==="error"?(this._logger.error("error message from check session op iframe"),this._stopOnError&&this.stop()):o.data==="changed"?(this._logger.debug("changed message from check session op iframe"),this.stop(),this._callback()):this._logger.debug(o.data+" message from check session op iframe"))};const i=new URL(s);this._frame_origin=i.origin,this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="fixed",this._frame.style.left="-1000px",this._frame.style.top="0",this._frame.width="0",this._frame.height="0",this._frame.src=i.href}load(){return new Promise(e=>{this._frame.onload=()=>{e()},window.document.body.appendChild(this._frame),window.addEventListener("message",this._message,!1)})}start(e){if(this._session_state===e)return;this._logger.create("start"),this.stop(),this._session_state=e;const t=()=>{!this._frame.contentWindow||!this._session_state||this._frame.contentWindow.postMessage(this._client_id+" "+this._session_state,this._frame_origin)};t(),this._timer=setInterval(t,this._intervalInSeconds*1e3)}stop(){this._logger.create("stop"),this._session_state=null,this._timer&&(clearInterval(this._timer),this._timer=null)}},vo=class{constructor(){this._logger=new Q("InMemoryWebStorage"),this._data={}}clear(){this._logger.create("clear"),this._data={}}getItem(e){return this._logger.create(`getItem('${e}')`),this._data[e]}setItem(e,t){this._logger.create(`setItem('${e}')`),this._data[e]=t}removeItem(e){this._logger.create(`removeItem('${e}')`),delete this._data[e]}get length(){return Object.getOwnPropertyNames(this._data).length}key(e){return Object.getOwnPropertyNames(this._data)[e]}},yo=class{constructor(e=[],t=null,s={}){this._jwtHandler=t,this._extraHeaders=s,this._logger=new Q("JsonService"),this._contentTypes=[],this._contentTypes.push(...e,"application/json"),t&&this._contentTypes.push("application/jwt")}async fetchWithTimeout(e,t={}){const{timeoutInSeconds:s,...n}=t;if(!s)return await fetch(e,n);const r=new AbortController,i=setTimeout(()=>r.abort(),s*1e3);try{return await fetch(e,{...t,signal:r.signal})}catch(o){throw o instanceof DOMException&&o.name==="AbortError"?new bo("Network timed out"):o}finally{clearTimeout(i)}}async getJson(e,{token:t,credentials:s}={}){const n=this._logger.create("getJson"),r={Accept:this._contentTypes.join(", ")};t&&(n.debug("token passed, setting Authorization header"),r.Authorization="Bearer "+t),this.appendExtraHeaders(r);let i;try{n.debug("url:",e),i=await this.fetchWithTimeout(e,{method:"GET",headers:r,credentials:s})}catch(l){throw n.error("Network Error"),l}n.debug("HTTP response received, status",i.status);const o=i.headers.get("Content-Type");if(o&&!this._contentTypes.find(l=>o.startsWith(l))&&n.throw(new Error(`Invalid response Content-Type: ${o??"undefined"}, from URL: ${e}`)),i.ok&&this._jwtHandler&&(o!=null&&o.startsWith("application/jwt")))return await this._jwtHandler(await i.text());let a;try{a=await i.json()}catch(l){throw n.error("Error parsing JSON response",l),i.ok?l:new Error(`${i.statusText} (${i.status})`)}if(!i.ok)throw n.error("Error from server:",a),a.error?new vs(a):new Error(`${i.statusText} (${i.status}): ${JSON.stringify(a)}`);return a}async postForm(e,{body:t,basicAuth:s,timeoutInSeconds:n,initCredentials:r}){const i=this._logger.create("postForm"),o={Accept:this._contentTypes.join(", "),"Content-Type":"application/x-www-form-urlencoded"};s!==void 0&&(o.Authorization="Basic "+s),this.appendExtraHeaders(o);let a;try{i.debug("url:",e),a=await this.fetchWithTimeout(e,{method:"POST",headers:o,body:t,timeoutInSeconds:n,credentials:r})}catch(d){throw i.error("Network error"),d}i.debug("HTTP response received, status",a.status);const l=a.headers.get("Content-Type");if(l&&!this._contentTypes.find(d=>l.startsWith(d)))throw new Error(`Invalid response Content-Type: ${l??"undefined"}, from URL: ${e}`);const c=await a.text();let u={};if(c)try{u=JSON.parse(c)}catch(d){throw i.error("Error parsing JSON response",d),a.ok?d:new Error(`${a.statusText} (${a.status})`)}if(!a.ok)throw i.error("Error from server:",u),u.error?new vs(u,t):new Error(`${a.statusText} (${a.status}): ${JSON.stringify(u)}`);return u}appendExtraHeaders(e){const t=this._logger.create("appendExtraHeaders"),s=Object.keys(this._extraHeaders),n=["authorization","accept","content-type"];s.length!==0&&s.forEach(r=>{if(n.includes(r.toLocaleLowerCase())){t.warn("Protected header could not be overridden",r,n);return}const i=typeof this._extraHeaders[r]=="function"?this._extraHeaders[r]():this._extraHeaders[r];i&&i!==""&&(e[r]=i)})}},Bd=class{constructor(e){this._settings=e,this._logger=new Q("MetadataService"),this._signingKeys=null,this._metadata=null,this._metadataUrl=this._settings.metadataUrl,this._jsonService=new yo(["application/jwk-set+json"],null,this._settings.extraHeaders),this._settings.signingKeys&&(this._logger.debug("using signingKeys from settings"),this._signingKeys=this._settings.signingKeys),this._settings.metadata&&(this._logger.debug("using metadata from settings"),this._metadata=this._settings.metadata),this._settings.fetchRequestCredentials&&(this._logger.debug("using fetchRequestCredentials from settings"),this._fetchRequestCredentials=this._settings.fetchRequestCredentials)}resetSigningKeys(){this._signingKeys=null}async getMetadata(){const e=this._logger.create("getMetadata");if(this._metadata)return e.debug("using cached values"),this._metadata;if(!this._metadataUrl)throw e.throw(new Error("No authority or metadataUrl configured on settings")),null;e.debug("getting metadata from",this._metadataUrl);const t=await this._jsonService.getJson(this._metadataUrl,{credentials:this._fetchRequestCredentials});return e.debug("merging remote JSON with seed metadata"),this._metadata=Object.assign({},this._settings.metadataSeed,t),this._metadata}getIssuer(){return this._getMetadataProperty("issuer")}getAuthorizationEndpoint(){return this._getMetadataProperty("authorization_endpoint")}getUserInfoEndpoint(){return this._getMetadataProperty("userinfo_endpoint")}getTokenEndpoint(e=!0){return this._getMetadataProperty("token_endpoint",e)}getCheckSessionIframe(){return this._getMetadataProperty("check_session_iframe",!0)}getEndSessionEndpoint(){return this._getMetadataProperty("end_session_endpoint",!0)}getRevocationEndpoint(e=!0){return this._getMetadataProperty("revocation_endpoint",e)}getKeysEndpoint(e=!0){return this._getMetadataProperty("jwks_uri",e)}async _getMetadataProperty(e,t=!1){const s=this._logger.create(`_getMetadataProperty('${e}')`),n=await this.getMetadata();if(s.debug("resolved"),n[e]===void 0){if(t===!0){s.warn("Metadata does not contain optional property");return}s.throw(new Error("Metadata does not contain property "+e))}return n[e]}async getSigningKeys(){const e=this._logger.create("getSigningKeys");if(this._signingKeys)return e.debug("returning signingKeys from cache"),this._signingKeys;const t=await this.getKeysEndpoint(!1);e.debug("got jwks_uri",t);const s=await this._jsonService.getJson(t);if(e.debug("got key set",s),!Array.isArray(s.keys))throw e.throw(new Error("Missing keys on keyset")),null;return this._signingKeys=s.keys,this._signingKeys}},So=class{constructor({prefix:e="oidc.",store:t=localStorage}={}){this._logger=new Q("WebStorageStateStore"),this._store=t,this._prefix=e}async set(e,t){this._logger.create(`set('${e}')`),e=this._prefix+e,await this._store.setItem(e,t)}async get(e){return this._logger.create(`get('${e}')`),e=this._prefix+e,await this._store.getItem(e)}async remove(e){this._logger.create(`remove('${e}')`),e=this._prefix+e;const t=await this._store.getItem(e);return await this._store.removeItem(e),t}async getAllKeys(){this._logger.create("getAllKeys");const e=await this._store.length,t=[];for(let s=0;s<e;s++){const n=await this._store.key(s);n&&n.indexOf(this._prefix)===0&&t.push(n.substr(this._prefix.length))}return t}},Wd="code",zd="openid",Vd="client_secret_post",Kd="query",Gd=60*15,Jd=60*5,Fi=class{constructor({authority:e,metadataUrl:t,metadata:s,signingKeys:n,metadataSeed:r,client_id:i,client_secret:o,response_type:a=Wd,scope:l=zd,redirect_uri:c,post_logout_redirect_uri:u,client_authentication:d=Vd,prompt:f,display:p,max_age:w,ui_locales:_,acr_values:y,resource:P,response_mode:m=Kd,filterProtocolClaims:v=!0,loadUserInfo:x=!1,staleStateAgeInSeconds:A=Gd,clockSkewInSeconds:D=Jd,userInfoJwtIssuer:U="OP",mergeClaims:q=!1,disablePKCE:I=!1,stateStore:se,refreshTokenCredentials:ne,revokeTokenAdditionalContentTypes:ce,fetchRequestCredentials:ve,refreshTokenAllowedScope:We,extraQueryParams:Pe={},extraTokenParams:de={},extraHeaders:ee={}}){if(this.authority=e,t?this.metadataUrl=t:(this.metadataUrl=e,e&&(this.metadataUrl.endsWith("/")||(this.metadataUrl+="/"),this.metadataUrl+=".well-known/openid-configuration")),this.metadata=s,this.metadataSeed=r,this.signingKeys=n,this.client_id=i,this.client_secret=o,this.response_type=a,this.scope=l,this.redirect_uri=c,this.post_logout_redirect_uri=u,this.client_authentication=d,this.prompt=f,this.display=p,this.max_age=w,this.ui_locales=_,this.acr_values=y,this.resource=P,this.response_mode=m,this.filterProtocolClaims=v??!0,this.loadUserInfo=!!x,this.staleStateAgeInSeconds=A,this.clockSkewInSeconds=D,this.userInfoJwtIssuer=U,this.mergeClaims=!!q,this.disablePKCE=!!I,this.revokeTokenAdditionalContentTypes=ce,ve&&ne&&console.warn("Both fetchRequestCredentials and refreshTokenCredentials is set. Only fetchRequestCredentials will be used."),this.fetchRequestCredentials=ve||ne||"same-origin",se)this.stateStore=se;else{const te=typeof window<"u"?window.localStorage:new vo;this.stateStore=new So({store:te})}this.refreshTokenAllowedScope=We,this.extraQueryParams=Pe,this.extraTokenParams=de,this.extraHeaders=ee}},Xd=class{constructor(e,t){this._settings=e,this._metadataService=t,this._logger=new Q("UserInfoService"),this._getClaimsFromJwt=async s=>{const n=this._logger.create("_getClaimsFromJwt");try{const r=Di.decode(s);return n.debug("JWT decoding successful"),r}catch(r){throw n.error("Error parsing JWT response"),r}},this._jsonService=new yo(void 0,this._getClaimsFromJwt,this._settings.extraHeaders)}async getClaims(e){const t=this._logger.create("getClaims");e||this._logger.throw(new Error("No token passed"));const s=await this._metadataService.getUserInfoEndpoint();t.debug("got userinfo url",s);const n=await this._jsonService.getJson(s,{token:e,credentials:this._settings.fetchRequestCredentials});return t.debug("got claims",n),n}},Dl=class{constructor(e,t){this._settings=e,this._metadataService=t,this._logger=new Q("TokenClient"),this._jsonService=new yo(this._settings.revokeTokenAdditionalContentTypes,null,this._settings.extraHeaders)}async exchangeCode({grant_type:e="authorization_code",redirect_uri:t=this._settings.redirect_uri,client_id:s=this._settings.client_id,client_secret:n=this._settings.client_secret,...r}){const i=this._logger.create("exchangeCode");s||i.throw(new Error("A client_id is required")),t||i.throw(new Error("A redirect_uri is required")),r.code||i.throw(new Error("A code is required"));const o=new URLSearchParams({grant_type:e,redirect_uri:t});for(const[u,d]of Object.entries(r))d!=null&&o.set(u,d);let a;switch(this._settings.client_authentication){case"client_secret_basic":if(!n)throw i.throw(new Error("A client_secret is required")),null;a=Tt.generateBasicAuth(s,n);break;case"client_secret_post":o.append("client_id",s),n&&o.append("client_secret",n);break}const l=await this._metadataService.getTokenEndpoint(!1);i.debug("got token endpoint");const c=await this._jsonService.postForm(l,{body:o,basicAuth:a,initCredentials:this._settings.fetchRequestCredentials});return i.debug("got response"),c}async exchangeCredentials({grant_type:e="password",client_id:t=this._settings.client_id,client_secret:s=this._settings.client_secret,scope:n=this._settings.scope,...r}){const i=this._logger.create("exchangeCredentials");t||i.throw(new Error("A client_id is required"));const o=new URLSearchParams({grant_type:e,scope:n});for(const[u,d]of Object.entries(r))d!=null&&o.set(u,d);let a;switch(this._settings.client_authentication){case"client_secret_basic":if(!s)throw i.throw(new Error("A client_secret is required")),null;a=Tt.generateBasicAuth(t,s);break;case"client_secret_post":o.append("client_id",t),s&&o.append("client_secret",s);break}const l=await this._metadataService.getTokenEndpoint(!1);i.debug("got token endpoint");const c=await this._jsonService.postForm(l,{body:o,basicAuth:a,initCredentials:this._settings.fetchRequestCredentials});return i.debug("got response"),c}async exchangeRefreshToken({grant_type:e="refresh_token",client_id:t=this._settings.client_id,client_secret:s=this._settings.client_secret,timeoutInSeconds:n,...r}){const i=this._logger.create("exchangeRefreshToken");t||i.throw(new Error("A client_id is required")),r.refresh_token||i.throw(new Error("A refresh_token is required"));const o=new URLSearchParams({grant_type:e});for(const[u,d]of Object.entries(r))Array.isArray(d)?d.forEach(f=>o.append(u,f)):d!=null&&o.set(u,d);let a;switch(this._settings.client_authentication){case"client_secret_basic":if(!s)throw i.throw(new Error("A client_secret is required")),null;a=Tt.generateBasicAuth(t,s);break;case"client_secret_post":o.append("client_id",t),s&&o.append("client_secret",s);break}const l=await this._metadataService.getTokenEndpoint(!1);i.debug("got token endpoint");const c=await this._jsonService.postForm(l,{body:o,basicAuth:a,timeoutInSeconds:n,initCredentials:this._settings.fetchRequestCredentials});return i.debug("got response"),c}async revoke(e){var t;const s=this._logger.create("revoke");e.token||s.throw(new Error("A token is required"));const n=await this._metadataService.getRevocationEndpoint(!1);s.debug(`got revocation endpoint, revoking ${(t=e.token_type_hint)!=null?t:"default token type"}`);const r=new URLSearchParams;for(const[i,o]of Object.entries(e))o!=null&&r.set(i,o);r.set("client_id",this._settings.client_id),this._settings.client_secret&&r.set("client_secret",this._settings.client_secret),await this._jsonService.postForm(n,{body:r}),s.debug("got response")}},Qd=class{constructor(e,t,s){this._settings=e,this._metadataService=t,this._claimsService=s,this._logger=new Q("ResponseValidator"),this._userInfoService=new Xd(this._settings,this._metadataService),this._tokenClient=new Dl(this._settings,this._metadataService)}async validateSigninResponse(e,t){const s=this._logger.create("validateSigninResponse");this._processSigninState(e,t),s.debug("state processed"),await this._processCode(e,t),s.debug("code processed"),e.isOpenId&&this._validateIdTokenAttributes(e),s.debug("tokens validated"),await this._processClaims(e,t==null?void 0:t.skipUserInfo,e.isOpenId),s.debug("claims processed")}async validateCredentialsResponse(e,t){const s=this._logger.create("validateCredentialsResponse");e.isOpenId&&e.id_token&&this._validateIdTokenAttributes(e),s.debug("tokens validated"),await this._processClaims(e,t,e.isOpenId),s.debug("claims processed")}async validateRefreshResponse(e,t){var s,n;const r=this._logger.create("validateRefreshResponse");e.userState=t.data,(s=e.session_state)!=null||(e.session_state=t.session_state),(n=e.scope)!=null||(e.scope=t.scope),e.isOpenId&&e.id_token&&(this._validateIdTokenAttributes(e,t.id_token),r.debug("ID Token validated")),e.id_token||(e.id_token=t.id_token,e.profile=t.profile);const i=e.isOpenId&&!!e.id_token;await this._processClaims(e,!1,i),r.debug("claims processed")}validateSignoutResponse(e,t){const s=this._logger.create("validateSignoutResponse");if(t.id!==e.state&&s.throw(new Error("State does not match")),s.debug("state validated"),e.userState=t.data,e.error)throw s.warn("Response was error",e.error),new vs(e)}_processSigninState(e,t){var s;const n=this._logger.create("_processSigninState");if(t.id!==e.state&&n.throw(new Error("State does not match")),t.client_id||n.throw(new Error("No client_id on state")),t.authority||n.throw(new Error("No authority on state")),this._settings.authority!==t.authority&&n.throw(new Error("authority mismatch on settings vs. signin state")),this._settings.client_id&&this._settings.client_id!==t.client_id&&n.throw(new Error("client_id mismatch on settings vs. signin state")),n.debug("state validated"),e.userState=t.data,e.url_state=t.url_state,(s=e.scope)!=null||(e.scope=t.scope),e.error)throw n.warn("Response was error",e.error),new vs(e);t.code_verifier&&!e.code&&n.throw(new Error("Expected code in response"))}async _processClaims(e,t=!1,s=!0){const n=this._logger.create("_processClaims");if(e.profile=this._claimsService.filterProtocolClaims(e.profile),t||!this._settings.loadUserInfo||!e.access_token){n.debug("not loading user info");return}n.debug("loading user info");const r=await this._userInfoService.getClaims(e.access_token);n.debug("user info claims received from user info endpoint"),s&&r.sub!==e.profile.sub&&n.throw(new Error("subject from UserInfo response does not match subject in ID Token")),e.profile=this._claimsService.mergeClaims(e.profile,this._claimsService.filterProtocolClaims(r)),n.debug("user info claims received, updated profile:",e.profile)}async _processCode(e,t){const s=this._logger.create("_processCode");if(e.code){s.debug("Validating code");const n=await this._tokenClient.exchangeCode({client_id:t.client_id,client_secret:t.client_secret,code:e.code,redirect_uri:t.redirect_uri,code_verifier:t.code_verifier,...t.extraTokenParams});Object.assign(e,n)}else s.debug("No code to process")}_validateIdTokenAttributes(e,t){var s;const n=this._logger.create("_validateIdTokenAttributes");n.debug("decoding ID Token JWT");const r=Di.decode((s=e.id_token)!=null?s:"");if(r.sub||n.throw(new Error("ID Token is missing a subject claim")),t){const i=Di.decode(t);r.sub!==i.sub&&n.throw(new Error("sub in id_token does not match current sub")),r.auth_time&&r.auth_time!==i.auth_time&&n.throw(new Error("auth_time in id_token does not match original auth_time")),r.azp&&r.azp!==i.azp&&n.throw(new Error("azp in id_token does not match original azp")),!r.azp&&i.azp&&n.throw(new Error("azp not in id_token, but present in original id_token"))}e.profile=r}},Zs=class{constructor(e){this.id=e.id||Tt.generateUUIDv4(),this.data=e.data,e.created&&e.created>0?this.created=e.created:this.created=at.getEpochTime(),this.request_type=e.request_type,this.url_state=e.url_state}toStorageString(){return new Q("State").create("toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type,url_state:this.url_state})}static fromStorageString(e){return Q.createStatic("State","fromStorageString"),new Zs(JSON.parse(e))}static async clearStaleState(e,t){const s=Q.createStatic("State","clearStaleState"),n=at.getEpochTime()-t,r=await e.getAllKeys();s.debug("got keys",r);for(let i=0;i<r.length;i++){const o=r[i],a=await e.get(o);let l=!1;if(a)try{const c=Zs.fromStorageString(a);s.debug("got item from key:",o,c.created),c.created<=n&&(l=!0)}catch(c){s.error("Error parsing state for key:",o,c),l=!0}else s.debug("no item in storage for key:",o),l=!0;l&&(s.debug("removed item for key:",o),e.remove(o))}}},Eo=class extends Zs{constructor(e){super(e),e.code_verifier===!0?this.code_verifier=Tt.generateCodeVerifier():e.code_verifier&&(this.code_verifier=e.code_verifier),this.code_verifier&&(this.code_challenge=Tt.generateCodeChallenge(this.code_verifier)),this.authority=e.authority,this.client_id=e.client_id,this.redirect_uri=e.redirect_uri,this.scope=e.scope,this.client_secret=e.client_secret,this.extraTokenParams=e.extraTokenParams,this.response_mode=e.response_mode,this.skipUserInfo=e.skipUserInfo}toStorageString(){return new Q("SigninState").create("toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type,url_state:this.url_state,code_verifier:this.code_verifier,authority:this.authority,client_id:this.client_id,redirect_uri:this.redirect_uri,scope:this.scope,client_secret:this.client_secret,extraTokenParams:this.extraTokenParams,response_mode:this.response_mode,skipUserInfo:this.skipUserInfo})}static fromStorageString(e){Q.createStatic("SigninState","fromStorageString");const t=JSON.parse(e);return new Eo(t)}},Yd=class{constructor({url:e,authority:t,client_id:s,redirect_uri:n,response_type:r,scope:i,state_data:o,response_mode:a,request_type:l,client_secret:c,nonce:u,url_state:d,resource:f,skipUserInfo:p,extraQueryParams:w,extraTokenParams:_,disablePKCE:y,...P}){if(this._logger=new Q("SigninRequest"),!e)throw this._logger.error("ctor: No url passed"),new Error("url");if(!s)throw this._logger.error("ctor: No client_id passed"),new Error("client_id");if(!n)throw this._logger.error("ctor: No redirect_uri passed"),new Error("redirect_uri");if(!r)throw this._logger.error("ctor: No response_type passed"),new Error("response_type");if(!i)throw this._logger.error("ctor: No scope passed"),new Error("scope");if(!t)throw this._logger.error("ctor: No authority passed"),new Error("authority");this.state=new Eo({data:o,request_type:l,url_state:d,code_verifier:!y,client_id:s,authority:t,redirect_uri:n,response_mode:a,client_secret:c,scope:i,extraTokenParams:_,skipUserInfo:p});const m=new URL(e);m.searchParams.append("client_id",s),m.searchParams.append("redirect_uri",n),m.searchParams.append("response_type",r),m.searchParams.append("scope",i),u&&m.searchParams.append("nonce",u);let v=this.state.id;d&&(v=`${v}${qi}${d}`),m.searchParams.append("state",v),this.state.code_challenge&&(m.searchParams.append("code_challenge",this.state.code_challenge),m.searchParams.append("code_challenge_method","S256")),f&&(Array.isArray(f)?f:[f]).forEach(A=>m.searchParams.append("resource",A));for(const[x,A]of Object.entries({response_mode:a,...P,...w}))A!=null&&m.searchParams.append(x,A.toString());this.url=m.href}},Zd="openid",mi=class{constructor(e){if(this.access_token="",this.token_type="",this.profile={},this.state=e.get("state"),this.session_state=e.get("session_state"),this.state){const t=decodeURIComponent(this.state).split(qi);this.state=t[0],t.length>1&&(this.url_state=t.slice(1).join(qi))}this.error=e.get("error"),this.error_description=e.get("error_description"),this.error_uri=e.get("error_uri"),this.code=e.get("code")}get expires_in(){if(this.expires_at!==void 0)return this.expires_at-at.getEpochTime()}set expires_in(e){typeof e=="string"&&(e=Number(e)),e!==void 0&&e>=0&&(this.expires_at=Math.floor(e)+at.getEpochTime())}get isOpenId(){var e;return((e=this.scope)==null?void 0:e.split(" ").includes(Zd))||!!this.id_token}},ef=class{constructor({url:e,state_data:t,id_token_hint:s,post_logout_redirect_uri:n,extraQueryParams:r,request_type:i,client_id:o}){if(this._logger=new Q("SignoutRequest"),!e)throw this._logger.error("ctor: No url passed"),new Error("url");const a=new URL(e);s&&a.searchParams.append("id_token_hint",s),o&&a.searchParams.append("client_id",o),n&&(a.searchParams.append("post_logout_redirect_uri",n),t&&(this.state=new Zs({data:t,request_type:i}),a.searchParams.append("state",this.state.id)));for(const[l,c]of Object.entries({...r}))c!=null&&a.searchParams.append(l,c.toString());this.url=a.href}},tf=class{constructor(e){this.state=e.get("state"),this.error=e.get("error"),this.error_description=e.get("error_description"),this.error_uri=e.get("error_uri")}},sf=["nbf","jti","auth_time","nonce","acr","amr","azp","at_hash"],nf=["sub","iss","aud","exp","iat"],rf=class{constructor(e){this._settings=e,this._logger=new Q("ClaimsService")}filterProtocolClaims(e){const t={...e};if(this._settings.filterProtocolClaims){let s;Array.isArray(this._settings.filterProtocolClaims)?s=this._settings.filterProtocolClaims:s=sf;for(const n of s)nf.includes(n)||delete t[n]}return t}mergeClaims(e,t){const s={...e};for(const[n,r]of Object.entries(t))for(const i of Array.isArray(r)?r:[r]){const o=s[n];o===void 0?s[n]=i:Array.isArray(o)?o.includes(i)||o.push(i):s[n]!==i&&(typeof i=="object"&&this._settings.mergeClaims?s[n]=this.mergeClaims(o,i):s[n]=[o,i])}return s}},of=class{constructor(e,t){this._logger=new Q("OidcClient"),this.settings=e instanceof Fi?e:new Fi(e),this.metadataService=t??new Bd(this.settings),this._claimsService=new rf(this.settings),this._validator=new Qd(this.settings,this.metadataService,this._claimsService),this._tokenClient=new Dl(this.settings,this.metadataService)}async createSigninRequest({state:e,request:t,request_uri:s,request_type:n,id_token_hint:r,login_hint:i,skipUserInfo:o,nonce:a,url_state:l,response_type:c=this.settings.response_type,scope:u=this.settings.scope,redirect_uri:d=this.settings.redirect_uri,prompt:f=this.settings.prompt,display:p=this.settings.display,max_age:w=this.settings.max_age,ui_locales:_=this.settings.ui_locales,acr_values:y=this.settings.acr_values,resource:P=this.settings.resource,response_mode:m=this.settings.response_mode,extraQueryParams:v=this.settings.extraQueryParams,extraTokenParams:x=this.settings.extraTokenParams}){const A=this._logger.create("createSigninRequest");if(c!=="code")throw new Error("Only the Authorization Code flow (with PKCE) is supported");const D=await this.metadataService.getAuthorizationEndpoint();A.debug("Received authorization endpoint",D);const U=new Yd({url:D,authority:this.settings.authority,client_id:this.settings.client_id,redirect_uri:d,response_type:c,scope:u,state_data:e,url_state:l,prompt:f,display:p,max_age:w,ui_locales:_,id_token_hint:r,login_hint:i,acr_values:y,resource:P,request:t,request_uri:s,extraQueryParams:v,extraTokenParams:x,request_type:n,response_mode:m,client_secret:this.settings.client_secret,skipUserInfo:o,nonce:a,disablePKCE:this.settings.disablePKCE});await this.clearStaleState();const q=U.state;return await this.settings.stateStore.set(q.id,q.toStorageString()),U}async readSigninResponseState(e,t=!1){const s=this._logger.create("readSigninResponseState"),n=new mi(Hi.readParams(e,this.settings.response_mode));if(!n.state)throw s.throw(new Error("No state in response")),null;const r=await this.settings.stateStore[t?"remove":"get"](n.state);if(!r)throw s.throw(new Error("No matching state found in storage")),null;return{state:Eo.fromStorageString(r),response:n}}async processSigninResponse(e){const t=this._logger.create("processSigninResponse"),{state:s,response:n}=await this.readSigninResponseState(e,!0);return t.debug("received state from storage; validating response"),await this._validator.validateSigninResponse(n,s),n}async processResourceOwnerPasswordCredentials({username:e,password:t,skipUserInfo:s=!1,extraTokenParams:n={}}){const r=await this._tokenClient.exchangeCredentials({username:e,password:t,...n}),i=new mi(new URLSearchParams);return Object.assign(i,r),await this._validator.validateCredentialsResponse(i,s),i}async useRefreshToken({state:e,timeoutInSeconds:t}){var s;const n=this._logger.create("useRefreshToken");let r;if(this.settings.refreshTokenAllowedScope===void 0)r=e.scope;else{const a=this.settings.refreshTokenAllowedScope.split(" ");r=(((s=e.scope)==null?void 0:s.split(" "))||[]).filter(c=>a.includes(c)).join(" ")}const i=await this._tokenClient.exchangeRefreshToken({refresh_token:e.refresh_token,resource:e.resource,scope:r,timeoutInSeconds:t}),o=new mi(new URLSearchParams);return Object.assign(o,i),n.debug("validating response",o),await this._validator.validateRefreshResponse(o,{...e,scope:r}),o}async createSignoutRequest({state:e,id_token_hint:t,client_id:s,request_type:n,post_logout_redirect_uri:r=this.settings.post_logout_redirect_uri,extraQueryParams:i=this.settings.extraQueryParams}={}){const o=this._logger.create("createSignoutRequest"),a=await this.metadataService.getEndSessionEndpoint();if(!a)throw o.throw(new Error("No end session endpoint")),null;o.debug("Received end session endpoint",a),!s&&r&&!t&&(s=this.settings.client_id);const l=new ef({url:a,id_token_hint:t,client_id:s,post_logout_redirect_uri:r,state_data:e,extraQueryParams:i,request_type:n});await this.clearStaleState();const c=l.state;return c&&(o.debug("Signout request has state to persist"),await this.settings.stateStore.set(c.id,c.toStorageString())),l}async readSignoutResponseState(e,t=!1){const s=this._logger.create("readSignoutResponseState"),n=new tf(Hi.readParams(e,this.settings.response_mode));if(!n.state){if(s.debug("No state in response"),n.error)throw s.warn("Response was error:",n.error),new vs(n);return{state:void 0,response:n}}const r=await this.settings.stateStore[t?"remove":"get"](n.state);if(!r)throw s.throw(new Error("No matching state found in storage")),null;return{state:Zs.fromStorageString(r),response:n}}async processSignoutResponse(e){const t=this._logger.create("processSignoutResponse"),{state:s,response:n}=await this.readSignoutResponseState(e,!0);return s?(t.debug("Received state from storage; validating response"),this._validator.validateSignoutResponse(n,s)):t.debug("No state from storage; skipping response validation"),n}clearStaleState(){return this._logger.create("clearStaleState"),Zs.clearStaleState(this.settings.stateStore,this.settings.staleStateAgeInSeconds)}async revokeToken(e,t){return this._logger.create("revokeToken"),await this._tokenClient.revoke({token:e,token_type_hint:t})}},af=class{constructor(e){this._userManager=e,this._logger=new Q("SessionMonitor"),this._start=async t=>{const s=t.session_state;if(!s)return;const n=this._logger.create("_start");if(t.profile?(this._sub=t.profile.sub,this._sid=t.profile.sid,n.debug("session_state",s,", sub",this._sub)):(this._sub=void 0,this._sid=void 0,n.debug("session_state",s,", anonymous user")),this._checkSessionIFrame){this._checkSessionIFrame.start(s);return}try{const r=await this._userManager.metadataService.getCheckSessionIframe();if(r){n.debug("initializing check session iframe");const i=this._userManager.settings.client_id,o=this._userManager.settings.checkSessionIntervalInSeconds,a=this._userManager.settings.stopCheckSessionOnError,l=new Fd(this._callback,i,r,o,a);await l.load(),this._checkSessionIFrame=l,l.start(s)}else n.warn("no check session iframe found in the metadata")}catch(r){n.error("Error from getCheckSessionIframe:",r instanceof Error?r.message:r)}},this._stop=()=>{const t=this._logger.create("_stop");if(this._sub=void 0,this._sid=void 0,this._checkSessionIFrame&&this._checkSessionIFrame.stop(),this._userManager.settings.monitorAnonymousSession){const s=setInterval(async()=>{clearInterval(s);try{const n=await this._userManager.querySessionStatus();if(n){const r={session_state:n.session_state,profile:n.sub&&n.sid?{sub:n.sub,sid:n.sid}:null};this._start(r)}}catch(n){t.error("error from querySessionStatus",n instanceof Error?n.message:n)}},1e3)}},this._callback=async()=>{const t=this._logger.create("_callback");try{const s=await this._userManager.querySessionStatus();let n=!0;s&&this._checkSessionIFrame?s.sub===this._sub?(n=!1,this._checkSessionIFrame.start(s.session_state),s.sid===this._sid?t.debug("same sub still logged in at OP, restarting check session iframe; session_state",s.session_state):(t.debug("same sub still logged in at OP, session state has changed, restarting check session iframe; session_state",s.session_state),this._userManager.events._raiseUserSessionChanged())):t.debug("different subject signed into OP",s.sub):t.debug("subject no longer signed into OP"),n?this._sub?this._userManager.events._raiseUserSignedOut():this._userManager.events._raiseUserSignedIn():t.debug("no change in session detected, no event to raise")}catch(s){this._sub&&(t.debug("Error calling queryCurrentSigninSession; raising signed out event",s),this._userManager.events._raiseUserSignedOut())}},e||this._logger.throw(new Error("No user manager passed")),this._userManager.events.addUserLoaded(this._start),this._userManager.events.addUserUnloaded(this._stop),this._init().catch(t=>{this._logger.error(t)})}async _init(){this._logger.create("_init");const e=await this._userManager.getUser();if(e)this._start(e);else if(this._userManager.settings.monitorAnonymousSession){const t=await this._userManager.querySessionStatus();if(t){const s={session_state:t.session_state,profile:t.sub&&t.sid?{sub:t.sub,sid:t.sid}:null};this._start(s)}}}},_r=class{constructor(e){var t;this.id_token=e.id_token,this.session_state=(t=e.session_state)!=null?t:null,this.access_token=e.access_token,this.refresh_token=e.refresh_token,this.token_type=e.token_type,this.scope=e.scope,this.profile=e.profile,this.expires_at=e.expires_at,this.state=e.userState,this.url_state=e.url_state}get expires_in(){if(this.expires_at!==void 0)return this.expires_at-at.getEpochTime()}set expires_in(e){e!==void 0&&(this.expires_at=Math.floor(e)+at.getEpochTime())}get expired(){const e=this.expires_in;if(e!==void 0)return e<=0}get scopes(){var e,t;return(t=(e=this.scope)==null?void 0:e.split(" "))!=null?t:[]}toStorageString(){return new Q("User").create("toStorageString"),JSON.stringify({id_token:this.id_token,session_state:this.session_state,access_token:this.access_token,refresh_token:this.refresh_token,token_type:this.token_type,scope:this.scope,profile:this.profile,expires_at:this.expires_at})}static fromStorageString(e){return Q.createStatic("User","fromStorageString"),new _r(JSON.parse(e))}},da="oidc-client",Hl=class{constructor(){this._abort=new Gt("Window navigation aborted"),this._disposeHandlers=new Set,this._window=null}async navigate(e){const t=this._logger.create("navigate");if(!this._window)throw new Error("Attempted to navigate on a disposed window");t.debug("setting URL in window"),this._window.location.replace(e.url);const{url:s,keepOpen:n}=await new Promise((r,i)=>{const o=a=>{var l;const c=a.data,u=(l=e.scriptOrigin)!=null?l:window.location.origin;if(!(a.origin!==u||(c==null?void 0:c.source)!==da)){try{const d=Hi.readParams(c.url,e.response_mode).get("state");if(d||t.warn("no state found in response url"),a.source!==this._window&&d!==e.state)return}catch{this._dispose(),i(new Error("Invalid response from window"))}r(c)}};window.addEventListener("message",o,!1),this._disposeHandlers.add(()=>window.removeEventListener("message",o,!1)),this._disposeHandlers.add(this._abort.addHandler(a=>{this._dispose(),i(a)}))});return t.debug("got response from window"),this._dispose(),n||this.close(),{url:s}}_dispose(){this._logger.create("_dispose");for(const e of this._disposeHandlers)e();this._disposeHandlers.clear()}static _notifyParent(e,t,s=!1,n=window.location.origin){e.postMessage({source:da,url:t,keepOpen:s},n)}},ql={location:!1,toolbar:!1,height:640,closePopupWindowAfterInSeconds:-1},Fl="_blank",lf=60,cf=2,Bl=10,uf=class extends Fi{constructor(e){const{popup_redirect_uri:t=e.redirect_uri,popup_post_logout_redirect_uri:s=e.post_logout_redirect_uri,popupWindowFeatures:n=ql,popupWindowTarget:r=Fl,redirectMethod:i="assign",redirectTarget:o="self",iframeNotifyParentOrigin:a=e.iframeNotifyParentOrigin,iframeScriptOrigin:l=e.iframeScriptOrigin,silent_redirect_uri:c=e.redirect_uri,silentRequestTimeoutInSeconds:u=Bl,automaticSilentRenew:d=!0,validateSubOnSilentRenew:f=!0,includeIdTokenInSilentRenew:p=!1,monitorSession:w=!1,monitorAnonymousSession:_=!1,checkSessionIntervalInSeconds:y=cf,query_status_response_type:P="code",stopCheckSessionOnError:m=!0,revokeTokenTypes:v=["access_token","refresh_token"],revokeTokensOnSignout:x=!1,includeIdTokenInSilentSignout:A=!1,accessTokenExpiringNotificationTimeInSeconds:D=lf,userStore:U}=e;if(super(e),this.popup_redirect_uri=t,this.popup_post_logout_redirect_uri=s,this.popupWindowFeatures=n,this.popupWindowTarget=r,this.redirectMethod=i,this.redirectTarget=o,this.iframeNotifyParentOrigin=a,this.iframeScriptOrigin=l,this.silent_redirect_uri=c,this.silentRequestTimeoutInSeconds=u,this.automaticSilentRenew=d,this.validateSubOnSilentRenew=f,this.includeIdTokenInSilentRenew=p,this.monitorSession=w,this.monitorAnonymousSession=_,this.checkSessionIntervalInSeconds=y,this.stopCheckSessionOnError=m,this.query_status_response_type=P,this.revokeTokenTypes=v,this.revokeTokensOnSignout=x,this.includeIdTokenInSilentSignout=A,this.accessTokenExpiringNotificationTimeInSeconds=D,U)this.userStore=U;else{const q=typeof window<"u"?window.sessionStorage:new vo;this.userStore=new So({store:q})}}},Bi=class extends Hl{constructor({silentRequestTimeoutInSeconds:e=Bl}){super(),this._logger=new Q("IFrameWindow"),this._timeoutInSeconds=e,this._frame=Bi.createHiddenIframe(),this._window=this._frame.contentWindow}static createHiddenIframe(){const e=window.document.createElement("iframe");return e.style.visibility="hidden",e.style.position="fixed",e.style.left="-1000px",e.style.top="0",e.width="0",e.height="0",window.document.body.appendChild(e),e}async navigate(e){this._logger.debug("navigate: Using timeout of:",this._timeoutInSeconds);const t=setTimeout(()=>this._abort.raise(new bo("IFrame timed out without a response")),this._timeoutInSeconds*1e3);return this._disposeHandlers.add(()=>clearTimeout(t)),await super.navigate(e)}close(){var e;this._frame&&(this._frame.parentNode&&(this._frame.addEventListener("load",t=>{var s;const n=t.target;(s=n.parentNode)==null||s.removeChild(n),this._abort.raise(new Error("IFrame removed from DOM"))},!0),(e=this._frame.contentWindow)==null||e.location.replace("about:blank")),this._frame=null),this._window=null}static notifyParent(e,t){return super._notifyParent(window.parent,e,!1,t)}},df=class{constructor(e){this._settings=e,this._logger=new Q("IFrameNavigator")}async prepare({silentRequestTimeoutInSeconds:e=this._settings.silentRequestTimeoutInSeconds}){return new Bi({silentRequestTimeoutInSeconds:e})}async callback(e){this._logger.create("callback"),Bi.notifyParent(e,this._settings.iframeNotifyParentOrigin)}},ff=500,hf=1e3,fa=class extends Hl{constructor({popupWindowTarget:e=Fl,popupWindowFeatures:t={}}){super(),this._logger=new Q("PopupWindow");const s=ua.center({...ql,...t});this._window=window.open(void 0,e,ua.serialize(s)),t.closePopupWindowAfterInSeconds&&t.closePopupWindowAfterInSeconds>0&&setTimeout(()=>{if(!this._window||typeof this._window.closed!="boolean"||this._window.closed){this._abort.raise(new Error("Popup blocked by user"));return}this.close()},t.closePopupWindowAfterInSeconds*hf)}async navigate(e){var t;(t=this._window)==null||t.focus();const s=setInterval(()=>{(!this._window||this._window.closed)&&this._abort.raise(new Error("Popup closed by user"))},ff);return this._disposeHandlers.add(()=>clearInterval(s)),await super.navigate(e)}close(){this._window&&(this._window.closed||(this._window.close(),this._abort.raise(new Error("Popup closed")))),this._window=null}static notifyOpener(e,t){if(!window.opener)throw new Error("No window.opener. Can't complete notification.");return super._notifyParent(window.opener,e,t)}},pf=class{constructor(e){this._settings=e,this._logger=new Q("PopupNavigator")}async prepare({popupWindowFeatures:e=this._settings.popupWindowFeatures,popupWindowTarget:t=this._settings.popupWindowTarget}){return new fa({popupWindowFeatures:e,popupWindowTarget:t})}async callback(e,{keepOpen:t=!1}){this._logger.create("callback"),fa.notifyOpener(e,t)}},gf=class{constructor(e){this._settings=e,this._logger=new Q("RedirectNavigator")}async prepare({redirectMethod:e=this._settings.redirectMethod,redirectTarget:t=this._settings.redirectTarget}){var s;this._logger.create("prepare");let n=window.self;t==="top"&&(n=(s=window.top)!=null?s:window.self);const r=n.location[e].bind(n.location);let i;return{navigate:async o=>{this._logger.create("navigate");const a=new Promise((l,c)=>{i=c});return r(o.url),await a},close:()=>{this._logger.create("close"),i==null||i(new Error("Redirect aborted")),n.stop()}}}async callback(){}},mf=class extends qd{constructor(e){super({expiringNotificationTimeInSeconds:e.accessTokenExpiringNotificationTimeInSeconds}),this._logger=new Q("UserManagerEvents"),this._userLoaded=new Gt("User loaded"),this._userUnloaded=new Gt("User unloaded"),this._silentRenewError=new Gt("Silent renew error"),this._userSignedIn=new Gt("User signed in"),this._userSignedOut=new Gt("User signed out"),this._userSessionChanged=new Gt("User session changed")}load(e,t=!0){super.load(e),t&&this._userLoaded.raise(e)}unload(){super.unload(),this._userUnloaded.raise()}addUserLoaded(e){return this._userLoaded.addHandler(e)}removeUserLoaded(e){return this._userLoaded.removeHandler(e)}addUserUnloaded(e){return this._userUnloaded.addHandler(e)}removeUserUnloaded(e){return this._userUnloaded.removeHandler(e)}addSilentRenewError(e){return this._silentRenewError.addHandler(e)}removeSilentRenewError(e){return this._silentRenewError.removeHandler(e)}_raiseSilentRenewError(e){this._silentRenewError.raise(e)}addUserSignedIn(e){return this._userSignedIn.addHandler(e)}removeUserSignedIn(e){this._userSignedIn.removeHandler(e)}_raiseUserSignedIn(){this._userSignedIn.raise()}addUserSignedOut(e){return this._userSignedOut.addHandler(e)}removeUserSignedOut(e){this._userSignedOut.removeHandler(e)}_raiseUserSignedOut(){this._userSignedOut.raise()}addUserSessionChanged(e){return this._userSessionChanged.addHandler(e)}removeUserSessionChanged(e){this._userSessionChanged.removeHandler(e)}_raiseUserSessionChanged(){this._userSessionChanged.raise()}},wf=class{constructor(e){this._userManager=e,this._logger=new Q("SilentRenewService"),this._isStarted=!1,this._retryTimer=new at("Retry Silent Renew"),this._tokenExpiring=async()=>{const t=this._logger.create("_tokenExpiring");try{await this._userManager.signinSilent(),t.debug("silent token renewal successful")}catch(s){if(s instanceof bo){t.warn("ErrorTimeout from signinSilent:",s,"retry in 5s"),this._retryTimer.init(5);return}t.error("Error from signinSilent:",s),this._userManager.events._raiseSilentRenewError(s)}}}async start(){const e=this._logger.create("start");if(!this._isStarted){this._isStarted=!0,this._userManager.events.addAccessTokenExpiring(this._tokenExpiring),this._retryTimer.addHandler(this._tokenExpiring);try{await this._userManager.getUser()}catch(t){e.error("getUser error",t)}}}stop(){this._isStarted&&(this._retryTimer.cancel(),this._retryTimer.removeHandler(this._tokenExpiring),this._userManager.events.removeAccessTokenExpiring(this._tokenExpiring),this._isStarted=!1)}},_f=class{constructor(e,t){this.refresh_token=e.refresh_token,this.id_token=e.id_token,this.session_state=e.session_state,this.scope=e.scope,this.profile=e.profile,this.resource=t,this.data=e.state}},bf=class{constructor(e,t,s,n){this._logger=new Q("UserManager"),this.settings=new uf(e),this._client=new of(e),this._redirectNavigator=t??new gf(this.settings),this._popupNavigator=s??new pf(this.settings),this._iframeNavigator=n??new df(this.settings),this._events=new mf(this.settings),this._silentRenewService=new wf(this),this.settings.automaticSilentRenew&&this.startSilentRenew(),this._sessionMonitor=null,this.settings.monitorSession&&(this._sessionMonitor=new af(this))}get events(){return this._events}get metadataService(){return this._client.metadataService}async getUser(){const e=this._logger.create("getUser"),t=await this._loadUser();return t?(e.info("user loaded"),this._events.load(t,!1),t):(e.info("user not found in storage"),null)}async removeUser(){const e=this._logger.create("removeUser");await this.storeUser(null),e.info("user removed from storage"),this._events.unload()}async signinRedirect(e={}){this._logger.create("signinRedirect");const{redirectMethod:t,...s}=e,n=await this._redirectNavigator.prepare({redirectMethod:t});await this._signinStart({request_type:"si:r",...s},n)}async signinRedirectCallback(e=window.location.href){const t=this._logger.create("signinRedirectCallback"),s=await this._signinEnd(e);return s.profile&&s.profile.sub?t.info("success, signed in subject",s.profile.sub):t.info("no subject"),s}async signinResourceOwnerCredentials({username:e,password:t,skipUserInfo:s=!1}){const n=this._logger.create("signinResourceOwnerCredential"),r=await this._client.processResourceOwnerPasswordCredentials({username:e,password:t,skipUserInfo:s,extraTokenParams:this.settings.extraTokenParams});n.debug("got signin response");const i=await this._buildUser(r);return i.profile&&i.profile.sub?n.info("success, signed in subject",i.profile.sub):n.info("no subject"),i}async signinPopup(e={}){const t=this._logger.create("signinPopup"),{popupWindowFeatures:s,popupWindowTarget:n,...r}=e,i=this.settings.popup_redirect_uri;i||t.throw(new Error("No popup_redirect_uri configured"));const o=await this._popupNavigator.prepare({popupWindowFeatures:s,popupWindowTarget:n}),a=await this._signin({request_type:"si:p",redirect_uri:i,display:"popup",...r},o);return a&&(a.profile&&a.profile.sub?t.info("success, signed in subject",a.profile.sub):t.info("no subject")),a}async signinPopupCallback(e=window.location.href,t=!1){const s=this._logger.create("signinPopupCallback");await this._popupNavigator.callback(e,{keepOpen:t}),s.info("success")}async signinSilent(e={}){var t;const s=this._logger.create("signinSilent"),{silentRequestTimeoutInSeconds:n,resource:r,...i}=e;let o=await this._loadUser();if(o!=null&&o.refresh_token){s.debug("using refresh token");const u=new _f(o,r);return await this._useRefreshToken(u)}const a=this.settings.silent_redirect_uri;a||s.throw(new Error("No silent_redirect_uri configured"));let l;o&&this.settings.validateSubOnSilentRenew&&(s.debug("subject prior to silent renew:",o.profile.sub),l=o.profile.sub);const c=await this._iframeNavigator.prepare({silentRequestTimeoutInSeconds:n});return o=await this._signin({request_type:"si:s",redirect_uri:a,prompt:"none",id_token_hint:this.settings.includeIdTokenInSilentRenew?o==null?void 0:o.id_token:void 0,...i},c,l),o&&((t=o.profile)!=null&&t.sub?s.info("success, signed in subject",o.profile.sub):s.info("no subject")),o}async _useRefreshToken(e){const t=await this._client.useRefreshToken({state:e,timeoutInSeconds:this.settings.silentRequestTimeoutInSeconds}),s=new _r({...e,...t});return await this.storeUser(s),this._events.load(s),s}async signinSilentCallback(e=window.location.href){const t=this._logger.create("signinSilentCallback");await this._iframeNavigator.callback(e),t.info("success")}async signinCallback(e=window.location.href){const{state:t}=await this._client.readSigninResponseState(e);switch(t.request_type){case"si:r":return await this.signinRedirectCallback(e);case"si:p":return await this.signinPopupCallback(e);case"si:s":return await this.signinSilentCallback(e);default:throw new Error("invalid response_type in state")}}async signoutCallback(e=window.location.href,t=!1){const{state:s}=await this._client.readSignoutResponseState(e);if(s)switch(s.request_type){case"so:r":await this.signoutRedirectCallback(e);break;case"so:p":await this.signoutPopupCallback(e,t);break;case"so:s":await this.signoutSilentCallback(e);break;default:throw new Error("invalid response_type in state")}}async querySessionStatus(e={}){const t=this._logger.create("querySessionStatus"),{silentRequestTimeoutInSeconds:s,...n}=e,r=this.settings.silent_redirect_uri;r||t.throw(new Error("No silent_redirect_uri configured"));const i=await this._loadUser(),o=await this._iframeNavigator.prepare({silentRequestTimeoutInSeconds:s}),a=await this._signinStart({request_type:"si:s",redirect_uri:r,prompt:"none",id_token_hint:this.settings.includeIdTokenInSilentRenew?i==null?void 0:i.id_token:void 0,response_type:this.settings.query_status_response_type,scope:"openid",skipUserInfo:!0,...n},o);try{const l=await this._client.processSigninResponse(a.url);return t.debug("got signin response"),l.session_state&&l.profile.sub?(t.info("success for subject",l.profile.sub),{session_state:l.session_state,sub:l.profile.sub,sid:l.profile.sid}):(t.info("success, user not authenticated"),null)}catch(l){if(this.settings.monitorAnonymousSession&&l instanceof vs)switch(l.error){case"login_required":case"consent_required":case"interaction_required":case"account_selection_required":return t.info("success for anonymous user"),{session_state:l.session_state}}throw l}}async _signin(e,t,s){const n=await this._signinStart(e,t);return await this._signinEnd(n.url,s)}async _signinStart(e,t){const s=this._logger.create("_signinStart");try{const n=await this._client.createSigninRequest(e);return s.debug("got signin request"),await t.navigate({url:n.url,state:n.state.id,response_mode:n.state.response_mode,scriptOrigin:this.settings.iframeScriptOrigin})}catch(n){throw s.debug("error after preparing navigator, closing navigator window"),t.close(),n}}async _signinEnd(e,t){const s=this._logger.create("_signinEnd"),n=await this._client.processSigninResponse(e);return s.debug("got signin response"),await this._buildUser(n,t)}async _buildUser(e,t){const s=this._logger.create("_buildUser"),n=new _r(e);if(t){if(t!==n.profile.sub)throw s.debug("current user does not match user returned from signin. sub from signin:",n.profile.sub),new vs({...e,error:"login_required"});s.debug("current user matches user returned from signin")}return await this.storeUser(n),s.debug("user stored"),this._events.load(n),n}async signoutRedirect(e={}){const t=this._logger.create("signoutRedirect"),{redirectMethod:s,...n}=e,r=await this._redirectNavigator.prepare({redirectMethod:s});await this._signoutStart({request_type:"so:r",post_logout_redirect_uri:this.settings.post_logout_redirect_uri,...n},r),t.info("success")}async signoutRedirectCallback(e=window.location.href){const t=this._logger.create("signoutRedirectCallback"),s=await this._signoutEnd(e);return t.info("success"),s}async signoutPopup(e={}){const t=this._logger.create("signoutPopup"),{popupWindowFeatures:s,popupWindowTarget:n,...r}=e,i=this.settings.popup_post_logout_redirect_uri,o=await this._popupNavigator.prepare({popupWindowFeatures:s,popupWindowTarget:n});await this._signout({request_type:"so:p",post_logout_redirect_uri:i,state:i==null?void 0:{},...r},o),t.info("success")}async signoutPopupCallback(e=window.location.href,t=!1){const s=this._logger.create("signoutPopupCallback");await this._popupNavigator.callback(e,{keepOpen:t}),s.info("success")}async _signout(e,t){const s=await this._signoutStart(e,t);return await this._signoutEnd(s.url)}async _signoutStart(e={},t){var s;const n=this._logger.create("_signoutStart");try{const r=await this._loadUser();n.debug("loaded current user from storage"),this.settings.revokeTokensOnSignout&&await this._revokeInternal(r);const i=e.id_token_hint||r&&r.id_token;i&&(n.debug("setting id_token_hint in signout request"),e.id_token_hint=i),await this.removeUser(),n.debug("user removed, creating signout request");const o=await this._client.createSignoutRequest(e);return n.debug("got signout request"),await t.navigate({url:o.url,state:(s=o.state)==null?void 0:s.id,scriptOrigin:this.settings.iframeScriptOrigin})}catch(r){throw n.debug("error after preparing navigator, closing navigator window"),t.close(),r}}async _signoutEnd(e){const t=this._logger.create("_signoutEnd"),s=await this._client.processSignoutResponse(e);return t.debug("got signout response"),s}async signoutSilent(e={}){var t;const s=this._logger.create("signoutSilent"),{silentRequestTimeoutInSeconds:n,...r}=e,i=this.settings.includeIdTokenInSilentSignout?(t=await this._loadUser())==null?void 0:t.id_token:void 0,o=this.settings.popup_post_logout_redirect_uri,a=await this._iframeNavigator.prepare({silentRequestTimeoutInSeconds:n});await this._signout({request_type:"so:s",post_logout_redirect_uri:o,id_token_hint:i,...r},a),s.info("success")}async signoutSilentCallback(e=window.location.href){const t=this._logger.create("signoutSilentCallback");await this._iframeNavigator.callback(e),t.info("success")}async revokeTokens(e){const t=await this._loadUser();await this._revokeInternal(t,e)}async _revokeInternal(e,t=this.settings.revokeTokenTypes){const s=this._logger.create("_revokeInternal");if(!e)return;const n=t.filter(r=>typeof e[r]=="string");if(!n.length){s.debug("no need to revoke due to no token(s)");return}for(const r of n)await this._client.revokeToken(e[r],r),s.info(`${r} revoked successfully`),r!=="access_token"&&(e[r]=null);await this.storeUser(e),s.debug("user stored"),this._events.load(e)}startSilentRenew(){this._logger.create("startSilentRenew"),this._silentRenewService.start()}stopSilentRenew(){this._silentRenewService.stop()}get _userStoreKey(){return`user:${this.settings.authority}:${this.settings.client_id}`}async _loadUser(){const e=this._logger.create("_loadUser"),t=await this.settings.userStore.get(this._userStoreKey);return t?(e.debug("user storageString loaded"),_r.fromStorageString(t)):(e.debug("no user storageString"),null)}async storeUser(e){const t=this._logger.create("storeUser");if(e){t.debug("storing user");const s=e.toStorageString();await this.settings.userStore.set(this._userStoreKey,s)}else this._logger.debug("removing user"),await this.settings.userStore.remove(this._userStoreKey)}async clearStaleState(){await this._client.clearStaleState()}},Yt=(e=>(e[e.NONE=0]="NONE",e[e.ERROR=1]="ERROR",e[e.WARN=2]="WARN",e[e.INFO=3]="INFO",e[e.DEBUG=4]="DEBUG",e))(Yt||{}),Vn,es,xt,ds,jt,as;const Oe=class Oe{constructor(t){K(this,jt);K(this,ds,[]);t&&S(this,ds).push(t)}static init(t,s=1,n=console){this.setLibName(t),this.setLogLevel(s),this.setLogger(n)}static setLibName(t){ie(this,Vn,t)}static setLogLevel(t){ie(this,es,t),Ys.setLevel(t)}static setLogger(t){ie(this,xt,t),Ys.setLogger(t)}createChild(t){const s=new Oe;return S(s,ds).push(...S(this,ds),t),s}debug(...t){S(Oe,es)>=4&&S(Oe,xt).debug(F(this,jt,as).call(this),...t)}info(...t){S(Oe,es)>=3&&S(Oe,xt).info(F(this,jt,as).call(this),...t)}warn(...t){S(Oe,es)>=2&&S(Oe,xt).warn(F(this,jt,as).call(this),...t)}error(...t){S(Oe,es)>=1&&S(Oe,xt).error(F(this,jt,as).call(this),...t)}getError(t,s=!1){return S(Oe,xt).error(F(this,jt,as).call(this,s),t),new Error(t)}notif(...t){S(Oe,xt).warn(F(this,jt,as).call(this,!1),...t)}};Vn=new WeakMap,es=new WeakMap,xt=new WeakMap,ds=new WeakMap,jt=new WeakSet,as=function(t=!0){let s=`[${S(Oe,Vn)}]`;return t&&(s+=`[${S(this,ds).join(".")}]`),s},K(Oe,Vn),K(Oe,es),K(Oe,xt);let lt=Oe;class vf{}var ts,js;class rs{constructor(){K(this,ts,[]);K(this,js)}add(t,s){const n={subscriber:t,options:s};return S(this,ts).push(n),S(this,js)&&(t(...S(this,js)),s!=null&&s.once&&this.unsubscribe(n)),{unsubscribe:()=>{this.unsubscribe(n)}}}notify(...t){ie(this,js,t),S(this,ts).forEach(s=>{var n;s.subscriber(...t),(n=s.options)!=null&&n.once&&this.unsubscribe(s)})}unsubscribe(t){if(t){const s=S(this,ts).indexOf(t);s!==-1&&S(this,ts).splice(s,1)}else ie(this,ts,[])}}ts=new WeakMap,js=new WeakMap;const yf=new lt("AuthUtils"),it=class it{};V(it,"isCordova",()=>typeof window.cordova<"u"||typeof window.phonegap<"u"||typeof window.PhoneGap<"u"),V(it,"isCapacitor",()=>{var t;return!!((t=window.Capacitor)!=null&&t.isNativePlatform())}),V(it,"isNativeMobile",()=>it.isCapacitor()||it.isCordova()),V(it,"decodeJwt",t=>{try{return t&&Ml(t)}catch{return yf.createChild("decodeJwt").warn("Token was not decoded as it is not a valid JWT."),t}}),V(it,"isUrlMatching",(t,s)=>{if(s!==void 0){const n=new URL(t,"http://test"),r=new URL(s,"http://test");if(r.pathname!==""&&r.pathname!=="/"&&!n.pathname.includes(r.pathname)||r.origin!=="http://test"&&(n.protocol!==r.protocol||n.origin!==r.origin||!`${n.origin}${n.pathname}}`.includes(`${r.origin}${r.pathname}`)))return!1;let i=!0;return r.searchParams.forEach((o,a)=>{n.searchParams.getAll(a).includes(o)||(i=!1)}),i}return!1}),V(it,"getBaseUrl",()=>{var s;const t=document.baseURI??((s=document.querySelector("base"))==null?void 0:s.href);return t.endsWith("/")?t:`${t}/`}),V(it,"stringToURL",t=>{try{return new URL(t)}catch{const s=t.startsWith("/")?t.substring(1,t.length):t;return new URL(`${it.getBaseUrl()}${s}`)}});let Ee=it;const Sf=async(e,t)=>{const s=new t;return await s.init(e),s};var Wl=typeof global=="object"&&global&&global.Object===Object&&global,Ef=typeof self=="object"&&self&&self.Object===Object&&self,on=Wl||Ef||Function("return this")(),Ar=on.Symbol,zl=Object.prototype,xf=zl.hasOwnProperty,Rf=zl.toString,fn=Ar?Ar.toStringTag:void 0;function Tf(e){var t=xf.call(e,fn),s=e[fn];try{e[fn]=void 0;var n=!0}catch{}var r=Rf.call(e);return n&&(t?e[fn]=s:delete e[fn]),r}var Cf=Object.prototype,Pf=Cf.toString;function kf(e){return Pf.call(e)}var Af="[object Null]",Of="[object Undefined]",ha=Ar?Ar.toStringTag:void 0;function zr(e){return e==null?e===void 0?Of:Af:ha&&ha in Object(e)?Tf(e):kf(e)}function rr(e){return e!=null&&typeof e=="object"}var Wi=Array.isArray;function xs(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function Vl(e){return e}var If="[object AsyncFunction]",Uf="[object Function]",Lf="[object GeneratorFunction]",Nf="[object Proxy]";function xo(e){if(!xs(e))return!1;var t=zr(e);return t==Uf||t==Lf||t==If||t==Nf}var wi=on["__core-js_shared__"],pa=function(){var e=/[^.]+$/.exec(wi&&wi.keys&&wi.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function jf(e){return!!pa&&pa in e}var $f=Function.prototype,Mf=$f.toString;function Df(e){if(e!=null){try{return Mf.call(e)}catch{}try{return e+""}catch{}}return""}var Hf=/[\\^$.*+?()[\]{}|]/g,qf=/^\[object .+?Constructor\]$/,Ff=Function.prototype,Bf=Object.prototype,Wf=Ff.toString,zf=Bf.hasOwnProperty,Vf=RegExp("^"+Wf.call(zf).replace(Hf,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Kf(e){if(!xs(e)||jf(e))return!1;var t=xo(e)?Vf:qf;return t.test(Df(e))}function Gf(e,t){return e==null?void 0:e[t]}function Ro(e,t){var s=Gf(e,t);return Kf(s)?s:void 0}var ga=Object.create,Jf=function(){function e(){}return function(t){if(!xs(t))return{};if(ga)return ga(t);e.prototype=t;var s=new e;return e.prototype=void 0,s}}();function Xf(e,t,s){switch(s.length){case 0:return e.call(t);case 1:return e.call(t,s[0]);case 2:return e.call(t,s[0],s[1]);case 3:return e.call(t,s[0],s[1],s[2])}return e.apply(t,s)}function Qf(e,t){var s=-1,n=e.length;for(t||(t=Array(n));++s<n;)t[s]=e[s];return t}var Yf=800,Zf=16,eh=Date.now;function th(e){var t=0,s=0;return function(){var n=eh(),r=Zf-(n-s);if(s=n,r>0){if(++t>=Yf)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function sh(e){return function(){return e}}var Or=function(){try{var e=Ro(Object,"defineProperty");return e({},"",{}),e}catch{}}(),nh=Or?function(e,t){return Or(e,"toString",{configurable:!0,enumerable:!1,value:sh(t),writable:!0})}:Vl,rh=th(nh),ih=9007199254740991,oh=/^(?:0|[1-9]\d*)$/;function Kl(e,t){var s=typeof e;return t=t??ih,!!t&&(s=="number"||s!="symbol"&&oh.test(e))&&e>-1&&e%1==0&&e<t}function To(e,t,s){t=="__proto__"&&Or?Or(e,t,{configurable:!0,enumerable:!0,value:s,writable:!0}):e[t]=s}function Vr(e,t){return e===t||e!==e&&t!==t}var ah=Object.prototype,lh=ah.hasOwnProperty;function ch(e,t,s){var n=e[t];(!(lh.call(e,t)&&Vr(n,s))||s===void 0&&!(t in e))&&To(e,t,s)}function uh(e,t,s,n){var r=!s;s||(s={});for(var i=-1,o=t.length;++i<o;){var a=t[i],l=void 0;l===void 0&&(l=e[a]),r?To(s,a,l):ch(s,a,l)}return s}var ma=Math.max;function dh(e,t,s){return t=ma(t===void 0?e.length-1:t,0),function(){for(var n=arguments,r=-1,i=ma(n.length-t,0),o=Array(i);++r<i;)o[r]=n[t+r];r=-1;for(var a=Array(t+1);++r<t;)a[r]=n[r];return a[t]=s(o),Xf(e,this,a)}}function fh(e,t){return rh(dh(e,t,Vl),e+"")}var hh=9007199254740991;function Gl(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=hh}function Co(e){return e!=null&&Gl(e.length)&&!xo(e)}function ph(e,t,s){if(!xs(s))return!1;var n=typeof t;return(n=="number"?Co(s)&&Kl(t,s.length):n=="string"&&t in s)?Vr(s[t],e):!1}function gh(e){return fh(function(t,s){var n=-1,r=s.length,i=r>1?s[r-1]:void 0,o=r>2?s[2]:void 0;for(i=e.length>3&&typeof i=="function"?(r--,i):void 0,o&&ph(s[0],s[1],o)&&(i=r<3?void 0:i,r=1),t=Object(t);++n<r;){var a=s[n];a&&e(t,a,n,i)}return t})}var mh=Object.prototype;function Jl(e){var t=e&&e.constructor,s=typeof t=="function"&&t.prototype||mh;return e===s}function wh(e,t){for(var s=-1,n=Array(e);++s<e;)n[s]=t(s);return n}var _h="[object Arguments]";function wa(e){return rr(e)&&zr(e)==_h}var Xl=Object.prototype,bh=Xl.hasOwnProperty,vh=Xl.propertyIsEnumerable,zi=wa(function(){return arguments}())?wa:function(e){return rr(e)&&bh.call(e,"callee")&&!vh.call(e,"callee")};function yh(){return!1}var Ql=typeof exports=="object"&&exports&&!exports.nodeType&&exports,_a=Ql&&typeof module=="object"&&module&&!module.nodeType&&module,Sh=_a&&_a.exports===Ql,ba=Sh?on.Buffer:void 0,Eh=ba?ba.isBuffer:void 0,Yl=Eh||yh,xh="[object Arguments]",Rh="[object Array]",Th="[object Boolean]",Ch="[object Date]",Ph="[object Error]",kh="[object Function]",Ah="[object Map]",Oh="[object Number]",Ih="[object Object]",Uh="[object RegExp]",Lh="[object Set]",Nh="[object String]",jh="[object WeakMap]",$h="[object ArrayBuffer]",Mh="[object DataView]",Dh="[object Float32Array]",Hh="[object Float64Array]",qh="[object Int8Array]",Fh="[object Int16Array]",Bh="[object Int32Array]",Wh="[object Uint8Array]",zh="[object Uint8ClampedArray]",Vh="[object Uint16Array]",Kh="[object Uint32Array]",be={};be[Dh]=be[Hh]=be[qh]=be[Fh]=be[Bh]=be[Wh]=be[zh]=be[Vh]=be[Kh]=!0;be[xh]=be[Rh]=be[$h]=be[Th]=be[Mh]=be[Ch]=be[Ph]=be[kh]=be[Ah]=be[Oh]=be[Ih]=be[Uh]=be[Lh]=be[Nh]=be[jh]=!1;function Gh(e){return rr(e)&&Gl(e.length)&&!!be[zr(e)]}function Jh(e){return function(t){return e(t)}}var Zl=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Rn=Zl&&typeof module=="object"&&module&&!module.nodeType&&module,Xh=Rn&&Rn.exports===Zl,_i=Xh&&Wl.process,va=function(){try{var e=Rn&&Rn.require&&Rn.require("util").types;return e||_i&&_i.binding&&_i.binding("util")}catch{}}(),ya=va&&va.isTypedArray,ec=ya?Jh(ya):Gh;function Qh(e,t){var s=Wi(e),n=!s&&zi(e),r=!s&&!n&&Yl(e),i=!s&&!n&&!r&&ec(e),o=s||n||r||i,a=o?wh(e.length,String):[],l=a.length;for(var c in e)o&&(c=="length"||r&&(c=="offset"||c=="parent")||i&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Kl(c,l))||a.push(c);return a}function Yh(e,t){return function(s){return e(t(s))}}function Zh(e){var t=[];if(e!=null)for(var s in Object(e))t.push(s);return t}var ep=Object.prototype,tp=ep.hasOwnProperty;function sp(e){if(!xs(e))return Zh(e);var t=Jl(e),s=[];for(var n in e)n=="constructor"&&(t||!tp.call(e,n))||s.push(n);return s}function tc(e){return Co(e)?Qh(e):sp(e)}var $n=Ro(Object,"create");function np(){this.__data__=$n?$n(null):{},this.size=0}function rp(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var ip="__lodash_hash_undefined__",op=Object.prototype,ap=op.hasOwnProperty;function lp(e){var t=this.__data__;if($n){var s=t[e];return s===ip?void 0:s}return ap.call(t,e)?t[e]:void 0}var cp=Object.prototype,up=cp.hasOwnProperty;function dp(e){var t=this.__data__;return $n?t[e]!==void 0:up.call(t,e)}var fp="__lodash_hash_undefined__";function hp(e,t){var s=this.__data__;return this.size+=this.has(e)?0:1,s[e]=$n&&t===void 0?fp:t,this}function ys(e){var t=-1,s=e==null?0:e.length;for(this.clear();++t<s;){var n=e[t];this.set(n[0],n[1])}}ys.prototype.clear=np;ys.prototype.delete=rp;ys.prototype.get=lp;ys.prototype.has=dp;ys.prototype.set=hp;function pp(){this.__data__=[],this.size=0}function Kr(e,t){for(var s=e.length;s--;)if(Vr(e[s][0],t))return s;return-1}var gp=Array.prototype,mp=gp.splice;function wp(e){var t=this.__data__,s=Kr(t,e);if(s<0)return!1;var n=t.length-1;return s==n?t.pop():mp.call(t,s,1),--this.size,!0}function _p(e){var t=this.__data__,s=Kr(t,e);return s<0?void 0:t[s][1]}function bp(e){return Kr(this.__data__,e)>-1}function vp(e,t){var s=this.__data__,n=Kr(s,e);return n<0?(++this.size,s.push([e,t])):s[n][1]=t,this}function Ft(e){var t=-1,s=e==null?0:e.length;for(this.clear();++t<s;){var n=e[t];this.set(n[0],n[1])}}Ft.prototype.clear=pp;Ft.prototype.delete=wp;Ft.prototype.get=_p;Ft.prototype.has=bp;Ft.prototype.set=vp;var sc=Ro(on,"Map");function yp(){this.size=0,this.__data__={hash:new ys,map:new(sc||Ft),string:new ys}}function Sp(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Gr(e,t){var s=e.__data__;return Sp(t)?s[typeof t=="string"?"string":"hash"]:s.map}function Ep(e){var t=Gr(this,e).delete(e);return this.size-=t?1:0,t}function xp(e){return Gr(this,e).get(e)}function Rp(e){return Gr(this,e).has(e)}function Tp(e,t){var s=Gr(this,e),n=s.size;return s.set(e,t),this.size+=s.size==n?0:1,this}function an(e){var t=-1,s=e==null?0:e.length;for(this.clear();++t<s;){var n=e[t];this.set(n[0],n[1])}}an.prototype.clear=yp;an.prototype.delete=Ep;an.prototype.get=xp;an.prototype.has=Rp;an.prototype.set=Tp;var nc=Yh(Object.getPrototypeOf,Object),Cp="[object Object]",Pp=Function.prototype,kp=Object.prototype,rc=Pp.toString,Ap=kp.hasOwnProperty,Op=rc.call(Object);function Ip(e){if(!rr(e)||zr(e)!=Cp)return!1;var t=nc(e);if(t===null)return!0;var s=Ap.call(t,"constructor")&&t.constructor;return typeof s=="function"&&s instanceof s&&rc.call(s)==Op}function Up(){this.__data__=new Ft,this.size=0}function Lp(e){var t=this.__data__,s=t.delete(e);return this.size=t.size,s}function Np(e){return this.__data__.get(e)}function jp(e){return this.__data__.has(e)}var $p=200;function Mp(e,t){var s=this.__data__;if(s instanceof Ft){var n=s.__data__;if(!sc||n.length<$p-1)return n.push([e,t]),this.size=++s.size,this;s=this.__data__=new an(n)}return s.set(e,t),this.size=s.size,this}function ln(e){var t=this.__data__=new Ft(e);this.size=t.size}ln.prototype.clear=Up;ln.prototype.delete=Lp;ln.prototype.get=Np;ln.prototype.has=jp;ln.prototype.set=Mp;var ic=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Sa=ic&&typeof module=="object"&&module&&!module.nodeType&&module,Dp=Sa&&Sa.exports===ic,Ea=Dp?on.Buffer:void 0;Ea&&Ea.allocUnsafe;function Hp(e,t){return e.slice()}var xa=on.Uint8Array;function qp(e){var t=new e.constructor(e.byteLength);return new xa(t).set(new xa(e)),t}function Fp(e,t){var s=qp(e.buffer);return new e.constructor(s,e.byteOffset,e.length)}function Bp(e){return typeof e.constructor=="function"&&!Jl(e)?Jf(nc(e)):{}}function Wp(e){return function(t,s,n){for(var r=-1,i=Object(t),o=n(t),a=o.length;a--;){var l=o[++r];if(s(i[l],l,i)===!1)break}return t}}var zp=Wp();function Vi(e,t,s){(s!==void 0&&!Vr(e[t],s)||s===void 0&&!(t in e))&&To(e,t,s)}function Vp(e){return rr(e)&&Co(e)}function Ki(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}function Kp(e){return uh(e,tc(e))}function Gp(e,t,s,n,r,i,o){var a=Ki(e,s),l=Ki(t,s),c=o.get(l);if(c){Vi(e,s,c);return}var u=i?i(a,l,s+"",e,t,o):void 0,d=u===void 0;if(d){var f=Wi(l),p=!f&&Yl(l),w=!f&&!p&&ec(l);u=l,f||p||w?Wi(a)?u=a:Vp(a)?u=Qf(a):p?(d=!1,u=Hp(l)):w?(d=!1,u=Fp(l)):u=[]:Ip(l)||zi(l)?(u=a,zi(a)?u=Kp(a):(!xs(a)||xo(a))&&(u=Bp(l))):d=!1}d&&(o.set(l,u),r(u,l,n,i,o),o.delete(l)),Vi(e,s,u)}function oc(e,t,s,n,r){e!==t&&zp(t,function(i,o){if(r||(r=new ln),xs(i))Gp(e,t,o,s,oc,n,r);else{var a=n?n(Ki(e,o),i,o+"",e,t,r):void 0;a===void 0&&(a=i),Vi(e,o,a)}},tc)}var Jp=gh(function(e,t,s){oc(e,t,s)}),Dt=(e=>(e.REDIRECT="REDIRECT",e.POPUP="POPUP",e))(Dt||{});const Ts="auth-js:oidc_manager:redirect_url",Wt={loginRequired:!1,retrieveUserSession:!0,loadUserInfo:!1,automaticSilentRenew:!0,desktopNavigationType:Dt.REDIRECT,scope:"openid profile email phone",logLevel:Yt.NONE,automaticLoginOn401:!0,automaticInjectToken:{include:e=>{const t=new URL(e,"http://default-base");return t.hostname.startsWith("api")||t.pathname.startsWith("/api")||!1}},internal:{response_type:"code",redirect_uri:"?oidc-callback=login",post_logout_redirect_uri:"?oidc-callback=logout",popup_redirect_uri:"oidc/callback/popup_redirect.html",popup_post_logout_redirect_uri:"oidc/callback/popup_redirect.html",silent_redirect_uri:"oidc/callback/silent_redirect.html",mobileWindowPresentationStyle:"popover"}},kt=new lt("MobileStorage"),Cs=window.localStorage;var Ul;const Ye=(Ul=window.Capacitor)==null?void 0:Ul.Plugins.Storage;var Ll;const Ze=(Ll=window.Capacitor)==null?void 0:Ll.Plugins.Preferences;var Nl;const Ke=(Nl=window.Capacitor)==null?void 0:Nl.Plugins.SecureStoragePlugin;class Xp{constructor(){if(!Ke){let t=`[@badisi/auth-js] This application is currently using an unsafe storage.

`;t+="ⓘ Please follow the recommended guide and use `capacitor-secure-storage-plugin` instead.",kt.notif(t)}Ke?kt.debug("Using `capacitor-secure-storage-plugin` implementation"):Ze?kt.debug("Using `@capacitor/preferences` implementation"):Ye?kt.debug("Using `@capacitor/storage` implementation"):kt.debug("Using `localStorage` implementation")}get length(){return(async()=>Ke?(await Ke.keys()).value.length:Ze?(await Ze.keys()).keys.length:Ye?(await Ye.keys()).keys.length:Cs.length)()}async key(t){return Ke?(await Ke.keys()).value[t]:Ze?(await Ze.keys()).keys[t]:Ye?(await Ye.keys()).keys[t]:Cs.key(t)}async clear(){kt.debug("clear"),Ke?await Ke.clear():Ze?await Ze.clear():Ye?await Ye.clear():Cs.clear()}async getItem(t){if(kt.debug(`getItem('${t}')`),Ke)try{return(await Ke.get({key:t})).value}catch{return null}else return Ze?(await Ze.get({key:t})).value:Ye?(await Ye.get({key:t})).value:Cs.getItem(t)}async setItem(t,s){kt.debug(`setItem('${t}')`),Ke?await Ke.set({key:t,value:s}):Ze?await Ze.set({key:t,value:s}):Ye?await Ye.set({key:t,value:s}):Cs.setItem(t,s)}async removeItem(t){if(kt.debug(`removeItem('${t}')`),Ke)try{await Ke.remove({key:t})}catch{}else Ze?await Ze.remove({key:t}):Ye?await Ye.remove({key:t}):Cs.removeItem(t)}}class Po{constructor(){V(this,"expired");V(this,"expires_in");V(this,"expires_at")}static deserialize(t){const s=new Po,n=Object.keys(s);for(const r of n)s[r]=t[r];return s}}const Qp=new lt("OIDCAuthGuard");var $t,qr,ac;class Yp{constructor(t){K(this,qr);K(this,$t);ie(this,$t,t)}async validate(t,s){let n=(s==null?void 0:s.fallbackUrl)??S(this,$t).getSettings().authGuardFallbackUrl;if(n=(n==null?void 0:n.trim())!==""?n:void 0,await S(this,$t).isAuthenticated()){const i=await F(this,qr,ac).call(this,s==null?void 0:s.validator);return!i&&n?n:i}else return n??await S(this,$t).login({redirectUrl:t})}}$t=new WeakMap,qr=new WeakSet,ac=async function(t){if(typeof t=="function"){const s=await S(this,$t).getUserProfile(),n=await S(this,$t).getAccessTokenDecoded();return await Promise.resolve(t(s,n))}else if(t)return Qp.error("`authGuardValidator` must be a function"),!1;return!0};const zt=new lt("OIDCAuthInterceptor");var ut,Kn,Gn,$s,Ce,lc,_n,cc,Gi,uc,dc;class Zp{constructor(t){K(this,Ce);K(this,ut);K(this,Kn,window.fetch);K(this,Gn,XMLHttpRequest.prototype.open);K(this,$s,XMLHttpRequest.prototype.send);zt.debug("init"),ie(this,ut,t),F(this,Ce,uc).call(this),F(this,Ce,dc).call(this)}}ut=new WeakMap,Kn=new WeakMap,Gn=new WeakMap,$s=new WeakMap,Ce=new WeakSet,lc=function(t){try{return new URL(t).href}catch{return new URL(`${location.origin}${t.startsWith("/")?"":"/"}${t}`).href}},_n=function(t,s){const n=F(this,Ce,lc).call(this,t);if(typeof s=="function")return s(n);if(typeof s=="string"){const r=s.replace(/\//g,"\\/").replace(/\./g,"\\.").replace(/\*\*/g,"*").replace(/\*/g,".*");return new RegExp(r).exec(n)!==null}else return s.exec(n)!==null},cc=function(t,s){let n=!1;if(typeof s=="boolean")n=s;else{const{include:r,exclude:i}=s;Array.isArray(r)?n=r.some(o=>F(this,Ce,_n).call(this,t,o)):r&&(n=F(this,Ce,_n).call(this,t,r)),Array.isArray(i)?i.some(o=>F(this,Ce,_n).call(this,t,o))&&(n=!1):i&&F(this,Ce,_n).call(this,t,i)&&(n=!1)}return n},Gi=function(t){const s=S(this,ut).getSettings().automaticInjectToken??!1;return s!==!1&&F(this,Ce,cc).call(this,t,s)},uc=function(t=!0){const s=zt.createChild("monkeyPathFetch");s.debug(t?"enabling..":"disabling.."),window.fetch&&(t?window.fetch=async(n,r)=>{const i=n instanceof Request?n.url:n.toString();if(zt.debug("received fetch url:",i),F(this,Ce,Gi).call(this,i)){const a=await S(this,ut).getAccessToken();r&&a&&(zt.debug("adding bearer to url:",i),Array.isArray(r.headers)?r.headers.push(["Authorization",`Bearer ${a}`]):r.headers instanceof Headers?r.headers.append("Authorization",`Bearer ${a}`):r.headers={...r.headers,Authorization:`Bearer ${a}`})}const o=await S(this,Kn).apply(window,[n,r]);return o.status===401&&(S(this,ut).getSettings().automaticLoginOn401??!1)&&await S(this,ut).login(),o}:window.fetch=S(this,Kn),s.debug("done"))},dc=function(t=!0){const s=zt.createChild("monkeyPatchXmlHttpRequest");if(s.debug(t?"enabling..":"disabling.."),XMLHttpRequest.prototype.open&&XMLHttpRequest.prototype.send){if(t){const n=this;XMLHttpRequest.prototype.open=function(r,i,...o){this.url=i,S(n,Gn).apply(this,[r,i,...o])},XMLHttpRequest.prototype.send=function(r){var l,c;const i=typeof this.url=="string"?this.url:(l=this.url)==null?void 0:l.href;zt.debug("received xhr url:",i);const o=this.onreadystatechange;this.onreadystatechange=u=>{o==null||o.apply(this,[u]),this.readyState===XMLHttpRequest.DONE&&this.status===401&&(S(n,ut).getSettings().automaticLoginOn401??!1)&&S(n,ut).login()};const a=i?F(c=n,Ce,Gi).call(c,i):!1;this.readyState===XMLHttpRequest.OPENED&&a?S(n,ut).getAccessToken().then(u=>{u&&(zt.debug("adding bearer to url:",i),this.setRequestHeader("Authorization",`Bearer ${u}`))}).catch(u=>{zt.error(u)}).finally(()=>{S(n,$s).apply(this,[r])}):S(n,$s).apply(this,[r])}}else XMLHttpRequest.prototype.open=S(this,Gn),XMLHttpRequest.prototype.send=S(this,$s);s.debug("done")}};const eg=10*1e3;var jl;const hn=(jl=window.Capacitor)==null?void 0:jl.Plugins.App;var $l;const rt=($l=window.Capacitor)==null?void 0:$l.Plugins.Browser,Ut=new lt("MobileWindow"),bi=Ut.createChild("navigate");var Jn,Xn,Qn,Yn,Zn,Ms,Ds,fs,Ue,bn,fc,Ji,hc,sg,pc;class tg{constructor(t,s){K(this,Ue);K(this,Jn);K(this,Xn);K(this,Qn,window.handleOpenURL);K(this,Yn);K(this,Zn);K(this,Ms);K(this,Ds,!0);K(this,fs,!1);if(this.redirectUrl=t,this.params=s,!Ee.isCapacitor()&&!Ee.isCordova())throw Ut.notif("ⓘ Please follow the installation guide and install either `Capacitor` or `Cordova` dependency."),Ut.getError("Required core dependency `Capacitor` or `Cordova` not found");if(!rt)throw Ut.notif("ⓘ Please follow the installation guide and install `@capacitor/browser` plugin."),Ut.getError("Required browser plugin not found");rt&&Ut.debug("Using `@capacitor/browser` implementation")}async navigate(t){return bi.debug(t.url),ie(this,Ds,!1),ie(this,fs,!1),new Promise((s,n)=>{ie(this,Zn,s),ie(this,Ms,n),F(this,Ue,pc).call(this).then(()=>{rt&&F(this,Ue,hc).call(this,t)})})}async close(){const t=Ut.createChild("cleanup");t.debug("begin"),S(this,Ds)||await(rt==null?void 0:rt.close().catch(s=>{t.error(s)})),t.debug("success")}}Jn=new WeakMap,Xn=new WeakMap,Qn=new WeakMap,Yn=new WeakMap,Zn=new WeakMap,Ms=new WeakMap,Ds=new WeakMap,fs=new WeakMap,Ue=new WeakSet,bn=async function(){var s,n;const t=Ut.createChild("cleanup");t.debug("begin"),window.handleOpenURL=S(this,Qn),await((s=S(this,Xn))==null?void 0:s.remove()),await((n=S(this,Jn))==null?void 0:n.remove()),clearTimeout(S(this,Yn)),t.debug("success")},fc=async function(t){var s;bi.error("error response:",t),await this.close(),await F(this,Ue,bn).call(this),(s=S(this,Ms))==null||s.call(this,new Error(t)),ie(this,fs,!0)},Ji=async function(t){var s;bi.debug("successful response:",t),await this.close(),await F(this,Ue,bn).call(this),(s=S(this,Zn))==null||s.call(this,{url:t}),ie(this,fs,!0)},hc=async function(t){ie(this,Xn,await(rt==null?void 0:rt.addListener("browserFinished",()=>{ie(this,Ds,!0),setTimeout(()=>{var s;S(this,fs)||(F(this,Ue,bn).call(this),(s=S(this,Ms))==null||s.call(this,"Capacitor browser closed by user"))},1e3)}))),await(rt==null?void 0:rt.open({url:t.url,toolbarColor:this.params.mobileWindowToolbarColor,presentationStyle:this.params.mobileWindowPresentationStyle,width:this.params.mobileWindowWidth,height:this.params.mobileWindowWidth}))},sg=async function(t){},pc=async function(){var s;const t=Ut.createChild("installCustomUrlSchemeHandler");ie(this,Yn,setTimeout(()=>void F(this,Ue,fc).call(this,"Installing custom url scheme handler, timed out without a response"),eg)),await F(this,Ue,bn).call(this),Ee.isCapacitor()?(t.debug("listening to Capacitor `appUrlOpen` event"),ie(this,Jn,await((s=hn==null?void 0:hn.addListener)==null?void 0:s.call(hn,"appUrlOpen",({url:n})=>{Ee.isUrlMatching(n,this.redirectUrl)&&F(this,Ue,Ji).call(this,n)})))):Ee.isCordova()&&(t.debug("waiting for Cordova `handleOpenURL` callback"),window.handleOpenURL=n=>{var r;(r=S(this,Qn))==null||r.call(this,n),Ee.isUrlMatching(n,this.redirectUrl)&&F(this,Ue,Ji).call(this,n)}),t.debug("success")};const ng=new lt("MobileNavigator");class rg{prepare(t,s){return ng.debug("prepare"),new tg(t,s)}}var Hs;class ig extends bf{constructor(s){super({authority:s.authorityUrl,client_id:s.clientId,scope:s.scope,loadUserInfo:s.loadUserInfo,automaticSilentRenew:s.automaticSilentRenew,...s.internal});K(this,Hs);this.libSettings=s,ie(this,Hs,new rg)}async signoutMobile(s={}){var d,f,p,w;const n=this._logger.create("signout"),{mobileWindowToolbarColor:r,mobileWindowPresentationStyle:i,mobileWindowWidth:o,mobileWindowHeight:a,...l}=s,c={mobileWindowToolbarColor:r??((d=this.libSettings.internal)==null?void 0:d.mobileWindowToolbarColor),mobileWindowPresentationStyle:i??((f=this.libSettings.internal)==null?void 0:f.mobileWindowPresentationStyle),mobileWindowWidth:o??((p=this.libSettings.internal)==null?void 0:p.mobileWindowWidth),mobileWindowHeight:a??((w=this.libSettings.internal)==null?void 0:w.mobileWindowHeight)},u=S(this,Hs).prepare(this.settings.post_logout_redirect_uri,c);await this._signout({request_type:"so:m",post_logout_redirect_uri:this.settings.post_logout_redirect_uri,...l},u),n.info("success")}async signinMobile(s={}){var f,p,w,_;const n=this._logger.create("signin"),{mobileWindowToolbarColor:r,mobileWindowPresentationStyle:i,mobileWindowWidth:o,mobileWindowHeight:a,...l}=s,c={mobileWindowToolbarColor:r??((f=this.libSettings.internal)==null?void 0:f.mobileWindowToolbarColor),mobileWindowPresentationStyle:i??((p=this.libSettings.internal)==null?void 0:p.mobileWindowPresentationStyle),mobileWindowWidth:o??((w=this.libSettings.internal)==null?void 0:w.mobileWindowWidth),mobileWindowHeight:a??((_=this.libSettings.internal)==null?void 0:_.mobileWindowHeight)},u=S(this,Hs).prepare(this.settings.redirect_uri,c),d=await this._signin({request_type:"si:m",redirect_uri:this.settings.redirect_uri,...l},u);d.profile.sub?n.info("success, signed in subject",d.profile.sub):n.info("no subject")}}Hs=new WeakMap;const At=new lt("OIDCAuthManager");var qs,Fs,Bs,Ws,hs,zs,Vs,er,ps,gs,Ks,Gs,ms,Js,Re,ye,Xs,J,gc,Kt,mc,vn,br,yn,Sn,Xi,vr,yr;class og extends vf{constructor(){super(...arguments);K(this,J);K(this,qs,new rs);K(this,Fs,new rs);K(this,Bs,new rs);K(this,Ws,new rs);K(this,hs,new rs);K(this,zs,new rs);K(this,Vs,new rs);K(this,er,[]);K(this,ps);K(this,gs);K(this,Ks);K(this,Gs);K(this,ms,!1);K(this,Js,!1);K(this,Re);K(this,ye,Wt);K(this,Xs)}set user(s){S(this,Xs)!==s&&(ie(this,Xs,s),ie(this,ps,s?s.id_token:void 0),ie(this,gs,s?s.access_token:void 0),ie(this,Ks,(s==null?void 0:s.profile)??void 0),ie(this,Gs,s?Po.deserialize(s):void 0),ie(this,ms,!!(s&&!s.expired)),S(this,qs).notify(S(this,ps)),S(this,Fs).notify(S(this,gs)),S(this,Bs).notify(S(this,Ks)),S(this,Ws).notify(S(this,Gs)),S(this,hs).notify(S(this,ms)))}async init(s){var i,o;lt.setLogLevel(s.logLevel??Wt.logLevel);const n=Ee.isNativeMobile();if(n&&!s.mobileScheme)throw At.getError("Parameter `mobileScheme` is required for mobile platform");const r=n?`${s.mobileScheme}://localhost/`:Ee.getBaseUrl();if(ie(this,ye,Jp({},Wt,{internal:{userStore:new So({store:n?new Xp:new vo}),redirect_uri:`${r}${Wt.internal.redirect_uri}`,post_logout_redirect_uri:`${r}${Wt.internal.post_logout_redirect_uri}`,popup_redirect_uri:`${r}${Wt.internal.popup_redirect_uri}`,popup_post_logout_redirect_uri:`${r}${Wt.internal.popup_post_logout_redirect_uri}`,silent_redirect_uri:`${r}${Wt.internal.silent_redirect_uri}`}},s)),F(this,J,gc).call(this),ie(this,Re,new ig(S(this,ye))),(S(this,ye).automaticLoginOn401||S(this,ye).automaticInjectToken)&&new Zp(this),S(this,er).push(S(this,Re).events.addUserLoaded(a=>{this.user=a}),S(this,Re).events.addUserUnloaded(()=>{S(this,Xs)&&(this.user=null,S(this,ye).loginRequired&&location.reload())}),S(this,Re).events.addSilentRenewError(async()=>{await F(this,J,Sn).call(this)})),Ee.isUrlMatching(location.href,(i=S(this,ye).internal)==null?void 0:i.redirect_uri))await F(this,J,br).call(this,async()=>{const a=sessionStorage.getItem(Ts);await F(this,J,vr).call(this,()=>S(this,Re).signinRedirectCallback(location.href),a),sessionStorage.removeItem(Ts)});else if(Ee.isUrlMatching(location.href,(o=S(this,ye).internal)==null?void 0:o.post_logout_redirect_uri))await F(this,J,br).call(this,async()=>{const a=sessionStorage.getItem(Ts);await F(this,J,yr).call(this,()=>S(this,Re).signoutRedirectCallback(location.href),a),sessionStorage.removeItem(Ts)});else if(S(this,ye).retrieveUserSession||S(this,ye).loginRequired){const a=await S(this,Re).getUser();!a||a.expired?!n&&S(this,ye).retrieveUserSession?await F(this,J,br).call(this,()=>F(this,J,Xi).call(this).catch(async l=>{const{error:c,message:u}=l;if(S(this,ye).loginRequired&&(c!=null&&c.includes("_required")||u.includes("_required")))await this.login();else if(At.warn("User's session cannot be retrieved:",u),S(this,hs).notify(!1),S(this,ye).loginRequired)throw l})):S(this,ye).loginRequired?await this.login():this.user=null:this.user=a}else this.user=null}async logout(s){var r;const n=(s==null?void 0:s.redirectUrl)??location.href;if(Ee.isNativeMobile())await F(this,J,yr).call(this,()=>S(this,Re).signoutMobile(s),n);else switch((s==null?void 0:s.desktopNavigationType)??S(this,ye).desktopNavigationType){case Dt.POPUP:await F(this,J,yr).call(this,()=>S(this,Re).signoutPopup(s),n);break;case Dt.REDIRECT:default:sessionStorage.setItem(Ts,n),await((r=S(this,Re))==null?void 0:r.signoutRedirect(s));break}}async login(s){var r;const n=(s==null?void 0:s.redirectUrl)??location.href;if(Ee.isNativeMobile())await F(this,J,vr).call(this,()=>S(this,Re).signinMobile(s),n);else switch((s==null?void 0:s.desktopNavigationType)??S(this,ye).desktopNavigationType){case Dt.POPUP:await F(this,J,vr).call(this,()=>S(this,Re).signinPopup(s),n);break;case Dt.REDIRECT:default:sessionStorage.setItem(Ts,n),await((r=S(this,Re))==null?void 0:r.signinRedirect(s));break}return S(this,ms)}async renew(s){return F(this,J,Xi).call(this,s).catch(n=>{At.error(n)})}getSettings(){return S(this,ye)}isRenewing(){return S(this,Js)}async isAuthenticated(){return await F(this,J,Kt).call(this,"isAuthenticated()"),S(this,ms)}async runGuard(s,n){return new Yp(this).validate(s,n)}async getUserProfile(){return await F(this,J,Kt).call(this,"getUserProfile()"),S(this,Ks)}async getUserSession(){return await F(this,J,Kt).call(this,"getUserSession()"),S(this,Gs)}async getIdToken(){return await F(this,J,Kt).call(this,"getIdToken()"),S(this,ps)}async getIdTokenDecoded(){return await F(this,J,Kt).call(this,"getIdTokenDecoded()"),Ee.decodeJwt(S(this,ps))}async getAccessToken(){return await F(this,J,Kt).call(this,"getAccessToken()"),S(this,gs)}async getAccessTokenDecoded(){return await F(this,J,Kt).call(this,"getAccessTokenDecoded()"),Ee.decodeJwt(S(this,gs))}destroy(){S(this,qs).unsubscribe(),S(this,Fs).unsubscribe(),S(this,Bs).unsubscribe(),S(this,Ws).unsubscribe(),S(this,hs).unsubscribe(),S(this,zs).unsubscribe(),S(this,Vs).unsubscribe(),S(this,er).forEach(s=>{s()})}onIdTokenChanged(s,n){return S(this,qs).add(s,n)}onAccessTokenChanged(s,n){return S(this,Fs).add(s,n)}onUserProfileChanged(s,n){return S(this,Bs).add(s,n)}onUserSessionChanged(s,n){return S(this,Ws).add(s,n)}onAuthenticatedChanged(s,n){return S(this,hs).add(s,n)}onRenewingChanged(s,n){return S(this,zs).add(s,n)}onRedirect(s,n){return S(this,Vs).add(s,n)}}qs=new WeakMap,Fs=new WeakMap,Bs=new WeakMap,Ws=new WeakMap,hs=new WeakMap,zs=new WeakMap,Vs=new WeakMap,er=new WeakMap,ps=new WeakMap,gs=new WeakMap,Ks=new WeakMap,Gs=new WeakMap,ms=new WeakMap,Js=new WeakMap,Re=new WeakMap,ye=new WeakMap,Xs=new WeakMap,J=new WeakSet,gc=function(){var s,n;[(s=S(this,ye).internal)==null?void 0:s.silent_redirect_uri,(n=S(this,ye).internal)==null?void 0:n.popup_redirect_uri].forEach(r=>{var a;const i=(a=new RegExp(/^.*\/(.*).html$/gm).exec(r??""))==null?void 0:a[1],o=new Error(`${r??"redirect uri"} was not found.`);if(o.stack=void 0,Ee.isUrlMatching(location.href,r))throw At.notif("ⓘ Encountered an error that usually means you forgot to include the redirect html files in your application assets."),o;if(i&&location.href.includes(`/${i}.html`))throw At.notif("ⓘ Encountered an error that usually means your redirect urls are misconfigured."),o})},Kt=async function(s){const n=Date.now();for(;S(this,Js);){if(Date.now()>n+5e3){At.error(`\`${s}\``,"timed out waiting for renew to finish.");break}await new Promise(r=>setTimeout(r,100))}},mc=function(s){const n=Ee.stringToURL(s??"/");S(this,ye).loginRequired&&location.origin===n.origin&&location.reload()},vn=function(s){ie(this,Js,s),S(this,zs).notify(s)},br=async function(s){S(this,ye).loginRequired?await s():s()},yn=async function(s,n){n&&(At.error(n),await F(this,J,Sn).call(this));const r=Ee.stringToURL(s??"/");location.origin===r.origin?(history.replaceState(history.state,"",r.href),S(this,Vs).notify(r)):location.href=r.href},Sn=async function(){var s,n;this.user=null,await Promise.all([(s=S(this,Re))==null?void 0:s.clearStaleState(),(n=S(this,Re))==null?void 0:n.removeUser()])},Xi=async function(s){var n;F(this,J,vn).call(this,!0);try{await((n=S(this,Re))==null?void 0:n.signinSilent(s))}catch(r){throw await F(this,J,Sn).call(this),r}finally{F(this,J,vn).call(this,!1)}},vr=async function(s,n){try{F(this,J,vn).call(this,!0),await s().catch(r=>{const i=r;throw i.message==="Attempted to navigate on a disposed window"&&(At.notif("ⓘ Encountered an error that may be due to an ad blocker."),i.stack=void 0),i}),await F(this,J,yn).call(this,n)}catch(r){throw await F(this,J,yn).call(this,"/",r),r}finally{F(this,J,vn).call(this,!1)}},yr=async function(s,n){try{await s().catch(r=>{const i=r;throw i.message==="Attempted to navigate on a disposed window"&&(At.notif("ⓘ Encountered an error that may be due to an ad blocker."),i.stack=void 0),i}),await F(this,J,yn).call(this,n),await F(this,J,Sn).call(this)}catch(r){throw n="/",await F(this,J,yn).call(this,n,r),r}finally{F(this,J,mc).call(this,n)}};const ag=async e=>await Sf(e,og);class lg{constructor(t){V(this,"manager");this.manager=t}async login(t){return this.manager.login(t)}async logout(t){return this.manager.logout(t)}async renew(t){return this.manager.renew(t)}isRenewing(){return this.manager.isRenewing()}async isAuthenticated(){return this.manager.isAuthenticated()}getSettings(){return this.manager.getSettings()}async getUserProfile(){return this.manager.getUserProfile()}async getUserSession(){return this.manager.getUserSession()}async getIdToken(){return this.manager.getIdToken()}async getIdTokenDecoded(){return this.manager.getIdTokenDecoded()}async getAccessToken(){return this.manager.getAccessToken()}async getAccessTokenDecoded(){return this.manager.getAccessTokenDecoded()}async runGuard(t,s){return this.manager.runGuard(t,s)}}/**
 * @license GPL-3.0-only
 * Package @badisi/auth-js <https://github.com/Badisi/auth-js/tree/main/libs/auth-js>
 * Released under GNU General Public License v3.0 only <https://github.com/Badisi/auth-js/blob/main/LICENSE>
 * SPDX-License-Identifier: GPL-3.0-only
 * Copyright (C) 2018 Badisi
 */lt.init("@badisi/auth-js");/**
* @vue/shared v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function ko(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const me={},Os=[],Ct=()=>{},cg=()=>!1,Jr=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Ao=e=>e.startsWith("onUpdate:"),De=Object.assign,Oo=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},ug=Object.prototype.hasOwnProperty,le=(e,t)=>ug.call(e,t),X=Array.isArray,Is=e=>Xr(e)==="[object Map]",wc=e=>Xr(e)==="[object Set]",Z=e=>typeof e=="function",Te=e=>typeof e=="string",ns=e=>typeof e=="symbol",Se=e=>e!==null&&typeof e=="object",_c=e=>(Se(e)||Z(e))&&Z(e.then)&&Z(e.catch),bc=Object.prototype.toString,Xr=e=>bc.call(e),dg=e=>Xr(e).slice(8,-1),vc=e=>Xr(e)==="[object Object]",Io=e=>Te(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Tn=ko(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Qr=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},fg=/-(\w)/g,ct=Qr(e=>e.replace(fg,(t,s)=>s?s.toUpperCase():"")),hg=/\B([A-Z])/g,Rs=Qr(e=>e.replace(hg,"-$1").toLowerCase()),Yr=Qr(e=>e.charAt(0).toUpperCase()+e.slice(1)),vi=Qr(e=>e?`on${Yr(e)}`:""),ss=(e,t)=>!Object.is(e,t),yi=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},Qi=(e,t,s,n=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:n,value:s})},pg=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Ra;const Zr=()=>Ra||(Ra=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Uo(e){if(X(e)){const t={};for(let s=0;s<e.length;s++){const n=e[s],r=Te(n)?_g(n):Uo(n);if(r)for(const i in r)t[i]=r[i]}return t}else if(Te(e)||Se(e))return e}const gg=/;(?![^(]*\))/g,mg=/:([^]+)/,wg=/\/\*[^]*?\*\//g;function _g(e){const t={};return e.replace(wg,"").split(gg).forEach(s=>{if(s){const n=s.split(mg);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function Lo(e){let t="";if(Te(e))t=e;else if(X(e))for(let s=0;s<e.length;s++){const n=Lo(e[s]);n&&(t+=n+" ")}else if(Se(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const bg="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",vg=ko(bg);function yc(e){return!!e||e===""}const Sc=e=>!!(e&&e.__v_isRef===!0),yg=e=>Te(e)?e:e==null?"":X(e)||Se(e)&&(e.toString===bc||!Z(e.toString))?Sc(e)?yg(e.value):JSON.stringify(e,Ec,2):String(e),Ec=(e,t)=>Sc(t)?Ec(e,t.value):Is(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[n,r],i)=>(s[Si(n,i)+" =>"]=r,s),{})}:wc(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>Si(s))}:ns(t)?Si(t):Se(t)&&!X(t)&&!vc(t)?String(t):t,Si=(e,t="")=>{var s;return ns(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ge;class Sg{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ge,!t&&Ge&&(this.index=(Ge.scopes||(Ge.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=Ge;try{return Ge=this,t()}finally{Ge=s}}}on(){++this._on===1&&(this.prevScope=Ge,Ge=this)}off(){this._on>0&&--this._on===0&&(Ge=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let s,n;for(s=0,n=this.effects.length;s<n;s++)this.effects[s].stop();for(this.effects.length=0,s=0,n=this.cleanups.length;s<n;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,n=this.scopes.length;s<n;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function Eg(){return Ge}let _e;const Ei=new WeakSet;class xc{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ge&&Ge.active&&Ge.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Ei.has(this)&&(Ei.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Tc(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Ta(this),Cc(this);const t=_e,s=dt;_e=this,dt=!0;try{return this.fn()}finally{Pc(this),_e=t,dt=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)$o(t);this.deps=this.depsTail=void 0,Ta(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Ei.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Yi(this)&&this.run()}get dirty(){return Yi(this)}}let Rc=0,Cn,Pn;function Tc(e,t=!1){if(e.flags|=8,t){e.next=Pn,Pn=e;return}e.next=Cn,Cn=e}function No(){Rc++}function jo(){if(--Rc>0)return;if(Pn){let t=Pn;for(Pn=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;Cn;){let t=Cn;for(Cn=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(n){e||(e=n)}t=s}}if(e)throw e}function Cc(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Pc(e){let t,s=e.depsTail,n=s;for(;n;){const r=n.prevDep;n.version===-1?(n===s&&(s=r),$o(n),xg(n)):t=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=r}e.deps=t,e.depsTail=s}function Yi(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(kc(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function kc(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Mn)||(e.globalVersion=Mn,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!Yi(e))))return;e.flags|=2;const t=e.dep,s=_e,n=dt;_e=e,dt=!0;try{Cc(e);const r=e.fn(e._value);(t.version===0||ss(r,e._value))&&(e.flags|=128,e._value=r,t.version++)}catch(r){throw t.version++,r}finally{_e=s,dt=n,Pc(e),e.flags&=-3}}function $o(e,t=!1){const{dep:s,prevSub:n,nextSub:r}=e;if(n&&(n.nextSub=r,e.prevSub=void 0),r&&(r.prevSub=n,e.nextSub=void 0),s.subs===e&&(s.subs=n,!n&&s.computed)){s.computed.flags&=-5;for(let i=s.computed.deps;i;i=i.nextDep)$o(i,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function xg(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let dt=!0;const Ac=[];function Ht(){Ac.push(dt),dt=!1}function qt(){const e=Ac.pop();dt=e===void 0?!0:e}function Ta(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=_e;_e=void 0;try{t()}finally{_e=s}}}let Mn=0;class Rg{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Mo{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!_e||!dt||_e===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==_e)s=this.activeLink=new Rg(_e,this),_e.deps?(s.prevDep=_e.depsTail,_e.depsTail.nextDep=s,_e.depsTail=s):_e.deps=_e.depsTail=s,Oc(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const n=s.nextDep;n.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=n),s.prevDep=_e.depsTail,s.nextDep=void 0,_e.depsTail.nextDep=s,_e.depsTail=s,_e.deps===s&&(_e.deps=n)}return s}trigger(t){this.version++,Mn++,this.notify(t)}notify(t){No();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{jo()}}}function Oc(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let n=t.deps;n;n=n.nextDep)Oc(n)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const Zi=new WeakMap,_s=Symbol(""),eo=Symbol(""),Dn=Symbol("");function je(e,t,s){if(dt&&_e){let n=Zi.get(e);n||Zi.set(e,n=new Map);let r=n.get(s);r||(n.set(s,r=new Mo),r.map=n,r.key=s),r.track()}}function Mt(e,t,s,n,r,i){const o=Zi.get(e);if(!o){Mn++;return}const a=l=>{l&&l.trigger()};if(No(),t==="clear")o.forEach(a);else{const l=X(e),c=l&&Io(s);if(l&&s==="length"){const u=Number(n);o.forEach((d,f)=>{(f==="length"||f===Dn||!ns(f)&&f>=u)&&a(d)})}else switch((s!==void 0||o.has(void 0))&&a(o.get(s)),c&&a(o.get(Dn)),t){case"add":l?c&&a(o.get("length")):(a(o.get(_s)),Is(e)&&a(o.get(eo)));break;case"delete":l||(a(o.get(_s)),Is(e)&&a(o.get(eo)));break;case"set":Is(e)&&a(o.get(_s));break}}jo()}function Ps(e){const t=ae(e);return t===e?t:(je(t,"iterate",Dn),ft(e)?t:t.map(Fe))}function Do(e){return je(e=ae(e),"iterate",Dn),e}const Tg={__proto__:null,[Symbol.iterator](){return xi(this,Symbol.iterator,Fe)},concat(...e){return Ps(this).concat(...e.map(t=>X(t)?Ps(t):t))},entries(){return xi(this,"entries",e=>(e[1]=Fe(e[1]),e))},every(e,t){return Ot(this,"every",e,t,void 0,arguments)},filter(e,t){return Ot(this,"filter",e,t,s=>s.map(Fe),arguments)},find(e,t){return Ot(this,"find",e,t,Fe,arguments)},findIndex(e,t){return Ot(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Ot(this,"findLast",e,t,Fe,arguments)},findLastIndex(e,t){return Ot(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Ot(this,"forEach",e,t,void 0,arguments)},includes(...e){return Ri(this,"includes",e)},indexOf(...e){return Ri(this,"indexOf",e)},join(e){return Ps(this).join(e)},lastIndexOf(...e){return Ri(this,"lastIndexOf",e)},map(e,t){return Ot(this,"map",e,t,void 0,arguments)},pop(){return pn(this,"pop")},push(...e){return pn(this,"push",e)},reduce(e,...t){return Ca(this,"reduce",e,t)},reduceRight(e,...t){return Ca(this,"reduceRight",e,t)},shift(){return pn(this,"shift")},some(e,t){return Ot(this,"some",e,t,void 0,arguments)},splice(...e){return pn(this,"splice",e)},toReversed(){return Ps(this).toReversed()},toSorted(e){return Ps(this).toSorted(e)},toSpliced(...e){return Ps(this).toSpliced(...e)},unshift(...e){return pn(this,"unshift",e)},values(){return xi(this,"values",Fe)}};function xi(e,t,s){const n=Do(e),r=n[t]();return n!==e&&!ft(e)&&(r._next=r.next,r.next=()=>{const i=r._next();return i.value&&(i.value=s(i.value)),i}),r}const Cg=Array.prototype;function Ot(e,t,s,n,r,i){const o=Do(e),a=o!==e&&!ft(e),l=o[t];if(l!==Cg[t]){const d=l.apply(e,i);return a?Fe(d):d}let c=s;o!==e&&(a?c=function(d,f){return s.call(this,Fe(d),f,e)}:s.length>2&&(c=function(d,f){return s.call(this,d,f,e)}));const u=l.call(o,c,n);return a&&r?r(u):u}function Ca(e,t,s,n){const r=Do(e);let i=s;return r!==e&&(ft(e)?s.length>3&&(i=function(o,a,l){return s.call(this,o,a,l,e)}):i=function(o,a,l){return s.call(this,o,Fe(a),l,e)}),r[t](i,...n)}function Ri(e,t,s){const n=ae(e);je(n,"iterate",Dn);const r=n[t](...s);return(r===-1||r===!1)&&Fo(s[0])?(s[0]=ae(s[0]),n[t](...s)):r}function pn(e,t,s=[]){Ht(),No();const n=ae(e)[t].apply(e,s);return jo(),qt(),n}const Pg=ko("__proto__,__v_isRef,__isVue"),Ic=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ns));function kg(e){ns(e)||(e=String(e));const t=ae(this);return je(t,"has",e),t.hasOwnProperty(e)}class Uc{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,n){if(s==="__v_skip")return t.__v_skip;const r=this._isReadonly,i=this._isShallow;if(s==="__v_isReactive")return!r;if(s==="__v_isReadonly")return r;if(s==="__v_isShallow")return i;if(s==="__v_raw")return n===(r?i?Dg:$c:i?jc:Nc).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const o=X(t);if(!r){let l;if(o&&(l=Tg[s]))return l;if(s==="hasOwnProperty")return kg}const a=Reflect.get(t,s,Me(t)?t:n);return(ns(s)?Ic.has(s):Pg(s))||(r||je(t,"get",s),i)?a:Me(a)?o&&Io(s)?a:a.value:Se(a)?r?Dc(a):ei(a):a}}class Lc extends Uc{constructor(t=!1){super(!1,t)}set(t,s,n,r){let i=t[s];if(!this._isShallow){const l=Ss(i);if(!ft(n)&&!Ss(n)&&(i=ae(i),n=ae(n)),!X(t)&&Me(i)&&!Me(n))return l?!1:(i.value=n,!0)}const o=X(t)&&Io(s)?Number(s)<t.length:le(t,s),a=Reflect.set(t,s,n,Me(t)?t:r);return t===ae(r)&&(o?ss(n,i)&&Mt(t,"set",s,n):Mt(t,"add",s,n)),a}deleteProperty(t,s){const n=le(t,s);t[s];const r=Reflect.deleteProperty(t,s);return r&&n&&Mt(t,"delete",s,void 0),r}has(t,s){const n=Reflect.has(t,s);return(!ns(s)||!Ic.has(s))&&je(t,"has",s),n}ownKeys(t){return je(t,"iterate",X(t)?"length":_s),Reflect.ownKeys(t)}}class Ag extends Uc{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const Og=new Lc,Ig=new Ag,Ug=new Lc(!0);const to=e=>e,ur=e=>Reflect.getPrototypeOf(e);function Lg(e,t,s){return function(...n){const r=this.__v_raw,i=ae(r),o=Is(i),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,c=r[e](...n),u=s?to:t?so:Fe;return!t&&je(i,"iterate",l?eo:_s),{next(){const{value:d,done:f}=c.next();return f?{value:d,done:f}:{value:a?[u(d[0]),u(d[1])]:u(d),done:f}},[Symbol.iterator](){return this}}}}function dr(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Ng(e,t){const s={get(r){const i=this.__v_raw,o=ae(i),a=ae(r);e||(ss(r,a)&&je(o,"get",r),je(o,"get",a));const{has:l}=ur(o),c=t?to:e?so:Fe;if(l.call(o,r))return c(i.get(r));if(l.call(o,a))return c(i.get(a));i!==o&&i.get(r)},get size(){const r=this.__v_raw;return!e&&je(ae(r),"iterate",_s),Reflect.get(r,"size",r)},has(r){const i=this.__v_raw,o=ae(i),a=ae(r);return e||(ss(r,a)&&je(o,"has",r),je(o,"has",a)),r===a?i.has(r):i.has(r)||i.has(a)},forEach(r,i){const o=this,a=o.__v_raw,l=ae(a),c=t?to:e?so:Fe;return!e&&je(l,"iterate",_s),a.forEach((u,d)=>r.call(i,c(u),c(d),o))}};return De(s,e?{add:dr("add"),set:dr("set"),delete:dr("delete"),clear:dr("clear")}:{add(r){!t&&!ft(r)&&!Ss(r)&&(r=ae(r));const i=ae(this);return ur(i).has.call(i,r)||(i.add(r),Mt(i,"add",r,r)),this},set(r,i){!t&&!ft(i)&&!Ss(i)&&(i=ae(i));const o=ae(this),{has:a,get:l}=ur(o);let c=a.call(o,r);c||(r=ae(r),c=a.call(o,r));const u=l.call(o,r);return o.set(r,i),c?ss(i,u)&&Mt(o,"set",r,i):Mt(o,"add",r,i),this},delete(r){const i=ae(this),{has:o,get:a}=ur(i);let l=o.call(i,r);l||(r=ae(r),l=o.call(i,r)),a&&a.call(i,r);const c=i.delete(r);return l&&Mt(i,"delete",r,void 0),c},clear(){const r=ae(this),i=r.size!==0,o=r.clear();return i&&Mt(r,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(r=>{s[r]=Lg(r,e,t)}),s}function Ho(e,t){const s=Ng(e,t);return(n,r,i)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?n:Reflect.get(le(s,r)&&r in n?s:n,r,i)}const jg={get:Ho(!1,!1)},$g={get:Ho(!1,!0)},Mg={get:Ho(!0,!1)};const Nc=new WeakMap,jc=new WeakMap,$c=new WeakMap,Dg=new WeakMap;function Hg(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function qg(e){return e.__v_skip||!Object.isExtensible(e)?0:Hg(dg(e))}function ei(e){return Ss(e)?e:qo(e,!1,Og,jg,Nc)}function Mc(e){return qo(e,!1,Ug,$g,jc)}function Dc(e){return qo(e,!0,Ig,Mg,$c)}function qo(e,t,s,n,r){if(!Se(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=qg(e);if(i===0)return e;const o=r.get(e);if(o)return o;const a=new Proxy(e,i===2?n:s);return r.set(e,a),a}function kn(e){return Ss(e)?kn(e.__v_raw):!!(e&&e.__v_isReactive)}function Ss(e){return!!(e&&e.__v_isReadonly)}function ft(e){return!!(e&&e.__v_isShallow)}function Fo(e){return e?!!e.__v_raw:!1}function ae(e){const t=e&&e.__v_raw;return t?ae(t):e}function Fg(e){return!le(e,"__v_skip")&&Object.isExtensible(e)&&Qi(e,"__v_skip",!0),e}const Fe=e=>Se(e)?ei(e):e,so=e=>Se(e)?Dc(e):e;function Me(e){return e?e.__v_isRef===!0:!1}function ls(e){return qc(e,!1)}function Hc(e){return qc(e,!0)}function qc(e,t){return Me(e)?e:new Bg(e,t)}class Bg{constructor(t,s){this.dep=new Mo,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:ae(t),this._value=s?t:Fe(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,n=this.__v_isShallow||ft(t)||Ss(t);t=n?t:ae(t),ss(t,s)&&(this._rawValue=t,this._value=n?t:Fe(t),this.dep.trigger())}}function Us(e){return Me(e)?e.value:e}const Wg={get:(e,t,s)=>t==="__v_raw"?e:Us(Reflect.get(e,t,s)),set:(e,t,s,n)=>{const r=e[t];return Me(r)&&!Me(s)?(r.value=s,!0):Reflect.set(e,t,s,n)}};function Fc(e){return kn(e)?e:new Proxy(e,Wg)}class zg{constructor(t,s,n){this.fn=t,this.setter=s,this._value=void 0,this.dep=new Mo(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Mn-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&_e!==this)return Tc(this,!0),!0}get value(){const t=this.dep.track();return kc(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Vg(e,t,s=!1){let n,r;return Z(e)?n=e:(n=e.get,r=e.set),new zg(n,r,s)}const fr={},Ir=new WeakMap;let cs;function Kg(e,t=!1,s=cs){if(s){let n=Ir.get(s);n||Ir.set(s,n=[]),n.push(e)}}function Gg(e,t,s=me){const{immediate:n,deep:r,once:i,scheduler:o,augmentJob:a,call:l}=s,c=x=>r?x:ft(x)||r===!1||r===0?Zt(x,1):Zt(x);let u,d,f,p,w=!1,_=!1;if(Me(e)?(d=()=>e.value,w=ft(e)):kn(e)?(d=()=>c(e),w=!0):X(e)?(_=!0,w=e.some(x=>kn(x)||ft(x)),d=()=>e.map(x=>{if(Me(x))return x.value;if(kn(x))return c(x);if(Z(x))return l?l(x,2):x()})):Z(e)?t?d=l?()=>l(e,2):e:d=()=>{if(f){Ht();try{f()}finally{qt()}}const x=cs;cs=u;try{return l?l(e,3,[p]):e(p)}finally{cs=x}}:d=Ct,t&&r){const x=d,A=r===!0?1/0:r;d=()=>Zt(x(),A)}const y=Eg(),P=()=>{u.stop(),y&&y.active&&Oo(y.effects,u)};if(i&&t){const x=t;t=(...A)=>{x(...A),P()}}let m=_?new Array(e.length).fill(fr):fr;const v=x=>{if(!(!(u.flags&1)||!u.dirty&&!x))if(t){const A=u.run();if(r||w||(_?A.some((D,U)=>ss(D,m[U])):ss(A,m))){f&&f();const D=cs;cs=u;try{const U=[A,m===fr?void 0:_&&m[0]===fr?[]:m,p];m=A,l?l(t,3,U):t(...U)}finally{cs=D}}}else u.run()};return a&&a(v),u=new xc(d),u.scheduler=o?()=>o(v,!1):v,p=x=>Kg(x,!1,u),f=u.onStop=()=>{const x=Ir.get(u);if(x){if(l)l(x,4);else for(const A of x)A();Ir.delete(u)}},t?n?v(!0):m=u.run():o?o(v.bind(null,!0),!0):u.run(),P.pause=u.pause.bind(u),P.resume=u.resume.bind(u),P.stop=P,P}function Zt(e,t=1/0,s){if(t<=0||!Se(e)||e.__v_skip||(s=s||new Set,s.has(e)))return e;if(s.add(e),t--,Me(e))Zt(e.value,t,s);else if(X(e))for(let n=0;n<e.length;n++)Zt(e[n],t,s);else if(wc(e)||Is(e))e.forEach(n=>{Zt(n,t,s)});else if(vc(e)){for(const n in e)Zt(e[n],t,s);for(const n of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,n)&&Zt(e[n],t,s)}return e}/**
* @vue/runtime-core v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ir(e,t,s,n){try{return n?e(...n):e()}catch(r){ti(r,t,s)}}function Pt(e,t,s,n){if(Z(e)){const r=ir(e,t,s,n);return r&&_c(r)&&r.catch(i=>{ti(i,t,s)}),r}if(X(e)){const r=[];for(let i=0;i<e.length;i++)r.push(Pt(e[i],t,s,n));return r}}function ti(e,t,s,n=!0){const r=t?t.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||me;if(t){let a=t.parent;const l=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const u=a.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](e,l,c)===!1)return}a=a.parent}if(i){Ht(),ir(i,null,10,[e,l,c]),qt();return}}Jg(e,s,r,n,o)}function Jg(e,t,s,n=!0,r=!1){if(r)throw e;console.error(e)}const Be=[];let Et=-1;const Ls=[];let Jt=null,ks=0;const Bc=Promise.resolve();let Ur=null;function Wc(e){const t=Ur||Bc;return e?t.then(this?e.bind(this):e):t}function Xg(e){let t=Et+1,s=Be.length;for(;t<s;){const n=t+s>>>1,r=Be[n],i=Hn(r);i<e||i===e&&r.flags&2?t=n+1:s=n}return t}function Bo(e){if(!(e.flags&1)){const t=Hn(e),s=Be[Be.length-1];!s||!(e.flags&2)&&t>=Hn(s)?Be.push(e):Be.splice(Xg(t),0,e),e.flags|=1,zc()}}function zc(){Ur||(Ur=Bc.then(Kc))}function Qg(e){X(e)?Ls.push(...e):Jt&&e.id===-1?Jt.splice(ks+1,0,e):e.flags&1||(Ls.push(e),e.flags|=1),zc()}function Pa(e,t,s=Et+1){for(;s<Be.length;s++){const n=Be[s];if(n&&n.flags&2){if(e&&n.id!==e.uid)continue;Be.splice(s,1),s--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function Vc(e){if(Ls.length){const t=[...new Set(Ls)].sort((s,n)=>Hn(s)-Hn(n));if(Ls.length=0,Jt){Jt.push(...t);return}for(Jt=t,ks=0;ks<Jt.length;ks++){const s=Jt[ks];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}Jt=null,ks=0}}const Hn=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Kc(e){try{for(Et=0;Et<Be.length;Et++){const t=Be[Et];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),ir(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Et<Be.length;Et++){const t=Be[Et];t&&(t.flags&=-2)}Et=-1,Be.length=0,Vc(),Ur=null,(Be.length||Ls.length)&&Kc()}}let ot=null,Gc=null;function Lr(e){const t=ot;return ot=e,Gc=e&&e.type.__scopeId||null,t}function Yg(e,t=ot,s){if(!t||e._n)return e;const n=(...r)=>{n._d&&Ma(-1);const i=Lr(t);let o;try{o=e(...r)}finally{Lr(i),n._d&&Ma(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function is(e,t,s,n){const r=e.dirs,i=t&&t.dirs;for(let o=0;o<r.length;o++){const a=r[o];i&&(a.oldValue=i[o].value);let l=a.dir[n];l&&(Ht(),Pt(l,s,8,[e.el,a,e,t]),qt())}}const Zg=Symbol("_vte"),em=e=>e.__isTeleport;function Wo(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Wo(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function zo(e,t){return Z(e)?De({name:e.name},t,{setup:e}):e}function Jc(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function tm(e){const t=tw(),s=Hc(null);if(t){const r=t.refs===me?t.refs={}:t.refs;Object.defineProperty(r,e,{enumerable:!0,get:()=>s.value,set:i=>s.value=i})}return s}function An(e,t,s,n,r=!1){if(X(e)){e.forEach((w,_)=>An(w,t&&(X(t)?t[_]:t),s,n,r));return}if(On(n)&&!r){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&An(e,t,s,n.component.subTree);return}const i=n.shapeFlag&4?Jo(n.component):n.el,o=r?null:i,{i:a,r:l}=e,c=t&&t.r,u=a.refs===me?a.refs={}:a.refs,d=a.setupState,f=ae(d),p=d===me?()=>!1:w=>le(f,w);if(c!=null&&c!==l&&(Te(c)?(u[c]=null,p(c)&&(d[c]=null)):Me(c)&&(c.value=null)),Z(l))ir(l,a,12,[o,u]);else{const w=Te(l),_=Me(l);if(w||_){const y=()=>{if(e.f){const P=w?p(l)?d[l]:u[l]:l.value;r?X(P)&&Oo(P,i):X(P)?P.includes(i)||P.push(i):w?(u[l]=[i],p(l)&&(d[l]=u[l])):(l.value=[i],e.k&&(u[e.k]=l.value))}else w?(u[l]=o,p(l)&&(d[l]=o)):_&&(l.value=o,e.k&&(u[e.k]=o))};o?(y.id=-1,et(y,s)):y()}}}Zr().requestIdleCallback;Zr().cancelIdleCallback;const On=e=>!!e.type.__asyncLoader,Xc=e=>e.type.__isKeepAlive;function sm(e,t){Qc(e,"a",t)}function nm(e,t){Qc(e,"da",t)}function Qc(e,t,s=Ie){const n=e.__wdc||(e.__wdc=()=>{let r=s;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(si(t,n,s),s){let r=s.parent;for(;r&&r.parent;)Xc(r.parent.vnode)&&rm(n,t,s,r),r=r.parent}}function rm(e,t,s,n){const r=si(t,e,n,!0);Yc(()=>{Oo(n[t],r)},s)}function si(e,t,s=Ie,n=!1){if(s){const r=s[e]||(s[e]=[]),i=t.__weh||(t.__weh=(...o)=>{Ht();const a=or(s),l=Pt(t,s,e,o);return a(),qt(),l});return n?r.unshift(i):r.push(i),i}}const Bt=e=>(t,s=Ie)=>{(!Fn||e==="sp")&&si(e,(...n)=>t(...n),s)},im=Bt("bm"),om=Bt("m"),am=Bt("bu"),lm=Bt("u"),cm=Bt("bum"),Yc=Bt("um"),um=Bt("sp"),dm=Bt("rtg"),fm=Bt("rtc");function hm(e,t=Ie){si("ec",e,t)}const pm="components";function Zc(e,t){return mm(pm,e,!0,t)||e}const gm=Symbol.for("v-ndc");function mm(e,t,s=!0,n=!1){const r=ot||Ie;if(r){const i=r.type;{const a=ow(i,!1);if(a&&(a===t||a===ct(t)||a===Yr(ct(t))))return i}const o=ka(r[e]||i[e],t)||ka(r.appContext[e],t);return!o&&n?i:o}}function ka(e,t){return e&&(e[t]||e[ct(t)]||e[Yr(ct(t))])}const no=e=>e?vu(e)?Jo(e):no(e.parent):null,In=De(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>no(e.parent),$root:e=>no(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>tu(e),$forceUpdate:e=>e.f||(e.f=()=>{Bo(e.update)}),$nextTick:e=>e.n||(e.n=Wc.bind(e.proxy)),$watch:e=>$m.bind(e)}),Ti=(e,t)=>e!==me&&!e.__isScriptSetup&&le(e,t),wm={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:n,data:r,props:i,accessCache:o,type:a,appContext:l}=e;let c;if(t[0]!=="$"){const p=o[t];if(p!==void 0)switch(p){case 1:return n[t];case 2:return r[t];case 4:return s[t];case 3:return i[t]}else{if(Ti(n,t))return o[t]=1,n[t];if(r!==me&&le(r,t))return o[t]=2,r[t];if((c=e.propsOptions[0])&&le(c,t))return o[t]=3,i[t];if(s!==me&&le(s,t))return o[t]=4,s[t];ro&&(o[t]=0)}}const u=In[t];let d,f;if(u)return t==="$attrs"&&je(e.attrs,"get",""),u(e);if((d=a.__cssModules)&&(d=d[t]))return d;if(s!==me&&le(s,t))return o[t]=4,s[t];if(f=l.config.globalProperties,le(f,t))return f[t]},set({_:e},t,s){const{data:n,setupState:r,ctx:i}=e;return Ti(r,t)?(r[t]=s,!0):n!==me&&le(n,t)?(n[t]=s,!0):le(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:n,appContext:r,propsOptions:i}},o){let a;return!!s[o]||e!==me&&le(e,o)||Ti(t,o)||(a=i[0])&&le(a,o)||le(n,o)||le(In,o)||le(r.config.globalProperties,o)},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:le(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function Aa(e){return X(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let ro=!0;function _m(e){const t=tu(e),s=e.proxy,n=e.ctx;ro=!1,t.beforeCreate&&Oa(t.beforeCreate,e,"bc");const{data:r,computed:i,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:d,mounted:f,beforeUpdate:p,updated:w,activated:_,deactivated:y,beforeDestroy:P,beforeUnmount:m,destroyed:v,unmounted:x,render:A,renderTracked:D,renderTriggered:U,errorCaptured:q,serverPrefetch:I,expose:se,inheritAttrs:ne,components:ce,directives:ve,filters:We}=t;if(c&&bm(c,n,null),o)for(const ee in o){const te=o[ee];Z(te)&&(n[ee]=te.bind(s))}if(r){const ee=r.call(s,s);Se(ee)&&(e.data=ei(ee))}if(ro=!0,i)for(const ee in i){const te=i[ee],Le=Z(te)?te.bind(s,s):Z(te.get)?te.get.bind(s,s):Ct,fe=!Z(te)&&Z(te.set)?te.set.bind(s):Ct,he=tt({get:Le,set:fe});Object.defineProperty(n,ee,{enumerable:!0,configurable:!0,get:()=>he.value,set:pe=>he.value=pe})}if(a)for(const ee in a)eu(a[ee],n,s,ee);if(l){const ee=Z(l)?l.call(s):l;Reflect.ownKeys(ee).forEach(te=>{Sr(te,ee[te])})}u&&Oa(u,e,"c");function de(ee,te){X(te)?te.forEach(Le=>ee(Le.bind(s))):te&&ee(te.bind(s))}if(de(im,d),de(om,f),de(am,p),de(lm,w),de(sm,_),de(nm,y),de(hm,q),de(fm,D),de(dm,U),de(cm,m),de(Yc,x),de(um,I),X(se))if(se.length){const ee=e.exposed||(e.exposed={});se.forEach(te=>{Object.defineProperty(ee,te,{get:()=>s[te],set:Le=>s[te]=Le})})}else e.exposed||(e.exposed={});A&&e.render===Ct&&(e.render=A),ne!=null&&(e.inheritAttrs=ne),ce&&(e.components=ce),ve&&(e.directives=ve),I&&Jc(e)}function bm(e,t,s=Ct){X(e)&&(e=io(e));for(const n in e){const r=e[n];let i;Se(r)?"default"in r?i=ht(r.from||n,r.default,!0):i=ht(r.from||n):i=ht(r),Me(i)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):t[n]=i}}function Oa(e,t,s){Pt(X(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,s)}function eu(e,t,s,n){let r=n.includes(".")?pu(s,n):()=>s[n];if(Te(e)){const i=t[e];Z(i)&&Er(r,i)}else if(Z(e))Er(r,e.bind(s));else if(Se(e))if(X(e))e.forEach(i=>eu(i,t,s,n));else{const i=Z(e.handler)?e.handler.bind(s):t[e.handler];Z(i)&&Er(r,i,e)}}function tu(e){const t=e.type,{mixins:s,extends:n}=t,{mixins:r,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,a=i.get(t);let l;return a?l=a:!r.length&&!s&&!n?l=t:(l={},r.length&&r.forEach(c=>Nr(l,c,o,!0)),Nr(l,t,o)),Se(t)&&i.set(t,l),l}function Nr(e,t,s,n=!1){const{mixins:r,extends:i}=t;i&&Nr(e,i,s,!0),r&&r.forEach(o=>Nr(e,o,s,!0));for(const o in t)if(!(n&&o==="expose")){const a=vm[o]||s&&s[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const vm={data:Ia,props:Ua,emits:Ua,methods:En,computed:En,beforeCreate:qe,created:qe,beforeMount:qe,mounted:qe,beforeUpdate:qe,updated:qe,beforeDestroy:qe,beforeUnmount:qe,destroyed:qe,unmounted:qe,activated:qe,deactivated:qe,errorCaptured:qe,serverPrefetch:qe,components:En,directives:En,watch:Sm,provide:Ia,inject:ym};function Ia(e,t){return t?e?function(){return De(Z(e)?e.call(this,this):e,Z(t)?t.call(this,this):t)}:t:e}function ym(e,t){return En(io(e),io(t))}function io(e){if(X(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function qe(e,t){return e?[...new Set([].concat(e,t))]:t}function En(e,t){return e?De(Object.create(null),e,t):t}function Ua(e,t){return e?X(e)&&X(t)?[...new Set([...e,...t])]:De(Object.create(null),Aa(e),Aa(t??{})):t}function Sm(e,t){if(!e)return t;if(!t)return e;const s=De(Object.create(null),e);for(const n in t)s[n]=qe(e[n],t[n]);return s}function su(){return{app:null,config:{isNativeTag:cg,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Em=0;function xm(e,t){return function(n,r=null){Z(n)||(n=De({},n)),r!=null&&!Se(r)&&(r=null);const i=su(),o=new WeakSet,a=[];let l=!1;const c=i.app={_uid:Em++,_component:n,_props:r,_container:null,_context:i,_instance:null,version:lw,get config(){return i.config},set config(u){},use(u,...d){return o.has(u)||(u&&Z(u.install)?(o.add(u),u.install(c,...d)):Z(u)&&(o.add(u),u(c,...d))),c},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),c},component(u,d){return d?(i.components[u]=d,c):i.components[u]},directive(u,d){return d?(i.directives[u]=d,c):i.directives[u]},mount(u,d,f){if(!l){const p=c._ceVNode||nt(n,r);return p.appContext=i,f===!0?f="svg":f===!1&&(f=void 0),e(p,u,f),l=!0,c._container=u,u.__vue_app__=c,Jo(p.component)}},onUnmount(u){a.push(u)},unmount(){l&&(Pt(a,c._instance,16),e(null,c._container),delete c._container.__vue_app__)},provide(u,d){return i.provides[u]=d,c},runWithContext(u){const d=Ns;Ns=c;try{return u()}finally{Ns=d}}};return c}}let Ns=null;function Sr(e,t){if(Ie){let s=Ie.provides;const n=Ie.parent&&Ie.parent.provides;n===s&&(s=Ie.provides=Object.create(n)),s[e]=t}}function ht(e,t,s=!1){const n=Ie||ot;if(n||Ns){let r=Ns?Ns._context.provides:n?n.parent==null||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(r&&e in r)return r[e];if(arguments.length>1)return s&&Z(t)?t.call(n&&n.proxy):t}}const nu={},ru=()=>Object.create(nu),iu=e=>Object.getPrototypeOf(e)===nu;function Rm(e,t,s,n=!1){const r={},i=ru();e.propsDefaults=Object.create(null),ou(e,t,r,i);for(const o in e.propsOptions[0])o in r||(r[o]=void 0);s?e.props=n?r:Mc(r):e.type.props?e.props=r:e.props=i,e.attrs=i}function Tm(e,t,s,n){const{props:r,attrs:i,vnode:{patchFlag:o}}=e,a=ae(r),[l]=e.propsOptions;let c=!1;if((n||o>0)&&!(o&16)){if(o&8){const u=e.vnode.dynamicProps;for(let d=0;d<u.length;d++){let f=u[d];if(ni(e.emitsOptions,f))continue;const p=t[f];if(l)if(le(i,f))p!==i[f]&&(i[f]=p,c=!0);else{const w=ct(f);r[w]=oo(l,a,w,p,e,!1)}else p!==i[f]&&(i[f]=p,c=!0)}}}else{ou(e,t,r,i)&&(c=!0);let u;for(const d in a)(!t||!le(t,d)&&((u=Rs(d))===d||!le(t,u)))&&(l?s&&(s[d]!==void 0||s[u]!==void 0)&&(r[d]=oo(l,a,d,void 0,e,!0)):delete r[d]);if(i!==a)for(const d in i)(!t||!le(t,d))&&(delete i[d],c=!0)}c&&Mt(e.attrs,"set","")}function ou(e,t,s,n){const[r,i]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(Tn(l))continue;const c=t[l];let u;r&&le(r,u=ct(l))?!i||!i.includes(u)?s[u]=c:(a||(a={}))[u]=c:ni(e.emitsOptions,l)||(!(l in n)||c!==n[l])&&(n[l]=c,o=!0)}if(i){const l=ae(s),c=a||me;for(let u=0;u<i.length;u++){const d=i[u];s[d]=oo(r,l,d,c[d],e,!le(c,d))}}return o}function oo(e,t,s,n,r,i){const o=e[s];if(o!=null){const a=le(o,"default");if(a&&n===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Z(l)){const{propsDefaults:c}=r;if(s in c)n=c[s];else{const u=or(r);n=c[s]=l.call(null,t),u()}}else n=l;r.ce&&r.ce._setProp(s,n)}o[0]&&(i&&!a?n=!1:o[1]&&(n===""||n===Rs(s))&&(n=!0))}return n}const Cm=new WeakMap;function au(e,t,s=!1){const n=s?Cm:t.propsCache,r=n.get(e);if(r)return r;const i=e.props,o={},a=[];let l=!1;if(!Z(e)){const u=d=>{l=!0;const[f,p]=au(d,t,!0);De(o,f),p&&a.push(...p)};!s&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!i&&!l)return Se(e)&&n.set(e,Os),Os;if(X(i))for(let u=0;u<i.length;u++){const d=ct(i[u]);La(d)&&(o[d]=me)}else if(i)for(const u in i){const d=ct(u);if(La(d)){const f=i[u],p=o[d]=X(f)||Z(f)?{type:f}:De({},f),w=p.type;let _=!1,y=!0;if(X(w))for(let P=0;P<w.length;++P){const m=w[P],v=Z(m)&&m.name;if(v==="Boolean"){_=!0;break}else v==="String"&&(y=!1)}else _=Z(w)&&w.name==="Boolean";p[0]=_,p[1]=y,(_||le(p,"default"))&&a.push(d)}}const c=[o,a];return Se(e)&&n.set(e,c),c}function La(e){return e[0]!=="$"&&!Tn(e)}const Vo=e=>e[0]==="_"||e==="$stable",Ko=e=>X(e)?e.map(Rt):[Rt(e)],Pm=(e,t,s)=>{if(t._n)return t;const n=Yg((...r)=>Ko(t(...r)),s);return n._c=!1,n},lu=(e,t,s)=>{const n=e._ctx;for(const r in e){if(Vo(r))continue;const i=e[r];if(Z(i))t[r]=Pm(r,i,n);else if(i!=null){const o=Ko(i);t[r]=()=>o}}},cu=(e,t)=>{const s=Ko(t);e.slots.default=()=>s},uu=(e,t,s)=>{for(const n in t)(s||!Vo(n))&&(e[n]=t[n])},km=(e,t,s)=>{const n=e.slots=ru();if(e.vnode.shapeFlag&32){const r=t.__;r&&Qi(n,"__",r,!0);const i=t._;i?(uu(n,t,s),s&&Qi(n,"_",i,!0)):lu(t,n)}else t&&cu(e,t)},Am=(e,t,s)=>{const{vnode:n,slots:r}=e;let i=!0,o=me;if(n.shapeFlag&32){const a=t._;a?s&&a===1?i=!1:uu(r,t,s):(i=!t.$stable,lu(t,r)),o=t}else t&&(cu(e,t),o={default:1});if(i)for(const a in r)!Vo(a)&&o[a]==null&&delete r[a]},et=Wm;function Om(e){return Im(e)}function Im(e,t){const s=Zr();s.__VUE__=!0;const{insert:n,remove:r,patchProp:i,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:f,setScopeId:p=Ct,insertStaticContent:w}=e,_=(h,g,b,T=null,k=null,C=null,j=void 0,N=null,L=!!g.dynamicChildren)=>{if(h===g)return;h&&!gn(h,g)&&(T=R(h),pe(h,k,C,!0),h=null),g.patchFlag===-2&&(L=!1,g.dynamicChildren=null);const{type:O,ref:z,shapeFlag:M}=g;switch(O){case ri:y(h,g,b,T);break;case en:P(h,g,b,T);break;case Pi:h==null&&m(g,b,T,j);break;case Nt:ce(h,g,b,T,k,C,j,N,L);break;default:M&1?A(h,g,b,T,k,C,j,N,L):M&6?ve(h,g,b,T,k,C,j,N,L):(M&64||M&128)&&O.process(h,g,b,T,k,C,j,N,L,B)}z!=null&&k?An(z,h&&h.ref,C,g||h,!g):z==null&&h&&h.ref!=null&&An(h.ref,null,C,h,!0)},y=(h,g,b,T)=>{if(h==null)n(g.el=a(g.children),b,T);else{const k=g.el=h.el;g.children!==h.children&&c(k,g.children)}},P=(h,g,b,T)=>{h==null?n(g.el=l(g.children||""),b,T):g.el=h.el},m=(h,g,b,T)=>{[h.el,h.anchor]=w(h.children,g,b,T,h.el,h.anchor)},v=({el:h,anchor:g},b,T)=>{let k;for(;h&&h!==g;)k=f(h),n(h,b,T),h=k;n(g,b,T)},x=({el:h,anchor:g})=>{let b;for(;h&&h!==g;)b=f(h),r(h),h=b;r(g)},A=(h,g,b,T,k,C,j,N,L)=>{g.type==="svg"?j="svg":g.type==="math"&&(j="mathml"),h==null?D(g,b,T,k,C,j,N,L):I(h,g,k,C,j,N,L)},D=(h,g,b,T,k,C,j,N)=>{let L,O;const{props:z,shapeFlag:M,transition:W,dirs:G}=h;if(L=h.el=o(h.type,C,z&&z.is,z),M&8?u(L,h.children):M&16&&q(h.children,L,null,T,k,Ci(h,C),j,N),G&&is(h,null,T,"created"),U(L,h,h.scopeId,j,T),z){for(const we in z)we!=="value"&&!Tn(we)&&i(L,we,null,z[we],C,T);"value"in z&&i(L,"value",null,z.value,C),(O=z.onVnodeBeforeMount)&&bt(O,T,h)}G&&is(h,null,T,"beforeMount");const re=Um(k,W);re&&W.beforeEnter(L),n(L,g,b),((O=z&&z.onVnodeMounted)||re||G)&&et(()=>{O&&bt(O,T,h),re&&W.enter(L),G&&is(h,null,T,"mounted")},k)},U=(h,g,b,T,k)=>{if(b&&p(h,b),T)for(let C=0;C<T.length;C++)p(h,T[C]);if(k){let C=k.subTree;if(g===C||mu(C.type)&&(C.ssContent===g||C.ssFallback===g)){const j=k.vnode;U(h,j,j.scopeId,j.slotScopeIds,k.parent)}}},q=(h,g,b,T,k,C,j,N,L=0)=>{for(let O=L;O<h.length;O++){const z=h[O]=N?Xt(h[O]):Rt(h[O]);_(null,z,g,b,T,k,C,j,N)}},I=(h,g,b,T,k,C,j)=>{const N=g.el=h.el;let{patchFlag:L,dynamicChildren:O,dirs:z}=g;L|=h.patchFlag&16;const M=h.props||me,W=g.props||me;let G;if(b&&os(b,!1),(G=W.onVnodeBeforeUpdate)&&bt(G,b,g,h),z&&is(g,h,b,"beforeUpdate"),b&&os(b,!0),(M.innerHTML&&W.innerHTML==null||M.textContent&&W.textContent==null)&&u(N,""),O?se(h.dynamicChildren,O,N,b,T,Ci(g,k),C):j||te(h,g,N,null,b,T,Ci(g,k),C,!1),L>0){if(L&16)ne(N,M,W,b,k);else if(L&2&&M.class!==W.class&&i(N,"class",null,W.class,k),L&4&&i(N,"style",M.style,W.style,k),L&8){const re=g.dynamicProps;for(let we=0;we<re.length;we++){const ue=re[we],ze=M[ue],Ve=W[ue];(Ve!==ze||ue==="value")&&i(N,ue,ze,Ve,k,b)}}L&1&&h.children!==g.children&&u(N,g.children)}else!j&&O==null&&ne(N,M,W,b,k);((G=W.onVnodeUpdated)||z)&&et(()=>{G&&bt(G,b,g,h),z&&is(g,h,b,"updated")},T)},se=(h,g,b,T,k,C,j)=>{for(let N=0;N<g.length;N++){const L=h[N],O=g[N],z=L.el&&(L.type===Nt||!gn(L,O)||L.shapeFlag&198)?d(L.el):b;_(L,O,z,null,T,k,C,j,!0)}},ne=(h,g,b,T,k)=>{if(g!==b){if(g!==me)for(const C in g)!Tn(C)&&!(C in b)&&i(h,C,g[C],null,k,T);for(const C in b){if(Tn(C))continue;const j=b[C],N=g[C];j!==N&&C!=="value"&&i(h,C,N,j,k,T)}"value"in b&&i(h,"value",g.value,b.value,k)}},ce=(h,g,b,T,k,C,j,N,L)=>{const O=g.el=h?h.el:a(""),z=g.anchor=h?h.anchor:a("");let{patchFlag:M,dynamicChildren:W,slotScopeIds:G}=g;G&&(N=N?N.concat(G):G),h==null?(n(O,b,T),n(z,b,T),q(g.children||[],b,z,k,C,j,N,L)):M>0&&M&64&&W&&h.dynamicChildren?(se(h.dynamicChildren,W,b,k,C,j,N),(g.key!=null||k&&g===k.subTree)&&du(h,g,!0)):te(h,g,b,z,k,C,j,N,L)},ve=(h,g,b,T,k,C,j,N,L)=>{g.slotScopeIds=N,h==null?g.shapeFlag&512?k.ctx.activate(g,b,T,j,L):We(g,b,T,k,C,j,L):Pe(h,g,L)},We=(h,g,b,T,k,C,j)=>{const N=h.component=ew(h,T,k);if(Xc(h)&&(N.ctx.renderer=B),sw(N,!1,j),N.asyncDep){if(k&&k.registerDep(N,de,j),!h.el){const L=N.subTree=nt(en);P(null,L,g,b)}}else de(N,h,g,b,k,C,j)},Pe=(h,g,b)=>{const T=g.component=h.component;if(Fm(h,g,b))if(T.asyncDep&&!T.asyncResolved){ee(T,g,b);return}else T.next=g,T.update();else g.el=h.el,T.vnode=g},de=(h,g,b,T,k,C,j)=>{const N=()=>{if(h.isMounted){let{next:M,bu:W,u:G,parent:re,vnode:we}=h;{const wt=fu(h);if(wt){M&&(M.el=we.el,ee(h,M,j)),wt.asyncDep.then(()=>{h.isUnmounted||N()});return}}let ue=M,ze;os(h,!1),M?(M.el=we.el,ee(h,M,j)):M=we,W&&yi(W),(ze=M.props&&M.props.onVnodeBeforeUpdate)&&bt(ze,re,M,we),os(h,!0);const Ve=ja(h),mt=h.subTree;h.subTree=Ve,_(mt,Ve,d(mt.el),R(mt),h,k,C),M.el=Ve.el,ue===null&&Bm(h,Ve.el),G&&et(G,k),(ze=M.props&&M.props.onVnodeUpdated)&&et(()=>bt(ze,re,M,we),k)}else{let M;const{el:W,props:G}=g,{bm:re,m:we,parent:ue,root:ze,type:Ve}=h,mt=On(g);os(h,!1),re&&yi(re),!mt&&(M=G&&G.onVnodeBeforeMount)&&bt(M,ue,g),os(h,!0);{ze.ce&&ze.ce._def.shadowRoot!==!1&&ze.ce._injectChildStyle(Ve);const wt=h.subTree=ja(h);_(null,wt,b,T,h,k,C),g.el=wt.el}if(we&&et(we,k),!mt&&(M=G&&G.onVnodeMounted)){const wt=g;et(()=>bt(M,ue,wt),k)}(g.shapeFlag&256||ue&&On(ue.vnode)&&ue.vnode.shapeFlag&256)&&h.a&&et(h.a,k),h.isMounted=!0,g=b=T=null}};h.scope.on();const L=h.effect=new xc(N);h.scope.off();const O=h.update=L.run.bind(L),z=h.job=L.runIfDirty.bind(L);z.i=h,z.id=h.uid,L.scheduler=()=>Bo(z),os(h,!0),O()},ee=(h,g,b)=>{g.component=h;const T=h.vnode.props;h.vnode=g,h.next=null,Tm(h,g.props,T,b),Am(h,g.children,b),Ht(),Pa(h),qt()},te=(h,g,b,T,k,C,j,N,L=!1)=>{const O=h&&h.children,z=h?h.shapeFlag:0,M=g.children,{patchFlag:W,shapeFlag:G}=g;if(W>0){if(W&128){fe(O,M,b,T,k,C,j,N,L);return}else if(W&256){Le(O,M,b,T,k,C,j,N,L);return}}G&8?(z&16&&Ae(O,k,C),M!==O&&u(b,M)):z&16?G&16?fe(O,M,b,T,k,C,j,N,L):Ae(O,k,C,!0):(z&8&&u(b,""),G&16&&q(M,b,T,k,C,j,N,L))},Le=(h,g,b,T,k,C,j,N,L)=>{h=h||Os,g=g||Os;const O=h.length,z=g.length,M=Math.min(O,z);let W;for(W=0;W<M;W++){const G=g[W]=L?Xt(g[W]):Rt(g[W]);_(h[W],G,b,null,k,C,j,N,L)}O>z?Ae(h,k,C,!0,!1,M):q(g,b,T,k,C,j,N,L,M)},fe=(h,g,b,T,k,C,j,N,L)=>{let O=0;const z=g.length;let M=h.length-1,W=z-1;for(;O<=M&&O<=W;){const G=h[O],re=g[O]=L?Xt(g[O]):Rt(g[O]);if(gn(G,re))_(G,re,b,null,k,C,j,N,L);else break;O++}for(;O<=M&&O<=W;){const G=h[M],re=g[W]=L?Xt(g[W]):Rt(g[W]);if(gn(G,re))_(G,re,b,null,k,C,j,N,L);else break;M--,W--}if(O>M){if(O<=W){const G=W+1,re=G<z?g[G].el:T;for(;O<=W;)_(null,g[O]=L?Xt(g[O]):Rt(g[O]),b,re,k,C,j,N,L),O++}}else if(O>W)for(;O<=M;)pe(h[O],k,C,!0),O++;else{const G=O,re=O,we=new Map;for(O=re;O<=W;O++){const Qe=g[O]=L?Xt(g[O]):Rt(g[O]);Qe.key!=null&&we.set(Qe.key,O)}let ue,ze=0;const Ve=W-re+1;let mt=!1,wt=0;const dn=new Array(Ve);for(O=0;O<Ve;O++)dn[O]=0;for(O=G;O<=M;O++){const Qe=h[O];if(ze>=Ve){pe(Qe,k,C,!0);continue}let _t;if(Qe.key!=null)_t=we.get(Qe.key);else for(ue=re;ue<=W;ue++)if(dn[ue-re]===0&&gn(Qe,g[ue])){_t=ue;break}_t===void 0?pe(Qe,k,C,!0):(dn[_t-re]=O+1,_t>=wt?wt=_t:mt=!0,_(Qe,g[_t],b,null,k,C,j,N,L),ze++)}const ta=mt?Lm(dn):Os;for(ue=ta.length-1,O=Ve-1;O>=0;O--){const Qe=re+O,_t=g[Qe],sa=Qe+1<z?g[Qe+1].el:T;dn[O]===0?_(null,_t,b,sa,k,C,j,N,L):mt&&(ue<0||O!==ta[ue]?he(_t,b,sa,2):ue--)}}},he=(h,g,b,T,k=null)=>{const{el:C,type:j,transition:N,children:L,shapeFlag:O}=h;if(O&6){he(h.component.subTree,g,b,T);return}if(O&128){h.suspense.move(g,b,T);return}if(O&64){j.move(h,g,b,B);return}if(j===Nt){n(C,g,b);for(let M=0;M<L.length;M++)he(L[M],g,b,T);n(h.anchor,g,b);return}if(j===Pi){v(h,g,b);return}if(T!==2&&O&1&&N)if(T===0)N.beforeEnter(C),n(C,g,b),et(()=>N.enter(C),k);else{const{leave:M,delayLeave:W,afterLeave:G}=N,re=()=>{h.ctx.isUnmounted?r(C):n(C,g,b)},we=()=>{M(C,()=>{re(),G&&G()})};W?W(C,re,we):we()}else n(C,g,b)},pe=(h,g,b,T=!1,k=!1)=>{const{type:C,props:j,ref:N,children:L,dynamicChildren:O,shapeFlag:z,patchFlag:M,dirs:W,cacheIndex:G}=h;if(M===-2&&(k=!1),N!=null&&(Ht(),An(N,null,b,h,!0),qt()),G!=null&&(g.renderCache[G]=void 0),z&256){g.ctx.deactivate(h);return}const re=z&1&&W,we=!On(h);let ue;if(we&&(ue=j&&j.onVnodeBeforeUnmount)&&bt(ue,g,h),z&6)Ne(h.component,b,T);else{if(z&128){h.suspense.unmount(b,T);return}re&&is(h,null,g,"beforeUnmount"),z&64?h.type.remove(h,g,b,B,T):O&&!O.hasOnce&&(C!==Nt||M>0&&M&64)?Ae(O,g,b,!1,!0):(C===Nt&&M&384||!k&&z&16)&&Ae(L,g,b),T&&ke(h)}(we&&(ue=j&&j.onVnodeUnmounted)||re)&&et(()=>{ue&&bt(ue,g,h),re&&is(h,null,g,"unmounted")},b)},ke=h=>{const{type:g,el:b,anchor:T,transition:k}=h;if(g===Nt){He(b,T);return}if(g===Pi){x(h);return}const C=()=>{r(b),k&&!k.persisted&&k.afterLeave&&k.afterLeave()};if(h.shapeFlag&1&&k&&!k.persisted){const{leave:j,delayLeave:N}=k,L=()=>j(b,C);N?N(h.el,C,L):L()}else C()},He=(h,g)=>{let b;for(;h!==g;)b=f(h),r(h),h=b;r(g)},Ne=(h,g,b)=>{const{bum:T,scope:k,job:C,subTree:j,um:N,m:L,a:O,parent:z,slots:{__:M}}=h;Na(L),Na(O),T&&yi(T),z&&X(M)&&M.forEach(W=>{z.renderCache[W]=void 0}),k.stop(),C&&(C.flags|=8,pe(j,h,g,b)),N&&et(N,g),et(()=>{h.isUnmounted=!0},g),g&&g.pendingBranch&&!g.isUnmounted&&h.asyncDep&&!h.asyncResolved&&h.suspenseId===g.pendingId&&(g.deps--,g.deps===0&&g.resolve())},Ae=(h,g,b,T=!1,k=!1,C=0)=>{for(let j=C;j<h.length;j++)pe(h[j],g,b,T,k)},R=h=>{if(h.shapeFlag&6)return R(h.component.subTree);if(h.shapeFlag&128)return h.suspense.next();const g=f(h.anchor||h.el),b=g&&g[Zg];return b?f(b):g};let H=!1;const $=(h,g,b)=>{h==null?g._vnode&&pe(g._vnode,null,null,!0):_(g._vnode||null,h,g,null,null,null,b),g._vnode=h,H||(H=!0,Pa(),Vc(),H=!1)},B={p:_,um:pe,m:he,r:ke,mt:We,mc:q,pc:te,pbc:se,n:R,o:e};return{render:$,hydrate:void 0,createApp:xm($)}}function Ci({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function os({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Um(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function du(e,t,s=!1){const n=e.children,r=t.children;if(X(n)&&X(r))for(let i=0;i<n.length;i++){const o=n[i];let a=r[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[i]=Xt(r[i]),a.el=o.el),!s&&a.patchFlag!==-2&&du(o,a)),a.type===ri&&(a.el=o.el),a.type===en&&!a.el&&(a.el=o.el)}}function Lm(e){const t=e.slice(),s=[0];let n,r,i,o,a;const l=e.length;for(n=0;n<l;n++){const c=e[n];if(c!==0){if(r=s[s.length-1],e[r]<c){t[n]=r,s.push(n);continue}for(i=0,o=s.length-1;i<o;)a=i+o>>1,e[s[a]]<c?i=a+1:o=a;c<e[s[i]]&&(i>0&&(t[n]=s[i-1]),s[i]=n)}}for(i=s.length,o=s[i-1];i-- >0;)s[i]=o,o=t[o];return s}function fu(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:fu(t)}function Na(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Nm=Symbol.for("v-scx"),jm=()=>ht(Nm);function Er(e,t,s){return hu(e,t,s)}function hu(e,t,s=me){const{immediate:n,deep:r,flush:i,once:o}=s,a=De({},s),l=t&&n||!t&&i!=="post";let c;if(Fn){if(i==="sync"){const p=jm();c=p.__watcherHandles||(p.__watcherHandles=[])}else if(!l){const p=()=>{};return p.stop=Ct,p.resume=Ct,p.pause=Ct,p}}const u=Ie;a.call=(p,w,_)=>Pt(p,u,w,_);let d=!1;i==="post"?a.scheduler=p=>{et(p,u&&u.suspense)}:i!=="sync"&&(d=!0,a.scheduler=(p,w)=>{w?p():Bo(p)}),a.augmentJob=p=>{t&&(p.flags|=4),d&&(p.flags|=2,u&&(p.id=u.uid,p.i=u))};const f=Gg(e,t,a);return Fn&&(c?c.push(f):l&&f()),f}function $m(e,t,s){const n=this.proxy,r=Te(e)?e.includes(".")?pu(n,e):()=>n[e]:e.bind(n,n);let i;Z(t)?i=t:(i=t.handler,s=t);const o=or(this),a=hu(r,i.bind(n),s);return o(),a}function pu(e,t){const s=t.split(".");return()=>{let n=e;for(let r=0;r<s.length&&n;r++)n=n[s[r]];return n}}const Mm=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${ct(t)}Modifiers`]||e[`${Rs(t)}Modifiers`];function Dm(e,t,...s){if(e.isUnmounted)return;const n=e.vnode.props||me;let r=s;const i=t.startsWith("update:"),o=i&&Mm(n,t.slice(7));o&&(o.trim&&(r=s.map(u=>Te(u)?u.trim():u)),o.number&&(r=s.map(pg)));let a,l=n[a=vi(t)]||n[a=vi(ct(t))];!l&&i&&(l=n[a=vi(Rs(t))]),l&&Pt(l,e,6,r);const c=n[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,Pt(c,e,6,r)}}function gu(e,t,s=!1){const n=t.emitsCache,r=n.get(e);if(r!==void 0)return r;const i=e.emits;let o={},a=!1;if(!Z(e)){const l=c=>{const u=gu(c,t,!0);u&&(a=!0,De(o,u))};!s&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!i&&!a?(Se(e)&&n.set(e,null),null):(X(i)?i.forEach(l=>o[l]=null):De(o,i),Se(e)&&n.set(e,o),o)}function ni(e,t){return!e||!Jr(t)?!1:(t=t.slice(2).replace(/Once$/,""),le(e,t[0].toLowerCase()+t.slice(1))||le(e,Rs(t))||le(e,t))}function ja(e){const{type:t,vnode:s,proxy:n,withProxy:r,propsOptions:[i],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:d,data:f,setupState:p,ctx:w,inheritAttrs:_}=e,y=Lr(e);let P,m;try{if(s.shapeFlag&4){const x=r||n,A=x;P=Rt(c.call(A,x,u,d,p,f,w)),m=a}else{const x=t;P=Rt(x.length>1?x(d,{attrs:a,slots:o,emit:l}):x(d,null)),m=t.props?a:Hm(a)}}catch(x){Un.length=0,ti(x,e,1),P=nt(en)}let v=P;if(m&&_!==!1){const x=Object.keys(m),{shapeFlag:A}=v;x.length&&A&7&&(i&&x.some(Ao)&&(m=qm(m,i)),v=tn(v,m,!1,!0))}return s.dirs&&(v=tn(v,null,!1,!0),v.dirs=v.dirs?v.dirs.concat(s.dirs):s.dirs),s.transition&&Wo(v,s.transition),P=v,Lr(y),P}const Hm=e=>{let t;for(const s in e)(s==="class"||s==="style"||Jr(s))&&((t||(t={}))[s]=e[s]);return t},qm=(e,t)=>{const s={};for(const n in e)(!Ao(n)||!(n.slice(9)in t))&&(s[n]=e[n]);return s};function Fm(e,t,s){const{props:n,children:r,component:i}=e,{props:o,children:a,patchFlag:l}=t,c=i.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return n?$a(n,o,c):!!o;if(l&8){const u=t.dynamicProps;for(let d=0;d<u.length;d++){const f=u[d];if(o[f]!==n[f]&&!ni(c,f))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:n===o?!1:n?o?$a(n,o,c):!0:!!o;return!1}function $a(e,t,s){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let r=0;r<n.length;r++){const i=n[r];if(t[i]!==e[i]&&!ni(s,i))return!0}return!1}function Bm({vnode:e,parent:t},s){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n===e)(e=t.vnode).el=s,t=t.parent;else break}}const mu=e=>e.__isSuspense;function Wm(e,t){t&&t.pendingBranch?X(e)?t.effects.push(...e):t.effects.push(e):Qg(e)}const Nt=Symbol.for("v-fgt"),ri=Symbol.for("v-txt"),en=Symbol.for("v-cmt"),Pi=Symbol.for("v-stc"),Un=[];let st=null;function wu(e=!1){Un.push(st=e?null:[])}function zm(){Un.pop(),st=Un[Un.length-1]||null}let qn=1;function Ma(e,t=!1){qn+=e,e<0&&st&&t&&(st.hasOnce=!0)}function _u(e){return e.dynamicChildren=qn>0?st||Os:null,zm(),qn>0&&st&&st.push(e),e}function Vm(e,t,s,n,r,i){return _u(Ln(e,t,s,n,r,i,!0))}function Km(e,t,s,n,r){return _u(nt(e,t,s,n,r,!0))}function jr(e){return e?e.__v_isVNode===!0:!1}function gn(e,t){return e.type===t.type&&e.key===t.key}const bu=({key:e})=>e??null,xr=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?Te(e)||Me(e)||Z(e)?{i:ot,r:e,k:t,f:!!s}:e:null);function Ln(e,t=null,s=null,n=0,r=null,i=e===Nt?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&bu(t),ref:t&&xr(t),scopeId:Gc,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:n,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:ot};return a?(Go(l,s),i&128&&e.normalize(l)):s&&(l.shapeFlag|=Te(s)?8:16),qn>0&&!o&&st&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&st.push(l),l}const nt=Gm;function Gm(e,t=null,s=null,n=0,r=null,i=!1){if((!e||e===gm)&&(e=en),jr(e)){const a=tn(e,t,!0);return s&&Go(a,s),qn>0&&!i&&st&&(a.shapeFlag&6?st[st.indexOf(e)]=a:st.push(a)),a.patchFlag=-2,a}if(aw(e)&&(e=e.__vccOpts),t){t=Jm(t);let{class:a,style:l}=t;a&&!Te(a)&&(t.class=Lo(a)),Se(l)&&(Fo(l)&&!X(l)&&(l=De({},l)),t.style=Uo(l))}const o=Te(e)?1:mu(e)?128:em(e)?64:Se(e)?4:Z(e)?2:0;return Ln(e,t,s,n,r,o,i,!0)}function Jm(e){return e?Fo(e)||iu(e)?De({},e):e:null}function tn(e,t,s=!1,n=!1){const{props:r,ref:i,patchFlag:o,children:a,transition:l}=e,c=t?Qm(r||{},t):r,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&bu(c),ref:t&&t.ref?s&&i?X(i)?i.concat(xr(t)):[i,xr(t)]:xr(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Nt?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&tn(e.ssContent),ssFallback:e.ssFallback&&tn(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&n&&Wo(u,l.clone(u)),u}function Xm(e=" ",t=0){return nt(ri,null,e,t)}function Rt(e){return e==null||typeof e=="boolean"?nt(en):X(e)?nt(Nt,null,e.slice()):jr(e)?Xt(e):nt(ri,null,String(e))}function Xt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:tn(e)}function Go(e,t){let s=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(X(t))s=16;else if(typeof t=="object")if(n&65){const r=t.default;r&&(r._c&&(r._d=!1),Go(e,r()),r._c&&(r._d=!0));return}else{s=32;const r=t._;!r&&!iu(t)?t._ctx=ot:r===3&&ot&&(ot.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Z(t)?(t={default:t,_ctx:ot},s=32):(t=String(t),n&64?(s=16,t=[Xm(t)]):s=8);e.children=t,e.shapeFlag|=s}function Qm(...e){const t={};for(let s=0;s<e.length;s++){const n=e[s];for(const r in n)if(r==="class")t.class!==n.class&&(t.class=Lo([t.class,n.class]));else if(r==="style")t.style=Uo([t.style,n.style]);else if(Jr(r)){const i=t[r],o=n[r];o&&i!==o&&!(X(i)&&i.includes(o))&&(t[r]=i?[].concat(i,o):o)}else r!==""&&(t[r]=n[r])}return t}function bt(e,t,s,n=null){Pt(e,t,7,[s,n])}const Ym=su();let Zm=0;function ew(e,t,s){const n=e.type,r=(t?t.appContext:e.appContext)||Ym,i={uid:Zm++,vnode:e,type:n,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Sg(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:au(n,r),emitsOptions:gu(n,r),emit:null,emitted:null,propsDefaults:me,inheritAttrs:n.inheritAttrs,ctx:me,data:me,props:me,attrs:me,slots:me,refs:me,setupState:me,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=Dm.bind(null,i),e.ce&&e.ce(i),i}let Ie=null;const tw=()=>Ie||ot;let $r,ao;{const e=Zr(),t=(s,n)=>{let r;return(r=e[s])||(r=e[s]=[]),r.push(n),i=>{r.length>1?r.forEach(o=>o(i)):r[0](i)}};$r=t("__VUE_INSTANCE_SETTERS__",s=>Ie=s),ao=t("__VUE_SSR_SETTERS__",s=>Fn=s)}const or=e=>{const t=Ie;return $r(e),e.scope.on(),()=>{e.scope.off(),$r(t)}},Da=()=>{Ie&&Ie.scope.off(),$r(null)};function vu(e){return e.vnode.shapeFlag&4}let Fn=!1;function sw(e,t=!1,s=!1){t&&ao(t);const{props:n,children:r}=e.vnode,i=vu(e);Rm(e,n,i,t),km(e,r,s||t);const o=i?nw(e,t):void 0;return t&&ao(!1),o}function nw(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,wm);const{setup:n}=s;if(n){Ht();const r=e.setupContext=n.length>1?iw(e):null,i=or(e),o=ir(n,e,0,[e.props,r]),a=_c(o);if(qt(),i(),(a||e.sp)&&!On(e)&&Jc(e),a){if(o.then(Da,Da),t)return o.then(l=>{Ha(e,l)}).catch(l=>{ti(l,e,0)});e.asyncDep=o}else Ha(e,o)}else yu(e)}function Ha(e,t,s){Z(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Se(t)&&(e.setupState=Fc(t)),yu(e)}function yu(e,t,s){const n=e.type;e.render||(e.render=n.render||Ct);{const r=or(e);Ht();try{_m(e)}finally{qt(),r()}}}const rw={get(e,t){return je(e,"get",""),e[t]}};function iw(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,rw),slots:e.slots,emit:e.emit,expose:t}}function Jo(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Fc(Fg(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in In)return In[s](e)},has(t,s){return s in t||s in In}})):e.proxy}function ow(e,t=!0){return Z(e)?e.displayName||e.name:e.name||t&&e.__name}function aw(e){return Z(e)&&"__vccOpts"in e}const tt=(e,t)=>Vg(e,t,Fn);function Su(e,t,s){const n=arguments.length;return n===2?Se(t)&&!X(t)?jr(t)?nt(e,null,[t]):nt(e,t):nt(e,null,t):(n>3?s=Array.prototype.slice.call(arguments,2):n===3&&jr(s)&&(s=[s]),nt(e,t,s))}const lw="3.5.17";/**
* @vue/runtime-dom v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let lo;const qa=typeof window<"u"&&window.trustedTypes;if(qa)try{lo=qa.createPolicy("vue",{createHTML:e=>e})}catch{}const Eu=lo?e=>lo.createHTML(e):e=>e,cw="http://www.w3.org/2000/svg",uw="http://www.w3.org/1998/Math/MathML",Lt=typeof document<"u"?document:null,Fa=Lt&&Lt.createElement("template"),dw={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,n)=>{const r=t==="svg"?Lt.createElementNS(cw,e):t==="mathml"?Lt.createElementNS(uw,e):s?Lt.createElement(e,{is:s}):Lt.createElement(e);return e==="select"&&n&&n.multiple!=null&&r.setAttribute("multiple",n.multiple),r},createText:e=>Lt.createTextNode(e),createComment:e=>Lt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Lt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,n,r,i){const o=s?s.previousSibling:t.lastChild;if(r&&(r===i||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),s),!(r===i||!(r=r.nextSibling)););else{Fa.innerHTML=Eu(n==="svg"?`<svg>${e}</svg>`:n==="mathml"?`<math>${e}</math>`:e);const a=Fa.content;if(n==="svg"||n==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,s)}return[o?o.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},fw=Symbol("_vtc");function hw(e,t,s){const n=e[fw];n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const Ba=Symbol("_vod"),pw=Symbol("_vsh"),gw=Symbol(""),mw=/(^|;)\s*display\s*:/;function ww(e,t,s){const n=e.style,r=Te(s);let i=!1;if(s&&!r){if(t)if(Te(t))for(const o of t.split(";")){const a=o.slice(0,o.indexOf(":")).trim();s[a]==null&&Rr(n,a,"")}else for(const o in t)s[o]==null&&Rr(n,o,"");for(const o in s)o==="display"&&(i=!0),Rr(n,o,s[o])}else if(r){if(t!==s){const o=n[gw];o&&(s+=";"+o),n.cssText=s,i=mw.test(s)}}else t&&e.removeAttribute("style");Ba in e&&(e[Ba]=i?n.display:"",e[pw]&&(n.display="none"))}const Wa=/\s*!important$/;function Rr(e,t,s){if(X(s))s.forEach(n=>Rr(e,t,n));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const n=_w(e,t);Wa.test(s)?e.setProperty(Rs(n),s.replace(Wa,""),"important"):e[n]=s}}const za=["Webkit","Moz","ms"],ki={};function _w(e,t){const s=ki[t];if(s)return s;let n=ct(t);if(n!=="filter"&&n in e)return ki[t]=n;n=Yr(n);for(let r=0;r<za.length;r++){const i=za[r]+n;if(i in e)return ki[t]=i}return t}const Va="http://www.w3.org/1999/xlink";function Ka(e,t,s,n,r,i=vg(t)){n&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(Va,t.slice(6,t.length)):e.setAttributeNS(Va,t,s):s==null||i&&!yc(s)?e.removeAttribute(t):e.setAttribute(t,i?"":ns(s)?String(s):s)}function Ga(e,t,s,n,r){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?Eu(s):s);return}const i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?e.getAttribute("value")||"":e.value,l=s==null?e.type==="checkbox"?"on":"":String(s);(a!==l||!("_value"in e))&&(e.value=l),s==null&&e.removeAttribute(t),e._value=s;return}let o=!1;if(s===""||s==null){const a=typeof e[t];a==="boolean"?s=yc(s):s==null&&a==="string"?(s="",o=!0):a==="number"&&(s=0,o=!0)}try{e[t]=s}catch{}o&&e.removeAttribute(r||t)}function bw(e,t,s,n){e.addEventListener(t,s,n)}function vw(e,t,s,n){e.removeEventListener(t,s,n)}const Ja=Symbol("_vei");function yw(e,t,s,n,r=null){const i=e[Ja]||(e[Ja]={}),o=i[t];if(n&&o)o.value=n;else{const[a,l]=Sw(t);if(n){const c=i[t]=Rw(n,r);bw(e,a,c,l)}else o&&(vw(e,a,o,l),i[t]=void 0)}}const Xa=/(?:Once|Passive|Capture)$/;function Sw(e){let t;if(Xa.test(e)){t={};let n;for(;n=e.match(Xa);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Rs(e.slice(2)),t]}let Ai=0;const Ew=Promise.resolve(),xw=()=>Ai||(Ew.then(()=>Ai=0),Ai=Date.now());function Rw(e,t){const s=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=s.attached)return;Pt(Tw(n,s.value),t,5,[n])};return s.value=e,s.attached=xw(),s}function Tw(e,t){if(X(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(n=>r=>!r._stopped&&n&&n(r))}else return t}const Qa=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Cw=(e,t,s,n,r,i)=>{const o=r==="svg";t==="class"?hw(e,n,o):t==="style"?ww(e,s,n):Jr(t)?Ao(t)||yw(e,t,s,n,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Pw(e,t,n,o))?(Ga(e,t,n),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Ka(e,t,n,o,i,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Te(n))?Ga(e,ct(t),n,i,t):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),Ka(e,t,n,o))};function Pw(e,t,s,n){if(n)return!!(t==="innerHTML"||t==="textContent"||t in e&&Qa(t)&&Z(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const r=e.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return Qa(t)&&Te(s)?!1:t in e}const kw=De({patchProp:Cw},dw);let Ya;function Aw(){return Ya||(Ya=Om(kw))}const Ow=(...e)=>{const t=Aw().createApp(...e),{mount:s}=t;return t.mount=n=>{const r=Uw(n);if(!r)return;const i=t._component;!Z(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const o=s(r,!1,Iw(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},t};function Iw(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Uw(e){return Te(e)?document.querySelector(e):e}const Lw=()=>{const e=ht("$authService");if(!e)throw new Error("AuthService is not provided");return e};var tr,Qs,Fr,xu;class Nw extends lg{constructor(s,n){super(s);K(this,Fr);K(this,tr,[]);K(this,Qs);V(this,"isRenewingRef",ls());V(this,"isAuthenticatedRef",ls());V(this,"userProfileRef",ls());V(this,"userSessionRef",ls());V(this,"idTokenRef",ls());V(this,"idTokenDecodedRef",tt(()=>this.idTokenRef.value?Ee.decodeJwt(this.idTokenRef.value):void 0));V(this,"accessTokenRef",ls());V(this,"accessTokenDecodedRef",tt(()=>this.accessTokenRef.value?Ee.decodeJwt(this.accessTokenRef.value):void 0));ie(this,Qs,n),F(this,Fr,xu).call(this)}destroy(){S(this,tr).forEach(s=>{s.unsubscribe()})}}tr=new WeakMap,Qs=new WeakMap,Fr=new WeakSet,xu=function(){S(this,tr).push(this.manager.onIdTokenChanged(s=>{this.idTokenRef.value=s}),this.manager.onAccessTokenChanged(s=>{this.accessTokenRef.value=s}),this.manager.onUserProfileChanged(s=>{this.userProfileRef.value=s}),this.manager.onUserSessionChanged(s=>{this.userSessionRef.value=s}),this.manager.onAuthenticatedChanged(s=>{this.isAuthenticatedRef.value=s}),this.manager.onRenewingChanged(s=>{this.isRenewingRef.value=s}),this.manager.onRedirect(s=>{const n=s.href.replace(Ee.getBaseUrl(),"");S(this,Qs).isReady().then(()=>S(this,Qs).push(n))}))};const jw=async(e,t)=>Lw().runGuard(e,t),$w=async e=>{const t=await ag(e);return{install:(s,{router:n})=>{const r=new Nw(t,n);s.provide("$authService",r),s.config.globalProperties.$authService=r,n.beforeEach(async i=>i.meta.authGuard?await jw(i.fullPath,typeof i.meta.authGuard=="object"?i.meta.authGuard:void 0):!0)}}};/**
 * @license GPL-3.0-only
 * Package @badisi/auth-vue <https://github.com/Badisi/auth-js/tree/main/libs/auth-vue>
 * Released under GNU General Public License v3.0 only <https://github.com/Badisi/auth-js/blob/main/LICENSE>
 * SPDX-License-Identifier: GPL-3.0-only
 * Copyright (C) 2018 Badisi
 */lt.init("@badisi/auth-vue");/*! Capacitor: https://capacitorjs.com/ - MIT License */const Mw=e=>{const t=new Map;t.set("web",{name:"web"});const s=e.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:t},n=(i,o)=>{s.platforms.set(i,o)},r=i=>{s.platforms.has(i)&&(s.currentPlatform=s.platforms.get(i))};return s.addPlatform=n,s.setPlatform=r,s},Dw=e=>e.CapacitorPlatforms=Mw(e),Ru=Dw(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});Ru.addPlatform;Ru.setPlatform;var sn;(function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"})(sn||(sn={}));class Oi extends Error{constructor(t,s,n){super(t),this.message=t,this.code=s,this.data=n}}const Hw=e=>{var t,s;return e!=null&&e.androidBridge?"android":!((s=(t=e==null?void 0:e.webkit)===null||t===void 0?void 0:t.messageHandlers)===null||s===void 0)&&s.bridge?"ios":"web"},qw=e=>{var t,s,n,r,i;const o=e.CapacitorCustomPlatform||null,a=e.Capacitor||{},l=a.Plugins=a.Plugins||{},c=e.CapacitorPlatforms,u=()=>o!==null?o.name:Hw(e),d=((t=c==null?void 0:c.currentPlatform)===null||t===void 0?void 0:t.getPlatform)||u,f=()=>d()!=="web",p=((s=c==null?void 0:c.currentPlatform)===null||s===void 0?void 0:s.isNativePlatform)||f,w=U=>{const q=x.get(U);return!!(q!=null&&q.platforms.has(d())||P(U))},_=((n=c==null?void 0:c.currentPlatform)===null||n===void 0?void 0:n.isPluginAvailable)||w,y=U=>{var q;return(q=a.PluginHeaders)===null||q===void 0?void 0:q.find(I=>I.name===U)},P=((r=c==null?void 0:c.currentPlatform)===null||r===void 0?void 0:r.getPluginHeader)||y,m=U=>e.console.error(U),v=(U,q,I)=>Promise.reject(`${I} does not have an implementation of "${q}".`),x=new Map,A=(U,q={})=>{const I=x.get(U);if(I)return console.warn(`Capacitor plugin "${U}" already registered. Cannot register plugins twice.`),I.proxy;const se=d(),ne=P(U);let ce;const ve=async()=>(!ce&&se in q?ce=typeof q[se]=="function"?ce=await q[se]():ce=q[se]:o!==null&&!ce&&"web"in q&&(ce=typeof q.web=="function"?ce=await q.web():ce=q.web),ce),We=(fe,he)=>{var pe,ke;if(ne){const He=ne==null?void 0:ne.methods.find(Ne=>he===Ne.name);if(He)return He.rtype==="promise"?Ne=>a.nativePromise(U,he.toString(),Ne):(Ne,Ae)=>a.nativeCallback(U,he.toString(),Ne,Ae);if(fe)return(pe=fe[he])===null||pe===void 0?void 0:pe.bind(fe)}else{if(fe)return(ke=fe[he])===null||ke===void 0?void 0:ke.bind(fe);throw new Oi(`"${U}" plugin is not implemented on ${se}`,sn.Unimplemented)}},Pe=fe=>{let he;const pe=(...ke)=>{const He=ve().then(Ne=>{const Ae=We(Ne,fe);if(Ae){const R=Ae(...ke);return he=R==null?void 0:R.remove,R}else throw new Oi(`"${U}.${fe}()" is not implemented on ${se}`,sn.Unimplemented)});return fe==="addListener"&&(He.remove=async()=>he()),He};return pe.toString=()=>`${fe.toString()}() { [capacitor code] }`,Object.defineProperty(pe,"name",{value:fe,writable:!1,configurable:!1}),pe},de=Pe("addListener"),ee=Pe("removeListener"),te=(fe,he)=>{const pe=de({eventName:fe},he),ke=async()=>{const Ne=await pe;ee({eventName:fe,callbackId:Ne},he)},He=new Promise(Ne=>pe.then(()=>Ne({remove:ke})));return He.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await ke()},He},Le=new Proxy({},{get(fe,he){switch(he){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return ne?te:de;case"removeListener":return ee;default:return Pe(he)}}});return l[U]=Le,x.set(U,{name:U,proxy:Le,platforms:new Set([...Object.keys(q),...ne?[se]:[]])}),Le},D=((i=c==null?void 0:c.currentPlatform)===null||i===void 0?void 0:i.registerPlugin)||A;return a.convertFileSrc||(a.convertFileSrc=U=>U),a.getPlatform=d,a.handleError=m,a.isNativePlatform=p,a.isPluginAvailable=_,a.pluginMethodNoop=v,a.registerPlugin=D,a.Exception=Oi,a.DEBUG=!!a.DEBUG,a.isLoggingEnabled=!!a.isLoggingEnabled,a.platform=a.getPlatform(),a.isNative=a.isNativePlatform(),a},Fw=e=>e.Capacitor=qw(e),Mr=Fw(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Tu=Mr.registerPlugin;Mr.Plugins;class Cu{constructor(t){this.listeners={},this.windowListeners={},t&&(console.warn(`Capacitor WebPlugin "${t.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=t)}addListener(t,s){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(s);const r=this.windowListeners[t];r&&!r.registered&&this.addWindowListener(r);const i=async()=>this.removeListener(t,s),o=Promise.resolve({remove:i});return Object.defineProperty(o,"remove",{value:async()=>{console.warn("Using addListener() without 'await' is deprecated."),await i()}}),o}async removeAllListeners(){this.listeners={};for(const t in this.windowListeners)this.removeWindowListener(this.windowListeners[t]);this.windowListeners={}}notifyListeners(t,s){const n=this.listeners[t];n&&n.forEach(r=>r(s))}hasListeners(t){return!!this.listeners[t].length}registerWindowListener(t,s){this.windowListeners[s]={registered:!1,windowEventName:t,pluginEventName:s,handler:n=>{this.notifyListeners(s,n)}}}unimplemented(t="not implemented"){return new Mr.Exception(t,sn.Unimplemented)}unavailable(t="not available"){return new Mr.Exception(t,sn.Unavailable)}async removeListener(t,s){const n=this.listeners[t];if(!n)return;const r=n.indexOf(s);this.listeners[t].splice(r,1),this.listeners[t].length||this.removeWindowListener(this.windowListeners[t])}addWindowListener(t){window.addEventListener(t.windowEventName,t.handler),t.registered=!0}removeWindowListener(t){t&&(window.removeEventListener(t.windowEventName,t.handler),t.registered=!1)}}const Za=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),el=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class Bw extends Cu{async getCookies(){const t=document.cookie,s={};return t.split(";").forEach(n=>{if(n.length<=0)return;let[r,i]=n.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");r=el(r).trim(),i=el(i).trim(),s[r]=i}),s}async setCookie(t){try{const s=Za(t.key),n=Za(t.value),r=`; expires=${(t.expires||"").replace("expires=","")}`,i=(t.path||"/").replace("path=",""),o=t.url!=null&&t.url.length>0?`domain=${t.url}`:"";document.cookie=`${s}=${n||""}${r}; path=${i}; ${o};`}catch(s){return Promise.reject(s)}}async deleteCookie(t){try{document.cookie=`${t.key}=; Max-Age=0`}catch(s){return Promise.reject(s)}}async clearCookies(){try{const t=document.cookie.split(";")||[];for(const s of t)document.cookie=s.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(t){return Promise.reject(t)}}async clearAllCookies(){try{await this.clearCookies()}catch(t){return Promise.reject(t)}}}Tu("CapacitorCookies",{web:()=>new Bw});const Ww=async e=>new Promise((t,s)=>{const n=new FileReader;n.onload=()=>{const r=n.result;t(r.indexOf(",")>=0?r.split(",")[1]:r)},n.onerror=r=>s(r),n.readAsDataURL(e)}),zw=(e={})=>{const t=Object.keys(e);return Object.keys(e).map(r=>r.toLocaleLowerCase()).reduce((r,i,o)=>(r[i]=e[t[o]],r),{})},Vw=(e,t=!0)=>e?Object.entries(e).reduce((n,r)=>{const[i,o]=r;let a,l;return Array.isArray(o)?(l="",o.forEach(c=>{a=t?encodeURIComponent(c):c,l+=`${i}=${a}&`}),l.slice(0,-1)):(a=t?encodeURIComponent(o):o,l=`${i}=${a}`),`${n}&${l}`},"").substr(1):null,Kw=(e,t={})=>{const s=Object.assign({method:e.method||"GET",headers:e.headers},t),r=zw(e.headers)["content-type"]||"";if(typeof e.data=="string")s.body=e.data;else if(r.includes("application/x-www-form-urlencoded")){const i=new URLSearchParams;for(const[o,a]of Object.entries(e.data||{}))i.set(o,a);s.body=i.toString()}else if(r.includes("multipart/form-data")||e.data instanceof FormData){const i=new FormData;if(e.data instanceof FormData)e.data.forEach((a,l)=>{i.append(l,a)});else for(const a of Object.keys(e.data))i.append(a,e.data[a]);s.body=i;const o=new Headers(s.headers);o.delete("content-type"),s.headers=o}else(r.includes("application/json")||typeof e.data=="object")&&(s.body=JSON.stringify(e.data));return s};class Gw extends Cu{async request(t){const s=Kw(t,t.webFetchExtra),n=Vw(t.params,t.shouldEncodeUrlParams),r=n?`${t.url}?${n}`:t.url,i=await fetch(r,s),o=i.headers.get("content-type")||"";let{responseType:a="text"}=i.ok?t:{};o.includes("application/json")&&(a="json");let l,c;switch(a){case"arraybuffer":case"blob":c=await i.blob(),l=await Ww(c);break;case"json":l=await i.json();break;case"document":case"text":default:l=await i.text()}const u={};return i.headers.forEach((d,f)=>{u[f]=d}),{data:l,headers:u,status:i.status,url:i.url}}async get(t){return this.request(Object.assign(Object.assign({},t),{method:"GET"}))}async post(t){return this.request(Object.assign(Object.assign({},t),{method:"POST"}))}async put(t){return this.request(Object.assign(Object.assign({},t),{method:"PUT"}))}async patch(t){return this.request(Object.assign(Object.assign({},t),{method:"PATCH"}))}async delete(t){return this.request(Object.assign(Object.assign({},t),{method:"DELETE"}))}}Tu("CapacitorHttp",{web:()=>new Gw});const xn=(e,t=[])=>{const s=/^( *)("[\w-]+": )?("[^"]*"|[\w.+-]*)?([,[{])?$/mg,n=(r,i,o,a,l)=>{let c=i||"";const u=o?o.replace(/[": ]/g,""):void 0;if(u&&(c+=`<span class="json-key">${u}</span>: `),a&&(c+=`<span class="${a.startsWith('"')?"json-string":"json-value"}">${a}</span>`,u&&t.includes(u))){const d=new Date(Number(a)*1e3),f=`${d.toDateString()}, ${d.toLocaleTimeString()}`;f&&(c+=` <span class="json-date">(${f})</span>`)}return c+(l||"")};return e?JSON.stringify(e,null,2).replace(/&/g,"&amp;").replace(/\\"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(s,n):""},Jw=()=>(e,t)=>{var a,l;const{otherSettings:s,librarySettings:n}=window.appSettings.getCurrentSettings(),r=s?(s.roles??"").split(","):[];let i;if(n.authorityUrl.includes("auth0"))i=t["http://ngx-auth.com/roles"];else if(n.authorityUrl.includes("zitadel")){const c=t["urn:zitadel:iam:org:project:roles"];i=Object.keys(c??{})}else i=(l=(a=t==null?void 0:t.resource_access)==null?void 0:a.account)==null?void 0:l.roles;return r.every(c=>(i??[]).includes(c))?!0:"forbidden"},ar=`
    .flex {
        flex: 1;
    }

    .hidden {
        display: none !important;
    }

    .row {
        display: flex;
        flex-direction: row;
    }

    .column {
        display: flex;
        flex-direction: column;
    }

    .card {
        border: 1px solid rgba(0, 0, 0, 0.12);
        border-radius: 4px;
        background-color: white;
        margin: 12px 6px;
    }

    .card .card-status {
        display: block;
        width: 10px;
        height: 10px;
        border-radius: 50%;
        margin-left: 8px;
        background-color: #f2f2f2;
    }
    .card .card-status.error {
        background-color: #ef5350;
    }
    .card .card-status.success {
        background-color: #66bb6a;
    }

    .card .card-title {
        padding: 16px;
        font-size: 20px;
        font-weight: 500;
        color: rgba(0, 0, 0, 0.87);
        align-items: center;
    }

    .card .box {
        height: 200px;
        border-top: 1px solid lightgray;
        word-break: break-all;
        overflow: auto;
        background-color: #f2f2f2;
        padding: 12px;
    }
    .card .box pre {
        margin: 0;
    }

    .card .card-actions {
        padding: 0 14px 8px 14px;
        min-height: 50px;
    }
    .card .card-actions .input {
        display: flex;
        align-items: center;
    }
    .card .card-actions .input:not(:last-child) {
        margin-bottom: 8px;
    }
    .card .card-actions .input label {
        width: 125px;
        text-align: right;
        margin-right: 14px;
    }
    .card .card-actions .input input {
        padding: 4px;
    }

    .json-key {
        color: rgb(124, 77, 255);
    }

    .json-value {
        color: rgb(67, 122, 237);
    }

    .json-string {
        color: rgb(83, 160, 83);
    }

    .json-date {
        color: rgb(200, 56, 198);
    }

    input {
        color: #5e35b1;
        padding: 10px;
        border: 1px solid #0000001f;
        border-radius: 4px;
        font-size: 14px;
    }

    input:invalid {
        border-color: #f44336;
    }

    input[type="checkbox"] {
        margin-right: 10px;
    }

    select {
        color: #5e35b1;
        padding: 8px 6px;
        border: 1px solid #0000001f;
        border-radius: 4px;
    }

    button {
        cursor: pointer;
    }

    @media only screen and (max-width: 600px) {
        :host {
            padding: 0 !important;
            padding-bottom: 24px !important;
        }

        :host .card {
            border-left: 0;
            border-right: 0;
            border-radius: 0;
            margin: 0;
            margin-bottom: 6px;
        }
    }
`,Pu=document.createElement("template");Pu.innerHTML=`
    <style>
        ${ar}

        :host {
            display: flex;
            flex: 1;
            flex-direction: column;
            padding: 20px 28px;
        }

        :host .info {
            margin: 16px;
        }

        :host .info .title {
            min-width: 130px;
        }

        :host .info .value {
            overflow-x: auto;
            white-space: pre-wrap;
            word-wrap: break-word;
        }

        :host .info code {
            width: 100%;
        }
    </style>

    <div class="card">
        <div class="info column">
            <div class="title">Authenticated</div>
            <code>
                <pre id="isAuthenticated" class="value json-value"></pre>
            </code>
        </div>

        <div class="info column">
            <div class="title">User session</div>
            <code>
                <pre id="userSession" class="value"></pre>
            </code>
        </div>

        <div class="info column">
            <div class="title">Access token</div>
            <code>
                <pre id="accessToken" class="value json-value"></pre>
                <pre id="accessTokenDecoded" class="value"></pre>
            </code>
        </div>

        <div class="info column">
            <div class="title">Id token</div>
            <code>
                <pre id="idToken" class="value json-value"></pre>
                <pre id="idTokenDecoded" class="value"></pre>
            </code>
        </div>

        <div class="info column">
            <div class="title">User profile</div>
            <code>
                <pre id="userProfile" class="value"></pre>
            </code>
        </div>
    </div>
`;class Xw extends HTMLElement{constructor(){var t;super(),this.attachShadow({mode:"open"}),(t=this.shadowRoot)==null||t.appendChild(document.importNode(Pu.content,!0)),this.isAuthenticated=!1,this.userSession=void 0,this.accessToken=void 0,this.accessTokenDecoded=void 0,this.idToken=void 0,this.idTokenDecoded=void 0,this.userProfile=void 0}set isAuthenticated(t){t!==null&&this.update("#isAuthenticated",typeof t=="boolean"?String(t):t)}set userSession(t){this.update("#userSession",xn(t,["expires_at"]))}set accessToken(t){this.update("#accessToken",t)}set accessTokenDecoded(t){const s=typeof t!="string"?xn(t,["exp","iat","auth_time"]):"(no decoded info as it is not a JWT token)";this.update("#accessTokenDecoded",s)}set idToken(t){this.update("#idToken",t)}set idTokenDecoded(t){this.update("#idTokenDecoded",xn(t,["exp","iat","auth_time"]))}set userProfile(t){this.update("#userProfile",xn(t))}connectedCallback(){}disconnectedCallback(){}update(t,s){var r,i,o;const n=(r=this.shadowRoot)==null?void 0:r.querySelector(t);n&&(s==null||s===""?(i=n.closest(".info"))==null||i.classList.add("hidden"):((o=n.closest(".info"))==null||o.classList.remove("hidden"),n.innerHTML=s))}}window.customElements.define("demo-app-debug",Xw);const ku=document.createElement("template");ku.innerHTML=`
    <style>
        ${ar}

        :host header {
            z-index: 1;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            padding: calc(8px + var(--safe-area-inset-top)) 16px 30px 16px;
            align-items: center;
            justify-content: space-between;
            height: 142px;
            color: white;
            background: rgb(103, 58, 183);
            background: linear-gradient(180deg, rgba(103, 58, 183, 1) 0%, rgba(94, 53, 177, 1) 100%);
        }

        :host header .row {
            align-items: center;
        }

        :host header .row.top {
            width: 100%;
            gap: 14px;
        }

        :host header .row.select {
            font-size: 1.4em;
            color: #ede7f6;
            padding-bottom: 4px;
        }

        :host header h1 {
            font-size: 18px;
            font-weight: 200;
            letter-spacing: 1px;
            color: #ede7f6;
            margin: 0;
            text-transform: uppercase;
        }

        :host header a.doc {
            padding: 4px 16px;
            font-size: 16px;
            color: white;
            text-decoration: none;
        }

        :host header a.github-icon {
            right: 34px;
            width: 26px;
            height: 26px;
            color: white;
            text-decoration: none;
        }

        @keyframes statusLoadingAnimation {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        :host header .status.loading {
            background: none !important;
        }

        :host header .status.loading:after {
            display: block;
            content: " ";
            width: 11px;
            height: 11px;
            border-radius: 50%;
            border: 2px solid #fff;
            border-color: #fff transparent #fff transparent;
            animation: statusLoadingAnimation 1.2s linear infinite;
        }

        :host header .status.not-authenticated {
            background-color: #EC407A;
        }

        :host header .status.authenticated {
            background-color: #7CB342;
        }

        :host header .status {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            margin-top: 1px;
            margin-right: 8px;
        }

        :host header .title {
            display: flex;
            align-items: center;
            cursor: pointer;
            font-size: 18px;
            font-weight: bold;
            color: white;
            text-decoration: none;
        }

        :host header .title .icon {
            font-size: 22px;
            margin-right: 0.5rem;
        }

        :host header select {
            cursor: pointer;
            font-size: 1.1em;
            font-weight: bold;
            color: #ede7f6;
            background: rgba(0, 0, 0, 0.01);  /** fix for Safari Mobile so that select's icon is visible */
            border: none;
            outline: none;
            padding: 0;
            margin: 0;
        }

        :host header button {
            margin-top: 2px;
        }

        :host header button:not(:last-child) {
            margin-right: 10px;
        }

        :host header .content {
            align-items: center;
            gap: 10px;
        }

        @media only screen and (max-width: 1000px) {
            :host header {
                padding-bottom: 24px;
                height: 148px;
            }

            :host header .row.select {
                font-size: 1.1em;
            }

            :host header a.doc {
                padding-right: 6px;
            }

            :host header .content {
                gap: 2px;
            }
        }
    </style>

    <header class="column">
        <div class="row top" style="height: 44px;">
            <a class="title"
                href="https://badisi.github.io/auth-js/"
                target="_self">
                <span class="icon">🛡️</span>Auth-js
            </a>

            <div class="status loading"></div>

            <span style="flex: 1"></span>

            <a class="doc"
                href="https://badisi.github.io/auth-js/getting-started/playground"
                target="_self">
                <span>
                    Documentation
                    <svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24">
                        <path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path>
                    </svg>
                </span>
            </a>

            <a class="github-icon"
                href="https://github.com/Badisi/auth-js"
                target="_self"
                title="View it on GitHub"
                aria-label="GitHub repository">
                <span>
                    <svg viewBox="0 0 24 24"
                        xmlns="http://www.w3.org/2000/svg">
                        <path fill="currentColor"
                            d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12">
                        </path>
                    </svg>
                </span>
            </a>
        </div>

        <div class="column content">
            <h1>Playground</h1>

            <div class="row select">
                <span>&#123;&nbsp;<select id="implementation-select"></select>&nbsp;&#125;</span>
                &nbsp;&nbsp;
                <span>&#123;&nbsp;<select id="setting-select"></select>&nbsp;&#125;</span>
            </div>

            <div class="row">
                <button id="login-button">LOGIN</button>
                <button id="logout-button">LOGOUT</button>
                <button id="silent-renew-button">SILENT RENEW</button>
            </div>
        </div>
    </header>
`;class Qw extends HTMLElement{constructor(){var s,n,r,i,o,a,l;super();V(this,"listeners",[]);V(this,"implSelectEl");V(this,"settingsSelectEl");V(this,"statusEl");V(this,"loginButtonEl");V(this,"logoutButtonEl");V(this,"silentRenewButtonEl");this.attachShadow({mode:"open"}),(s=this.shadowRoot)==null||s.appendChild(document.importNode(ku.content,!0)),this.implSelectEl=(n=this.shadowRoot)==null?void 0:n.querySelector("#implementation-select"),this.settingsSelectEl=(r=this.shadowRoot)==null?void 0:r.querySelector("#setting-select"),this.statusEl=(i=this.shadowRoot)==null?void 0:i.querySelector(".status"),this.loginButtonEl=(o=this.shadowRoot)==null?void 0:o.querySelector("#login-button"),this.logoutButtonEl=(a=this.shadowRoot)==null?void 0:a.querySelector("#logout-button"),this.silentRenewButtonEl=(l=this.shadowRoot)==null?void 0:l.querySelector("#silent-renew-button")}set isRenewing(s){this.statusEl&&this.statusEl.classList[s?"add":"remove"]("loading")}set isAuthenticated(s){this.statusEl&&s!==null&&s!==void 0&&(this.statusEl.classList.remove("loading"),this.statusEl.title=s?"Authenticated":"Not authenticated",this.statusEl.classList[s?"add":"remove"]("authenticated"),this.statusEl.classList[s?"remove":"add"]("not-authenticated"))}connectedCallback(){var n,r;if(window.location.href.includes(":4200")){const i=document.createElement("option");i.textContent="localhost",(n=this.implSelectEl)==null||n.appendChild(i)}else{window.appSettings.getLibraryImplementations().forEach(o=>{var l;const a=document.createElement("option");a.value=String(o.label),a.textContent=o.label,(l=this.implSelectEl)==null||l.appendChild(a)});const i=()=>{var a;const o=(a=this.implSelectEl)==null?void 0:a.selectedIndex;o!==void 0&&(window.location.href=window.appSettings.getLibraryImplementations()[o].demoUrl)};(r=this.implSelectEl)==null||r.addEventListener("change",i),this.listeners.push(()=>{var o;(o=this.implSelectEl)==null||o.removeEventListener("change",i)})}window.appSettings.getSettings().forEach(i=>{var a;const o=document.createElement("option");o.value=String(i.name),o.textContent=i.name,(a=this.settingsSelectEl)==null||a.appendChild(o)}),this.refreshImplementation(),this.refreshSettings(),this.addEventListeners();const s=i=>{const o=i.options[i.selectedIndex].text||"",a=document.createElement("span");a.textContent=o;const l=window.getComputedStyle(i);a.style.font=l.font,a.style.fontSize=l.fontSize,a.style.fontFamily=l.fontFamily,a.style.fontWeight=l.fontWeight,a.style.letterSpacing=l.letterSpacing,a.style.whiteSpace="nowrap",a.style.position="absolute",a.style.visibility="hidden",a.style.top="-9999px",document.body.appendChild(a);const c=a.offsetWidth;a.remove();const u=/iP(hone|ad|od)/.test(navigator.userAgent)&&!!/WebKit/.exec(navigator.userAgent)&&!/CriOS|FxiOS/.exec(navigator.userAgent)?40:navigator.userAgent.includes("Chrome")?25:35,d=Math.ceil(c+u);i.style.width=`${d}px`};window.requestAnimationFrame(()=>{this.implSelectEl&&s(this.implSelectEl),this.settingsSelectEl&&s(this.settingsSelectEl)})}disconnectedCallback(){this.listeners.forEach(s=>{s()})}addEventListeners(){var o,a,l,c;const s=()=>{this.settingsSelectEl&&(window.appSettings.setCurrentSettingsIndex(this.settingsSelectEl.selectedIndex),location.reload())};(o=this.settingsSelectEl)==null||o.addEventListener("change",s);const n=()=>this.dispatchEvent(new Event("login",{bubbles:!0,composed:!0}));(a=this.loginButtonEl)==null||a.addEventListener("click",n);const r=()=>this.dispatchEvent(new Event("logout",{bubbles:!0,composed:!0}));(l=this.logoutButtonEl)==null||l.addEventListener("click",r);const i=()=>this.dispatchEvent(new Event("silentRenew",{bubbles:!0,composed:!0}));(c=this.silentRenewButtonEl)==null||c.addEventListener("click",i),this.listeners.push(()=>{var u;(u=this.settingsSelectEl)==null||u.removeEventListener("change",s)},()=>{var u;(u=this.loginButtonEl)==null||u.removeEventListener("click",n)},()=>{var u;(u=this.logoutButtonEl)==null||u.removeEventListener("click",r)},()=>{var u;(u=this.silentRenewButtonEl)==null||u.removeEventListener("click",i)})}refreshImplementation(){const s=window.appSettings.getLibraryImplementations();if(window.location.href.includes(":4200"))this.implSelectEl&&(this.implSelectEl.selectedIndex=0);else{const n=s.findIndex(r=>window.location.href.includes(r.demoUrl));this.implSelectEl&&(this.implSelectEl.selectedIndex=n!==-1?n:0)}}refreshSettings(){this.settingsSelectEl&&(this.settingsSelectEl.selectedIndex=window.appSettings.get().currentSettingsIndex)}}window.customElements.define("demo-app-header",Qw);const Au=document.createElement("template");Au.innerHTML=`
    <style>
        ${ar}

        :host .tabs {
            position: fixed;
            top: calc(180px + var(--safe-area-inset-top));
            left: 0;
            right: 0;
            z-index: 1;
            align-self: normal;
            padding: 10px 0;
            padding-left: 36px;
            background-color: #7043bf;
            box-shadow: 0 3px 5px -1px #0003, 0 6px 10px #00000024, 0 1px 18px #0000001f;
        }

        :host .tabs a {
            cursor: pointer;
            color: white;
            padding: 8px 16px;
            border-radius: 4px;
            transition: background-color 150ms cubic-bezier(0.35, 0, 0.25, 1);
        }

        :host .tabs a.selected {
            background-color: #512da8;
        }

        :host .tabs a:hover {
            background-color: #4527a0;
        }

        :host .tabs a:not(:last-child) {
            margin-right: 10px;
        }

        :host .tabs-content {
            position: fixed;
            top: calc(180px + 55px + var(--safe-area-inset-top));
            left: 0;
            right: 0;
            bottom: calc(0px + var(--safe-area-inset-bottom));
            overflow: auto;
        }

        @media only screen and (max-width: 600px) {
            :host .tabs {
                padding-left: 0;
                justify-content: center;
            }
        }
    </style>

    <demo-app-header></demo-app-header>
    <nav id="tabs" class="tabs row"></nav>
    <div class="tabs-content">
        <slot id="views"></slot>
    </div>
`;class Yw extends HTMLElement{constructor(){var s,n,r;super();V(this,"listeners",[]);V(this,"tabsContentEl");V(this,"demoAppHeaderEl");V(this,"tabs",[]);V(this,"views",[]);V(this,"currentTabIndex",-1);this.attachShadow({mode:"open"}),(s=this.shadowRoot)==null||s.appendChild(document.importNode(Au.content,!0)),this.tabsContentEl=(n=this.shadowRoot)==null?void 0:n.querySelector(".tabs-content"),this.demoAppHeaderEl=(r=this.shadowRoot)==null?void 0:r.querySelector("demo-app-header")}set isRenewing(s){this.demoAppHeaderEl&&(this.demoAppHeaderEl.isRenewing=s)}set isAuthenticated(s){this.demoAppHeaderEl&&(this.demoAppHeaderEl.isAuthenticated=s)}connectedCallback(){this.drawTabs(),this.showView(window.appSettings.get().currentTabIndex)}disconnectedCallback(){this.listeners.forEach(s=>{s()})}drawTabs(){var r,i;const s=(r=this.shadowRoot)==null?void 0:r.querySelector("#views"),n=(i=this.shadowRoot)==null?void 0:i.querySelector("#tabs");s&&n&&(this.views=s.assignedElements(),this.views.forEach((o,a)=>{o.style.display="none";const l=document.createElement("a");l.id=`${(o.getAttribute("tabLabel")??"?").toLowerCase()}-button`,l.textContent=o.getAttribute("tabLabel")??"?";const c=()=>{this.showView(a)};l.addEventListener("click",c),this.listeners.push(()=>{l.removeEventListener("click",c)}),n.appendChild(l),this.tabs.push(l)}))}showView(s){var n;this.currentTabIndex!==s&&(this.currentTabIndex=s,this.tabs.forEach((r,i)=>{r.classList[i!==s?"remove":"add"]("selected")}),this.views.forEach((r,i)=>{r.style.display=i!==s?"none":"flex"}),(n=this.tabsContentEl)==null||n.scrollTo(0,0),window.appSettings.setCurrentTabIndex(s))}}window.customElements.define("demo-app-main",Yw);const Ou=document.createElement("template");Ou.innerHTML=`
    <style>
        ${ar}

        :host {
            display: flex;
            flex: 1;
            flex-direction: column;
            padding: 20px 28px;
        }

        :host .card.apis input {
            width: 100%; /* fix for android-chrome */
        }

        :host .card.apis .card-actions {
            padding-bottom: 16px;
        }

        :host .card.apis .card-actions button {
            margin-left: 14px;
        }

        :host .card.routes {
            margin-top: 20px;
        }

        :host .card.routes .route {
            display: flex;
            align-items: center;
        }

        :host .card.routes .route.query-params {
            margin: 0 0 10px 10px;
        }

        :host .card.routes .route.query-params .info {
            display: flex;
            flex-direction: row;
        }

        :host .card.routes .route.query-params .info .text {
            font-size: 16px;
            color: black;
            margin-right: 12px;
        }

        :host .card.routes .route.query-params .info input {
            width: 500px;
        }

        :host .card.routes .route button {
            padding: 2px 10px;
            min-width: 104px;
            margin: 8px 12px 8px 8px;
        }

        :host .card.routes .route input {
            margin: 0 2px;
            padding: 4px;
        }

        :host .card.routes .route .info {
            padding-bottom: 2px;
            font-size: 14px;
            line-height: 22px;
            text-align: left;
            color: #0000008a;
        }

        :host .card.routes .box {
            height: 100px;
        }

        @media only screen and (max-width: 600px) {
            :host .card.apis .card-actions {
                flex-direction: column;
                margin-left: 3px;
            }
            :host .card.apis .card-actions button {
                margin-top: 12px;
                margin-left: 0;
                padding: 2px 10px;
                min-width: 104px;
                align-self: flex-start;
            }
            :host .card.apis .input label {
                text-align: left;
            }
            :host .card.apis .input {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }
            :host .card.apis input {
                width: inherit;
                align-self: normal;
            }

            :host .card.routes {
                margin-top: 12px;
            }
            :host .card.routes .route {
                margin-left: 3px !important;
            }
            :host .card.routes .route.query-params .info {
                display: flex;
                flex-direction: column;
                flex: 1;
                gap: 8px;
            }
            :host .card.routes .route.query-params .info input {
                margin: 0;
                width: inherit;
                align-self: normal;
            }
            :host .card.routes .route #roles-input {
                width: 90%;
            }
            :host .card.routes .route button {
                margin-left: 3px;
            }
        }
    </style>

    <div class="card apis">
        <div class="card-title row">
            APIs access
            <div id="api-status" class="card-status"></div>
        </div>
        <div class="card-actions row">
            <div class="column flex">
                <div class="input row">
                    <label for="api-url-input">Url</label>
                    <input id="api-url-input" class="flex" />
                </div>
                <div class="input row">
                    <label for="api-headers-input">Custom headers</label>
                    <input id="api-headers-input" class="flex" placeholder='ex: name1:one, name2=two' />
                </div>
            </div>
            <button id="api-get-button">GET</button>
        </div>
        <div class="box">
            <code>
                <pre id="api-response"></pre>
            </code>
        </div>
    </div>

    <div class="card routes">
        <div class="card-title">
            Guards access
        </div>
        <div class="card-actions column">
            <div class="route query-params">
                <div class="info">
                    <div class="text">Query params</div>
                    <input
                        id="guards-query-params-input"
                        placeholder="ex: param1=one&param2=two" />
                </div>
            </div>
            <div class="route">
                <button id="guards-home-button">HOME</button>
                <div class="info">Home page</div>
            </div>
            <div class="route">
                <button id="guards-public-button">PUBLIC</button>
                <div class="info">Public content (no login required)</div>
            </div>
            <div class="route">
                <button id="guards-private-button">PRIVATE</button>
                <div class="info">Private content (login required)</div>
            </div>
            <div class="route">
                <button id="guards-protected-button">PROTECTED</button>
                <div class="info">
                    Protected content (login required + role(s):<input id="guards-roles-input" />)
                </div>
            </div>
        </div>
        <div class="box">
            <slot id="cards"></slot>
        </div>
    </div>
`;class Zw extends HTMLElement{constructor(){var s,n,r,i,o,a,l,c,u,d,f,p;super();V(this,"listeners",[]);V(this,"apiStatusEl");V(this,"apiResponseEl");V(this,"apiUrlEl");V(this,"apiHeadersEl");V(this,"apiBtnEl");V(this,"guardsHomeBtnEl");V(this,"guardsPublicBtnEl");V(this,"guardsPrivateBtnEl");V(this,"guardsProtectedBtnEl");V(this,"guardsQueryParamsEl");V(this,"guardsRolesEl");this.attachShadow({mode:"open"}),(s=this.shadowRoot)==null||s.appendChild(document.importNode(Ou.content,!0)),this.apiStatusEl=(n=this.shadowRoot)==null?void 0:n.querySelector("#api-status"),this.apiResponseEl=(r=this.shadowRoot)==null?void 0:r.querySelector("#api-response"),this.apiUrlEl=(i=this.shadowRoot)==null?void 0:i.querySelector("#api-url-input"),this.apiHeadersEl=(o=this.shadowRoot)==null?void 0:o.querySelector("#api-headers-input"),this.apiBtnEl=(a=this.shadowRoot)==null?void 0:a.querySelector("#api-get-button"),this.guardsHomeBtnEl=(l=this.shadowRoot)==null?void 0:l.querySelector("#guards-home-button"),this.guardsPublicBtnEl=(c=this.shadowRoot)==null?void 0:c.querySelector("#guards-public-button"),this.guardsPrivateBtnEl=(u=this.shadowRoot)==null?void 0:u.querySelector("#guards-private-button"),this.guardsProtectedBtnEl=(d=this.shadowRoot)==null?void 0:d.querySelector("#guards-protected-button"),this.guardsQueryParamsEl=(f=this.shadowRoot)==null?void 0:f.querySelector("#guards-query-params-input"),this.guardsRolesEl=(p=this.shadowRoot)==null?void 0:p.querySelector("#guards-roles-input")}connectedCallback(){var p,w,_,y,P,m,v,x,A,D,U,q;const s=I=>{var se,ne;if("key"in I&&I.key!=="Enter")return!0;{const ce=(se=this.apiHeadersEl)==null?void 0:se.value.split(",").reduce((We,Pe)=>{var de,ee,te,Le;if(Pe){const fe=/^"?([^"]*)"?$/,he=Pe.split(":"),pe=((ee=fe.exec((de=he[0])==null?void 0:de.trim()))==null?void 0:ee[1])??"",ke=((Le=fe.exec((te=he[1])==null?void 0:te.trim()))==null?void 0:Le[1])??"";pe&&(We[pe]=ke)}return We},{}),ve=new CustomEvent("api",{bubbles:!0,composed:!0,detail:{url:(ne=this.apiUrlEl)==null?void 0:ne.value,headers:ce}});return this.dispatchEvent(ve)}};(p=this.apiBtnEl)==null||p.addEventListener("click",s),(w=this.apiUrlEl)==null||w.addEventListener("keydown",s),(_=this.apiHeadersEl)==null||_.addEventListener("keydown",s);const n=()=>{var I;this.saveSettings({apiUrl:(I=this.apiUrlEl)==null?void 0:I.value})};(y=this.apiUrlEl)==null||y.addEventListener("input",n);const r=()=>{var I;this.saveSettings({apiHeaders:(I=this.apiHeadersEl)==null?void 0:I.value})};(P=this.apiHeadersEl)==null||P.addEventListener("input",r);const i=()=>{var I;this.saveSettings({queryParams:(I=this.guardsQueryParamsEl)==null?void 0:I.value})};(m=this.guardsQueryParamsEl)==null||m.addEventListener("input",i);const o=()=>{var I;this.saveSettings({roles:(I=this.guardsRolesEl)==null?void 0:I.value})};(v=this.guardsRolesEl)==null||v.addEventListener("input",o);const a=I=>{var ne;const se={};return(ne=this.guardsQueryParamsEl)==null||ne.value.split("&").forEach(ce=>{const ve=ce.split("=");ve.length===2&&(se[ve[0]]=ve[1])}),this.dispatchEvent(new CustomEvent(I,{bubbles:!0,composed:!0,detail:{queryParams:se}}))},l=()=>a("home");(x=this.guardsHomeBtnEl)==null||x.addEventListener("click",l);const c=()=>a("public");(A=this.guardsPublicBtnEl)==null||A.addEventListener("click",c);const u=()=>a("private");(D=this.guardsPrivateBtnEl)==null||D.addEventListener("click",u);const d=I=>"key"in I&&I.key!=="Enter"?!0:a("protected");(U=this.guardsProtectedBtnEl)==null||U.addEventListener("click",d),(q=this.guardsRolesEl)==null||q.addEventListener("keydown",d),this.listeners.push(()=>{var I;return(I=this.apiBtnEl)==null?void 0:I.removeEventListener("click",s)},()=>{var I;return(I=this.apiUrlEl)==null?void 0:I.removeEventListener("keydown",s)},()=>{var I;return(I=this.apiHeadersEl)==null?void 0:I.removeEventListener("keydown",s)},()=>{var I;return(I=this.apiUrlEl)==null?void 0:I.removeEventListener("input",n)},()=>{var I;return(I=this.apiHeadersEl)==null?void 0:I.removeEventListener("input",r)},()=>{var I;return(I=this.guardsQueryParamsEl)==null?void 0:I.removeEventListener("input",i)},()=>{var I;return(I=this.guardsRolesEl)==null?void 0:I.removeEventListener("input",o)},()=>{var I;return(I=this.guardsHomeBtnEl)==null?void 0:I.removeEventListener("click",l)},()=>{var I;return(I=this.guardsPrivateBtnEl)==null?void 0:I.removeEventListener("click",u)},()=>{var I;return(I=this.guardsProtectedBtnEl)==null?void 0:I.removeEventListener("click",d)},()=>{var I;return(I=this.guardsRolesEl)==null?void 0:I.removeEventListener("keydown",d)});const{otherSettings:f}=window.appSettings.getCurrentSettings();this.apiUrlEl&&(this.apiUrlEl.value=(f==null?void 0:f.apiUrl)??""),this.apiHeadersEl&&(this.apiHeadersEl.value=(f==null?void 0:f.apiHeaders)??""),this.guardsQueryParamsEl&&(this.guardsQueryParamsEl.value=(f==null?void 0:f.queryParams)??""),this.guardsRolesEl&&(this.guardsRolesEl.value=(f==null?void 0:f.roles)??"")}disconnectedCallback(){this.listeners.forEach(s=>{s()})}setApiStatus(s,n){var r,i;(r=this.apiStatusEl)==null||r.classList.remove(n?"success":"error"),(i=this.apiStatusEl)==null||i.classList.add(n?"error":"success"),this.apiResponseEl&&(this.apiResponseEl.innerHTML=xn(s))}saveSettings(s){const n=window.appSettings.getCurrentSettings();n.otherSettings={...n.otherSettings,...s},window.appSettings.addOrUpdateSettings(n)}}window.customElements.define("demo-app-playground",Zw);const Iu=document.createElement("template");Iu.innerHTML=`
    <style>
        ${ar}

        :host {
            display: flex;
            flex: 1;
            flex-direction: column;
            padding: 20px 28px;
        }

        :host .card {
            padding: 40px 16px 16px 16px;
        }

        :host form {
            position: relative;
        }

        :host form .input, :host .form-content > * {
            margin-bottom: 24px;
        }

        :host form div:has(#automaticInjectToken:not(:checked)) > div:has(#automaticInjectTokeninclude),
        :host form div:has(#automaticInjectToken:not(:checked)) > div:has(#automaticInjectTokenexclude) {
            label {
                color: lightgray;
            }
            input {
                opacity: 50%;
            }
        }

        :host form div.input:has(#automaticInjectTokeninclude),
        :host form div.input:has(#automaticInjectTokenexclude) {
            flex-direction: row;
            align-items: center;
            margin-left: 32px;

            label {
                margin-bottom: 0;
                margin-right: 8px;
            }

            input {
                flex: 1;
            }
        }

        :host form label {
            margin-bottom: 8px;
        }

        :host .form-actions {
            z-index: 10;
            position: fixed;
            bottom: calc(12px + var(--safe-area-inset-bottom));
            left: calc(50% - 120px);
            padding: 14px 0;
            border-radius: 4px;
            background-color: #E0E0E0;
            width: 240px;
            justify-content: center;
        }

        :host .form-actions button {
            padding: 2px 12px;
        }

        :host .form-actions button:not(:last-of-type) {
            margin-right: 12px;
        }

        :host button {
            cursor: pointer;
        }

        :host #settings-select {
            margin-left: 6px;
            color: black;
        }

        :host #add-settings-button {
            background: none;
            border: none;
            cursor: pointer;
            padding: 4px;
            color: darkgray;
        }

        :host #delete-settings-button {
            position: absolute;
            top: 20px;
            right: 20px;
            display: flex;
            align-items: center;
            background: none;
            border: none;
            cursor: pointer;
            font-size: 14px;
            color: #EF5350;
        }

        :host #save-settings-button {
            color: white;
            padding: 4px 24px;
            border: none;
            border-radius: 4px;
            transition: background-color 150ms cubic-bezier(0.35, 0, 0.25, 1);
            background-color: #512da8;
        }

        :host #cancel-settings-button {
            padding: 4px 18px;
            border: none;
            border-radius: 4px;
            transition: background-color 150ms cubic-bezier(0.35, 0, 0.25, 1);
            background-color: white;
        }

        :host #save-settings-button:hover {
            background-color: #4527a0;
        }

        :host(.dirty) .form-actions {
            display: flex !important;
        }

        :host(.dirty) #delete-settings-button {
            display: none;
        }

        @media only screen and (max-width: 600px) {
            :host .settings-select {
                margin: 12px 8px;
            }
        }
    </style>

    <div class="settings-select row">
        <select id="settings-select"></select>
        <div id="add-settings-button" title="Create new settings">
            <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="currentColor"><path d="M0 0h24v24H0z" fill="none"/><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/></svg>
        </div>
    </div>

    <div class="form-actions row hidden">
        <button id="save-settings-button" type="button">SAVE</button>
        <button id="cancel-settings-button" type="button">CANCEL</button>
    </div>

    <form class="column card">
        <div id="delete-settings-button">
            DELETE
        </div>
        <div class="input column">
            <label for="settingsName">Settings name *</label>
            <input id="settingsName" name="settingsName" required="">
        </div>
        <div class="form-content flex"></div>
    </form>
`;class e_ extends HTMLElement{constructor(){var s;super();V(this,"listeners",[]);V(this,"formEl");V(this,"formContentEl");V(this,"selectEl");V(this,"settingsNameEl");V(this,"formIsDirty",!1);V(this,"formIsNew",!1);this.attachShadow({mode:"open"}),(s=this.shadowRoot)==null||s.appendChild(document.importNode(Iu.content,!0))}connectedCallback(){var f,p,w,_,y,P,m,v,x,A;this.formEl=(f=this.shadowRoot)==null?void 0:f.querySelector("form"),this.formContentEl=(p=this.shadowRoot)==null?void 0:p.querySelector(".form-content"),this.selectEl=(w=this.shadowRoot)==null?void 0:w.querySelector("#settings-select"),this.settingsNameEl=(_=this.shadowRoot)==null?void 0:_.querySelector("#settingsName");const s=D=>{!this.formIsDirty&&D.target.id!=="settings-select"&&(this.formIsDirty=!0,this.classList.add("dirty"))};(y=this.formEl)==null||y.addEventListener("input",s),this.listeners.push(()=>{var D;(D=this.formEl)==null||D.removeEventListener("input",s)}),this.refreshSelect();const n=()=>{this.selectEl&&this.loadSettings(this.selectEl.selectedIndex)};(P=this.selectEl)==null||P.addEventListener("change",n),this.listeners.push(()=>{var D;(D=this.selectEl)==null||D.removeEventListener("change",n)});const r=(m=this.shadowRoot)==null?void 0:m.querySelector("#add-settings-button"),i=()=>{this.add()};r==null||r.addEventListener("click",i),this.listeners.push(()=>r==null?void 0:r.removeEventListener("click",i));const o=(v=this.shadowRoot)==null?void 0:v.querySelector("#delete-settings-button"),a=()=>{this.delete()};o==null||o.addEventListener("click",a),this.listeners.push(()=>o==null?void 0:o.removeEventListener("click",a));const l=(x=this.shadowRoot)==null?void 0:x.querySelector("#save-settings-button"),c=()=>{this.saveAndReload()};l==null||l.addEventListener("click",c),this.listeners.push(()=>l==null?void 0:l.removeEventListener("click",c));const u=(A=this.shadowRoot)==null?void 0:A.querySelector("#cancel-settings-button"),d=()=>{this.cancel()};u==null||u.addEventListener("click",d),this.listeners.push(()=>u==null?void 0:u.removeEventListener("click",d)),this.refreshFormContent(window.appSettings.getCurrentSettings())}disconnectedCallback(){this.listeners.forEach(s=>{s()})}loadSettings(s){window.appSettings.setCurrentSettingsIndex(s),location.reload()}add(){var r;const s="New settings",n=document.createElement("option");n.selected=!0,n.value=s,n.textContent=s,(r=this.selectEl)==null||r.appendChild(n),this.formIsNew=!0,this.formIsDirty=!0,this.classList.add("dirty"),this.refreshFormContent({name:s,librarySettings:{}})}delete(){window.appSettings.deleteCurrentSettings(),window.appSettings.setCurrentSettingsIndex(0),location.reload()}cancel(){this.formIsNew=!1,this.formIsDirty=!1,this.classList.remove("dirty"),this.refreshSelect(),this.refreshFormContent(window.appSettings.getCurrentSettings())}setPathValue(s,n,r){const i=n.split(".");i.reduce((o,a,l)=>(l===i.length-1?(typeof r=="string"&&r.trim()===""&&(r=void 0),o[a]=r):(!(a in o)||typeof o[a]!="object"||o[a]===null)&&(o[a]={}),o[a]),s)}getPathValue(s,n){return n.split(".").reduce((r,i)=>r&&i in r?r[i]:void 0,s)}refreshSelect(){this.selectEl&&(this.selectEl.innerHTML="");const{settings:s,currentSettingsIndex:n}=window.appSettings.get();s.forEach((r,i)=>{var a;const o=document.createElement("option");o.selected=i===n,o.value=String(r.name),o.textContent=r.name,(a=this.selectEl)==null||a.appendChild(o)})}refreshFormContent(s){var n;if(this.formContentEl&&(this.formContentEl.innerHTML=""),this.settingsNameEl){const r=window.appSettings.getLibrarySettingsDefinition(),{name:i,librarySettings:o}=s;this.settingsNameEl.value=i,r.sort((l,c)=>(c._sortIndex||0)-(l._sortIndex||0)).forEach(l=>{var f,p;const c=document.createElement("div");(f=this.formContentEl)==null||f.prepend(c);const u=document.createElement("label");u.htmlFor=l.name.replace(".",""),u.textContent=`${l.label}${l.required?" *":""}`;const d=document.createElement(l.type==="list"?"select":"input");switch(d.id=l.name.replace(".",""),d.name=l.name.replace(".",""),d.required=l.required===!0,l.type){case"boolean":d.checked=this.getPathValue(o,l.name),d.type="checkbox",c.appendChild(d),c.appendChild(u);break;case"list":(p=l.values)==null||p.forEach(w=>{const _=document.createElement("option");_.value=String(w.value),_.textContent=w.label,d.appendChild(_)}),d.value=this.getPathValue(o,l.name),d.classList.add("flex"),c.classList.add("input","column"),c.appendChild(u),c.appendChild(d);break;default:{const w=this.getPathValue(o,l.name);l.type==="json"?d.value=w?JSON.stringify(w):"":d.value=w??"",l.placeholder&&(d.placeholder=l.placeholder),c.classList.add("input","column"),c.appendChild(u),c.appendChild(d);break}}});const a=(n=this.shadowRoot)==null?void 0:n.querySelector("#automaticInjectToken");a&&(a.onclick=()=>{var l,c;if(!a.checked){const u=(l=this.shadowRoot)==null?void 0:l.querySelector("#automaticInjectTokeninclude");u&&(u.disabled=!0,u.value="");const d=(c=this.shadowRoot)==null?void 0:c.querySelector("#automaticInjectTokenexclude");d&&(d.disabled=!0,d.value="")}})}}saveAndReload(){var s,n;if((s=this.formEl)!=null&&s.reportValidity()&&this.settingsNameEl){const r=window.appSettings.getLibrarySettingsDefinition(),i=this.formIsNew?{name:"",librarySettings:{}}:window.appSettings.getCurrentSettings();i.name=this.settingsNameEl.value,r.sort((a,l)=>(a._sortIndex||0)-(l._sortIndex||0)).forEach(a=>{var u;const l=(u=this.shadowRoot)==null?void 0:u.querySelector(`#${a.name.replace(".","")}`);let c;switch(a.type){case"boolean":c=l.checked;break;case"list":c=l.value;break;case"json":try{const d=l.value;d&&d.trim()!==""&&(c=JSON.parse(d))}catch(d){console.error(d)}break;default:c=l.value;break}this.setPathValue(i.librarySettings,a.name,c)});const o=(n=this.shadowRoot)==null?void 0:n.querySelector("#automaticInjectToken");if(!(o!=null&&o.checked))i.librarySettings.automaticInjectToken=!1;else{let a=i.librarySettings.automaticInjectToken;typeof a=="object"&&((!a.include||a.include.trim()==="")&&(!a.exclude||a.exclude.trim()==="")?a=!0:(a.include&&(a.include=a.include.split(",")),a.exclude&&(a.exclude=a.exclude.split(","))),i.librarySettings.automaticInjectToken=a)}window.appSettings.addOrUpdateSettings(i,window.appSettings.get().currentSettingsIndex),this.formIsNew&&this.selectEl&&window.appSettings.setCurrentSettingsIndex(this.selectEl.selectedIndex),location.reload()}}}window.customElements.define("demo-app-settings",e_);const t_="1.1.0",s_={version:t_},n_="1.0.0",r_={version:n_},i_="4.0.0",o_={version:i_},a_=[{label:"VanillaJS",demoUrl:"https://badisi.github.io/auth-js/demo-app/auth-js",version:s_.version},{label:"Angular",demoUrl:"https://badisi.github.io/auth-js/demo-app/ngx-auth",version:o_.version},{label:"Vue.js",demoUrl:"https://badisi.github.io/auth-js/demo-app/auth-vue",version:r_.version}],Xo={mobileScheme:"demo-app",desktopNavigationType:Dt.REDIRECT,logLevel:Yt.NONE,loginRequired:!1,retrieveUserSession:!0,loadUserInfo:!0,automaticSilentRenew:!0,automaticLoginOn401:!0,automaticInjectToken:{include:["/api"]}},l_={name:"Auth0",otherSettings:{apiUrl:"https://dev-fijd1e9x.us.auth0.com/api/v2/users/auth0|631b171682c639d40cb84d5c",apiHeaders:"",roles:"view-profile"},librarySettings:{authorityUrl:"https://dev-fijd1e9x.us.auth0.com",clientId:"kRVVEnAWKMpxxpcodl0TqLXfIHgQvmmt",scope:"openid profile email phone offline_access read:current_user",internal:{extraQueryParams:{audience:"https://dev-fijd1e9x.us.auth0.com/api/v2/"}},...Xo}},c_={name:"Zitadel",otherSettings:{apiUrl:"http://localhost:8080/api/my-api",apiHeaders:"",roles:"view-profile"},librarySettings:{authorityUrl:"https://auth-js-0pdipf.zitadel.cloud",clientId:"178200751804317953@demo-app",scope:"openid profile email phone offline_access",internal:{extraQueryParams:{login_hint:"demo"}},...Xo}},u_={name:"Keycloak (local)",otherSettings:{apiUrl:"http://localhost:8080/api/my-api",apiHeaders:"",roles:"view-profile"},librarySettings:{authorityUrl:"http://localhost:8080/auth/realms/demo",clientId:"demo-app",scope:"openid profile email phone",...Xo}},d_=(e=!1)=>[l_,c_,...e?[u_]:[]],f_=[{name:"authorityUrl",label:"Authority url",type:"string",required:!0},{name:"clientId",label:"Client id",type:"string",required:!0},{name:"mobileScheme",label:"Custom mobile scheme name",type:"string"},{name:"scope",label:"Scope",type:"string",placeholder:"ex: openid profile email phone offline_access"},{name:"internal.extraQueryParams",label:"Extra query params",type:"json",placeholder:'ex: {"audience":"value"}'},{name:"authGuardFallbackUrl",label:"AuthGuard fallback url",type:"string",placeholder:"ex: forbidden"},{name:"desktopNavigationType",label:"Desktop navigation type",type:"list",values:[{label:"REDIRECT",value:Dt.REDIRECT},{label:"POPUP",value:Dt.POPUP}]},{name:"logLevel",label:"Log level",type:"list",values:[{label:"NONE",value:Yt.NONE},{label:"ERROR",value:Yt.ERROR},{label:"WARN",value:Yt.WARN},{label:"INFO",value:Yt.INFO},{label:"DEBUG",value:Yt.DEBUG}]},{name:"loginRequired",label:"Login required",type:"boolean"},{name:"retrieveUserSession",label:"Retrieve user's session",type:"boolean"},{name:"loadUserInfo",label:"Load user's info",type:"boolean"},{name:"automaticSilentRenew",label:"Automatic silent renew",type:"boolean"},{name:"automaticInjectToken",label:"Automatic inject token",type:"boolean"},{name:"automaticInjectToken.include",label:"Include url(s)",type:"string",placeholder:"ex: http://localhost, /pathname"},{name:"automaticInjectToken.exclude",label:"Exclude url(s)",type:"string",placeholder:"ex: http://localhost, /pathname"},{name:"automaticLoginOn401",label:"Automatic login on 401",type:"boolean"}];var sr,nr,ws;class h_{constructor(t){K(this,sr,"auth-js:playground:settings");K(this,nr,f_);K(this,ws);S(this,nr).forEach((s,n)=>s._sortIndex=n),ie(this,ws,{currentTabIndex:0,currentSettingsIndex:0,settings:d_(t)})}getLibrarySettingsDefinition(){return S(this,nr)}getLibraryImplementations(){return a_}getSettings(){return this.get().settings}addOrUpdateSettings(t,s=void 0){const n=this.get();s!==void 0?n.settings[s]=t:n.settings.push(t),this.saveDemoAppSettings(n)}deleteCurrentSettings(){const t=this.get(),s=t.currentSettingsIndex;s>=0&&s<t.settings.length&&(t.settings.splice(s,1),this.saveDemoAppSettings(t))}setCurrentTabIndex(t){const s=this.get();s.currentTabIndex=t,this.saveDemoAppSettings(s)}setCurrentSettingsIndex(t){const s=this.get();s.currentSettingsIndex=t,this.saveDemoAppSettings(s)}getCurrentSettings(){const t=this.get(),s=t.currentSettingsIndex;return s>=0&&s<t.settings.length?t.settings[s]:t.settings[0]}get(){const t=sessionStorage.getItem(S(this,sr));if(t){const s={...S(this,ws),...JSON.parse(t)};return S(this,ws).settings.forEach(n=>{s.settings.find(r=>r.name===n.name)||s.settings.push(n)}),s.settings=s.settings.sort((n,r)=>n.name.localeCompare(r.name)),s}return{...S(this,ws)}}saveDemoAppSettings(t){delete t.librarySettingsDefinition,sessionStorage.setItem(S(this,sr),JSON.stringify(t))}}sr=new WeakMap,nr=new WeakMap,ws=new WeakMap;const p_=(e,t)=>{const s=e.__vccOpts||e;for(const[n,r]of t)s[n]=r;return s},g_={};function m_(e,t){const s=Zc("RouterView");return wu(),Km(s)}const w_=p_(g_,[["render",m_]]),__="modulepreload",b_=function(e){return"/auth-js/demo-app/auth-vue/"+e},tl={},hr=function(t,s,n){let r=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=Promise.allSettled(s.map(l=>{if(l=b_(l),l in tl)return;tl[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":__,c||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),c)return new Promise((f,p)=>{d.addEventListener("load",f),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return r.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})};/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const As=typeof document<"u";function Uu(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function v_(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&Uu(e.default)}const oe=Object.assign;function Ii(e,t){const s={};for(const n in t){const r=t[n];s[n]=pt(r)?r.map(e):e(r)}return s}const Nn=()=>{},pt=Array.isArray,Lu=/#/g,y_=/&/g,S_=/\//g,E_=/=/g,x_=/\?/g,Nu=/\+/g,R_=/%5B/g,T_=/%5D/g,ju=/%5E/g,C_=/%60/g,$u=/%7B/g,P_=/%7C/g,Mu=/%7D/g,k_=/%20/g;function Qo(e){return encodeURI(""+e).replace(P_,"|").replace(R_,"[").replace(T_,"]")}function A_(e){return Qo(e).replace($u,"{").replace(Mu,"}").replace(ju,"^")}function co(e){return Qo(e).replace(Nu,"%2B").replace(k_,"+").replace(Lu,"%23").replace(y_,"%26").replace(C_,"`").replace($u,"{").replace(Mu,"}").replace(ju,"^")}function O_(e){return co(e).replace(E_,"%3D")}function I_(e){return Qo(e).replace(Lu,"%23").replace(x_,"%3F")}function U_(e){return e==null?"":I_(e).replace(S_,"%2F")}function Bn(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const L_=/\/$/,N_=e=>e.replace(L_,"");function Ui(e,t,s="/"){let n,r={},i="",o="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(n=t.slice(0,l),i=t.slice(l+1,a>-1?a:t.length),r=e(i)),a>-1&&(n=n||t.slice(0,a),o=t.slice(a,t.length)),n=D_(n??t,s),{fullPath:n+(i&&"?")+i+o,path:n,query:r,hash:Bn(o)}}function j_(e,t){const s=t.query?e(t.query):"";return t.path+(s&&"?")+s+(t.hash||"")}function sl(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function $_(e,t,s){const n=t.matched.length-1,r=s.matched.length-1;return n>-1&&n===r&&nn(t.matched[n],s.matched[r])&&Du(t.params,s.params)&&e(t.query)===e(s.query)&&t.hash===s.hash}function nn(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Du(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(!M_(e[s],t[s]))return!1;return!0}function M_(e,t){return pt(e)?nl(e,t):pt(t)?nl(t,e):e===t}function nl(e,t){return pt(t)?e.length===t.length&&e.every((s,n)=>s===t[n]):e.length===1&&e[0]===t}function D_(e,t){if(e.startsWith("/"))return e;if(!e)return t;const s=t.split("/"),n=e.split("/"),r=n[n.length-1];(r===".."||r===".")&&n.push("");let i=s.length-1,o,a;for(o=0;o<n.length;o++)if(a=n[o],a!==".")if(a==="..")i>1&&i--;else break;return s.slice(0,i).join("/")+"/"+n.slice(o).join("/")}const Vt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Wn;(function(e){e.pop="pop",e.push="push"})(Wn||(Wn={}));var jn;(function(e){e.back="back",e.forward="forward",e.unknown=""})(jn||(jn={}));function H_(e){if(!e)if(As){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),N_(e)}const q_=/^[^#]+#/;function F_(e,t){return e.replace(q_,"#")+t}function B_(e,t){const s=document.documentElement.getBoundingClientRect(),n=e.getBoundingClientRect();return{behavior:t.behavior,left:n.left-s.left-(t.left||0),top:n.top-s.top-(t.top||0)}}const ii=()=>({left:window.scrollX,top:window.scrollY});function W_(e){let t;if("el"in e){const s=e.el,n=typeof s=="string"&&s.startsWith("#"),r=typeof s=="string"?n?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!r)return;t=B_(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function rl(e,t){return(history.state?history.state.position-t:-1)+e}const uo=new Map;function z_(e,t){uo.set(e,t)}function V_(e){const t=uo.get(e);return uo.delete(e),t}let K_=()=>location.protocol+"//"+location.host;function Hu(e,t){const{pathname:s,search:n,hash:r}=t,i=e.indexOf("#");if(i>-1){let a=r.includes(e.slice(i))?e.slice(i).length:1,l=r.slice(a);return l[0]!=="/"&&(l="/"+l),sl(l,"")}return sl(s,e)+n+r}function G_(e,t,s,n){let r=[],i=[],o=null;const a=({state:f})=>{const p=Hu(e,location),w=s.value,_=t.value;let y=0;if(f){if(s.value=p,t.value=f,o&&o===w){o=null;return}y=_?f.position-_.position:0}else n(p);r.forEach(P=>{P(s.value,w,{delta:y,type:Wn.pop,direction:y?y>0?jn.forward:jn.back:jn.unknown})})};function l(){o=s.value}function c(f){r.push(f);const p=()=>{const w=r.indexOf(f);w>-1&&r.splice(w,1)};return i.push(p),p}function u(){const{history:f}=window;f.state&&f.replaceState(oe({},f.state,{scroll:ii()}),"")}function d(){for(const f of i)f();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:d}}function il(e,t,s,n=!1,r=!1){return{back:e,current:t,forward:s,replaced:n,position:window.history.length,scroll:r?ii():null}}function J_(e){const{history:t,location:s}=window,n={value:Hu(e,s)},r={value:t.state};r.value||i(n.value,{back:null,current:n.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(l,c,u){const d=e.indexOf("#"),f=d>-1?(s.host&&document.querySelector("base")?e:e.slice(d))+l:K_()+e+l;try{t[u?"replaceState":"pushState"](c,"",f),r.value=c}catch(p){console.error(p),s[u?"replace":"assign"](f)}}function o(l,c){const u=oe({},t.state,il(r.value.back,l,r.value.forward,!0),c,{position:r.value.position});i(l,u,!0),n.value=l}function a(l,c){const u=oe({},r.value,t.state,{forward:l,scroll:ii()});i(u.current,u,!0);const d=oe({},il(n.value,l,null),{position:u.position+1},c);i(l,d,!1),n.value=l}return{location:n,state:r,push:a,replace:o}}function X_(e){e=H_(e);const t=J_(e),s=G_(e,t.state,t.location,t.replace);function n(i,o=!0){o||s.pauseListeners(),history.go(i)}const r=oe({location:"",base:e,go:n,createHref:F_.bind(null,e)},t,s);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}function Q_(e){return typeof e=="string"||e&&typeof e=="object"}function qu(e){return typeof e=="string"||typeof e=="symbol"}const Fu=Symbol("");var ol;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(ol||(ol={}));function rn(e,t){return oe(new Error,{type:e,[Fu]:!0},t)}function It(e,t){return e instanceof Error&&Fu in e&&(t==null||!!(e.type&t))}const al="[^/]+?",Y_={sensitive:!1,strict:!1,start:!0,end:!0},Z_=/[.+*?^${}()[\]/\\]/g;function eb(e,t){const s=oe({},Y_,t),n=[];let r=s.start?"^":"";const i=[];for(const c of e){const u=c.length?[]:[90];s.strict&&!c.length&&(r+="/");for(let d=0;d<c.length;d++){const f=c[d];let p=40+(s.sensitive?.25:0);if(f.type===0)d||(r+="/"),r+=f.value.replace(Z_,"\\$&"),p+=40;else if(f.type===1){const{value:w,repeatable:_,optional:y,regexp:P}=f;i.push({name:w,repeatable:_,optional:y});const m=P||al;if(m!==al){p+=10;try{new RegExp(`(${m})`)}catch(x){throw new Error(`Invalid custom RegExp for param "${w}" (${m}): `+x.message)}}let v=_?`((?:${m})(?:/(?:${m}))*)`:`(${m})`;d||(v=y&&c.length<2?`(?:/${v})`:"/"+v),y&&(v+="?"),r+=v,p+=20,y&&(p+=-8),_&&(p+=-20),m===".*"&&(p+=-50)}u.push(p)}n.push(u)}if(s.strict&&s.end){const c=n.length-1;n[c][n[c].length-1]+=.7000000000000001}s.strict||(r+="/?"),s.end?r+="$":s.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const o=new RegExp(r,s.sensitive?"":"i");function a(c){const u=c.match(o),d={};if(!u)return null;for(let f=1;f<u.length;f++){const p=u[f]||"",w=i[f-1];d[w.name]=p&&w.repeatable?p.split("/"):p}return d}function l(c){let u="",d=!1;for(const f of e){(!d||!u.endsWith("/"))&&(u+="/"),d=!1;for(const p of f)if(p.type===0)u+=p.value;else if(p.type===1){const{value:w,repeatable:_,optional:y}=p,P=w in c?c[w]:"";if(pt(P)&&!_)throw new Error(`Provided param "${w}" is an array but it is not repeatable (* or + modifiers)`);const m=pt(P)?P.join("/"):P;if(!m)if(y)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):d=!0);else throw new Error(`Missing required param "${w}"`);u+=m}}return u||"/"}return{re:o,score:n,keys:i,parse:a,stringify:l}}function tb(e,t){let s=0;for(;s<e.length&&s<t.length;){const n=t[s]-e[s];if(n)return n;s++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function Bu(e,t){let s=0;const n=e.score,r=t.score;for(;s<n.length&&s<r.length;){const i=tb(n[s],r[s]);if(i)return i;s++}if(Math.abs(r.length-n.length)===1){if(ll(n))return 1;if(ll(r))return-1}return r.length-n.length}function ll(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const sb={type:0,value:""},nb=/[a-zA-Z0-9_]/;function rb(e){if(!e)return[[]];if(e==="/")return[[sb]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(p){throw new Error(`ERR (${s})/"${c}": ${p}`)}let s=0,n=s;const r=[];let i;function o(){i&&r.push(i),i=[]}let a=0,l,c="",u="";function d(){c&&(s===0?i.push({type:0,value:c}):s===1||s===2||s===3?(i.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),c="")}function f(){c+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&s!==2){n=s,s=4;continue}switch(s){case 0:l==="/"?(c&&d(),o()):l===":"?(d(),s=1):f();break;case 4:f(),s=n;break;case 1:l==="("?s=2:nb.test(l)?f():(d(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:s=3:u+=l;break;case 3:d(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:t("Unknown state");break}}return s===2&&t(`Unfinished custom RegExp for param "${c}"`),d(),o(),r}function ib(e,t,s){const n=eb(rb(e.path),s),r=oe(n,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function ob(e,t){const s=[],n=new Map;t=fl({strict:!1,end:!0,sensitive:!1},t);function r(d){return n.get(d)}function i(d,f,p){const w=!p,_=ul(d);_.aliasOf=p&&p.record;const y=fl(t,d),P=[_];if("alias"in d){const x=typeof d.alias=="string"?[d.alias]:d.alias;for(const A of x)P.push(ul(oe({},_,{components:p?p.record.components:_.components,path:A,aliasOf:p?p.record:_})))}let m,v;for(const x of P){const{path:A}=x;if(f&&A[0]!=="/"){const D=f.record.path,U=D[D.length-1]==="/"?"":"/";x.path=f.record.path+(A&&U+A)}if(m=ib(x,f,y),p?p.alias.push(m):(v=v||m,v!==m&&v.alias.push(m),w&&d.name&&!dl(m)&&o(d.name)),Wu(m)&&l(m),_.children){const D=_.children;for(let U=0;U<D.length;U++)i(D[U],m,p&&p.children[U])}p=p||m}return v?()=>{o(v)}:Nn}function o(d){if(qu(d)){const f=n.get(d);f&&(n.delete(d),s.splice(s.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=s.indexOf(d);f>-1&&(s.splice(f,1),d.record.name&&n.delete(d.record.name),d.children.forEach(o),d.alias.forEach(o))}}function a(){return s}function l(d){const f=cb(d,s);s.splice(f,0,d),d.record.name&&!dl(d)&&n.set(d.record.name,d)}function c(d,f){let p,w={},_,y;if("name"in d&&d.name){if(p=n.get(d.name),!p)throw rn(1,{location:d});y=p.record.name,w=oe(cl(f.params,p.keys.filter(v=>!v.optional).concat(p.parent?p.parent.keys.filter(v=>v.optional):[]).map(v=>v.name)),d.params&&cl(d.params,p.keys.map(v=>v.name))),_=p.stringify(w)}else if(d.path!=null)_=d.path,p=s.find(v=>v.re.test(_)),p&&(w=p.parse(_),y=p.record.name);else{if(p=f.name?n.get(f.name):s.find(v=>v.re.test(f.path)),!p)throw rn(1,{location:d,currentLocation:f});y=p.record.name,w=oe({},f.params,d.params),_=p.stringify(w)}const P=[];let m=p;for(;m;)P.unshift(m.record),m=m.parent;return{name:y,path:_,params:w,matched:P,meta:lb(P)}}e.forEach(d=>i(d));function u(){s.length=0,n.clear()}return{addRoute:i,resolve:c,removeRoute:o,clearRoutes:u,getRoutes:a,getRecordMatcher:r}}function cl(e,t){const s={};for(const n of t)n in e&&(s[n]=e[n]);return s}function ul(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:ab(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function ab(e){const t={},s=e.props||!1;if("component"in e)t.default=s;else for(const n in e.components)t[n]=typeof s=="object"?s[n]:s;return t}function dl(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function lb(e){return e.reduce((t,s)=>oe(t,s.meta),{})}function fl(e,t){const s={};for(const n in e)s[n]=n in t?t[n]:e[n];return s}function cb(e,t){let s=0,n=t.length;for(;s!==n;){const i=s+n>>1;Bu(e,t[i])<0?n=i:s=i+1}const r=ub(e);return r&&(n=t.lastIndexOf(r,n-1)),n}function ub(e){let t=e;for(;t=t.parent;)if(Wu(t)&&Bu(e,t)===0)return t}function Wu({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function db(e){const t={};if(e===""||e==="?")return t;const n=(e[0]==="?"?e.slice(1):e).split("&");for(let r=0;r<n.length;++r){const i=n[r].replace(Nu," "),o=i.indexOf("="),a=Bn(o<0?i:i.slice(0,o)),l=o<0?null:Bn(i.slice(o+1));if(a in t){let c=t[a];pt(c)||(c=t[a]=[c]),c.push(l)}else t[a]=l}return t}function hl(e){let t="";for(let s in e){const n=e[s];if(s=O_(s),n==null){n!==void 0&&(t+=(t.length?"&":"")+s);continue}(pt(n)?n.map(i=>i&&co(i)):[n&&co(n)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+s,i!=null&&(t+="="+i))})}return t}function fb(e){const t={};for(const s in e){const n=e[s];n!==void 0&&(t[s]=pt(n)?n.map(r=>r==null?null:""+r):n==null?n:""+n)}return t}const hb=Symbol(""),pl=Symbol(""),oi=Symbol(""),zu=Symbol(""),fo=Symbol("");function mn(){let e=[];function t(n){return e.push(n),()=>{const r=e.indexOf(n);r>-1&&e.splice(r,1)}}function s(){e=[]}return{add:t,list:()=>e.slice(),reset:s}}function Qt(e,t,s,n,r,i=o=>o()){const o=n&&(n.enterCallbacks[r]=n.enterCallbacks[r]||[]);return()=>new Promise((a,l)=>{const c=f=>{f===!1?l(rn(4,{from:s,to:t})):f instanceof Error?l(f):Q_(f)?l(rn(2,{from:t,to:f})):(o&&n.enterCallbacks[r]===o&&typeof f=="function"&&o.push(f),a())},u=i(()=>e.call(n&&n.instances[r],t,s,c));let d=Promise.resolve(u);e.length<3&&(d=d.then(c)),d.catch(f=>l(f))})}function Li(e,t,s,n,r=i=>i()){const i=[];for(const o of e)for(const a in o.components){let l=o.components[a];if(!(t!=="beforeRouteEnter"&&!o.instances[a]))if(Uu(l)){const u=(l.__vccOpts||l)[t];u&&i.push(Qt(u,s,n,o,a,r))}else{let c=l();i.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const d=v_(u)?u.default:u;o.mods[a]=u,o.components[a]=d;const p=(d.__vccOpts||d)[t];return p&&Qt(p,s,n,o,a,r)()}))}}return i}function gl(e){const t=ht(oi),s=ht(zu),n=tt(()=>{const l=Us(e.to);return t.resolve(l)}),r=tt(()=>{const{matched:l}=n.value,{length:c}=l,u=l[c-1],d=s.matched;if(!u||!d.length)return-1;const f=d.findIndex(nn.bind(null,u));if(f>-1)return f;const p=ml(l[c-2]);return c>1&&ml(u)===p&&d[d.length-1].path!==p?d.findIndex(nn.bind(null,l[c-2])):f}),i=tt(()=>r.value>-1&&_b(s.params,n.value.params)),o=tt(()=>r.value>-1&&r.value===s.matched.length-1&&Du(s.params,n.value.params));function a(l={}){if(wb(l)){const c=t[Us(e.replace)?"replace":"push"](Us(e.to)).catch(Nn);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:n,href:tt(()=>n.value.href),isActive:i,isExactActive:o,navigate:a}}function pb(e){return e.length===1?e[0]:e}const gb=zo({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:gl,setup(e,{slots:t}){const s=ei(gl(e)),{options:n}=ht(oi),r=tt(()=>({[wl(e.activeClass,n.linkActiveClass,"router-link-active")]:s.isActive,[wl(e.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const i=t.default&&pb(t.default(s));return e.custom?i:Su("a",{"aria-current":s.isExactActive?e.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:r.value},i)}}}),mb=gb;function wb(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function _b(e,t){for(const s in t){const n=t[s],r=e[s];if(typeof n=="string"){if(n!==r)return!1}else if(!pt(r)||r.length!==n.length||n.some((i,o)=>i!==r[o]))return!1}return!0}function ml(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const wl=(e,t,s)=>e??t??s,bb=zo({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:s}){const n=ht(fo),r=tt(()=>e.route||n.value),i=ht(pl,0),o=tt(()=>{let c=Us(i);const{matched:u}=r.value;let d;for(;(d=u[c])&&!d.components;)c++;return c}),a=tt(()=>r.value.matched[o.value]);Sr(pl,tt(()=>o.value+1)),Sr(hb,a),Sr(fo,r);const l=ls();return Er(()=>[l.value,a.value,e.name],([c,u,d],[f,p,w])=>{u&&(u.instances[d]=c,p&&p!==u&&c&&c===f&&(u.leaveGuards.size||(u.leaveGuards=p.leaveGuards),u.updateGuards.size||(u.updateGuards=p.updateGuards))),c&&u&&(!p||!nn(u,p)||!f)&&(u.enterCallbacks[d]||[]).forEach(_=>_(c))},{flush:"post"}),()=>{const c=r.value,u=e.name,d=a.value,f=d&&d.components[u];if(!f)return _l(s.default,{Component:f,route:c});const p=d.props[u],w=p?p===!0?c.params:typeof p=="function"?p(c):p:null,y=Su(f,oe({},w,t,{onVnodeUnmounted:P=>{P.component.isUnmounted&&(d.instances[u]=null)},ref:l}));return _l(s.default,{Component:y,route:c})||y}}});function _l(e,t){if(!e)return null;const s=e(t);return s.length===1?s[0]:s}const vb=bb;function yb(e){const t=ob(e.routes,e),s=e.parseQuery||db,n=e.stringifyQuery||hl,r=e.history,i=mn(),o=mn(),a=mn(),l=Hc(Vt);let c=Vt;As&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Ii.bind(null,R=>""+R),d=Ii.bind(null,U_),f=Ii.bind(null,Bn);function p(R,H){let $,B;return qu(R)?($=t.getRecordMatcher(R),B=H):B=R,t.addRoute(B,$)}function w(R){const H=t.getRecordMatcher(R);H&&t.removeRoute(H)}function _(){return t.getRoutes().map(R=>R.record)}function y(R){return!!t.getRecordMatcher(R)}function P(R,H){if(H=oe({},H||l.value),typeof R=="string"){const b=Ui(s,R,H.path),T=t.resolve({path:b.path},H),k=r.createHref(b.fullPath);return oe(b,T,{params:f(T.params),hash:Bn(b.hash),redirectedFrom:void 0,href:k})}let $;if(R.path!=null)$=oe({},R,{path:Ui(s,R.path,H.path).path});else{const b=oe({},R.params);for(const T in b)b[T]==null&&delete b[T];$=oe({},R,{params:d(b)}),H.params=d(H.params)}const B=t.resolve($,H),ge=R.hash||"";B.params=u(f(B.params));const h=j_(n,oe({},R,{hash:A_(ge),path:B.path})),g=r.createHref(h);return oe({fullPath:h,hash:ge,query:n===hl?fb(R.query):R.query||{}},B,{redirectedFrom:void 0,href:g})}function m(R){return typeof R=="string"?Ui(s,R,l.value.path):oe({},R)}function v(R,H){if(c!==R)return rn(8,{from:H,to:R})}function x(R){return U(R)}function A(R){return x(oe(m(R),{replace:!0}))}function D(R){const H=R.matched[R.matched.length-1];if(H&&H.redirect){const{redirect:$}=H;let B=typeof $=="function"?$(R):$;return typeof B=="string"&&(B=B.includes("?")||B.includes("#")?B=m(B):{path:B},B.params={}),oe({query:R.query,hash:R.hash,params:B.path!=null?{}:R.params},B)}}function U(R,H){const $=c=P(R),B=l.value,ge=R.state,h=R.force,g=R.replace===!0,b=D($);if(b)return U(oe(m(b),{state:typeof b=="object"?oe({},ge,b.state):ge,force:h,replace:g}),H||$);const T=$;T.redirectedFrom=H;let k;return!h&&$_(n,B,$)&&(k=rn(16,{to:T,from:B}),he(B,B,!0,!1)),(k?Promise.resolve(k):se(T,B)).catch(C=>It(C)?It(C,2)?C:fe(C):te(C,T,B)).then(C=>{if(C){if(It(C,2))return U(oe({replace:g},m(C.to),{state:typeof C.to=="object"?oe({},ge,C.to.state):ge,force:h}),H||T)}else C=ce(T,B,!0,g,ge);return ne(T,B,C),C})}function q(R,H){const $=v(R,H);return $?Promise.reject($):Promise.resolve()}function I(R){const H=He.values().next().value;return H&&typeof H.runWithContext=="function"?H.runWithContext(R):R()}function se(R,H){let $;const[B,ge,h]=Sb(R,H);$=Li(B.reverse(),"beforeRouteLeave",R,H);for(const b of B)b.leaveGuards.forEach(T=>{$.push(Qt(T,R,H))});const g=q.bind(null,R,H);return $.push(g),Ae($).then(()=>{$=[];for(const b of i.list())$.push(Qt(b,R,H));return $.push(g),Ae($)}).then(()=>{$=Li(ge,"beforeRouteUpdate",R,H);for(const b of ge)b.updateGuards.forEach(T=>{$.push(Qt(T,R,H))});return $.push(g),Ae($)}).then(()=>{$=[];for(const b of h)if(b.beforeEnter)if(pt(b.beforeEnter))for(const T of b.beforeEnter)$.push(Qt(T,R,H));else $.push(Qt(b.beforeEnter,R,H));return $.push(g),Ae($)}).then(()=>(R.matched.forEach(b=>b.enterCallbacks={}),$=Li(h,"beforeRouteEnter",R,H,I),$.push(g),Ae($))).then(()=>{$=[];for(const b of o.list())$.push(Qt(b,R,H));return $.push(g),Ae($)}).catch(b=>It(b,8)?b:Promise.reject(b))}function ne(R,H,$){a.list().forEach(B=>I(()=>B(R,H,$)))}function ce(R,H,$,B,ge){const h=v(R,H);if(h)return h;const g=H===Vt,b=As?history.state:{};$&&(B||g?r.replace(R.fullPath,oe({scroll:g&&b&&b.scroll},ge)):r.push(R.fullPath,ge)),l.value=R,he(R,H,$,g),fe()}let ve;function We(){ve||(ve=r.listen((R,H,$)=>{if(!Ne.listening)return;const B=P(R),ge=D(B);if(ge){U(oe(ge,{replace:!0,force:!0}),B).catch(Nn);return}c=B;const h=l.value;As&&z_(rl(h.fullPath,$.delta),ii()),se(B,h).catch(g=>It(g,12)?g:It(g,2)?(U(oe(m(g.to),{force:!0}),B).then(b=>{It(b,20)&&!$.delta&&$.type===Wn.pop&&r.go(-1,!1)}).catch(Nn),Promise.reject()):($.delta&&r.go(-$.delta,!1),te(g,B,h))).then(g=>{g=g||ce(B,h,!1),g&&($.delta&&!It(g,8)?r.go(-$.delta,!1):$.type===Wn.pop&&It(g,20)&&r.go(-1,!1)),ne(B,h,g)}).catch(Nn)}))}let Pe=mn(),de=mn(),ee;function te(R,H,$){fe(R);const B=de.list();return B.length?B.forEach(ge=>ge(R,H,$)):console.error(R),Promise.reject(R)}function Le(){return ee&&l.value!==Vt?Promise.resolve():new Promise((R,H)=>{Pe.add([R,H])})}function fe(R){return ee||(ee=!R,We(),Pe.list().forEach(([H,$])=>R?$(R):H()),Pe.reset()),R}function he(R,H,$,B){const{scrollBehavior:ge}=e;if(!As||!ge)return Promise.resolve();const h=!$&&V_(rl(R.fullPath,0))||(B||!$)&&history.state&&history.state.scroll||null;return Wc().then(()=>ge(R,H,h)).then(g=>g&&W_(g)).catch(g=>te(g,R,H))}const pe=R=>r.go(R);let ke;const He=new Set,Ne={currentRoute:l,listening:!0,addRoute:p,removeRoute:w,clearRoutes:t.clearRoutes,hasRoute:y,getRoutes:_,resolve:P,options:e,push:x,replace:A,go:pe,back:()=>pe(-1),forward:()=>pe(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:de.add,isReady:Le,install(R){const H=this;R.component("RouterLink",mb),R.component("RouterView",vb),R.config.globalProperties.$router=H,Object.defineProperty(R.config.globalProperties,"$route",{enumerable:!0,get:()=>Us(l)}),As&&!ke&&l.value===Vt&&(ke=!0,x(r.location).catch(ge=>{}));const $={};for(const ge in Vt)Object.defineProperty($,ge,{get:()=>l.value[ge],enumerable:!0});R.provide(oi,H),R.provide(zu,Mc($)),R.provide(fo,l);const B=R.unmount;He.add(R),R.unmount=function(){He.delete(R),He.size<1&&(c=Vt,ve&&ve(),ve=null,l.value=Vt,ke=!1,ee=!1),B()}}};function Ae(R){return R.reduce((H,$)=>H.then(()=>I($)),Promise.resolve())}return Ne}function Sb(e,t){const s=[],n=[],r=[],i=Math.max(t.matched.length,e.matched.length);for(let o=0;o<i;o++){const a=t.matched[o];a&&(e.matched.find(c=>nn(c,a))?n.push(a):s.push(a));const l=e.matched[o];l&&(t.matched.find(c=>nn(c,l))||r.push(l))}return[s,n,r]}function Eb(){return ht(oi)}function Vu(e,t){return function(){return e.apply(t,arguments)}}const{toString:xb}=Object.prototype,{getPrototypeOf:Yo}=Object,{iterator:ai,toStringTag:Ku}=Symbol,li=(e=>t=>{const s=xb.call(t);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),gt=e=>(e=e.toLowerCase(),t=>li(t)===e),ci=e=>t=>typeof t===e,{isArray:cn}=Array,zn=ci("undefined");function Rb(e){return e!==null&&!zn(e)&&e.constructor!==null&&!zn(e.constructor)&&Je(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Gu=gt("ArrayBuffer");function Tb(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Gu(e.buffer),t}const Cb=ci("string"),Je=ci("function"),Ju=ci("number"),ui=e=>e!==null&&typeof e=="object",Pb=e=>e===!0||e===!1,Tr=e=>{if(li(e)!=="object")return!1;const t=Yo(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Ku in e)&&!(ai in e)},kb=gt("Date"),Ab=gt("File"),Ob=gt("Blob"),Ib=gt("FileList"),Ub=e=>ui(e)&&Je(e.pipe),Lb=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Je(e.append)&&((t=li(e))==="formdata"||t==="object"&&Je(e.toString)&&e.toString()==="[object FormData]"))},Nb=gt("URLSearchParams"),[jb,$b,Mb,Db]=["ReadableStream","Request","Response","Headers"].map(gt),Hb=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function lr(e,t,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let n,r;if(typeof e!="object"&&(e=[e]),cn(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const i=s?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let a;for(n=0;n<o;n++)a=i[n],t.call(null,e[a],a,e)}}function Xu(e,t){t=t.toLowerCase();const s=Object.keys(e);let n=s.length,r;for(;n-- >0;)if(r=s[n],t===r.toLowerCase())return r;return null}const us=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Qu=e=>!zn(e)&&e!==us;function ho(){const{caseless:e}=Qu(this)&&this||{},t={},s=(n,r)=>{const i=e&&Xu(t,r)||r;Tr(t[i])&&Tr(n)?t[i]=ho(t[i],n):Tr(n)?t[i]=ho({},n):cn(n)?t[i]=n.slice():t[i]=n};for(let n=0,r=arguments.length;n<r;n++)arguments[n]&&lr(arguments[n],s);return t}const qb=(e,t,s,{allOwnKeys:n}={})=>(lr(t,(r,i)=>{s&&Je(r)?e[i]=Vu(r,s):e[i]=r},{allOwnKeys:n}),e),Fb=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Bb=(e,t,s,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},Wb=(e,t,s,n)=>{let r,i,o;const a={};if(t=t||{},e==null)return t;do{for(r=Object.getOwnPropertyNames(e),i=r.length;i-- >0;)o=r[i],(!n||n(o,e,t))&&!a[o]&&(t[o]=e[o],a[o]=!0);e=s!==!1&&Yo(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},zb=(e,t,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=t.length;const n=e.indexOf(t,s);return n!==-1&&n===s},Vb=e=>{if(!e)return null;if(cn(e))return e;let t=e.length;if(!Ju(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},Kb=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Yo(Uint8Array)),Gb=(e,t)=>{const n=(e&&e[ai]).call(e);let r;for(;(r=n.next())&&!r.done;){const i=r.value;t.call(e,i[0],i[1])}},Jb=(e,t)=>{let s;const n=[];for(;(s=e.exec(t))!==null;)n.push(s);return n},Xb=gt("HTMLFormElement"),Qb=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,n,r){return n.toUpperCase()+r}),bl=(({hasOwnProperty:e})=>(t,s)=>e.call(t,s))(Object.prototype),Yb=gt("RegExp"),Yu=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),n={};lr(s,(r,i)=>{let o;(o=t(r,i,e))!==!1&&(n[i]=o||r)}),Object.defineProperties(e,n)},Zb=e=>{Yu(e,(t,s)=>{if(Je(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const n=e[s];if(Je(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},ev=(e,t)=>{const s={},n=r=>{r.forEach(i=>{s[i]=!0})};return cn(e)?n(e):n(String(e).split(t)),s},tv=()=>{},sv=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function nv(e){return!!(e&&Je(e.append)&&e[Ku]==="FormData"&&e[ai])}const rv=e=>{const t=new Array(10),s=(n,r)=>{if(ui(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[r]=n;const i=cn(n)?[]:{};return lr(n,(o,a)=>{const l=s(o,r+1);!zn(l)&&(i[a]=l)}),t[r]=void 0,i}}return n};return s(e,0)},iv=gt("AsyncFunction"),ov=e=>e&&(ui(e)||Je(e))&&Je(e.then)&&Je(e.catch),Zu=((e,t)=>e?setImmediate:t?((s,n)=>(us.addEventListener("message",({source:r,data:i})=>{r===us&&i===s&&n.length&&n.shift()()},!1),r=>{n.push(r),us.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",Je(us.postMessage)),av=typeof queueMicrotask<"u"?queueMicrotask.bind(us):typeof process<"u"&&process.nextTick||Zu,lv=e=>e!=null&&Je(e[ai]),E={isArray:cn,isArrayBuffer:Gu,isBuffer:Rb,isFormData:Lb,isArrayBufferView:Tb,isString:Cb,isNumber:Ju,isBoolean:Pb,isObject:ui,isPlainObject:Tr,isReadableStream:jb,isRequest:$b,isResponse:Mb,isHeaders:Db,isUndefined:zn,isDate:kb,isFile:Ab,isBlob:Ob,isRegExp:Yb,isFunction:Je,isStream:Ub,isURLSearchParams:Nb,isTypedArray:Kb,isFileList:Ib,forEach:lr,merge:ho,extend:qb,trim:Hb,stripBOM:Fb,inherits:Bb,toFlatObject:Wb,kindOf:li,kindOfTest:gt,endsWith:zb,toArray:Vb,forEachEntry:Gb,matchAll:Jb,isHTMLForm:Xb,hasOwnProperty:bl,hasOwnProp:bl,reduceDescriptors:Yu,freezeMethods:Zb,toObjectSet:ev,toCamelCase:Qb,noop:tv,toFiniteNumber:sv,findKey:Xu,global:us,isContextDefined:Qu,isSpecCompliantForm:nv,toJSONObject:rv,isAsyncFn:iv,isThenable:ov,setImmediate:Zu,asap:av,isIterable:lv};function Y(e,t,s,n,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),n&&(this.request=n),r&&(this.response=r,this.status=r.status?r.status:null)}E.inherits(Y,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:E.toJSONObject(this.config),code:this.code,status:this.status}}});const ed=Y.prototype,td={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{td[e]={value:e}});Object.defineProperties(Y,td);Object.defineProperty(ed,"isAxiosError",{value:!0});Y.from=(e,t,s,n,r,i)=>{const o=Object.create(ed);return E.toFlatObject(e,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),Y.call(o,e.message,t,s,n,r),o.cause=e,o.name=e.name,i&&Object.assign(o,i),o};const cv=null;function po(e){return E.isPlainObject(e)||E.isArray(e)}function sd(e){return E.endsWith(e,"[]")?e.slice(0,-2):e}function vl(e,t,s){return e?e.concat(t).map(function(r,i){return r=sd(r),!s&&i?"["+r+"]":r}).join(s?".":""):t}function uv(e){return E.isArray(e)&&!e.some(po)}const dv=E.toFlatObject(E,{},null,function(t){return/^is[A-Z]/.test(t)});function di(e,t,s){if(!E.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,s=E.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_,y){return!E.isUndefined(y[_])});const n=s.metaTokens,r=s.visitor||u,i=s.dots,o=s.indexes,l=(s.Blob||typeof Blob<"u"&&Blob)&&E.isSpecCompliantForm(t);if(!E.isFunction(r))throw new TypeError("visitor must be a function");function c(w){if(w===null)return"";if(E.isDate(w))return w.toISOString();if(E.isBoolean(w))return w.toString();if(!l&&E.isBlob(w))throw new Y("Blob is not supported. Use a Buffer instead.");return E.isArrayBuffer(w)||E.isTypedArray(w)?l&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function u(w,_,y){let P=w;if(w&&!y&&typeof w=="object"){if(E.endsWith(_,"{}"))_=n?_:_.slice(0,-2),w=JSON.stringify(w);else if(E.isArray(w)&&uv(w)||(E.isFileList(w)||E.endsWith(_,"[]"))&&(P=E.toArray(w)))return _=sd(_),P.forEach(function(v,x){!(E.isUndefined(v)||v===null)&&t.append(o===!0?vl([_],x,i):o===null?_:_+"[]",c(v))}),!1}return po(w)?!0:(t.append(vl(y,_,i),c(w)),!1)}const d=[],f=Object.assign(dv,{defaultVisitor:u,convertValue:c,isVisitable:po});function p(w,_){if(!E.isUndefined(w)){if(d.indexOf(w)!==-1)throw Error("Circular reference detected in "+_.join("."));d.push(w),E.forEach(w,function(P,m){(!(E.isUndefined(P)||P===null)&&r.call(t,P,E.isString(m)?m.trim():m,_,f))===!0&&p(P,_?_.concat(m):[m])}),d.pop()}}if(!E.isObject(e))throw new TypeError("data must be an object");return p(e),t}function yl(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Zo(e,t){this._pairs=[],e&&di(e,this,t)}const nd=Zo.prototype;nd.append=function(t,s){this._pairs.push([t,s])};nd.toString=function(t){const s=t?function(n){return t.call(this,n,yl)}:yl;return this._pairs.map(function(r){return s(r[0])+"="+s(r[1])},"").join("&")};function fv(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function rd(e,t,s){if(!t)return e;const n=s&&s.encode||fv;E.isFunction(s)&&(s={serialize:s});const r=s&&s.serialize;let i;if(r?i=r(t,s):i=E.isURLSearchParams(t)?t.toString():new Zo(t,s).toString(n),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class Sl{constructor(){this.handlers=[]}use(t,s,n){return this.handlers.push({fulfilled:t,rejected:s,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){E.forEach(this.handlers,function(n){n!==null&&t(n)})}}const id={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},hv=typeof URLSearchParams<"u"?URLSearchParams:Zo,pv=typeof FormData<"u"?FormData:null,gv=typeof Blob<"u"?Blob:null,mv={isBrowser:!0,classes:{URLSearchParams:hv,FormData:pv,Blob:gv},protocols:["http","https","file","blob","url","data"]},ea=typeof window<"u"&&typeof document<"u",go=typeof navigator=="object"&&navigator||void 0,wv=ea&&(!go||["ReactNative","NativeScript","NS"].indexOf(go.product)<0),_v=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",bv=ea&&window.location.href||"http://localhost",vv=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ea,hasStandardBrowserEnv:wv,hasStandardBrowserWebWorkerEnv:_v,navigator:go,origin:bv},Symbol.toStringTag,{value:"Module"})),$e={...vv,...mv};function yv(e,t){return di(e,new $e.classes.URLSearchParams,Object.assign({visitor:function(s,n,r,i){return $e.isNode&&E.isBuffer(s)?(this.append(n,s.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}function Sv(e){return E.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Ev(e){const t={},s=Object.keys(e);let n;const r=s.length;let i;for(n=0;n<r;n++)i=s[n],t[i]=e[i];return t}function od(e){function t(s,n,r,i){let o=s[i++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=i>=s.length;return o=!o&&E.isArray(r)?r.length:o,l?(E.hasOwnProp(r,o)?r[o]=[r[o],n]:r[o]=n,!a):((!r[o]||!E.isObject(r[o]))&&(r[o]=[]),t(s,n,r[o],i)&&E.isArray(r[o])&&(r[o]=Ev(r[o])),!a)}if(E.isFormData(e)&&E.isFunction(e.entries)){const s={};return E.forEachEntry(e,(n,r)=>{t(Sv(n),r,s,0)}),s}return null}function xv(e,t,s){if(E.isString(e))try{return(t||JSON.parse)(e),E.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(s||JSON.stringify)(e)}const cr={transitional:id,adapter:["xhr","http","fetch"],transformRequest:[function(t,s){const n=s.getContentType()||"",r=n.indexOf("application/json")>-1,i=E.isObject(t);if(i&&E.isHTMLForm(t)&&(t=new FormData(t)),E.isFormData(t))return r?JSON.stringify(od(t)):t;if(E.isArrayBuffer(t)||E.isBuffer(t)||E.isStream(t)||E.isFile(t)||E.isBlob(t)||E.isReadableStream(t))return t;if(E.isArrayBufferView(t))return t.buffer;if(E.isURLSearchParams(t))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return yv(t,this.formSerializer).toString();if((a=E.isFileList(t))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return di(a?{"files[]":t}:t,l&&new l,this.formSerializer)}}return i||r?(s.setContentType("application/json",!1),xv(t)):t}],transformResponse:[function(t){const s=this.transitional||cr.transitional,n=s&&s.forcedJSONParsing,r=this.responseType==="json";if(E.isResponse(t)||E.isReadableStream(t))return t;if(t&&E.isString(t)&&(n&&!this.responseType||r)){const o=!(s&&s.silentJSONParsing)&&r;try{return JSON.parse(t)}catch(a){if(o)throw a.name==="SyntaxError"?Y.from(a,Y.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:$e.classes.FormData,Blob:$e.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};E.forEach(["delete","get","head","post","put","patch"],e=>{cr.headers[e]={}});const Rv=E.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Tv=e=>{const t={};let s,n,r;return e&&e.split(`
`).forEach(function(o){r=o.indexOf(":"),s=o.substring(0,r).trim().toLowerCase(),n=o.substring(r+1).trim(),!(!s||t[s]&&Rv[s])&&(s==="set-cookie"?t[s]?t[s].push(n):t[s]=[n]:t[s]=t[s]?t[s]+", "+n:n)}),t},El=Symbol("internals");function wn(e){return e&&String(e).trim().toLowerCase()}function Cr(e){return e===!1||e==null?e:E.isArray(e)?e.map(Cr):String(e)}function Cv(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=s.exec(e);)t[n[1]]=n[2];return t}const Pv=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Ni(e,t,s,n,r){if(E.isFunction(n))return n.call(this,t,s);if(r&&(t=s),!!E.isString(t)){if(E.isString(n))return t.indexOf(n)!==-1;if(E.isRegExp(n))return n.test(t)}}function kv(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,s,n)=>s.toUpperCase()+n)}function Av(e,t){const s=E.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+s,{value:function(r,i,o){return this[n].call(this,t,r,i,o)},configurable:!0})})}let Xe=class{constructor(t){t&&this.set(t)}set(t,s,n){const r=this;function i(a,l,c){const u=wn(l);if(!u)throw new Error("header name must be a non-empty string");const d=E.findKey(r,u);(!d||r[d]===void 0||c===!0||c===void 0&&r[d]!==!1)&&(r[d||l]=Cr(a))}const o=(a,l)=>E.forEach(a,(c,u)=>i(c,u,l));if(E.isPlainObject(t)||t instanceof this.constructor)o(t,s);else if(E.isString(t)&&(t=t.trim())&&!Pv(t))o(Tv(t),s);else if(E.isObject(t)&&E.isIterable(t)){let a={},l,c;for(const u of t){if(!E.isArray(u))throw TypeError("Object iterator must return a key-value pair");a[c=u[0]]=(l=a[c])?E.isArray(l)?[...l,u[1]]:[l,u[1]]:u[1]}o(a,s)}else t!=null&&i(s,t,n);return this}get(t,s){if(t=wn(t),t){const n=E.findKey(this,t);if(n){const r=this[n];if(!s)return r;if(s===!0)return Cv(r);if(E.isFunction(s))return s.call(this,r,n);if(E.isRegExp(s))return s.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,s){if(t=wn(t),t){const n=E.findKey(this,t);return!!(n&&this[n]!==void 0&&(!s||Ni(this,this[n],n,s)))}return!1}delete(t,s){const n=this;let r=!1;function i(o){if(o=wn(o),o){const a=E.findKey(n,o);a&&(!s||Ni(n,n[a],a,s))&&(delete n[a],r=!0)}}return E.isArray(t)?t.forEach(i):i(t),r}clear(t){const s=Object.keys(this);let n=s.length,r=!1;for(;n--;){const i=s[n];(!t||Ni(this,this[i],i,t,!0))&&(delete this[i],r=!0)}return r}normalize(t){const s=this,n={};return E.forEach(this,(r,i)=>{const o=E.findKey(n,i);if(o){s[o]=Cr(r),delete s[i];return}const a=t?kv(i):String(i).trim();a!==i&&delete s[i],s[a]=Cr(r),n[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const s=Object.create(null);return E.forEach(this,(n,r)=>{n!=null&&n!==!1&&(s[r]=t&&E.isArray(n)?n.join(", "):n)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,s])=>t+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...s){const n=new this(t);return s.forEach(r=>n.set(r)),n}static accessor(t){const n=(this[El]=this[El]={accessors:{}}).accessors,r=this.prototype;function i(o){const a=wn(o);n[a]||(Av(r,o),n[a]=!0)}return E.isArray(t)?t.forEach(i):i(t),this}};Xe.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);E.reduceDescriptors(Xe.prototype,({value:e},t)=>{let s=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[s]=n}}});E.freezeMethods(Xe);function ji(e,t){const s=this||cr,n=t||s,r=Xe.from(n.headers);let i=n.data;return E.forEach(e,function(a){i=a.call(s,i,r.normalize(),t?t.status:void 0)}),r.normalize(),i}function ad(e){return!!(e&&e.__CANCEL__)}function un(e,t,s){Y.call(this,e??"canceled",Y.ERR_CANCELED,t,s),this.name="CanceledError"}E.inherits(un,Y,{__CANCEL__:!0});function ld(e,t,s){const n=s.config.validateStatus;!s.status||!n||n(s.status)?e(s):t(new Y("Request failed with status code "+s.status,[Y.ERR_BAD_REQUEST,Y.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function Ov(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Iv(e,t){e=e||10;const s=new Array(e),n=new Array(e);let r=0,i=0,o;return t=t!==void 0?t:1e3,function(l){const c=Date.now(),u=n[i];o||(o=c),s[r]=l,n[r]=c;let d=i,f=0;for(;d!==r;)f+=s[d++],d=d%e;if(r=(r+1)%e,r===i&&(i=(i+1)%e),c-o<t)return;const p=u&&c-u;return p?Math.round(f*1e3/p):void 0}}function Uv(e,t){let s=0,n=1e3/t,r,i;const o=(c,u=Date.now())=>{s=u,r=null,i&&(clearTimeout(i),i=null),e.apply(null,c)};return[(...c)=>{const u=Date.now(),d=u-s;d>=n?o(c,u):(r=c,i||(i=setTimeout(()=>{i=null,o(r)},n-d)))},()=>r&&o(r)]}const Dr=(e,t,s=3)=>{let n=0;const r=Iv(50,250);return Uv(i=>{const o=i.loaded,a=i.lengthComputable?i.total:void 0,l=o-n,c=r(l),u=o<=a;n=o;const d={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&u?(a-o)/c:void 0,event:i,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(d)},s)},xl=(e,t)=>{const s=e!=null;return[n=>t[0]({lengthComputable:s,total:e,loaded:n}),t[1]]},Rl=e=>(...t)=>E.asap(()=>e(...t)),Lv=$e.hasStandardBrowserEnv?((e,t)=>s=>(s=new URL(s,$e.origin),e.protocol===s.protocol&&e.host===s.host&&(t||e.port===s.port)))(new URL($e.origin),$e.navigator&&/(msie|trident)/i.test($e.navigator.userAgent)):()=>!0,Nv=$e.hasStandardBrowserEnv?{write(e,t,s,n,r,i){const o=[e+"="+encodeURIComponent(t)];E.isNumber(s)&&o.push("expires="+new Date(s).toGMTString()),E.isString(n)&&o.push("path="+n),E.isString(r)&&o.push("domain="+r),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function jv(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function $v(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function cd(e,t,s){let n=!jv(t);return e&&(n||s==!1)?$v(e,t):t}const Tl=e=>e instanceof Xe?{...e}:e;function Es(e,t){t=t||{};const s={};function n(c,u,d,f){return E.isPlainObject(c)&&E.isPlainObject(u)?E.merge.call({caseless:f},c,u):E.isPlainObject(u)?E.merge({},u):E.isArray(u)?u.slice():u}function r(c,u,d,f){if(E.isUndefined(u)){if(!E.isUndefined(c))return n(void 0,c,d,f)}else return n(c,u,d,f)}function i(c,u){if(!E.isUndefined(u))return n(void 0,u)}function o(c,u){if(E.isUndefined(u)){if(!E.isUndefined(c))return n(void 0,c)}else return n(void 0,u)}function a(c,u,d){if(d in t)return n(c,u);if(d in e)return n(void 0,c)}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,u,d)=>r(Tl(c),Tl(u),d,!0)};return E.forEach(Object.keys(Object.assign({},e,t)),function(u){const d=l[u]||r,f=d(e[u],t[u],u);E.isUndefined(f)&&d!==a||(s[u]=f)}),s}const ud=e=>{const t=Es({},e);let{data:s,withXSRFToken:n,xsrfHeaderName:r,xsrfCookieName:i,headers:o,auth:a}=t;t.headers=o=Xe.from(o),t.url=rd(cd(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(E.isFormData(s)){if($e.hasStandardBrowserEnv||$e.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[c,...u]=l?l.split(";").map(d=>d.trim()).filter(Boolean):[];o.setContentType([c||"multipart/form-data",...u].join("; "))}}if($e.hasStandardBrowserEnv&&(n&&E.isFunction(n)&&(n=n(t)),n||n!==!1&&Lv(t.url))){const c=r&&i&&Nv.read(i);c&&o.set(r,c)}return t},Mv=typeof XMLHttpRequest<"u",Dv=Mv&&function(e){return new Promise(function(s,n){const r=ud(e);let i=r.data;const o=Xe.from(r.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=r,u,d,f,p,w;function _(){p&&p(),w&&w(),r.cancelToken&&r.cancelToken.unsubscribe(u),r.signal&&r.signal.removeEventListener("abort",u)}let y=new XMLHttpRequest;y.open(r.method.toUpperCase(),r.url,!0),y.timeout=r.timeout;function P(){if(!y)return;const v=Xe.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),A={data:!a||a==="text"||a==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:v,config:e,request:y};ld(function(U){s(U),_()},function(U){n(U),_()},A),y=null}"onloadend"in y?y.onloadend=P:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(P)},y.onabort=function(){y&&(n(new Y("Request aborted",Y.ECONNABORTED,e,y)),y=null)},y.onerror=function(){n(new Y("Network Error",Y.ERR_NETWORK,e,y)),y=null},y.ontimeout=function(){let x=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const A=r.transitional||id;r.timeoutErrorMessage&&(x=r.timeoutErrorMessage),n(new Y(x,A.clarifyTimeoutError?Y.ETIMEDOUT:Y.ECONNABORTED,e,y)),y=null},i===void 0&&o.setContentType(null),"setRequestHeader"in y&&E.forEach(o.toJSON(),function(x,A){y.setRequestHeader(A,x)}),E.isUndefined(r.withCredentials)||(y.withCredentials=!!r.withCredentials),a&&a!=="json"&&(y.responseType=r.responseType),c&&([f,w]=Dr(c,!0),y.addEventListener("progress",f)),l&&y.upload&&([d,p]=Dr(l),y.upload.addEventListener("progress",d),y.upload.addEventListener("loadend",p)),(r.cancelToken||r.signal)&&(u=v=>{y&&(n(!v||v.type?new un(null,e,y):v),y.abort(),y=null)},r.cancelToken&&r.cancelToken.subscribe(u),r.signal&&(r.signal.aborted?u():r.signal.addEventListener("abort",u)));const m=Ov(r.url);if(m&&$e.protocols.indexOf(m)===-1){n(new Y("Unsupported protocol "+m+":",Y.ERR_BAD_REQUEST,e));return}y.send(i||null)})},Hv=(e,t)=>{const{length:s}=e=e?e.filter(Boolean):[];if(t||s){let n=new AbortController,r;const i=function(c){if(!r){r=!0,a();const u=c instanceof Error?c:this.reason;n.abort(u instanceof Y?u:new un(u instanceof Error?u.message:u))}};let o=t&&setTimeout(()=>{o=null,i(new Y(`timeout ${t} of ms exceeded`,Y.ETIMEDOUT))},t);const a=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(i):c.removeEventListener("abort",i)}),e=null)};e.forEach(c=>c.addEventListener("abort",i));const{signal:l}=n;return l.unsubscribe=()=>E.asap(a),l}},qv=function*(e,t){let s=e.byteLength;if(s<t){yield e;return}let n=0,r;for(;n<s;)r=n+t,yield e.slice(n,r),n=r},Fv=async function*(e,t){for await(const s of Bv(e))yield*qv(s,t)},Bv=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:s,value:n}=await t.read();if(s)break;yield n}}finally{await t.cancel()}},Cl=(e,t,s,n)=>{const r=Fv(e,t);let i=0,o,a=l=>{o||(o=!0,n&&n(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await r.next();if(c){a(),l.close();return}let d=u.byteLength;if(s){let f=i+=d;s(f)}l.enqueue(new Uint8Array(u))}catch(c){throw a(c),c}},cancel(l){return a(l),r.return()}},{highWaterMark:2})},fi=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",dd=fi&&typeof ReadableStream=="function",Wv=fi&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),fd=(e,...t)=>{try{return!!e(...t)}catch{return!1}},zv=dd&&fd(()=>{let e=!1;const t=new Request($e.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Pl=64*1024,mo=dd&&fd(()=>E.isReadableStream(new Response("").body)),Hr={stream:mo&&(e=>e.body)};fi&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Hr[t]&&(Hr[t]=E.isFunction(e[t])?s=>s[t]():(s,n)=>{throw new Y(`Response type '${t}' is not supported`,Y.ERR_NOT_SUPPORT,n)})})})(new Response);const Vv=async e=>{if(e==null)return 0;if(E.isBlob(e))return e.size;if(E.isSpecCompliantForm(e))return(await new Request($e.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(E.isArrayBufferView(e)||E.isArrayBuffer(e))return e.byteLength;if(E.isURLSearchParams(e)&&(e=e+""),E.isString(e))return(await Wv(e)).byteLength},Kv=async(e,t)=>{const s=E.toFiniteNumber(e.getContentLength());return s??Vv(t)},Gv=fi&&(async e=>{let{url:t,method:s,data:n,signal:r,cancelToken:i,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:u,withCredentials:d="same-origin",fetchOptions:f}=ud(e);c=c?(c+"").toLowerCase():"text";let p=Hv([r,i&&i.toAbortSignal()],o),w;const _=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let y;try{if(l&&zv&&s!=="get"&&s!=="head"&&(y=await Kv(u,n))!==0){let A=new Request(t,{method:"POST",body:n,duplex:"half"}),D;if(E.isFormData(n)&&(D=A.headers.get("content-type"))&&u.setContentType(D),A.body){const[U,q]=xl(y,Dr(Rl(l)));n=Cl(A.body,Pl,U,q)}}E.isString(d)||(d=d?"include":"omit");const P="credentials"in Request.prototype;w=new Request(t,{...f,signal:p,method:s.toUpperCase(),headers:u.normalize().toJSON(),body:n,duplex:"half",credentials:P?d:void 0});let m=await fetch(w,f);const v=mo&&(c==="stream"||c==="response");if(mo&&(a||v&&_)){const A={};["status","statusText","headers"].forEach(I=>{A[I]=m[I]});const D=E.toFiniteNumber(m.headers.get("content-length")),[U,q]=a&&xl(D,Dr(Rl(a),!0))||[];m=new Response(Cl(m.body,Pl,U,()=>{q&&q(),_&&_()}),A)}c=c||"text";let x=await Hr[E.findKey(Hr,c)||"text"](m,e);return!v&&_&&_(),await new Promise((A,D)=>{ld(A,D,{data:x,headers:Xe.from(m.headers),status:m.status,statusText:m.statusText,config:e,request:w})})}catch(P){throw _&&_(),P&&P.name==="TypeError"&&/Load failed|fetch/i.test(P.message)?Object.assign(new Y("Network Error",Y.ERR_NETWORK,e,w),{cause:P.cause||P}):Y.from(P,P&&P.code,e,w)}}),wo={http:cv,xhr:Dv,fetch:Gv};E.forEach(wo,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const kl=e=>`- ${e}`,Jv=e=>E.isFunction(e)||e===null||e===!1,hd={getAdapter:e=>{e=E.isArray(e)?e:[e];const{length:t}=e;let s,n;const r={};for(let i=0;i<t;i++){s=e[i];let o;if(n=s,!Jv(s)&&(n=wo[(o=String(s)).toLowerCase()],n===void 0))throw new Y(`Unknown adapter '${o}'`);if(n)break;r[o||"#"+i]=n}if(!n){const i=Object.entries(r).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=t?i.length>1?`since :
`+i.map(kl).join(`
`):" "+kl(i[0]):"as no adapter specified";throw new Y("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:wo};function $i(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new un(null,e)}function Al(e){return $i(e),e.headers=Xe.from(e.headers),e.data=ji.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),hd.getAdapter(e.adapter||cr.adapter)(e).then(function(n){return $i(e),n.data=ji.call(e,e.transformResponse,n),n.headers=Xe.from(n.headers),n},function(n){return ad(n)||($i(e),n&&n.response&&(n.response.data=ji.call(e,e.transformResponse,n.response),n.response.headers=Xe.from(n.response.headers))),Promise.reject(n)})}const pd="1.10.0",hi={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{hi[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Ol={};hi.transitional=function(t,s,n){function r(i,o){return"[Axios v"+pd+"] Transitional option '"+i+"'"+o+(n?". "+n:"")}return(i,o,a)=>{if(t===!1)throw new Y(r(o," has been removed"+(s?" in "+s:"")),Y.ERR_DEPRECATED);return s&&!Ol[o]&&(Ol[o]=!0,console.warn(r(o," has been deprecated since v"+s+" and will be removed in the near future"))),t?t(i,o,a):!0}};hi.spelling=function(t){return(s,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function Xv(e,t,s){if(typeof e!="object")throw new Y("options must be an object",Y.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let r=n.length;for(;r-- >0;){const i=n[r],o=t[i];if(o){const a=e[i],l=a===void 0||o(a,i,e);if(l!==!0)throw new Y("option "+i+" must be "+l,Y.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new Y("Unknown option "+i,Y.ERR_BAD_OPTION)}}const Pr={assertOptions:Xv,validators:hi},vt=Pr.validators;let bs=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Sl,response:new Sl}}async request(t,s){try{return await this._request(t,s)}catch(n){if(n instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const i=r.stack?r.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(t,s){typeof t=="string"?(s=s||{},s.url=t):s=t||{},s=Es(this.defaults,s);const{transitional:n,paramsSerializer:r,headers:i}=s;n!==void 0&&Pr.assertOptions(n,{silentJSONParsing:vt.transitional(vt.boolean),forcedJSONParsing:vt.transitional(vt.boolean),clarifyTimeoutError:vt.transitional(vt.boolean)},!1),r!=null&&(E.isFunction(r)?s.paramsSerializer={serialize:r}:Pr.assertOptions(r,{encode:vt.function,serialize:vt.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),Pr.assertOptions(s,{baseUrl:vt.spelling("baseURL"),withXsrfToken:vt.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let o=i&&E.merge(i.common,i[s.method]);i&&E.forEach(["delete","get","head","post","put","patch","common"],w=>{delete i[w]}),s.headers=Xe.concat(o,i);const a=[];let l=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(s)===!1||(l=l&&_.synchronous,a.unshift(_.fulfilled,_.rejected))});const c=[];this.interceptors.response.forEach(function(_){c.push(_.fulfilled,_.rejected)});let u,d=0,f;if(!l){const w=[Al.bind(this),void 0];for(w.unshift.apply(w,a),w.push.apply(w,c),f=w.length,u=Promise.resolve(s);d<f;)u=u.then(w[d++],w[d++]);return u}f=a.length;let p=s;for(d=0;d<f;){const w=a[d++],_=a[d++];try{p=w(p)}catch(y){_.call(this,y);break}}try{u=Al.call(this,p)}catch(w){return Promise.reject(w)}for(d=0,f=c.length;d<f;)u=u.then(c[d++],c[d++]);return u}getUri(t){t=Es(this.defaults,t);const s=cd(t.baseURL,t.url,t.allowAbsoluteUrls);return rd(s,t.params,t.paramsSerializer)}};E.forEach(["delete","get","head","options"],function(t){bs.prototype[t]=function(s,n){return this.request(Es(n||{},{method:t,url:s,data:(n||{}).data}))}});E.forEach(["post","put","patch"],function(t){function s(n){return function(i,o,a){return this.request(Es(a||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}bs.prototype[t]=s(),bs.prototype[t+"Form"]=s(!0)});let Qv=class gd{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(i){s=i});const n=this;this.promise.then(r=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](r);n._listeners=null}),this.promise.then=r=>{let i;const o=new Promise(a=>{n.subscribe(a),i=a}).then(r);return o.cancel=function(){n.unsubscribe(i)},o},t(function(i,o,a){n.reason||(n.reason=new un(i,o,a),s(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const s=this._listeners.indexOf(t);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const t=new AbortController,s=n=>{t.abort(n)};return this.subscribe(s),t.signal.unsubscribe=()=>this.unsubscribe(s),t.signal}static source(){let t;return{token:new gd(function(r){t=r}),cancel:t}}};function Yv(e){return function(s){return e.apply(null,s)}}function Zv(e){return E.isObject(e)&&e.isAxiosError===!0}const _o={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(_o).forEach(([e,t])=>{_o[t]=e});function md(e){const t=new bs(e),s=Vu(bs.prototype.request,t);return E.extend(s,bs.prototype,t,{allOwnKeys:!0}),E.extend(s,t,null,{allOwnKeys:!0}),s.create=function(r){return md(Es(e,r))},s}const xe=md(cr);xe.Axios=bs;xe.CanceledError=un;xe.CancelToken=Qv;xe.isCancel=ad;xe.VERSION=pd;xe.toFormData=di;xe.AxiosError=Y;xe.Cancel=xe.CanceledError;xe.all=function(t){return Promise.all(t)};xe.spread=Yv;xe.isAxiosError=Zv;xe.mergeConfig=Es;xe.AxiosHeaders=Xe;xe.formToJSON=e=>od(E.isHTMLForm(e)?new FormData(e):e);xe.getAdapter=hd.getAdapter;xe.HttpStatusCode=_o;xe.default=xe;const{Axios:ay,AxiosError:ly,CanceledError:cy,isCancel:uy,CancelToken:dy,VERSION:fy,all:hy,Cancel:py,isAxiosError:gy,spread:my,toFormData:wy,AxiosHeaders:_y,HttpStatusCode:by,formToJSON:vy,getAdapter:yy,mergeConfig:Sy}=xe,ey=["isRenewing","isAuthenticated"],ty=["isAuthenticated","userProfile","userSession","idToken","idTokenDecoded","accessToken","accessTokenDecoded"],sy=zo({__name:"DemoView",setup(e){const t=tm("demoAppPlayground"),s=Eb(),n=async i=>{const{url:o,headers:a}=i.detail;o&&await xe.get(o,{headers:a}).then(l=>{var c;return(c=t.value)==null?void 0:c.setApiStatus(l.data,!1)}).catch(l=>{var c;return(c=t.value)==null?void 0:c.setApiStatus(l,!0)})},r=async(i,o)=>{const{queryParams:a}=o.detail;await s.push({path:i,query:a,force:!0})};return(i,o)=>{const a=Zc("RouterView");return wu(),Vm("demo-app-main",{isRenewing:i.$authService.isRenewingRef.value,isAuthenticated:i.$authService.isAuthenticatedRef.value,onLogin:o[5]||(o[5]=l=>i.$authService.login()),onLogout:o[6]||(o[6]=l=>i.$authService.logout({redirectUrl:"/"})),"on:silentRenew":o[7]||(o[7]=l=>i.$authService.renew())},[Ln("demo-app-playground",{ref:"demoAppPlayground",tabLabel:"Playground",onApi:o[0]||(o[0]=l=>n(l)),onHome:o[1]||(o[1]=l=>r("/",l)),onPublic:o[2]||(o[2]=l=>r("public",l)),onPrivate:o[3]||(o[3]=l=>r("private",l)),onProtected:o[4]||(o[4]=l=>r("protected",l))},[nt(a)],544),Ln("demo-app-debug",{tabLabel:"Debug",isAuthenticated:i.$authService.isAuthenticatedRef.value,userProfile:i.$authService.userProfileRef.value,userSession:i.$authService.userSessionRef.value,idToken:i.$authService.idTokenRef.value,idTokenDecoded:i.$authService.idTokenDecodedRef.value,accessToken:i.$authService.accessTokenRef.value,accessTokenDecoded:i.$authService.accessTokenDecodedRef.value},null,8,ty),o[8]||(o[8]=Ln("demo-app-settings",{tabLabel:"Settings"},null,-1))],40,ey)}}}),Il=yb({history:X_("/auth-js/demo-app/auth-vue/"),routes:[{path:"/",component:sy,children:[{path:"forbidden",component:()=>hr(()=>import("./PageView-ar595s66.js"),__vite__mapDeps([0,1])),meta:{title:"ACCESS FORBIDDEN"}},{path:"public",component:()=>hr(()=>import("./PageView-ar595s66.js"),__vite__mapDeps([0,1])),meta:{title:"PUBLIC CONTENT"}},{path:"private",component:()=>hr(()=>import("./PageView-ar595s66.js"),__vite__mapDeps([0,1])),meta:{title:"PRIVATE CONTENT",authGuard:!0}},{path:"protected",component:()=>hr(()=>import("./PageView-ar595s66.js"),__vite__mapDeps([0,1])),meta:{title:"PROTECTED CONTENT",authGuard:{validator:Jw()}}}]}]});(()=>{window.appSettings=new h_(!1);const e=document.createElement("div");e.innerHTML="Loading...",document.body.appendChild(e),$w(window.appSettings.getCurrentSettings().librarySettings).then(t=>{e.replaceWith(document.createElement("root"));const s=Ow(w_);s.use(t,{router:Il}),s.use(Il),s.mount("root")}).catch(t=>{var n;const s=t instanceof Error?t.message:String(t);e.innerHTML=`${s}<br/><button id="loginButton">Login</button>`,(n=document.body.querySelector("#loginButton"))==null||n.addEventListener("click",()=>{location.reload()},{once:!0}),console.error(t)})})();export{p_ as _,Ln as a,Vm as c,wu as o,yg as t};
