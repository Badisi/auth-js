(self.webpackChunkdemo_app_ngx_auth=self.webpackChunkdemo_app_ngx_auth||[]).push([[792],{3147:(Ue,he,O)=>{"use strict";var C=O(345),N=O(467),w=O(4438),j=O(7673),Q=O(1985),De=O(6648),J=O(274),be=O(5964),ge=O(6354),te=O(980),Z=O(5558),se=O(177);class Te{}class ae{}class Se{constructor(s){this.normalizedNames=new Map,this.lazyUpdate=null,s?"string"==typeof s?this.lazyInit=()=>{this.headers=new Map,s.split("\n").forEach(a=>{const u=a.indexOf(":");if(u>0){const m=a.slice(0,u),E=m.toLowerCase(),T=a.slice(u+1).trim();this.maybeSetNormalizedName(m,E),this.headers.has(E)?this.headers.get(E).push(T):this.headers.set(E,[T])}})}:typeof Headers<"u"&&s instanceof Headers?(this.headers=new Map,s.forEach((a,u)=>{this.setHeaderEntries(u,a)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(s).forEach(([a,u])=>{this.setHeaderEntries(a,u)})}:this.headers=new Map}has(s){return this.init(),this.headers.has(s.toLowerCase())}get(s){this.init();const a=this.headers.get(s.toLowerCase());return a&&a.length>0?a[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(s){return this.init(),this.headers.get(s.toLowerCase())||null}append(s,a){return this.clone({name:s,value:a,op:"a"})}set(s,a){return this.clone({name:s,value:a,op:"s"})}delete(s,a){return this.clone({name:s,value:a,op:"d"})}maybeSetNormalizedName(s,a){this.normalizedNames.has(a)||this.normalizedNames.set(a,s)}init(){this.lazyInit&&(this.lazyInit instanceof Se?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(s=>this.applyUpdate(s)),this.lazyUpdate=null))}copyFrom(s){s.init(),Array.from(s.headers.keys()).forEach(a=>{this.headers.set(a,s.headers.get(a)),this.normalizedNames.set(a,s.normalizedNames.get(a))})}clone(s){const a=new Se;return a.lazyInit=this.lazyInit&&this.lazyInit instanceof Se?this.lazyInit:this,a.lazyUpdate=(this.lazyUpdate||[]).concat([s]),a}applyUpdate(s){const a=s.name.toLowerCase();switch(s.op){case"a":case"s":let u=s.value;if("string"==typeof u&&(u=[u]),0===u.length)return;this.maybeSetNormalizedName(s.name,a);const m=("a"===s.op?this.headers.get(a):void 0)||[];m.push(...u),this.headers.set(a,m);break;case"d":const E=s.value;if(E){let T=this.headers.get(a);if(!T)return;T=T.filter(x=>-1===E.indexOf(x)),0===T.length?(this.headers.delete(a),this.normalizedNames.delete(a)):this.headers.set(a,T)}else this.headers.delete(a),this.normalizedNames.delete(a)}}setHeaderEntries(s,a){const u=(Array.isArray(a)?a:[a]).map(E=>E.toString()),m=s.toLowerCase();this.headers.set(m,u),this.maybeSetNormalizedName(s,m)}forEach(s){this.init(),Array.from(this.normalizedNames.keys()).forEach(a=>s(this.normalizedNames.get(a),this.headers.get(a)))}}class Ze{encodeKey(s){return pe(s)}encodeValue(s){return pe(s)}decodeKey(s){return decodeURIComponent(s)}decodeValue(s){return decodeURIComponent(s)}}const ye=/%(\d[a-f0-9])/gi,Be={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function pe(i){return encodeURIComponent(i).replace(ye,(s,a)=>Be[a]??s)}function de(i){return`${i}`}class Ce{constructor(s={}){if(this.updates=null,this.cloneFrom=null,this.encoder=s.encoder||new Ze,s.fromString){if(s.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function ie(i,s){const a=new Map;return i.length>0&&i.replace(/^\?/,"").split("&").forEach(m=>{const E=m.indexOf("="),[T,x]=-1==E?[s.decodeKey(m),""]:[s.decodeKey(m.slice(0,E)),s.decodeValue(m.slice(E+1))],V=a.get(T)||[];V.push(x),a.set(T,V)}),a}(s.fromString,this.encoder)}else s.fromObject?(this.map=new Map,Object.keys(s.fromObject).forEach(a=>{const u=s.fromObject[a],m=Array.isArray(u)?u.map(de):[de(u)];this.map.set(a,m)})):this.map=null}has(s){return this.init(),this.map.has(s)}get(s){this.init();const a=this.map.get(s);return a?a[0]:null}getAll(s){return this.init(),this.map.get(s)||null}keys(){return this.init(),Array.from(this.map.keys())}append(s,a){return this.clone({param:s,value:a,op:"a"})}appendAll(s){const a=[];return Object.keys(s).forEach(u=>{const m=s[u];Array.isArray(m)?m.forEach(E=>{a.push({param:u,value:E,op:"a"})}):a.push({param:u,value:m,op:"a"})}),this.clone(a)}set(s,a){return this.clone({param:s,value:a,op:"s"})}delete(s,a){return this.clone({param:s,value:a,op:"d"})}toString(){return this.init(),this.keys().map(s=>{const a=this.encoder.encodeKey(s);return this.map.get(s).map(u=>a+"="+this.encoder.encodeValue(u)).join("&")}).filter(s=>""!==s).join("&")}clone(s){const a=new Ce({encoder:this.encoder});return a.cloneFrom=this.cloneFrom||this,a.updates=(this.updates||[]).concat(s),a}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(s=>this.map.set(s,this.cloneFrom.map.get(s))),this.updates.forEach(s=>{switch(s.op){case"a":case"s":const a=("a"===s.op?this.map.get(s.param):void 0)||[];a.push(de(s.value)),this.map.set(s.param,a);break;case"d":if(void 0===s.value){this.map.delete(s.param);break}{let u=this.map.get(s.param)||[];const m=u.indexOf(de(s.value));-1!==m&&u.splice(m,1),u.length>0?this.map.set(s.param,u):this.map.delete(s.param)}}}),this.cloneFrom=this.updates=null)}}class Ae{constructor(){this.map=new Map}set(s,a){return this.map.set(s,a),this}get(s){return this.map.has(s)||this.map.set(s,s.defaultValue()),this.map.get(s)}delete(s){return this.map.delete(s),this}has(s){return this.map.has(s)}keys(){return this.map.keys()}}function Pe(i){return typeof ArrayBuffer<"u"&&i instanceof ArrayBuffer}function qe(i){return typeof Blob<"u"&&i instanceof Blob}function Je(i){return typeof FormData<"u"&&i instanceof FormData}class yn{constructor(s,a,u,m){let E;if(this.url=a,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=s.toUpperCase(),function Ie(i){switch(i){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||m?(this.body=void 0!==u?u:null,E=m):E=u,E&&(this.reportProgress=!!E.reportProgress,this.withCredentials=!!E.withCredentials,E.responseType&&(this.responseType=E.responseType),E.headers&&(this.headers=E.headers),E.context&&(this.context=E.context),E.params&&(this.params=E.params),this.transferCache=E.transferCache),this.headers??=new Se,this.context??=new Ae,this.params){const T=this.params.toString();if(0===T.length)this.urlWithParams=a;else{const x=a.indexOf("?");this.urlWithParams=a+(-1===x?"?":x<a.length-1?"&":"")+T}}else this.params=new Ce,this.urlWithParams=a}serializeBody(){return null===this.body?null:"string"==typeof this.body||Pe(this.body)||qe(this.body)||Je(this.body)||function er(i){return typeof URLSearchParams<"u"&&i instanceof URLSearchParams}(this.body)?this.body:this.body instanceof Ce?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Je(this.body)?null:qe(this.body)?this.body.type||null:Pe(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ce?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(s={}){const a=s.method||this.method,u=s.url||this.url,m=s.responseType||this.responseType,E=s.transferCache??this.transferCache,T=void 0!==s.body?s.body:this.body,x=s.withCredentials??this.withCredentials,V=s.reportProgress??this.reportProgress;let z=s.headers||this.headers,fe=s.params||this.params;const ve=s.context??this.context;return void 0!==s.setHeaders&&(z=Object.keys(s.setHeaders).reduce((Oe,_t)=>Oe.set(_t,s.setHeaders[_t]),z)),s.setParams&&(fe=Object.keys(s.setParams).reduce((Oe,_t)=>Oe.set(_t,s.setParams[_t]),fe)),new yn(a,u,T,{params:fe,headers:z,context:ve,reportProgress:V,responseType:m,withCredentials:x,transferCache:E})}}var tn=function(i){return i[i.Sent=0]="Sent",i[i.UploadProgress=1]="UploadProgress",i[i.ResponseHeader=2]="ResponseHeader",i[i.DownloadProgress=3]="DownloadProgress",i[i.Response=4]="Response",i[i.User=5]="User",i}(tn||{});class Rn{constructor(s,a=Y.Ok,u="OK"){this.headers=s.headers||new Se,this.status=void 0!==s.status?s.status:a,this.statusText=s.statusText||u,this.url=s.url||null,this.ok=this.status>=200&&this.status<300}}class mt extends Rn{constructor(s={}){super(s),this.type=tn.ResponseHeader}clone(s={}){return new mt({headers:s.headers||this.headers,status:void 0!==s.status?s.status:this.status,statusText:s.statusText||this.statusText,url:s.url||this.url||void 0})}}class dn extends Rn{constructor(s={}){super(s),this.type=tn.Response,this.body=void 0!==s.body?s.body:null}clone(s={}){return new dn({body:void 0!==s.body?s.body:this.body,headers:s.headers||this.headers,status:void 0!==s.status?s.status:this.status,statusText:s.statusText||this.statusText,url:s.url||this.url||void 0})}}class K extends Rn{constructor(s){super(s,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${s.url||"(unknown url)"}`:`Http failure response for ${s.url||"(unknown url)"}: ${s.status} ${s.statusText}`,this.error=s.error||null}}var Y=function(i){return i[i.Continue=100]="Continue",i[i.SwitchingProtocols=101]="SwitchingProtocols",i[i.Processing=102]="Processing",i[i.EarlyHints=103]="EarlyHints",i[i.Ok=200]="Ok",i[i.Created=201]="Created",i[i.Accepted=202]="Accepted",i[i.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",i[i.NoContent=204]="NoContent",i[i.ResetContent=205]="ResetContent",i[i.PartialContent=206]="PartialContent",i[i.MultiStatus=207]="MultiStatus",i[i.AlreadyReported=208]="AlreadyReported",i[i.ImUsed=226]="ImUsed",i[i.MultipleChoices=300]="MultipleChoices",i[i.MovedPermanently=301]="MovedPermanently",i[i.Found=302]="Found",i[i.SeeOther=303]="SeeOther",i[i.NotModified=304]="NotModified",i[i.UseProxy=305]="UseProxy",i[i.Unused=306]="Unused",i[i.TemporaryRedirect=307]="TemporaryRedirect",i[i.PermanentRedirect=308]="PermanentRedirect",i[i.BadRequest=400]="BadRequest",i[i.Unauthorized=401]="Unauthorized",i[i.PaymentRequired=402]="PaymentRequired",i[i.Forbidden=403]="Forbidden",i[i.NotFound=404]="NotFound",i[i.MethodNotAllowed=405]="MethodNotAllowed",i[i.NotAcceptable=406]="NotAcceptable",i[i.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",i[i.RequestTimeout=408]="RequestTimeout",i[i.Conflict=409]="Conflict",i[i.Gone=410]="Gone",i[i.LengthRequired=411]="LengthRequired",i[i.PreconditionFailed=412]="PreconditionFailed",i[i.PayloadTooLarge=413]="PayloadTooLarge",i[i.UriTooLong=414]="UriTooLong",i[i.UnsupportedMediaType=415]="UnsupportedMediaType",i[i.RangeNotSatisfiable=416]="RangeNotSatisfiable",i[i.ExpectationFailed=417]="ExpectationFailed",i[i.ImATeapot=418]="ImATeapot",i[i.MisdirectedRequest=421]="MisdirectedRequest",i[i.UnprocessableEntity=422]="UnprocessableEntity",i[i.Locked=423]="Locked",i[i.FailedDependency=424]="FailedDependency",i[i.TooEarly=425]="TooEarly",i[i.UpgradeRequired=426]="UpgradeRequired",i[i.PreconditionRequired=428]="PreconditionRequired",i[i.TooManyRequests=429]="TooManyRequests",i[i.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",i[i.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",i[i.InternalServerError=500]="InternalServerError",i[i.NotImplemented=501]="NotImplemented",i[i.BadGateway=502]="BadGateway",i[i.ServiceUnavailable=503]="ServiceUnavailable",i[i.GatewayTimeout=504]="GatewayTimeout",i[i.HttpVersionNotSupported=505]="HttpVersionNotSupported",i[i.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",i[i.InsufficientStorage=507]="InsufficientStorage",i[i.LoopDetected=508]="LoopDetected",i[i.NotExtended=510]="NotExtended",i[i.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",i}(Y||{});function ee(i,s){return{body:s,headers:i.headers,context:i.context,observe:i.observe,params:i.params,reportProgress:i.reportProgress,responseType:i.responseType,withCredentials:i.withCredentials,transferCache:i.transferCache}}let oe=(()=>{class i{constructor(a){this.handler=a}request(a,u,m={}){let E;if(a instanceof yn)E=a;else{let V,z;V=m.headers instanceof Se?m.headers:new Se(m.headers),m.params&&(z=m.params instanceof Ce?m.params:new Ce({fromObject:m.params})),E=new yn(a,u,void 0!==m.body?m.body:null,{headers:V,context:m.context,params:z,reportProgress:m.reportProgress,responseType:m.responseType||"json",withCredentials:m.withCredentials,transferCache:m.transferCache})}const T=(0,j.of)(E).pipe((0,J.H)(V=>this.handler.handle(V)));if(a instanceof yn||"events"===m.observe)return T;const x=T.pipe((0,be.p)(V=>V instanceof dn));switch(m.observe||"body"){case"body":switch(E.responseType){case"arraybuffer":return x.pipe((0,ge.T)(V=>{if(null!==V.body&&!(V.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return V.body}));case"blob":return x.pipe((0,ge.T)(V=>{if(null!==V.body&&!(V.body instanceof Blob))throw new Error("Response is not a Blob.");return V.body}));case"text":return x.pipe((0,ge.T)(V=>{if(null!==V.body&&"string"!=typeof V.body)throw new Error("Response is not a string.");return V.body}));default:return x.pipe((0,ge.T)(V=>V.body))}case"response":return x;default:throw new Error(`Unreachable: unhandled observe type ${m.observe}}`)}}delete(a,u={}){return this.request("DELETE",a,u)}get(a,u={}){return this.request("GET",a,u)}head(a,u={}){return this.request("HEAD",a,u)}jsonp(a,u){return this.request("JSONP",a,{params:(new Ce).append(u,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(a,u={}){return this.request("OPTIONS",a,u)}patch(a,u,m={}){return this.request("PATCH",a,ee(m,u))}post(a,u,m={}){return this.request("POST",a,ee(m,u))}put(a,u,m={}){return this.request("PUT",a,ee(m,u))}static#e=this.\u0275fac=function(u){return new(u||i)(w.KVO(Te))};static#t=this.\u0275prov=w.jDH({token:i,factory:i.\u0275fac})}return i})();function an(i,s){return s(i)}const On=new w.nKC(""),Kt=new w.nKC(""),jn=new w.nKC("");let wr=(()=>{class i extends Te{constructor(a,u){super(),this.backend=a,this.injector=u,this.chain=null,this.pendingTasks=(0,w.WQX)(w.TgB);const m=(0,w.WQX)(jn,{optional:!0});this.backend=m??a}handle(a){if(null===this.chain){const m=Array.from(new Set([...this.injector.get(On),...this.injector.get(Kt,[])]));this.chain=m.reduceRight((E,T)=>function pn(i,s,a){return(u,m)=>(0,w.N4e)(a,()=>s(u,E=>i(E,m)))}(E,T,this.injector),an)}const u=this.pendingTasks.add();return this.chain(a,m=>this.backend.handle(m)).pipe((0,te.j)(()=>this.pendingTasks.remove(u)))}static#e=this.\u0275fac=function(u){return new(u||i)(w.KVO(ae),w.KVO(w.uvJ))};static#t=this.\u0275prov=w.jDH({token:i,factory:i.\u0275fac})}return i})();const tt=/^\)\]\}',?\n/;let Tt=(()=>{class i{constructor(a){this.xhrFactory=a}handle(a){if("JSONP"===a.method)throw new w.wOt(-2800,!1);const u=this.xhrFactory;return(u.\u0275loadImpl?(0,De.H)(u.\u0275loadImpl()):(0,j.of)(null)).pipe((0,Z.n)(()=>new Q.c(E=>{const T=u.build();if(T.open(a.method,a.urlWithParams),a.withCredentials&&(T.withCredentials=!0),a.headers.forEach((ht,Ct)=>T.setRequestHeader(ht,Ct.join(","))),a.headers.has("Accept")||T.setRequestHeader("Accept","application/json, text/plain, */*"),!a.headers.has("Content-Type")){const ht=a.detectContentTypeHeader();null!==ht&&T.setRequestHeader("Content-Type",ht)}if(a.responseType){const ht=a.responseType.toLowerCase();T.responseType="json"!==ht?ht:"text"}const x=a.serializeBody();let V=null;const z=()=>{if(null!==V)return V;const ht=T.statusText||"OK",Ct=new Se(T.getAllResponseHeaders()),$t=function Mo(i){return"responseURL"in i&&i.responseURL?i.responseURL:/^X-Request-URL:/m.test(i.getAllResponseHeaders())?i.getResponseHeader("X-Request-URL"):null}(T)||a.url;return V=new mt({headers:Ct,status:T.status,statusText:ht,url:$t}),V},fe=()=>{let{headers:ht,status:Ct,statusText:$t,url:Xt}=z(),Ot=null;Ct!==Y.NoContent&&(Ot=typeof T.response>"u"?T.responseText:T.response),0===Ct&&(Ct=Ot?Y.Ok:0);let un=Ct>=200&&Ct<300;if("json"===a.responseType&&"string"==typeof Ot){const sn=Ot;Ot=Ot.replace(tt,"");try{Ot=""!==Ot?JSON.parse(Ot):null}catch(Qn){Ot=sn,un&&(un=!1,Ot={error:Qn,text:Ot})}}un?(E.next(new dn({body:Ot,headers:ht,status:Ct,statusText:$t,url:Xt||void 0})),E.complete()):E.error(new K({error:Ot,headers:ht,status:Ct,statusText:$t,url:Xt||void 0}))},ve=ht=>{const{url:Ct}=z(),$t=new K({error:ht,status:T.status||0,statusText:T.statusText||"Unknown Error",url:Ct||void 0});E.error($t)};let Oe=!1;const _t=ht=>{Oe||(E.next(z()),Oe=!0);let Ct={type:tn.DownloadProgress,loaded:ht.loaded};ht.lengthComputable&&(Ct.total=ht.total),"text"===a.responseType&&T.responseText&&(Ct.partialText=T.responseText),E.next(Ct)},Dt=ht=>{let Ct={type:tn.UploadProgress,loaded:ht.loaded};ht.lengthComputable&&(Ct.total=ht.total),E.next(Ct)};return T.addEventListener("load",fe),T.addEventListener("error",ve),T.addEventListener("timeout",ve),T.addEventListener("abort",ve),a.reportProgress&&(T.addEventListener("progress",_t),null!==x&&T.upload&&T.upload.addEventListener("progress",Dt)),T.send(x),E.next({type:tn.Sent}),()=>{T.removeEventListener("error",ve),T.removeEventListener("abort",ve),T.removeEventListener("load",fe),T.removeEventListener("timeout",ve),a.reportProgress&&(T.removeEventListener("progress",_t),null!==x&&T.upload&&T.upload.removeEventListener("progress",Dt)),T.readyState!==T.DONE&&T.abort()}})))}static#e=this.\u0275fac=function(u){return new(u||i)(w.KVO(se.N0))};static#t=this.\u0275prov=w.jDH({token:i,factory:i.\u0275fac})}return i})();const bt=new w.nKC(""),Qt=new w.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),fo=new w.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class St{}let lr=(()=>{class i{constructor(a,u,m){this.doc=a,this.platform=u,this.cookieName=m,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const a=this.doc.cookie||"";return a!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,se._b)(a,this.cookieName),this.lastCookieString=a),this.lastToken}static#e=this.\u0275fac=function(u){return new(u||i)(w.KVO(se.qQ),w.KVO(w.Agw),w.KVO(Qt))};static#t=this.\u0275prov=w.jDH({token:i,factory:i.\u0275fac})}return i})();function $(i,s){const a=i.url.toLowerCase();if(!(0,w.WQX)(bt)||"GET"===i.method||"HEAD"===i.method||a.startsWith("http://")||a.startsWith("https://"))return s(i);const u=(0,w.WQX)(St).getToken(),m=(0,w.WQX)(fo);return null!=u&&!i.headers.has(m)&&(i=i.clone({headers:i.headers.set(m,u)})),s(i)}var k=function(i){return i[i.Interceptors=0]="Interceptors",i[i.LegacyInterceptors=1]="LegacyInterceptors",i[i.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",i[i.NoXsrfProtection=3]="NoXsrfProtection",i[i.JsonpSupport=4]="JsonpSupport",i[i.RequestsMadeViaParent=5]="RequestsMadeViaParent",i[i.Fetch=6]="Fetch",i}(k||{});function ce(...i){const s=[oe,Tt,wr,{provide:Te,useExisting:wr},{provide:ae,useExisting:Tt},{provide:On,useValue:$,multi:!0},{provide:bt,useValue:!0},{provide:St,useClass:lr}];for(const a of i)s.push(...a.\u0275providers);return(0,w.EmA)(s)}function ke(i){return function B(i,s){return{\u0275kind:i,\u0275providers:s}}(k.Interceptors,i.map(s=>({provide:On,useValue:s,multi:!0})))}var Ii=O(8810),qr=O(6697),Ro=O(9437),Ke=O(8540);function ho(i){this.message=i}(ho.prototype=new Error).name="InvalidCharacterError";var No=typeof window<"u"&&window.atob&&window.atob.bind(window)||function(i){var s=String(i).replace(/=+$/,"");if(s.length%4==1)throw new ho("'atob' failed: The string to be decoded is not correctly encoded.");for(var a,u,m=0,E=0,T="";u=s.charAt(E++);~u&&(a=m%4?64*a+u:u,m++%4)?T+=String.fromCharCode(255&a>>(-2*m&6)):0)u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(u);return T};function Oo(i){this.message=i}(Oo.prototype=new Error).name="InvalidTokenError";const cs=function ei(i,s){if("string"!=typeof i)throw new Oo("Invalid token specified");var a=!0===(s=s||{}).header?0:1;try{return JSON.parse(function ls(i){var s=i.replace(/-/g,"+").replace(/_/g,"/");switch(s.length%4){case 0:break;case 2:s+="==";break;case 3:s+="=";break;default:throw"Illegal base64url string!"}try{return decodeURIComponent(No(s).replace(/(.)/g,function(u,m){var E=m.charCodeAt(0).toString(16).toUpperCase();return E.length<2&&(E="0"+E),"%"+E}))}catch{return No(s)}}(i.split(".")[a]))}catch(u){throw new Oo("Invalid token specified: "+u.message)}};let ln=(()=>{class i{static#e=this.isCordova=()=>!!(window.cordova||window.phonegap||window.PhoneGap);static#t=this.isCapacitor=()=>!!window.Capacitor?.isNativePlatform();static#n=this.isNativeMobile=()=>i.isCapacitor()||i.isCordova();static#i=this.decodeJwt=a=>{try{return a&&cs(a)}catch{return console.warn("[@badisi/auth-js] Access token was not decoded as it is not a valid JWT."),a}};static#s=this.isUrlMatching=(a,u)=>{if(void 0!==u){const m=new URL(a,"http://test"),E=new URL(u,"http://test");if(""!==E.pathname&&"/"!==E.pathname&&!m.pathname.includes(E.pathname)||"http://test"!==E.origin&&(m.protocol!==E.protocol||m.origin!==E.origin||!`${m.origin}${m.pathname}}`.includes(`${E.origin}${E.pathname}`)))return!1;let T=!0;return E.searchParams.forEach((x,V)=>{m.searchParams.getAll(V).includes(x)||(T=!1)}),T}return!1};static#a=this.getBaseUrl=()=>{const a=document.baseURI||document.querySelector("base")?.href||location.origin;return a.endsWith("/")?a:`${a}/`};static#l=this.stringToURL=a=>{try{return new URL(a)}catch{const u=a.startsWith("/")?a.substring(1,a.length):a;return new URL(`${i.getBaseUrl()}${u}`)}}}return i})();var Ql=O(1413);const us={now:()=>(us.delegate||Date).now(),delegate:void 0};class Pr extends Ql.B{constructor(s=1/0,a=1/0,u=us){super(),this._bufferSize=s,this._windowTime=a,this._timestampProvider=u,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=a===1/0,this._bufferSize=Math.max(1,s),this._windowTime=Math.max(1,a)}next(s){const{isStopped:a,_buffer:u,_infiniteTimeWindow:m,_timestampProvider:E,_windowTime:T}=this;a||(u.push(s),!m&&u.push(E.now()+T)),this._trimBuffer(),super.next(s)}_subscribe(s){this._throwIfClosed(),this._trimBuffer();const a=this._innerSubscribe(s),{_infiniteTimeWindow:u,_buffer:m}=this,E=m.slice();for(let T=0;T<E.length&&!s.closed;T+=u?1:2)s.next(E[T]);return this._checkFinalizedStatuses(s),a}_trimBuffer(){const{_bufferSize:s,_timestampProvider:a,_buffer:u,_infiniteTimeWindow:m}=this,E=(m?1:2)*s;if(s<1/0&&E<u.length&&u.splice(0,u.length-E),!m){const T=a.now();let x=0;for(let V=1;V<u.length&&u[V]<=T;V+=2)x=V;x&&u.splice(0,x+1)}}}var ti=O(3669),kr=O(9974),Mi=O(4360);function cr(i,s=ti.D){return i=i??Ks,(0,kr.N)((a,u)=>{let m,E=!0;a.subscribe((0,Mi._)(u,T=>{const x=s(T);(E||!i(m,x))&&(E=!1,m=x,u.next(T))}))})}function Ks(i,s){return i===s}const nr=function(){var i=(0,N.A)(function*(s,a){const u=new a;return yield u.init(s),u});return function(a,u){return i.apply(this,arguments)}}(),ut=function Xe(i,s){return i===s||i!=i&&s!=s},_n=function ur(i,s){for(var a=i.length;a--;)if(ut(i[a][0],s))return a;return-1};var Ti=Array.prototype.splice;function ni(i){var s=-1,a=null==i?0:i.length;for(this.clear();++s<a;){var u=i[s];this.set(u[0],u[1])}}ni.prototype.clear=function ct(){this.__data__=[],this.size=0},ni.prototype.delete=function Ai(i){var s=this.__data__,a=_n(s,i);return!(a<0||(a==s.length-1?s.pop():Ti.call(s,a,1),--this.size,0))},ni.prototype.get=function pt(i){var s=this.__data__,a=_n(s,i);return a<0?void 0:s[a][1]},ni.prototype.has=function Xs(i){return _n(this.__data__,i)>-1},ni.prototype.set=function Qs(i,s){var a=this.__data__,u=_n(a,i);return u<0?(++this.size,a.push([i,s])):a[u][1]=s,this};const Kr=ni,Oi="object"==typeof global&&global&&global.Object===Object&&global;var fn="object"==typeof self&&self&&self.Object===Object&&self;const je=Oi||fn||Function("return this")();var xi=je.Symbol,ri=Object.prototype,Xr=ri.hasOwnProperty,gs=ri.toString,po=xi?xi.toStringTag:void 0;var ki=Object.prototype.toString;var Er=xi?xi.toStringTag:void 0;const mo=function ta(i){return null==i?void 0===i?"[object Undefined]":"[object Null]":Er&&Er in Object(i)?function Zs(i){var s=Xr.call(i,po),a=i[po];try{i[po]=void 0;var u=!0}catch{}var m=gs.call(i);return u&&(s?i[po]=a:delete i[po]),m}(i):function Ys(i){return ki.call(i)}(i)},Qr=function dr(i){var s=typeof i;return null!=i&&("object"==s||"function"==s)},$n=function vs(i){if(!Qr(i))return!1;var s=mo(i);return"[object Function]"==s||"[object GeneratorFunction]"==s||"[object AsyncFunction]"==s||"[object Proxy]"==s};var i,oa=je["__core-js_shared__"],Sr=(i=/[^.]+$/.exec(oa&&oa.keys&&oa.keys.IE_PROTO||""))?"Symbol(src)_1."+i:"";var _s=Function.prototype.toString;var Lr=/^\[object .+?Constructor\]$/,Li=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const Cs=function ia(i){return!(!Qr(i)||function Et(i){return!!Sr&&Sr in i}(i))&&($n(i)?Li:Lr).test(function ws(i){if(null!=i){try{return _s.call(i)}catch{}try{return i+""}catch{}}return""}(i))},Zr=function tc(i,s){var a=function Vi(i,s){return i?.[s]}(i,s);return Cs(a)?a:void 0},aa=Zr(je,"Map"),Mr=Zr(Object,"create");var ic=Object.prototype.hasOwnProperty;var ca=Object.prototype.hasOwnProperty;function Gt(i){var s=-1,a=null==i?0:i.length;for(this.clear();++s<a;){var u=i[s];this.set(u[0],u[1])}}Gt.prototype.clear=function ii(){this.__data__=Mr?Mr(null):{},this.size=0},Gt.prototype.delete=function nc(i){var s=this.has(i)&&delete this.__data__[i];return this.size-=s?1:0,s},Gt.prototype.get=function la(i){var s=this.__data__;if(Mr){var a=s[i];return"__lodash_hash_undefined__"===a?void 0:a}return ic.call(s,i)?s[i]:void 0},Gt.prototype.has=function Ja(i){var s=this.__data__;return Mr?void 0!==s[i]:ca.call(s,i)},Gt.prototype.set=function dt(i,s){var a=this.__data__;return this.size+=this.has(i)?0:1,a[i]=Mr&&void 0===s?"__lodash_hash_undefined__":s,this};const Wn=Gt,Jr=function da(i,s){var a=i.__data__;return function Ss(i){var s=typeof i;return"string"==s||"number"==s||"symbol"==s||"boolean"==s?"__proto__"!==i:null===i}(s)?a["string"==typeof s?"string":"hash"]:a.map};function Yr(i){var s=-1,a=null==i?0:i.length;for(this.clear();++s<a;){var u=i[s];this.set(u[0],u[1])}}Yr.prototype.clear=function Sn(){this.size=0,this.__data__={hash:new Wn,map:new(aa||Kr),string:new Wn}},Yr.prototype.delete=function Is(i){var s=Jr(this,i).delete(i);return this.size-=s?1:0,s},Yr.prototype.get=function Ui(i){return Jr(this,i).get(i)},Yr.prototype.has=function si(i){return Jr(this,i).has(i)},Yr.prototype.set=function ji(i,s){var a=Jr(this,i),u=a.size;return a.set(i,s),this.size+=a.size==u?0:1,this};const el=Yr;function fr(i){var s=this.__data__=new Kr(i);this.size=s.size}fr.prototype.clear=function fs(){this.__data__=new Kr,this.size=0},fr.prototype.delete=function Jl(i){var s=this.__data__,a=s.delete(i);return this.size=s.size,a},fr.prototype.get=function ps(i){return this.__data__.get(i)},fr.prototype.has=function Po(i){return this.__data__.has(i)},fr.prototype.set=function _o(i,s){var a=this.__data__;if(a instanceof Kr){var u=a.__data__;if(!aa||u.length<199)return u.push([i,s]),this.size=++a.size,this;a=this.__data__=new el(u)}return a.set(i,s),this.size=a.size,this};const Ms=fr;var rl=function(){try{var i=Zr(Object,"defineProperty");return i({},"",{}),i}catch{}}();const ai=rl,Gn=function Bi(i,s,a){"__proto__"==s&&ai?ai(i,s,{configurable:!0,enumerable:!0,value:a,writable:!0}):i[s]=a},Hi=function li(i,s,a){(void 0!==a&&!ut(i[s],a)||void 0===a&&!(s in i))&&Gn(i,s,a)};var cc=function ac(i){return function(s,a,u){for(var m=-1,E=Object(s),T=u(s),x=T.length;x--;){var V=T[i?x:++m];if(!1===a(E[V],V,E))break}return s}}();const ci=cc;var ol="object"==typeof exports&&exports&&!exports.nodeType&&exports,il=ol&&"object"==typeof module&&module&&!module.nodeType&&module,$i=il&&il.exports===ol?je.Buffer:void 0,wo=$i?$i.allocUnsafe:void 0;const M=je.Uint8Array,X=function P(i,s){var a=s?function _(i){var s=new i.constructor(i.byteLength);return new M(s).set(new M(i)),s}(i.buffer):i.buffer;return new i.constructor(a,i.byteOffset,i.length)};var Ft=Object.create,Nt=function(){function i(){}return function(s){if(!Qr(s))return{};if(Ft)return Ft(s);i.prototype=s;var a=new i;return i.prototype=void 0,a}}();const Lt=Nt;var Rt=function ft(i,s){return function(a){return i(s(a))}}(Object.getPrototypeOf,Object);const Jt=Rt;var vt=Object.prototype;const Le=function me(i){var s=i&&i.constructor;return i===("function"==typeof s&&s.prototype||vt)},Yt=function zt(i){return null!=i&&"object"==typeof i},wn=function Bt(i){return Yt(i)&&"[object Arguments]"==mo(i)};var Tr=Object.prototype,Qe=Tr.hasOwnProperty,or=Tr.propertyIsEnumerable,dc=wn(function(){return arguments}())?wn:function(i){return Yt(i)&&Qe.call(i,"callee")&&!or.call(i,"callee")};const Uo=dc,ui=Array.isArray,As=function Do(i){return"number"==typeof i&&i>-1&&i%1==0&&i<=9007199254740991},eo=function Cu(i){return null!=i&&As(i.length)&&!$n(i)};var zn="object"==typeof exports&&exports&&!exports.nodeType&&exports,Vr=zn&&"object"==typeof module&&module&&!module.nodeType&&module,zi=Vr&&Vr.exports===zn?je.Buffer:void 0;const Dn=(zi?zi.isBuffer:void 0)||function it(){return!1};var ma=Function.prototype.toString,Ar=Object.prototype.hasOwnProperty,fc=ma.call(Object);var b={};b["[object Float32Array]"]=b["[object Float64Array]"]=b["[object Int8Array]"]=b["[object Int16Array]"]=b["[object Int32Array]"]=b["[object Uint8Array]"]=b["[object Uint8ClampedArray]"]=b["[object Uint16Array]"]=b["[object Uint32Array]"]=!0,b["[object Arguments]"]=b["[object Array]"]=b["[object ArrayBuffer]"]=b["[object Boolean]"]=b["[object DataView]"]=b["[object Date]"]=b["[object Error]"]=b["[object Function]"]=b["[object Map]"]=b["[object Number]"]=b["[object Object]"]=b["[object RegExp]"]=b["[object Set]"]=b["[object String]"]=b["[object WeakMap]"]=!1;var Ee="object"==typeof exports&&exports&&!exports.nodeType&&exports,Ge=Ee&&"object"==typeof module&&module&&!module.nodeType&&module,on=Ge&&Ge.exports===Ee&&Oi.process,ir=function(){try{return Ge&&Ge.require&&Ge.require("util").types||on&&on.binding&&on.binding("util")}catch{}}(),hi=ir&&ir.isTypedArray;const Bo=hi?function q(i){return function(s){return i(s)}}(hi):function A(i){return Yt(i)&&As(i.length)&&!!b[mo(i)]},jt=function dy(i,s){if(("constructor"!==s||"function"!=typeof i[s])&&"__proto__"!=s)return i[s]};var cl=Object.prototype.hasOwnProperty;const zp=function hr(i,s,a){var u=i[s];(!cl.call(i,s)||!ut(u,a)||void 0===a&&!(s in i))&&Gn(i,s,a)};var Kp=/^(?:0|[1-9]\d*)$/;const Ru=function Ho(i,s){var a=typeof i;return!!(s=s??9007199254740991)&&("number"==a||"symbol"!=a&&Kp.test(i))&&i>-1&&i%1==0&&i<s};var vf=Object.prototype.hasOwnProperty;const Ou=function Nu(i,s){var a=ui(i),u=!a&&Uo(i),m=!a&&!u&&Dn(i),E=!a&&!u&&!m&&Bo(i),T=a||u||m||E,x=T?function Ur(i,s){for(var a=-1,u=Array(i);++a<i;)u[a]=s(a);return u}(i.length,String):[],V=x.length;for(var z in i)(s||vf.call(i,z))&&(!T||!("length"==z||m&&("offset"==z||"parent"==z)||E&&("buffer"==z||"byteLength"==z||"byteOffset"==z)||Ru(z,V)))&&x.push(z);return x};var Rs=Object.prototype.hasOwnProperty;const yf=function rt(i){if(!Qr(i))return function dl(i){var s=[];if(null!=i)for(var a in Object(i))s.push(a);return s}(i);var s=Le(i),a=[];for(var u in i)"constructor"==u&&(s||!Rs.call(i,u))||a.push(u);return a},_f=function fy(i){return eo(i)?Ou(i,!0):yf(i)},Zp=function Qp(i){return function ul(i,s,a,u){var m=!a;a||(a={});for(var E=-1,T=s.length;++E<T;){var x=s[E],V=u?u(a[x],i[x],x,a,i):void 0;void 0===V&&(V=i[x]),m?Gn(a,x,V):zp(a,x,V)}return a}(i,_f(i))},_a=function wf(i,s,a,u,m,E,T){var x=jt(i,a),V=jt(s,a),z=T.get(V);if(z)Hi(i,a,z);else{var fe=E?E(x,V,a+"",i,s,T):void 0,ve=void 0===fe;if(ve){var Oe=ui(V),_t=!Oe&&Dn(V),Dt=!Oe&&!_t&&Bo(V);fe=V,Oe||_t||Dt?ui(x)?fe=x:function Gi(i){return Yt(i)&&eo(i)}(x)?fe=function le(i,s){var a=-1,u=i.length;for(s||(s=Array(u));++a<u;)s[a]=i[a];return s}(x):_t?(ve=!1,fe=function sl(i,s){if(s)return i.slice();var a=i.length,u=wo?wo(a):new i.constructor(a);return i.copy(u),u}(V,!0)):Dt?(ve=!1,fe=X(V,!0)):fe=[]:function bu(i){if(!Yt(i)||"[object Object]"!=mo(i))return!1;var s=Jt(i);if(null===s)return!0;var a=Ar.call(s,"constructor")&&s.constructor;return"function"==typeof a&&a instanceof a&&ma.call(a)==fc}(V)||Uo(V)?(fe=x,Uo(x)?fe=Zp(x):(!Qr(x)||$n(x))&&(fe=function Pt(i){return"function"!=typeof i.constructor||Le(i)?{}:Lt(Jt(i))}(V))):ve=!1}ve&&(T.set(V,fe),m(fe,V,u,E,T),T.delete(V)),Hi(i,a,fe)}},Jp=function Df(i,s,a,u,m){i!==s&&ci(s,function(E,T){if(m||(m=new Ms),Qr(E))_a(i,s,T,a,Df,u,m);else{var x=u?u(jt(i,T),E,T+"",i,s,m):void 0;void 0===x&&(x=E),Hi(i,T,x)}},_f)},Cf=function Yp(i){return i};var yt=Math.max;const Sf=function Ht(i){return function(){return i}};var fl=ai?function(i,s){return ai(i,"toString",{configurable:!0,enumerable:!1,value:Sf(s),writable:!0})}:Cf,tg=Date.now,pr=function hy(i){var s=0,a=0;return function(){var u=tg(),m=16-(u-a);if(a=u,m>0){if(++s>=800)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}(fl);const pi=pr,Co=function If(i,s){return pi(function bf(i,s,a){return s=yt(void 0===s?i.length-1:s,0),function(){for(var u=arguments,m=-1,E=yt(u.length-s,0),T=Array(E);++m<E;)T[m]=u[s+m];m=-1;for(var x=Array(s+1);++m<s;)x[m]=u[m];return x[s]=a(T),function eg(i,s,a){switch(a.length){case 0:return i.call(s);case 1:return i.call(s,a[0]);case 2:return i.call(s,a[0],a[1]);case 3:return i.call(s,a[0],a[1],a[2])}return i.apply(s,a)}(i,this,x)}}(i,s,Cf),i+"")};var og=function Mf(i){return Co(function(s,a){var u=-1,m=a.length,E=m>1?a[m-1]:void 0,T=m>2?a[2]:void 0;for(E=i.length>3&&"function"==typeof E?(m--,E):void 0,T&&function gi(i,s,a){if(!Qr(a))return!1;var u=typeof s;return!!("number"==u?eo(a)&&Ru(s,a.length):"string"==u&&s in a)&&ut(a[s],i)}(a[0],a[1],T)&&(E=m<3?void 0:E,m=1),s=Object(s);++u<m;){var x=a[u];x&&i(s,x,u,E)}return s})}(function(i,s,a){Jp(i,s,a)});const Fu=og;var to,bo,Lu=O(7656),Vu=O(5168),hl=O(8891),ig=O(627),Tf={debug:()=>{},info:()=>{},warn:()=>{},error:()=>{}},qn=(i=>(i[i.NONE=0]="NONE",i[i.ERROR=1]="ERROR",i[i.WARN=2]="WARN",i[i.INFO=3]="INFO",i[i.DEBUG=4]="DEBUG",i))(qn||{});(i=>{i.reset=function s(){to=3,bo=Tf},i.setLevel=function a(m){if(!(0<=m&&m<=4))throw new Error("Invalid log level");to=m},i.setLogger=function u(m){bo=m}})(qn||(qn={}));var st=class{constructor(i){this._name=i}debug(...i){to>=4&&bo.debug(st._format(this._name,this._method),...i)}info(...i){to>=3&&bo.info(st._format(this._name,this._method),...i)}warn(...i){to>=2&&bo.warn(st._format(this._name,this._method),...i)}error(...i){to>=1&&bo.error(st._format(this._name,this._method),...i)}throw(i){throw this.error(i),i}create(i){const s=Object.create(this);return s._method=i,s.debug("begin"),s}static createStatic(i,s){const a=new st(`${i}.${s}`);return a.debug("begin"),a}static _format(i,s){const a=`[${i}]`;return s?`${a} ${s}:`:a}static debug(i,...s){to>=4&&bo.debug(st._format(i),...s)}static info(i,...s){to>=3&&bo.info(st._format(i),...s)}static warn(i,...s){to>=2&&bo.warn(st._format(i),...s)}static error(i,...s){to>=1&&bo.error(st._format(i),...s)}};qn.reset();var no=class{static _randomWord(){return Lu.lib.WordArray.random(1).words[0]}static generateUUIDv4(){return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,s=>(+s^no._randomWord()&15>>+s/4).toString(16)).replace(/-/g,"")}static generateCodeVerifier(){return no.generateUUIDv4()+no.generateUUIDv4()+no.generateUUIDv4()}static generateCodeChallenge(i){try{const s=Vu(i);return hl.stringify(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}catch(s){throw st.error("CryptoUtils.generateCodeChallenge",s),s}}static generateBasicAuth(i,s){const a=ig.parse([i,s].join(":"));return hl.stringify(a)}},qi=class{constructor(i){this._name=i,this._logger=new st(`Event('${this._name}')`),this._callbacks=[]}addHandler(i){return this._callbacks.push(i),()=>this.removeHandler(i)}removeHandler(i){const s=this._callbacks.lastIndexOf(i);s>=0&&this._callbacks.splice(s,1)}raise(...i){this._logger.debug("raise:",...i);for(const s of this._callbacks)s(...i)}},Ln=class{static decode(i){try{return cs(i)}catch(s){throw st.error("JwtUtils.decode",s),s}}},Ki=class{static center({...i}){var s;return null==i.width&&(i.width=null!=(s=[800,720,600,480].find(m=>m<=window.outerWidth/1.618))?s:360),null!=i.left||(i.left=Math.max(0,Math.round(window.screenX+(window.outerWidth-i.width)/2))),null!=i.height&&(null!=i.top||(i.top=Math.max(0,Math.round(window.screenY+(window.outerHeight-i.height)/2)))),i}static serialize(i){return Object.entries(i).filter(([,s])=>null!=s).map(([s,a])=>`${s}=${"boolean"!=typeof a?a:a?"yes":"no"}`).join(",")}},wt=class extends qi{constructor(){super(...arguments),this._logger=new st(`Timer('${this._name}')`),this._timerHandle=null,this._expiration=0,this._callback=()=>{const i=this._expiration-wt.getEpochTime();this._logger.debug("timer completes in",i),this._expiration<=wt.getEpochTime()&&(this.cancel(),super.raise())}}static getEpochTime(){return Math.floor(Date.now()/1e3)}init(i){const s=this._logger.create("init");i=Math.max(Math.floor(i),1);const a=wt.getEpochTime()+i;if(this.expiration===a&&this._timerHandle)return void s.debug("skipping since already initialized for expiration at",this.expiration);this.cancel(),s.debug("using duration",i),this._expiration=a;const u=Math.min(i,5);this._timerHandle=setInterval(this._callback,1e3*u)}get expiration(){return this._expiration}cancel(){this._logger.create("cancel"),this._timerHandle&&(clearInterval(this._timerHandle),this._timerHandle=null)}},Uu=class{static readParams(i,s="query"){if(!i)throw new TypeError("Invalid URL");const u=new URL(i,"http://127.0.0.1")["fragment"===s?"hash":"search"];return new URLSearchParams(u.slice(1))}},Ns=class extends Error{constructor(i,s){var a,u,m;if(super(i.error_description||i.error||""),this.form=s,this.name="ErrorResponse",!i.error)throw st.error("ErrorResponse","No error passed"),new Error("No error passed");this.error=i.error,this.error_description=null!=(a=i.error_description)?a:null,this.error_uri=null!=(u=i.error_uri)?u:null,this.state=i.userState,this.session_state=null!=(m=i.session_state)?m:null,this.url_state=i.url_state}},Bu=class extends Error{constructor(i){super(i),this.name="ErrorTimeout"}},Rf=class{constructor(i){this._logger=new st("AccessTokenEvents"),this._expiringTimer=new wt("Access token expiring"),this._expiredTimer=new wt("Access token expired"),this._expiringNotificationTimeInSeconds=i.expiringNotificationTimeInSeconds}load(i){const s=this._logger.create("load");if(i.access_token&&void 0!==i.expires_in){const a=i.expires_in;if(s.debug("access token present, remaining duration:",a),a>0){let m=a-this._expiringNotificationTimeInSeconds;m<=0&&(m=1),s.debug("registering expiring timer, raising in",m,"seconds"),this._expiringTimer.init(m)}else s.debug("canceling existing expiring timer because we're past expiration."),this._expiringTimer.cancel();const u=a+1;s.debug("registering expired timer, raising in",u,"seconds"),this._expiredTimer.init(u)}else this._expiringTimer.cancel(),this._expiredTimer.cancel()}unload(){this._logger.debug("unload: canceling existing access token timers"),this._expiringTimer.cancel(),this._expiredTimer.cancel()}addAccessTokenExpiring(i){return this._expiringTimer.addHandler(i)}removeAccessTokenExpiring(i){this._expiringTimer.removeHandler(i)}addAccessTokenExpired(i){return this._expiredTimer.addHandler(i)}removeAccessTokenExpired(i){this._expiredTimer.removeHandler(i)}},Nf=class{constructor(i,s,a,u,m){this._callback=i,this._client_id=s,this._intervalInSeconds=u,this._stopOnError=m,this._logger=new st("CheckSessionIFrame"),this._timer=null,this._session_state=null,this._message=T=>{T.origin===this._frame_origin&&T.source===this._frame.contentWindow&&("error"===T.data?(this._logger.error("error message from check session op iframe"),this._stopOnError&&this.stop()):"changed"===T.data?(this._logger.debug("changed message from check session op iframe"),this.stop(),this._callback()):this._logger.debug(T.data+" message from check session op iframe"))};const E=new URL(a);this._frame_origin=E.origin,this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="fixed",this._frame.style.left="-1000px",this._frame.style.top="0",this._frame.width="0",this._frame.height="0",this._frame.src=E.href}load(){return new Promise(i=>{this._frame.onload=()=>{i()},window.document.body.appendChild(this._frame),window.addEventListener("message",this._message,!1)})}start(i){if(this._session_state===i)return;this._logger.create("start"),this.stop(),this._session_state=i;const s=()=>{!this._frame.contentWindow||!this._session_state||this._frame.contentWindow.postMessage(this._client_id+" "+this._session_state,this._frame_origin)};s(),this._timer=setInterval(s,1e3*this._intervalInSeconds)}stop(){this._logger.create("stop"),this._session_state=null,this._timer&&(clearInterval(this._timer),this._timer=null)}},Os=class{constructor(){this._logger=new st("InMemoryWebStorage"),this._data={}}clear(){this._logger.create("clear"),this._data={}}getItem(i){return this._logger.create(`getItem('${i}')`),this._data[i]}setItem(i,s){this._logger.create(`setItem('${i}')`),this._data[i]=s}removeItem(i){this._logger.create(`removeItem('${i}')`),delete this._data[i]}get length(){return Object.getOwnPropertyNames(this._data).length}key(i){return Object.getOwnPropertyNames(this._data)[i]}},ro=class{constructor(i=[],s=null,a={}){this._jwtHandler=s,this._extraHeaders=a,this._logger=new st("JsonService"),this._contentTypes=[],this._contentTypes.push(...i,"application/json"),s&&this._contentTypes.push("application/jwt")}fetchWithTimeout(i,s={}){return(0,N.A)(function*(){const{timeoutInSeconds:a,...u}=s;if(!a)return yield fetch(i,u);const m=new AbortController,E=setTimeout(()=>m.abort(),1e3*a);try{return yield fetch(i,{...s,signal:m.signal})}catch(T){throw T instanceof DOMException&&"AbortError"===T.name?new Bu("Network timed out"):T}finally{clearTimeout(E)}})()}getJson(i,{token:s,credentials:a}={}){var u=this;return(0,N.A)(function*(){const m=u._logger.create("getJson"),E={Accept:u._contentTypes.join(", ")};let T;s&&(m.debug("token passed, setting Authorization header"),E.Authorization="Bearer "+s),u.appendExtraHeaders(E);try{m.debug("url:",i),T=yield u.fetchWithTimeout(i,{method:"GET",headers:E,credentials:a})}catch(z){throw m.error("Network Error"),z}m.debug("HTTP response received, status",T.status);const x=T.headers.get("Content-Type");if(x&&!u._contentTypes.find(z=>x.startsWith(z))&&m.throw(new Error(`Invalid response Content-Type: ${x??"undefined"}, from URL: ${i}`)),T.ok&&u._jwtHandler&&x?.startsWith("application/jwt"))return yield u._jwtHandler(yield T.text());let V;try{V=yield T.json()}catch(z){throw m.error("Error parsing JSON response",z),T.ok?z:new Error(`${T.statusText} (${T.status})`)}if(!T.ok)throw m.error("Error from server:",V),V.error?new Ns(V):new Error(`${T.statusText} (${T.status}): ${JSON.stringify(V)}`);return V})()}postForm(i,{body:s,basicAuth:a,timeoutInSeconds:u,initCredentials:m}){var E=this;return(0,N.A)(function*(){const T=E._logger.create("postForm"),x={Accept:E._contentTypes.join(", "),"Content-Type":"application/x-www-form-urlencoded"};let V;void 0!==a&&(x.Authorization="Basic "+a),E.appendExtraHeaders(x);try{T.debug("url:",i),V=yield E.fetchWithTimeout(i,{method:"POST",headers:x,body:s,timeoutInSeconds:u,credentials:m})}catch(Oe){throw T.error("Network error"),Oe}T.debug("HTTP response received, status",V.status);const z=V.headers.get("Content-Type");if(z&&!E._contentTypes.find(Oe=>z.startsWith(Oe)))throw new Error(`Invalid response Content-Type: ${z??"undefined"}, from URL: ${i}`);const fe=yield V.text();let ve={};if(fe)try{ve=JSON.parse(fe)}catch(Oe){throw T.error("Error parsing JSON response",Oe),V.ok?Oe:new Error(`${V.statusText} (${V.status})`)}if(!V.ok)throw T.error("Error from server:",ve),ve.error?new Ns(ve,s):new Error(`${V.statusText} (${V.status}): ${JSON.stringify(ve)}`);return ve})()}appendExtraHeaders(i){const s=this._logger.create("appendExtraHeaders"),a=Object.keys(this._extraHeaders),u=["authorization","accept","content-type"];0!==a.length&&a.forEach(m=>{if(u.includes(m.toLocaleLowerCase()))return void s.warn("Protected header could not be overridden",m,u);const E="function"==typeof this._extraHeaders[m]?this._extraHeaders[m]():this._extraHeaders[m];E&&""!==E&&(i[m]=E)})}},sg=class{constructor(i){this._settings=i,this._logger=new st("MetadataService"),this._signingKeys=null,this._metadata=null,this._metadataUrl=this._settings.metadataUrl,this._jsonService=new ro(["application/jwk-set+json"],null,this._settings.extraHeaders),this._settings.signingKeys&&(this._logger.debug("using signingKeys from settings"),this._signingKeys=this._settings.signingKeys),this._settings.metadata&&(this._logger.debug("using metadata from settings"),this._metadata=this._settings.metadata),this._settings.fetchRequestCredentials&&(this._logger.debug("using fetchRequestCredentials from settings"),this._fetchRequestCredentials=this._settings.fetchRequestCredentials)}resetSigningKeys(){this._signingKeys=null}getMetadata(){var i=this;return(0,N.A)(function*(){const s=i._logger.create("getMetadata");if(i._metadata)return s.debug("using cached values"),i._metadata;if(!i._metadataUrl)throw s.throw(new Error("No authority or metadataUrl configured on settings")),null;s.debug("getting metadata from",i._metadataUrl);const a=yield i._jsonService.getJson(i._metadataUrl,{credentials:i._fetchRequestCredentials});return s.debug("merging remote JSON with seed metadata"),i._metadata=Object.assign({},i._settings.metadataSeed,a),i._metadata})()}getIssuer(){return this._getMetadataProperty("issuer")}getAuthorizationEndpoint(){return this._getMetadataProperty("authorization_endpoint")}getUserInfoEndpoint(){return this._getMetadataProperty("userinfo_endpoint")}getTokenEndpoint(i=!0){return this._getMetadataProperty("token_endpoint",i)}getCheckSessionIframe(){return this._getMetadataProperty("check_session_iframe",!0)}getEndSessionEndpoint(){return this._getMetadataProperty("end_session_endpoint",!0)}getRevocationEndpoint(i=!0){return this._getMetadataProperty("revocation_endpoint",i)}getKeysEndpoint(i=!0){return this._getMetadataProperty("jwks_uri",i)}_getMetadataProperty(i,s=!1){var a=this;return(0,N.A)(function*(){const u=a._logger.create(`_getMetadataProperty('${i}')`),m=yield a.getMetadata();if(u.debug("resolved"),void 0===m[i]){if(!0===s)return void u.warn("Metadata does not contain optional property");u.throw(new Error("Metadata does not contain property "+i))}return m[i]})()}getSigningKeys(){var i=this;return(0,N.A)(function*(){const s=i._logger.create("getSigningKeys");if(i._signingKeys)return s.debug("returning signingKeys from cache"),i._signingKeys;const a=yield i.getKeysEndpoint(!1);s.debug("got jwks_uri",a);const u=yield i._jsonService.getJson(a);if(s.debug("got key set",u),!Array.isArray(u.keys))throw s.throw(new Error("Missing keys on keyset")),null;return i._signingKeys=u.keys,i._signingKeys})()}},wa=class{constructor({prefix:i="oidc.",store:s=localStorage}={}){this._logger=new st("WebStorageStateStore"),this._store=s,this._prefix=i}set(i,s){var a=this;return(0,N.A)(function*(){a._logger.create(`set('${i}')`),i=a._prefix+i,yield a._store.setItem(i,s)})()}get(i){var s=this;return(0,N.A)(function*(){return s._logger.create(`get('${i}')`),i=s._prefix+i,yield s._store.getItem(i)})()}remove(i){var s=this;return(0,N.A)(function*(){s._logger.create(`remove('${i}')`),i=s._prefix+i;const a=yield s._store.getItem(i);return yield s._store.removeItem(i),a})()}getAllKeys(){var i=this;return(0,N.A)(function*(){i._logger.create("getAllKeys");const s=yield i._store.length,a=[];for(let u=0;u<s;u++){const m=yield i._store.key(u);m&&0===m.indexOf(i._prefix)&&a.push(m.substr(i._prefix.length))}return a})()}},Xi=class{constructor({authority:i,metadataUrl:s,metadata:a,signingKeys:u,metadataSeed:m,client_id:E,client_secret:T,response_type:x="code",scope:V="openid",redirect_uri:z,post_logout_redirect_uri:fe,client_authentication:ve="client_secret_post",prompt:Oe,display:_t,max_age:Dt,ui_locales:ht,acr_values:Ct,resource:$t,response_mode:Xt="query",filterProtocolClaims:Ot=!0,loadUserInfo:un=!1,staleStateAgeInSeconds:sn=900,clockSkewInSeconds:Qn=300,userInfoJwtIssuer:Mt="OP",mergeClaims:Wt=!1,disablePKCE:ao=!1,stateStore:zo,refreshTokenCredentials:qo,revokeTokenAdditionalContentTypes:So,fetchRequestCredentials:ka,refreshTokenAllowedScope:qc,extraQueryParams:ot={},extraTokenParams:Ul={},extraHeaders:jl={}}){if(this.authority=i,s?this.metadataUrl=s:(this.metadataUrl=i,i&&(this.metadataUrl.endsWith("/")||(this.metadataUrl+="/"),this.metadataUrl+=".well-known/openid-configuration")),this.metadata=a,this.metadataSeed=m,this.signingKeys=u,this.client_id=E,this.client_secret=T,this.response_type=x,this.scope=V,this.redirect_uri=z,this.post_logout_redirect_uri=fe,this.client_authentication=ve,this.prompt=Oe,this.display=_t,this.max_age=Dt,this.ui_locales=ht,this.acr_values=Ct,this.resource=$t,this.response_mode=Xt,this.filterProtocolClaims=Ot??!0,this.loadUserInfo=!!un,this.staleStateAgeInSeconds=sn,this.clockSkewInSeconds=Qn,this.userInfoJwtIssuer=Mt,this.mergeClaims=!!Wt,this.disablePKCE=!!ao,this.revokeTokenAdditionalContentTypes=So,ka&&qo&&console.warn("Both fetchRequestCredentials and refreshTokenCredentials is set. Only fetchRequestCredentials will be used."),this.fetchRequestCredentials=ka||qo||"same-origin",zo)this.stateStore=zo;else{const es=typeof window<"u"?window.localStorage:new Os;this.stateStore=new wa({store:es})}this.refreshTokenAllowedScope=qc,this.extraQueryParams=ot,this.extraTokenParams=Ul,this.extraHeaders=jl}},pl=class{constructor(i,s){var a=this;this._settings=i,this._metadataService=s,this._logger=new st("UserInfoService"),this._getClaimsFromJwt=function(){var u=(0,N.A)(function*(m){const E=a._logger.create("_getClaimsFromJwt");try{const T=Ln.decode(m);return E.debug("JWT decoding successful"),T}catch(T){throw E.error("Error parsing JWT response"),T}});return function(m){return u.apply(this,arguments)}}(),this._jsonService=new ro(void 0,this._getClaimsFromJwt,this._settings.extraHeaders)}getClaims(i){var s=this;return(0,N.A)(function*(){const a=s._logger.create("getClaims");i||s._logger.throw(new Error("No token passed"));const u=yield s._metadataService.getUserInfoEndpoint();a.debug("got userinfo url",u);const m=yield s._jsonService.getJson(u,{token:i,credentials:s._settings.fetchRequestCredentials});return a.debug("got claims",m),m})()}},Pf=class{constructor(i,s){this._settings=i,this._metadataService=s,this._logger=new st("TokenClient"),this._jsonService=new ro(this._settings.revokeTokenAdditionalContentTypes,null,this._settings.extraHeaders)}exchangeCode({grant_type:i="authorization_code",redirect_uri:s=this._settings.redirect_uri,client_id:a=this._settings.client_id,client_secret:u=this._settings.client_secret,...m}){var E=this;return(0,N.A)(function*(){const T=E._logger.create("exchangeCode");a||T.throw(new Error("A client_id is required")),s||T.throw(new Error("A redirect_uri is required")),m.code||T.throw(new Error("A code is required"));const x=new URLSearchParams({grant_type:i,redirect_uri:s});for(const[ve,Oe]of Object.entries(m))null!=Oe&&x.set(ve,Oe);let V;switch(E._settings.client_authentication){case"client_secret_basic":if(!u)throw T.throw(new Error("A client_secret is required")),null;V=no.generateBasicAuth(a,u);break;case"client_secret_post":x.append("client_id",a),u&&x.append("client_secret",u)}const z=yield E._metadataService.getTokenEndpoint(!1);T.debug("got token endpoint");const fe=yield E._jsonService.postForm(z,{body:x,basicAuth:V,initCredentials:E._settings.fetchRequestCredentials});return T.debug("got response"),fe})()}exchangeCredentials({grant_type:i="password",client_id:s=this._settings.client_id,client_secret:a=this._settings.client_secret,scope:u=this._settings.scope,...m}){var E=this;return(0,N.A)(function*(){const T=E._logger.create("exchangeCredentials");s||T.throw(new Error("A client_id is required"));const x=new URLSearchParams({grant_type:i,scope:u});for(const[ve,Oe]of Object.entries(m))null!=Oe&&x.set(ve,Oe);let V;switch(E._settings.client_authentication){case"client_secret_basic":if(!a)throw T.throw(new Error("A client_secret is required")),null;V=no.generateBasicAuth(s,a);break;case"client_secret_post":x.append("client_id",s),a&&x.append("client_secret",a)}const z=yield E._metadataService.getTokenEndpoint(!1);T.debug("got token endpoint");const fe=yield E._jsonService.postForm(z,{body:x,basicAuth:V,initCredentials:E._settings.fetchRequestCredentials});return T.debug("got response"),fe})()}exchangeRefreshToken({grant_type:i="refresh_token",client_id:s=this._settings.client_id,client_secret:a=this._settings.client_secret,timeoutInSeconds:u,...m}){var E=this;return(0,N.A)(function*(){const T=E._logger.create("exchangeRefreshToken");s||T.throw(new Error("A client_id is required")),m.refresh_token||T.throw(new Error("A refresh_token is required"));const x=new URLSearchParams({grant_type:i});for(const[ve,Oe]of Object.entries(m))Array.isArray(Oe)?Oe.forEach(_t=>x.append(ve,_t)):null!=Oe&&x.set(ve,Oe);let V;switch(E._settings.client_authentication){case"client_secret_basic":if(!a)throw T.throw(new Error("A client_secret is required")),null;V=no.generateBasicAuth(s,a);break;case"client_secret_post":x.append("client_id",s),a&&x.append("client_secret",a)}const z=yield E._metadataService.getTokenEndpoint(!1);T.debug("got token endpoint");const fe=yield E._jsonService.postForm(z,{body:x,basicAuth:V,timeoutInSeconds:u,initCredentials:E._settings.fetchRequestCredentials});return T.debug("got response"),fe})()}revoke(i){var s=this;return(0,N.A)(function*(){var a;const u=s._logger.create("revoke");i.token||u.throw(new Error("A token is required"));const m=yield s._metadataService.getRevocationEndpoint(!1);u.debug(`got revocation endpoint, revoking ${null!=(a=i.token_type_hint)?a:"default token type"}`);const E=new URLSearchParams;for(const[T,x]of Object.entries(i))null!=x&&E.set(T,x);E.set("client_id",s._settings.client_id),s._settings.client_secret&&E.set("client_secret",s._settings.client_secret),yield s._jsonService.postForm(m,{body:E}),u.debug("got response")})()}},$u=class{constructor(i,s,a){this._settings=i,this._metadataService=s,this._claimsService=a,this._logger=new st("ResponseValidator"),this._userInfoService=new pl(this._settings,this._metadataService),this._tokenClient=new Pf(this._settings,this._metadataService)}validateSigninResponse(i,s){var a=this;return(0,N.A)(function*(){const u=a._logger.create("validateSigninResponse");a._processSigninState(i,s),u.debug("state processed"),yield a._processCode(i,s),u.debug("code processed"),i.isOpenId&&a._validateIdTokenAttributes(i),u.debug("tokens validated"),yield a._processClaims(i,s?.skipUserInfo,i.isOpenId),u.debug("claims processed")})()}validateCredentialsResponse(i,s){var a=this;return(0,N.A)(function*(){const u=a._logger.create("validateCredentialsResponse");i.isOpenId&&i.id_token&&a._validateIdTokenAttributes(i),u.debug("tokens validated"),yield a._processClaims(i,s,i.isOpenId),u.debug("claims processed")})()}validateRefreshResponse(i,s){var a=this;return(0,N.A)(function*(){const E=a._logger.create("validateRefreshResponse");i.userState=s.data,null!=i.session_state||(i.session_state=s.session_state),null!=i.scope||(i.scope=s.scope),i.isOpenId&&i.id_token&&(a._validateIdTokenAttributes(i,s.id_token),E.debug("ID Token validated")),i.id_token||(i.id_token=s.id_token,i.profile=s.profile);const T=i.isOpenId&&!!i.id_token;yield a._processClaims(i,!1,T),E.debug("claims processed")})()}validateSignoutResponse(i,s){const a=this._logger.create("validateSignoutResponse");if(s.id!==i.state&&a.throw(new Error("State does not match")),a.debug("state validated"),i.userState=s.data,i.error)throw a.warn("Response was error",i.error),new Ns(i)}_processSigninState(i,s){const u=this._logger.create("_processSigninState");if(s.id!==i.state&&u.throw(new Error("State does not match")),s.client_id||u.throw(new Error("No client_id on state")),s.authority||u.throw(new Error("No authority on state")),this._settings.authority!==s.authority&&u.throw(new Error("authority mismatch on settings vs. signin state")),this._settings.client_id&&this._settings.client_id!==s.client_id&&u.throw(new Error("client_id mismatch on settings vs. signin state")),u.debug("state validated"),i.userState=s.data,i.url_state=s.url_state,null!=i.scope||(i.scope=s.scope),i.error)throw u.warn("Response was error",i.error),new Ns(i);s.code_verifier&&!i.code&&u.throw(new Error("Expected code in response"))}_processClaims(i,s=!1,a=!0){var u=this;return(0,N.A)(function*(){const m=u._logger.create("_processClaims");if(i.profile=u._claimsService.filterProtocolClaims(i.profile),s||!u._settings.loadUserInfo||!i.access_token)return void m.debug("not loading user info");m.debug("loading user info");const E=yield u._userInfoService.getClaims(i.access_token);m.debug("user info claims received from user info endpoint"),a&&E.sub!==i.profile.sub&&m.throw(new Error("subject from UserInfo response does not match subject in ID Token")),i.profile=u._claimsService.mergeClaims(i.profile,u._claimsService.filterProtocolClaims(E)),m.debug("user info claims received, updated profile:",i.profile)})()}_processCode(i,s){var a=this;return(0,N.A)(function*(){const u=a._logger.create("_processCode");if(i.code){u.debug("Validating code");const m=yield a._tokenClient.exchangeCode({client_id:s.client_id,client_secret:s.client_secret,code:i.code,redirect_uri:s.redirect_uri,code_verifier:s.code_verifier,...s.extraTokenParams});Object.assign(i,m)}else u.debug("No code to process")})()}_validateIdTokenAttributes(i,s){var a;const u=this._logger.create("_validateIdTokenAttributes");u.debug("decoding ID Token JWT");const m=Ln.decode(null!=(a=i.id_token)?a:"");if(m.sub||u.throw(new Error("ID Token is missing a subject claim")),s){const E=Ln.decode(s);m.sub!==E.sub&&u.throw(new Error("sub in id_token does not match current sub")),m.auth_time&&m.auth_time!==E.auth_time&&u.throw(new Error("auth_time in id_token does not match original auth_time")),m.azp&&m.azp!==E.azp&&u.throw(new Error("azp in id_token does not match original azp")),!m.azp&&E.azp&&u.throw(new Error("azp not in id_token, but present in original id_token"))}i.profile=m}},Da=class{constructor(i){this.id=i.id||no.generateUUIDv4(),this.data=i.data,this.created=i.created&&i.created>0?i.created:wt.getEpochTime(),this.request_type=i.request_type,this.url_state=i.url_state}toStorageString(){return new st("State").create("toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type,url_state:this.url_state})}static fromStorageString(i){return st.createStatic("State","fromStorageString"),new Da(JSON.parse(i))}static clearStaleState(i,s){return(0,N.A)(function*(){const a=st.createStatic("State","clearStaleState"),u=wt.getEpochTime()-s,m=yield i.getAllKeys();a.debug("got keys",m);for(let E=0;E<m.length;E++){const T=m[E],x=yield i.get(T);let V=!1;if(x)try{const z=Da.fromStorageString(x);a.debug("got item from key:",T,z.created),z.created<=u&&(V=!0)}catch(z){a.error("Error parsing state for key:",T,z),V=!0}else a.debug("no item in storage for key:",T),V=!0;V&&(a.debug("removed item for key:",T),i.remove(T))}})()}},Wu=class extends Da{constructor(i){super(i),!0===i.code_verifier?this.code_verifier=no.generateCodeVerifier():i.code_verifier&&(this.code_verifier=i.code_verifier),this.code_verifier&&(this.code_challenge=no.generateCodeChallenge(this.code_verifier)),this.authority=i.authority,this.client_id=i.client_id,this.redirect_uri=i.redirect_uri,this.scope=i.scope,this.client_secret=i.client_secret,this.extraTokenParams=i.extraTokenParams,this.response_mode=i.response_mode,this.skipUserInfo=i.skipUserInfo}toStorageString(){return new st("SigninState").create("toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type,url_state:this.url_state,code_verifier:this.code_verifier,authority:this.authority,client_id:this.client_id,redirect_uri:this.redirect_uri,scope:this.scope,client_secret:this.client_secret,extraTokenParams:this.extraTokenParams,response_mode:this.response_mode,skipUserInfo:this.skipUserInfo})}static fromStorageString(i){st.createStatic("SigninState","fromStorageString");const s=JSON.parse(i);return new Wu(s)}},lg=class{constructor({url:i,authority:s,client_id:a,redirect_uri:u,response_type:m,scope:E,state_data:T,response_mode:x,request_type:V,client_secret:z,nonce:fe,url_state:ve,resource:Oe,skipUserInfo:_t,extraQueryParams:Dt,extraTokenParams:ht,disablePKCE:Ct,...$t}){if(this._logger=new st("SigninRequest"),!i)throw this._logger.error("ctor: No url passed"),new Error("url");if(!a)throw this._logger.error("ctor: No client_id passed"),new Error("client_id");if(!u)throw this._logger.error("ctor: No redirect_uri passed"),new Error("redirect_uri");if(!m)throw this._logger.error("ctor: No response_type passed"),new Error("response_type");if(!E)throw this._logger.error("ctor: No scope passed"),new Error("scope");if(!s)throw this._logger.error("ctor: No authority passed"),new Error("authority");this.state=new Wu({data:T,request_type:V,url_state:ve,code_verifier:!Ct,client_id:a,authority:s,redirect_uri:u,response_mode:x,client_secret:z,scope:E,extraTokenParams:ht,skipUserInfo:_t});const Xt=new URL(i);Xt.searchParams.append("client_id",a),Xt.searchParams.append("redirect_uri",u),Xt.searchParams.append("response_type",m),Xt.searchParams.append("scope",E),fe&&Xt.searchParams.append("nonce",fe);let Ot=this.state.id;ve&&(Ot=`${Ot};${ve}`),Xt.searchParams.append("state",Ot),this.state.code_challenge&&(Xt.searchParams.append("code_challenge",this.state.code_challenge),Xt.searchParams.append("code_challenge_method","S256")),Oe&&(Array.isArray(Oe)?Oe:[Oe]).forEach(sn=>Xt.searchParams.append("resource",sn));for(const[un,sn]of Object.entries({response_mode:x,...$t,...Dt}))null!=sn&&Xt.searchParams.append(un,sn.toString());this.url=Xt.href}},kf=class{constructor(i){if(this.access_token="",this.token_type="",this.profile={},this.state=i.get("state"),this.session_state=i.get("session_state"),this.state){const s=decodeURIComponent(this.state).split(";");this.state=s[0],s.length>1&&(this.url_state=s.slice(1).join(";"))}this.error=i.get("error"),this.error_description=i.get("error_description"),this.error_uri=i.get("error_uri"),this.code=i.get("code")}get expires_in(){if(void 0!==this.expires_at)return this.expires_at-wt.getEpochTime()}set expires_in(i){"string"==typeof i&&(i=Number(i)),void 0!==i&&i>=0&&(this.expires_at=Math.floor(i)+wt.getEpochTime())}get isOpenId(){var i;return(null==(i=this.scope)?void 0:i.split(" ").includes("openid"))||!!this.id_token}},Gu=class{constructor({url:i,state_data:s,id_token_hint:a,post_logout_redirect_uri:u,extraQueryParams:m,request_type:E,client_id:T}){if(this._logger=new st("SignoutRequest"),!i)throw this._logger.error("ctor: No url passed"),new Error("url");const x=new URL(i);a&&x.searchParams.append("id_token_hint",a),T&&x.searchParams.append("client_id",T),u&&(x.searchParams.append("post_logout_redirect_uri",u),s&&(this.state=new Da({data:s,request_type:E}),x.searchParams.append("state",this.state.id)));for(const[V,z]of Object.entries({...m}))null!=z&&x.searchParams.append(V,z.toString());this.url=x.href}},gl=class{constructor(i){this.state=i.get("state"),this.error=i.get("error"),this.error_description=i.get("error_description"),this.error_uri=i.get("error_uri")}},cg=["nbf","jti","auth_time","nonce","acr","amr","azp","at_hash"],ml=["sub","iss","aud","exp","iat"],zu=class{constructor(i){this._settings=i,this._logger=new st("ClaimsService")}filterProtocolClaims(i){const s={...i};if(this._settings.filterProtocolClaims){let a;a=Array.isArray(this._settings.filterProtocolClaims)?this._settings.filterProtocolClaims:cg;for(const u of a)ml.includes(u)||delete s[u]}return s}mergeClaims(i,s){const a={...i};for(const[u,m]of Object.entries(s))for(const E of Array.isArray(m)?m:[m]){const T=a[u];void 0===T?a[u]=E:Array.isArray(T)?T.includes(E)||T.push(E):a[u]!==E&&(a[u]="object"==typeof E&&this._settings.mergeClaims?this.mergeClaims(T,E):[T,E])}return a}},yc=class{constructor(i,s){this._logger=new st("OidcClient"),this.settings=i instanceof Xi?i:new Xi(i),this.metadataService=s??new sg(this.settings),this._claimsService=new zu(this.settings),this._validator=new $u(this.settings,this.metadataService,this._claimsService),this._tokenClient=new Pf(this.settings,this.metadataService)}createSigninRequest({state:i,request:s,request_uri:a,request_type:u,id_token_hint:m,login_hint:E,skipUserInfo:T,nonce:x,url_state:V,response_type:z=this.settings.response_type,scope:fe=this.settings.scope,redirect_uri:ve=this.settings.redirect_uri,prompt:Oe=this.settings.prompt,display:_t=this.settings.display,max_age:Dt=this.settings.max_age,ui_locales:ht=this.settings.ui_locales,acr_values:Ct=this.settings.acr_values,resource:$t=this.settings.resource,response_mode:Xt=this.settings.response_mode,extraQueryParams:Ot=this.settings.extraQueryParams,extraTokenParams:un=this.settings.extraTokenParams}){var sn=this;return(0,N.A)(function*(){const Qn=sn._logger.create("createSigninRequest");if("code"!==z)throw new Error("Only the Authorization Code flow (with PKCE) is supported");const Mt=yield sn.metadataService.getAuthorizationEndpoint();Qn.debug("Received authorization endpoint",Mt);const Wt=new lg({url:Mt,authority:sn.settings.authority,client_id:sn.settings.client_id,redirect_uri:ve,response_type:z,scope:fe,state_data:i,url_state:V,prompt:Oe,display:_t,max_age:Dt,ui_locales:ht,id_token_hint:m,login_hint:E,acr_values:Ct,resource:$t,request:s,request_uri:a,extraQueryParams:Ot,extraTokenParams:un,request_type:u,response_mode:Xt,client_secret:sn.settings.client_secret,skipUserInfo:T,nonce:x,disablePKCE:sn.settings.disablePKCE});yield sn.clearStaleState();const ao=Wt.state;return yield sn.settings.stateStore.set(ao.id,ao.toStorageString()),Wt})()}readSigninResponseState(i,s=!1){var a=this;return(0,N.A)(function*(){const u=a._logger.create("readSigninResponseState"),m=new kf(Uu.readParams(i,a.settings.response_mode));if(!m.state)throw u.throw(new Error("No state in response")),null;const E=yield a.settings.stateStore[s?"remove":"get"](m.state);if(!E)throw u.throw(new Error("No matching state found in storage")),null;return{state:Wu.fromStorageString(E),response:m}})()}processSigninResponse(i){var s=this;return(0,N.A)(function*(){const a=s._logger.create("processSigninResponse"),{state:u,response:m}=yield s.readSigninResponseState(i,!0);return a.debug("received state from storage; validating response"),yield s._validator.validateSigninResponse(m,u),m})()}processResourceOwnerPasswordCredentials({username:i,password:s,skipUserInfo:a=!1,extraTokenParams:u={}}){var m=this;return(0,N.A)(function*(){const E=yield m._tokenClient.exchangeCredentials({username:i,password:s,...u}),T=new kf(new URLSearchParams);return Object.assign(T,E),yield m._validator.validateCredentialsResponse(T,a),T})()}useRefreshToken({state:i,timeoutInSeconds:s}){var a=this;return(0,N.A)(function*(){var u;const m=a._logger.create("useRefreshToken");let E;if(void 0===a.settings.refreshTokenAllowedScope)E=i.scope;else{const V=a.settings.refreshTokenAllowedScope.split(" ");E=((null==(u=i.scope)?void 0:u.split(" "))||[]).filter(fe=>V.includes(fe)).join(" ")}const T=yield a._tokenClient.exchangeRefreshToken({refresh_token:i.refresh_token,resource:i.resource,scope:E,timeoutInSeconds:s}),x=new kf(new URLSearchParams);return Object.assign(x,T),m.debug("validating response",x),yield a._validator.validateRefreshResponse(x,{...i,scope:E}),x})()}createSignoutRequest({state:i,id_token_hint:s,client_id:a,request_type:u,post_logout_redirect_uri:m=this.settings.post_logout_redirect_uri,extraQueryParams:E=this.settings.extraQueryParams}={}){var T=this;return(0,N.A)(function*(){const x=T._logger.create("createSignoutRequest"),V=yield T.metadataService.getEndSessionEndpoint();if(!V)throw x.throw(new Error("No end session endpoint")),null;x.debug("Received end session endpoint",V),!a&&m&&!s&&(a=T.settings.client_id);const z=new Gu({url:V,id_token_hint:s,client_id:a,post_logout_redirect_uri:m,state_data:i,extraQueryParams:E,request_type:u});yield T.clearStaleState();const fe=z.state;return fe&&(x.debug("Signout request has state to persist"),yield T.settings.stateStore.set(fe.id,fe.toStorageString())),z})()}readSignoutResponseState(i,s=!1){var a=this;return(0,N.A)(function*(){const u=a._logger.create("readSignoutResponseState"),m=new gl(Uu.readParams(i,a.settings.response_mode));if(!m.state){if(u.debug("No state in response"),m.error)throw u.warn("Response was error:",m.error),new Ns(m);return{state:void 0,response:m}}const E=yield a.settings.stateStore[s?"remove":"get"](m.state);if(!E)throw u.throw(new Error("No matching state found in storage")),null;return{state:Da.fromStorageString(E),response:m}})()}processSignoutResponse(i){var s=this;return(0,N.A)(function*(){const a=s._logger.create("processSignoutResponse"),{state:u,response:m}=yield s.readSignoutResponseState(i,!0);return u?(a.debug("Received state from storage; validating response"),s._validator.validateSignoutResponse(m,u)):a.debug("No state from storage; skipping response validation"),m})()}clearStaleState(){return this._logger.create("clearStaleState"),Da.clearStaleState(this.settings.stateStore,this.settings.staleStateAgeInSeconds)}revokeToken(i,s){var a=this;return(0,N.A)(function*(){return a._logger.create("revokeToken"),yield a._tokenClient.revoke({token:i,token_type_hint:s})})()}},my=class{constructor(i){var s=this;this._userManager=i,this._logger=new st("SessionMonitor"),this._start=function(){var a=(0,N.A)(function*(u){const m=u.session_state;if(!m)return;const E=s._logger.create("_start");if(u.profile?(s._sub=u.profile.sub,s._sid=u.profile.sid,E.debug("session_state",m,", sub",s._sub)):(s._sub=void 0,s._sid=void 0,E.debug("session_state",m,", anonymous user")),s._checkSessionIFrame)s._checkSessionIFrame.start(m);else try{const T=yield s._userManager.metadataService.getCheckSessionIframe();if(T){E.debug("initializing check session iframe");const fe=new Nf(s._callback,s._userManager.settings.client_id,T,s._userManager.settings.checkSessionIntervalInSeconds,s._userManager.settings.stopCheckSessionOnError);yield fe.load(),s._checkSessionIFrame=fe,fe.start(m)}else E.warn("no check session iframe found in the metadata")}catch(T){E.error("Error from getCheckSessionIframe:",T instanceof Error?T.message:T)}});return function(u){return a.apply(this,arguments)}}(),this._stop=()=>{const a=this._logger.create("_stop");if(this._sub=void 0,this._sid=void 0,this._checkSessionIFrame&&this._checkSessionIFrame.stop(),this._userManager.settings.monitorAnonymousSession){const u=setInterval((0,N.A)(function*(){clearInterval(u);try{const m=yield s._userManager.querySessionStatus();m&&s._start({session_state:m.session_state,profile:m.sub&&m.sid?{sub:m.sub,sid:m.sid}:null})}catch(m){a.error("error from querySessionStatus",m instanceof Error?m.message:m)}}),1e3)}},this._callback=(0,N.A)(function*(){const a=s._logger.create("_callback");try{const u=yield s._userManager.querySessionStatus();let m=!0;u&&s._checkSessionIFrame?u.sub===s._sub?(m=!1,s._checkSessionIFrame.start(u.session_state),u.sid===s._sid?a.debug("same sub still logged in at OP, restarting check session iframe; session_state",u.session_state):(a.debug("same sub still logged in at OP, session state has changed, restarting check session iframe; session_state",u.session_state),s._userManager.events._raiseUserSessionChanged())):a.debug("different subject signed into OP",u.sub):a.debug("subject no longer signed into OP"),m?s._sub?s._userManager.events._raiseUserSignedOut():s._userManager.events._raiseUserSignedIn():a.debug("no change in session detected, no event to raise")}catch(u){s._sub&&(a.debug("Error calling queryCurrentSigninSession; raising signed out event",u),s._userManager.events._raiseUserSignedOut())}}),i||this._logger.throw(new Error("No user manager passed")),this._userManager.events.addUserLoaded(this._start),this._userManager.events.addUserUnloaded(this._stop),this._init().catch(a=>{this._logger.error(a)})}_init(){var i=this;return(0,N.A)(function*(){i._logger.create("_init");const s=yield i._userManager.getUser();if(s)i._start(s);else if(i._userManager.settings.monitorAnonymousSession){const a=yield i._userManager.querySessionStatus();a&&i._start({session_state:a.session_state,profile:a.sub&&a.sid?{sub:a.sub,sid:a.sid}:null})}})()}},vl=class{constructor(i){var s;this.id_token=i.id_token,this.session_state=null!=(s=i.session_state)?s:null,this.access_token=i.access_token,this.refresh_token=i.refresh_token,this.token_type=i.token_type,this.scope=i.scope,this.profile=i.profile,this.expires_at=i.expires_at,this.state=i.userState,this.url_state=i.url_state}get expires_in(){if(void 0!==this.expires_at)return this.expires_at-wt.getEpochTime()}set expires_in(i){void 0!==i&&(this.expires_at=Math.floor(i)+wt.getEpochTime())}get expired(){const i=this.expires_in;if(void 0!==i)return i<=0}get scopes(){var i,s;return null!=(s=null==(i=this.scope)?void 0:i.split(" "))?s:[]}toStorageString(){return new st("User").create("toStorageString"),JSON.stringify({id_token:this.id_token,session_state:this.session_state,access_token:this.access_token,refresh_token:this.refresh_token,token_type:this.token_type,scope:this.scope,profile:this.profile,expires_at:this.expires_at})}static fromStorageString(i){return st.createStatic("User","fromStorageString"),new vl(JSON.parse(i))}},qu="oidc-client",Ff=class{constructor(){this._abort=new qi("Window navigation aborted"),this._disposeHandlers=new Set,this._window=null}navigate(i){var s=this;return(0,N.A)(function*(){const a=s._logger.create("navigate");if(!s._window)throw new Error("Attempted to navigate on a disposed window");a.debug("setting URL in window"),s._window.location.replace(i.url);const{url:u,keepOpen:m}=yield new Promise((E,T)=>{const x=V=>{var z;const fe=V.data,ve=null!=(z=i.scriptOrigin)?z:window.location.origin;if(V.origin===ve&&fe?.source===qu){try{const Oe=Uu.readParams(fe.url,i.response_mode).get("state");if(Oe||a.warn("no state found in response url"),V.source!==s._window&&Oe!==i.state)return}catch{s._dispose(),T(new Error("Invalid response from window"))}E(fe)}};window.addEventListener("message",x,!1),s._disposeHandlers.add(()=>window.removeEventListener("message",x,!1)),s._disposeHandlers.add(s._abort.addHandler(V=>{s._dispose(),T(V)}))});return a.debug("got response from window"),s._dispose(),m||s.close(),{url:u}})()}_dispose(){this._logger.create("_dispose");for(const i of this._disposeHandlers)i();this._disposeHandlers.clear()}static _notifyParent(i,s,a=!1,u=window.location.origin){i.postMessage({source:qu,url:s,keepOpen:a},u)}},Eo={location:!1,toolbar:!1,height:640,closePopupWindowAfterInSeconds:-1},Lf="_blank",_c=60,Ku=2,Xu=10,wc=class extends Xi{constructor(i){const{popup_redirect_uri:s=i.redirect_uri,popup_post_logout_redirect_uri:a=i.post_logout_redirect_uri,popupWindowFeatures:u=Eo,popupWindowTarget:m=Lf,redirectMethod:E="assign",redirectTarget:T="self",iframeNotifyParentOrigin:x=i.iframeNotifyParentOrigin,iframeScriptOrigin:V=i.iframeScriptOrigin,silent_redirect_uri:z=i.redirect_uri,silentRequestTimeoutInSeconds:fe=Xu,automaticSilentRenew:ve=!0,validateSubOnSilentRenew:Oe=!0,includeIdTokenInSilentRenew:_t=!1,monitorSession:Dt=!1,monitorAnonymousSession:ht=!1,checkSessionIntervalInSeconds:Ct=Ku,query_status_response_type:$t="code",stopCheckSessionOnError:Xt=!0,revokeTokenTypes:Ot=["access_token","refresh_token"],revokeTokensOnSignout:un=!1,includeIdTokenInSilentSignout:sn=!1,accessTokenExpiringNotificationTimeInSeconds:Qn=_c,userStore:Mt}=i;if(super(i),this.popup_redirect_uri=s,this.popup_post_logout_redirect_uri=a,this.popupWindowFeatures=u,this.popupWindowTarget=m,this.redirectMethod=E,this.redirectTarget=T,this.iframeNotifyParentOrigin=x,this.iframeScriptOrigin=V,this.silent_redirect_uri=z,this.silentRequestTimeoutInSeconds=fe,this.automaticSilentRenew=ve,this.validateSubOnSilentRenew=Oe,this.includeIdTokenInSilentRenew=_t,this.monitorSession=Dt,this.monitorAnonymousSession=ht,this.checkSessionIntervalInSeconds=Ct,this.stopCheckSessionOnError=Xt,this.query_status_response_type=$t,this.revokeTokenTypes=Ot,this.revokeTokensOnSignout=un,this.includeIdTokenInSilentSignout=sn,this.accessTokenExpiringNotificationTimeInSeconds=Qn,Mt)this.userStore=Mt;else{const Wt=typeof window<"u"?window.sessionStorage:new Os;this.userStore=new wa({store:Wt})}}},yl=class extends Ff{constructor({silentRequestTimeoutInSeconds:i=Xu}){super(),this._logger=new st("IFrameWindow"),this._timeoutInSeconds=i,this._frame=yl.createHiddenIframe(),this._window=this._frame.contentWindow}static createHiddenIframe(){const i=window.document.createElement("iframe");return i.style.visibility="hidden",i.style.position="fixed",i.style.left="-1000px",i.style.top="0",i.width="0",i.height="0",window.document.body.appendChild(i),i}navigate(i){var s=()=>super.navigate,a=this;return(0,N.A)(function*(){a._logger.debug("navigate: Using timeout of:",a._timeoutInSeconds);const u=setTimeout(()=>a._abort.raise(new Bu("IFrame timed out without a response")),1e3*a._timeoutInSeconds);return a._disposeHandlers.add(()=>clearTimeout(u)),yield s().call(a,i)})()}close(){var i;this._frame&&(this._frame.parentNode&&(this._frame.addEventListener("load",s=>{var a;const u=s.target;null==(a=u.parentNode)||a.removeChild(u),this._abort.raise(new Error("IFrame removed from DOM"))},!0),null==(i=this._frame.contentWindow)||i.location.replace("about:blank")),this._frame=null),this._window=null}static notifyParent(i,s){return super._notifyParent(window.parent,i,!1,s)}},ug=class{constructor(i){this._settings=i,this._logger=new st("IFrameNavigator")}prepare({silentRequestTimeoutInSeconds:i=this._settings.silentRequestTimeoutInSeconds}){return(0,N.A)(function*(){return new yl({silentRequestTimeoutInSeconds:i})})()}callback(i){var s=this;return(0,N.A)(function*(){s._logger.create("callback"),yl.notifyParent(i,s._settings.iframeNotifyParentOrigin)})()}},Qu=class extends Ff{constructor({popupWindowTarget:i=Lf,popupWindowFeatures:s={}}){super(),this._logger=new st("PopupWindow");const a=Ki.center({...Eo,...s});this._window=window.open(void 0,i,Ki.serialize(a)),s.closePopupWindowAfterInSeconds&&s.closePopupWindowAfterInSeconds>0&&setTimeout(()=>{this._window&&"boolean"==typeof this._window.closed&&!this._window.closed?this.close():this._abort.raise(new Error("Popup blocked by user"))},1e3*s.closePopupWindowAfterInSeconds)}navigate(i){var s=()=>super.navigate,a=this;return(0,N.A)(function*(){var u;null==(u=a._window)||u.focus();const m=setInterval(()=>{(!a._window||a._window.closed)&&a._abort.raise(new Error("Popup closed by user"))},500);return a._disposeHandlers.add(()=>clearInterval(m)),yield s().call(a,i)})()}close(){this._window&&(this._window.closed||(this._window.close(),this._abort.raise(new Error("Popup closed")))),this._window=null}static notifyOpener(i,s){if(!window.opener)throw new Error("No window.opener. Can't complete notification.");return super._notifyParent(window.opener,i,s)}},jf=class{constructor(i){this._settings=i,this._logger=new st("PopupNavigator")}prepare({popupWindowFeatures:i=this._settings.popupWindowFeatures,popupWindowTarget:s=this._settings.popupWindowTarget}){return(0,N.A)(function*(){return new Qu({popupWindowFeatures:i,popupWindowTarget:s})})()}callback(i,{keepOpen:s=!1}){var a=this;return(0,N.A)(function*(){a._logger.create("callback"),Qu.notifyOpener(i,s)})()}},dg=class{constructor(i){this._settings=i,this._logger=new st("RedirectNavigator")}prepare({redirectMethod:i=this._settings.redirectMethod,redirectTarget:s=this._settings.redirectTarget}){var a=this;return(0,N.A)(function*(){var u;a._logger.create("prepare");let m=window.self;"top"===s&&(m=null!=(u=window.top)?u:window.self);const E=m.location[i].bind(m.location);let T;return{navigate:(x=(0,N.A)(function*(V){a._logger.create("navigate");const z=new Promise((fe,ve)=>{T=ve});return E(V.url),yield z}),function(z){return x.apply(this,arguments)}),close:()=>{a._logger.create("close"),T?.(new Error("Redirect aborted")),m.stop()}};var x})()}callback(){return(0,N.A)(function*(){})()}},Dc=class extends Rf{constructor(i){super({expiringNotificationTimeInSeconds:i.accessTokenExpiringNotificationTimeInSeconds}),this._logger=new st("UserManagerEvents"),this._userLoaded=new qi("User loaded"),this._userUnloaded=new qi("User unloaded"),this._silentRenewError=new qi("Silent renew error"),this._userSignedIn=new qi("User signed in"),this._userSignedOut=new qi("User signed out"),this._userSessionChanged=new qi("User session changed")}load(i,s=!0){super.load(i),s&&this._userLoaded.raise(i)}unload(){super.unload(),this._userUnloaded.raise()}addUserLoaded(i){return this._userLoaded.addHandler(i)}removeUserLoaded(i){return this._userLoaded.removeHandler(i)}addUserUnloaded(i){return this._userUnloaded.addHandler(i)}removeUserUnloaded(i){return this._userUnloaded.removeHandler(i)}addSilentRenewError(i){return this._silentRenewError.addHandler(i)}removeSilentRenewError(i){return this._silentRenewError.removeHandler(i)}_raiseSilentRenewError(i){this._silentRenewError.raise(i)}addUserSignedIn(i){return this._userSignedIn.addHandler(i)}removeUserSignedIn(i){this._userSignedIn.removeHandler(i)}_raiseUserSignedIn(){this._userSignedIn.raise()}addUserSignedOut(i){return this._userSignedOut.addHandler(i)}removeUserSignedOut(i){this._userSignedOut.removeHandler(i)}_raiseUserSignedOut(){this._userSignedOut.raise()}addUserSessionChanged(i){return this._userSessionChanged.addHandler(i)}removeUserSessionChanged(i){this._userSessionChanged.removeHandler(i)}_raiseUserSessionChanged(){this._userSessionChanged.raise()}},xs=class{constructor(i){var s=this;this._userManager=i,this._logger=new st("SilentRenewService"),this._isStarted=!1,this._retryTimer=new wt("Retry Silent Renew"),this._tokenExpiring=(0,N.A)(function*(){const a=s._logger.create("_tokenExpiring");try{yield s._userManager.signinSilent(),a.debug("silent token renewal successful")}catch(u){if(u instanceof Bu)return a.warn("ErrorTimeout from signinSilent:",u,"retry in 5s"),void s._retryTimer.init(5);a.error("Error from signinSilent:",u),s._userManager.events._raiseSilentRenewError(u)}})}start(){var i=this;return(0,N.A)(function*(){const s=i._logger.create("start");if(!i._isStarted){i._isStarted=!0,i._userManager.events.addAccessTokenExpiring(i._tokenExpiring),i._retryTimer.addHandler(i._tokenExpiring);try{yield i._userManager.getUser()}catch(a){s.error("getUser error",a)}}})()}stop(){this._isStarted&&(this._retryTimer.cancel(),this._retryTimer.removeHandler(this._tokenExpiring),this._userManager.events.removeAccessTokenExpiring(this._tokenExpiring),this._isStarted=!1)}},fg=class{constructor(i,s){this.refresh_token=i.refresh_token,this.id_token=i.id_token,this.session_state=i.session_state,this.scope=i.scope,this.profile=i.profile,this.resource=s,this.data=i.state}},Bf=class{constructor(i,s,a,u){this._logger=new st("UserManager"),this.settings=new wc(i),this._client=new yc(i),this._redirectNavigator=s??new dg(this.settings),this._popupNavigator=a??new jf(this.settings),this._iframeNavigator=u??new ug(this.settings),this._events=new Dc(this.settings),this._silentRenewService=new xs(this),this.settings.automaticSilentRenew&&this.startSilentRenew(),this._sessionMonitor=null,this.settings.monitorSession&&(this._sessionMonitor=new my(this))}get events(){return this._events}get metadataService(){return this._client.metadataService}getUser(){var i=this;return(0,N.A)(function*(){const s=i._logger.create("getUser"),a=yield i._loadUser();return a?(s.info("user loaded"),i._events.load(a,!1),a):(s.info("user not found in storage"),null)})()}removeUser(){var i=this;return(0,N.A)(function*(){const s=i._logger.create("removeUser");yield i.storeUser(null),s.info("user removed from storage"),i._events.unload()})()}signinRedirect(i={}){var s=this;return(0,N.A)(function*(){s._logger.create("signinRedirect");const{redirectMethod:a,...u}=i,m=yield s._redirectNavigator.prepare({redirectMethod:a});yield s._signinStart({request_type:"si:r",...u},m)})()}signinRedirectCallback(i=window.location.href){var s=this;return(0,N.A)(function*(){const a=s._logger.create("signinRedirectCallback"),u=yield s._signinEnd(i);return u.profile&&u.profile.sub?a.info("success, signed in subject",u.profile.sub):a.info("no subject"),u})()}signinResourceOwnerCredentials({username:i,password:s,skipUserInfo:a=!1}){var u=this;return(0,N.A)(function*(){const m=u._logger.create("signinResourceOwnerCredential"),E=yield u._client.processResourceOwnerPasswordCredentials({username:i,password:s,skipUserInfo:a,extraTokenParams:u.settings.extraTokenParams});m.debug("got signin response");const T=yield u._buildUser(E);return T.profile&&T.profile.sub?m.info("success, signed in subject",T.profile.sub):m.info("no subject"),T})()}signinPopup(i={}){var s=this;return(0,N.A)(function*(){const a=s._logger.create("signinPopup"),{popupWindowFeatures:u,popupWindowTarget:m,...E}=i,T=s.settings.popup_redirect_uri;T||a.throw(new Error("No popup_redirect_uri configured"));const x=yield s._popupNavigator.prepare({popupWindowFeatures:u,popupWindowTarget:m}),V=yield s._signin({request_type:"si:p",redirect_uri:T,display:"popup",...E},x);return V&&(V.profile&&V.profile.sub?a.info("success, signed in subject",V.profile.sub):a.info("no subject")),V})()}signinPopupCallback(i=window.location.href,s=!1){var a=this;return(0,N.A)(function*(){const u=a._logger.create("signinPopupCallback");yield a._popupNavigator.callback(i,{keepOpen:s}),u.info("success")})()}signinSilent(i={}){var s=this;return(0,N.A)(function*(){var a;const u=s._logger.create("signinSilent"),{silentRequestTimeoutInSeconds:m,resource:E,...T}=i;let x=yield s._loadUser();if(x?.refresh_token){u.debug("using refresh token");const ve=new fg(x,E);return yield s._useRefreshToken(ve)}const V=s.settings.silent_redirect_uri;let z;V||u.throw(new Error("No silent_redirect_uri configured")),x&&s.settings.validateSubOnSilentRenew&&(u.debug("subject prior to silent renew:",x.profile.sub),z=x.profile.sub);const fe=yield s._iframeNavigator.prepare({silentRequestTimeoutInSeconds:m});return x=yield s._signin({request_type:"si:s",redirect_uri:V,prompt:"none",id_token_hint:s.settings.includeIdTokenInSilentRenew?x?.id_token:void 0,...T},fe,z),x&&(null!=(a=x.profile)&&a.sub?u.info("success, signed in subject",x.profile.sub):u.info("no subject")),x})()}_useRefreshToken(i){var s=this;return(0,N.A)(function*(){const a=yield s._client.useRefreshToken({state:i,timeoutInSeconds:s.settings.silentRequestTimeoutInSeconds}),u=new vl({...i,...a});return yield s.storeUser(u),s._events.load(u),u})()}signinSilentCallback(i=window.location.href){var s=this;return(0,N.A)(function*(){const a=s._logger.create("signinSilentCallback");yield s._iframeNavigator.callback(i),a.info("success")})()}signinCallback(i=window.location.href){var s=this;return(0,N.A)(function*(){const{state:a}=yield s._client.readSigninResponseState(i);switch(a.request_type){case"si:r":return yield s.signinRedirectCallback(i);case"si:p":return yield s.signinPopupCallback(i);case"si:s":return yield s.signinSilentCallback(i);default:throw new Error("invalid response_type in state")}})()}signoutCallback(i=window.location.href,s=!1){var a=this;return(0,N.A)(function*(){const{state:u}=yield a._client.readSignoutResponseState(i);if(u)switch(u.request_type){case"so:r":yield a.signoutRedirectCallback(i);break;case"so:p":yield a.signoutPopupCallback(i,s);break;case"so:s":yield a.signoutSilentCallback(i);break;default:throw new Error("invalid response_type in state")}})()}querySessionStatus(i={}){var s=this;return(0,N.A)(function*(){const a=s._logger.create("querySessionStatus"),{silentRequestTimeoutInSeconds:u,...m}=i,E=s.settings.silent_redirect_uri;E||a.throw(new Error("No silent_redirect_uri configured"));const T=yield s._loadUser(),x=yield s._iframeNavigator.prepare({silentRequestTimeoutInSeconds:u}),V=yield s._signinStart({request_type:"si:s",redirect_uri:E,prompt:"none",id_token_hint:s.settings.includeIdTokenInSilentRenew?T?.id_token:void 0,response_type:s.settings.query_status_response_type,scope:"openid",skipUserInfo:!0,...m},x);try{const z=yield s._client.processSigninResponse(V.url);return a.debug("got signin response"),z.session_state&&z.profile.sub?(a.info("success for subject",z.profile.sub),{session_state:z.session_state,sub:z.profile.sub,sid:z.profile.sid}):(a.info("success, user not authenticated"),null)}catch(z){if(s.settings.monitorAnonymousSession&&z instanceof Ns)switch(z.error){case"login_required":case"consent_required":case"interaction_required":case"account_selection_required":return a.info("success for anonymous user"),{session_state:z.session_state}}throw z}})()}_signin(i,s,a){var u=this;return(0,N.A)(function*(){const m=yield u._signinStart(i,s);return yield u._signinEnd(m.url,a)})()}_signinStart(i,s){var a=this;return(0,N.A)(function*(){const u=a._logger.create("_signinStart");try{const m=yield a._client.createSigninRequest(i);return u.debug("got signin request"),yield s.navigate({url:m.url,state:m.state.id,response_mode:m.state.response_mode,scriptOrigin:a.settings.iframeScriptOrigin})}catch(m){throw u.debug("error after preparing navigator, closing navigator window"),s.close(),m}})()}_signinEnd(i,s){var a=this;return(0,N.A)(function*(){const u=a._logger.create("_signinEnd"),m=yield a._client.processSigninResponse(i);return u.debug("got signin response"),yield a._buildUser(m,s)})()}_buildUser(i,s){var a=this;return(0,N.A)(function*(){const u=a._logger.create("_buildUser"),m=new vl(i);if(s){if(s!==m.profile.sub)throw u.debug("current user does not match user returned from signin. sub from signin:",m.profile.sub),new Ns({...i,error:"login_required"});u.debug("current user matches user returned from signin")}return yield a.storeUser(m),u.debug("user stored"),a._events.load(m),m})()}signoutRedirect(i={}){var s=this;return(0,N.A)(function*(){const a=s._logger.create("signoutRedirect"),{redirectMethod:u,...m}=i,E=yield s._redirectNavigator.prepare({redirectMethod:u});yield s._signoutStart({request_type:"so:r",post_logout_redirect_uri:s.settings.post_logout_redirect_uri,...m},E),a.info("success")})()}signoutRedirectCallback(i=window.location.href){var s=this;return(0,N.A)(function*(){const a=s._logger.create("signoutRedirectCallback"),u=yield s._signoutEnd(i);return a.info("success"),u})()}signoutPopup(i={}){var s=this;return(0,N.A)(function*(){const a=s._logger.create("signoutPopup"),{popupWindowFeatures:u,popupWindowTarget:m,...E}=i,T=s.settings.popup_post_logout_redirect_uri,x=yield s._popupNavigator.prepare({popupWindowFeatures:u,popupWindowTarget:m});yield s._signout({request_type:"so:p",post_logout_redirect_uri:T,state:null==T?void 0:{},...E},x),a.info("success")})()}signoutPopupCallback(i=window.location.href,s=!1){var a=this;return(0,N.A)(function*(){const u=a._logger.create("signoutPopupCallback");yield a._popupNavigator.callback(i,{keepOpen:s}),u.info("success")})()}_signout(i,s){var a=this;return(0,N.A)(function*(){const u=yield a._signoutStart(i,s);return yield a._signoutEnd(u.url)})()}_signoutStart(i={},s){var a=this;return(0,N.A)(function*(){var u;const m=a._logger.create("_signoutStart");try{const E=yield a._loadUser();m.debug("loaded current user from storage"),a.settings.revokeTokensOnSignout&&(yield a._revokeInternal(E));const T=i.id_token_hint||E&&E.id_token;T&&(m.debug("setting id_token_hint in signout request"),i.id_token_hint=T),yield a.removeUser(),m.debug("user removed, creating signout request");const x=yield a._client.createSignoutRequest(i);return m.debug("got signout request"),yield s.navigate({url:x.url,state:null==(u=x.state)?void 0:u.id,scriptOrigin:a.settings.iframeScriptOrigin})}catch(E){throw m.debug("error after preparing navigator, closing navigator window"),s.close(),E}})()}_signoutEnd(i){var s=this;return(0,N.A)(function*(){const a=s._logger.create("_signoutEnd"),u=yield s._client.processSignoutResponse(i);return a.debug("got signout response"),u})()}signoutSilent(i={}){var s=this;return(0,N.A)(function*(){var a;const u=s._logger.create("signoutSilent"),{silentRequestTimeoutInSeconds:m,...E}=i,T=s.settings.includeIdTokenInSilentSignout?null==(a=yield s._loadUser())?void 0:a.id_token:void 0,x=s.settings.popup_post_logout_redirect_uri,V=yield s._iframeNavigator.prepare({silentRequestTimeoutInSeconds:m});yield s._signout({request_type:"so:s",post_logout_redirect_uri:x,id_token_hint:T,...E},V),u.info("success")})()}signoutSilentCallback(i=window.location.href){var s=this;return(0,N.A)(function*(){const a=s._logger.create("signoutSilentCallback");yield s._iframeNavigator.callback(i),a.info("success")})()}revokeTokens(i){var s=this;return(0,N.A)(function*(){const a=yield s._loadUser();yield s._revokeInternal(a,i)})()}_revokeInternal(i,s=this.settings.revokeTokenTypes){var a=this;return(0,N.A)(function*(){const u=a._logger.create("_revokeInternal");if(!i)return;const m=s.filter(E=>"string"==typeof i[E]);if(m.length){for(const E of m)yield a._client.revokeToken(i[E],E),u.info(`${E} revoked successfully`),"access_token"!==E&&(i[E]=null);yield a.storeUser(i),u.debug("user stored"),a._events.load(i)}else u.debug("no need to revoke due to no token(s)")})()}startSilentRenew(){this._logger.create("startSilentRenew"),this._silentRenewService.start()}stopSilentRenew(){this._silentRenewService.stop()}get _userStoreKey(){return`user:${this.settings.authority}:${this.settings.client_id}`}_loadUser(){var i=this;return(0,N.A)(function*(){const s=i._logger.create("_loadUser"),a=yield i.settings.userStore.get(i._userStoreKey);return a?(s.debug("user storageString loaded"),vl.fromStorageString(a)):(s.debug("no user storageString"),null)})()}storeUser(i){var s=this;return(0,N.A)(function*(){const a=s._logger.create("storeUser");if(i){a.debug("storing user");const u=i.toStorageString();yield s.settings.userStore.set(s._userStoreKey,u)}else s._logger.debug("removing user"),yield s.settings.userStore.remove(s._userStoreKey)})()}clearStaleState(){var i=this;return(0,N.A)(function*(){yield i._client.clearStaleState()})()}};class Ca{}class rn{constructor(){this.subscribers=[]}add(s){return this.subscribers.push(s),this.lastNotifiedValue&&s(...this.lastNotifiedValue),{unsubscribe:()=>this.unsubscribe(s)}}notify(...s){this.lastNotifiedValue=s,this.subscribers.forEach(a=>{a(...s)})}unsubscribe(s){if(s){const a=this.subscribers.indexOf(s);-1!==a&&this.subscribers.splice(a,1)}else this.subscribers=[]}}const ba=window.localStorage,Rr=window.Capacitor?.Plugins?.Storage,gr=window.Capacitor?.Plugins?.Preferences,Nr=window.Capacitor?.Plugins?.SecureStoragePlugin;class Hf{constructor(){if(this._logger=new st("MobileStorage"),!Nr){let s="[@badisi/auth-js] This application is currently using an unsafe storage.\n\n";s+="\u24d8 Please follow the recommended guide and use `capacitor-secure-storage-plugin` instead.",console.warn(s)}this._logger.debug(Nr?"Using `capacitor-secure-storage-plugin` implementation":gr?"Using `@capacitor/preferences` implementation":Rr?"Using `@capacitor/storage` implementation":"Using `localStorage` implementation")}get length(){return(0,N.A)(function*(){return Nr?(yield Nr.keys()).value.length:gr?(yield gr.keys()).keys.length:Rr?(yield Rr.keys()).keys.length:ba.length})()}key(s){return(0,N.A)(function*(){return Nr?(yield Nr.keys()).value[s]:gr?(yield gr.keys()).keys[s]:Rr?(yield Rr.keys()).keys[s]:ba.key(s)})()}clear(){var s=this;return(0,N.A)(function*(){s._logger.create("clear"),Nr?yield Nr.clear():gr?yield gr.clear():Rr?yield Rr.clear():ba.clear()})()}getItem(s){var a=this;return(0,N.A)(function*(){if(a._logger.create(`getItem('${s}')`),!Nr)return gr?(yield gr.get({key:s})).value:Rr?(yield Rr.get({key:s})).value:ba.getItem(s);try{return(yield Nr.get({key:s})).value}catch{return null}})()}setItem(s,a){var u=this;return(0,N.A)(function*(){u._logger.create(`setItem('${s}')`),Nr?yield Nr.set({key:s,value:a}):gr?yield gr.set({key:s,value:a}):Rr?yield Rr.set({key:s,value:a}):ba.setItem(s,a)})()}removeItem(s){var a=this;return(0,N.A)(function*(){if(a._logger.create(`removeItem('${s}')`),Nr)try{yield Nr.remove({key:s})}catch{}else gr?yield gr.remove({key:s}):Rr?yield Rr.remove({key:s}):ba.removeItem(s)})()}}var Or=function(i){return i.REDIRECT="REDIRECT",i.POPUP="POPUP",i}(Or||{});class Zu{constructor(){this.expired=void 0,this.expires_in=void 0,this.expires_at=void 0}static deserialize(s){const a=new Zu,u=Object.keys(a);for(const m of u)a[m]=s[m];return a}}const Ju=window.Capacitor?.Plugins?.App,mi=window.Capacitor?.Plugins?.Browser;class pg{constructor(s,a){if(this.redirectUrl=s,this.params=a,this._logger=new st("MobileWindow"),this.originalHandleOpenURL=window.handleOpenURL,this._isClosed=!0,this._receivedResult=!1,!ln.isCapacitor()&&!ln.isCordova()){let u="[@badisi/auth-js] Required core dependency not found.\n\n";u+="\u24d8 Please follow the recommended guide and install either `Capacitor` or `Cordova` dependency.",console.error(u)}if(!mi){let u="[@badisi/auth-js] Required plugin not found.\n\n";u+="\u24d8 Please follow the recommended guide and install either `@badisi/capacitor-browsertab` or `@capacitor/browser` plugin.",console.error(u)}mi&&this._logger.debug("Using `@capacitor/browser` implementation")}navigate(s){var a=this;return(0,N.A)(function*(){return a.navigateLogger=a._logger.create("navigate"),a.navigateLogger.debug("url",s.url),a._isClosed=!1,a._receivedResult=!1,new Promise((u,m)=>{a._resolve=u,a._reject=m,a.installCustomUrlSchemeHandler().then(()=>{mi&&a.useCapacitorBrowser(s)})})})()}close(){var s=this;return(0,N.A)(function*(){const a=s._logger.create("close");s._isClosed||(yield mi?.close().catch(u=>a.error(u))),a.debug("success")})()}cleanup(){var s=this;return(0,N.A)(function*(){const a=s._logger.create("cleanup");window.handleOpenURL=s.originalHandleOpenURL,yield s.capacitorBrowserFinishedHandle?.remove(),yield s.capacitorAppUrlOpenHandle?.remove(),clearTimeout(s.timer),a.debug("success")})()}onError(s){var a=this;return(0,N.A)(function*(){a.navigateLogger?.error("error response:",s),yield a.close(),yield a.cleanup(),a._reject?.(new Error(s)),a._receivedResult=!0})()}onSuccess(s){var a=this;return(0,N.A)(function*(){a.navigateLogger?.debug("successful response:",s),yield a.close(),yield a.cleanup(),a._resolve?.({url:s}),a._receivedResult=!0})()}useCapacitorBrowser(s){var a=this;return(0,N.A)(function*(){a.capacitorBrowserFinishedHandle=yield mi?.addListener("browserFinished",()=>{a._isClosed=!0,setTimeout(()=>{a._receivedResult||(a.cleanup(),a._reject?.("Capacitor browser closed by user"))},1e3)}),yield mi?.open({url:s.url,toolbarColor:a.params.mobileWindowToolbarColor,presentationStyle:a.params.mobileWindowPresentationStyle,width:a.params.mobileWindowWidth,height:a.params.mobileWindowWidth})})()}useBrowserTab(s){return(0,N.A)(function*(){})()}installCustomUrlSchemeHandler(){var s=this;return(0,N.A)(function*(){const a=s._logger.create("installCustomUrlSchemeHandler");s.timer=setTimeout(()=>{s.onError("Installing custom url scheme handler, timed out without a response")},1e4),yield s.cleanup(),ln.isCapacitor()?(a.debug("listening to Capacitor `appUrlOpen` event"),s.capacitorAppUrlOpenHandle=yield Ju?.addListener?.("appUrlOpen",({url:u})=>{ln.isUrlMatching(u,s.redirectUrl)&&s.onSuccess(u)})):ln.isCordova()&&(a.debug("waiting for Cordova `handleOpenURL` callback"),window.handleOpenURL=u=>{s.originalHandleOpenURL?.(u),ln.isUrlMatching(u,s.redirectUrl)&&s.onSuccess(u)}),a.debug("success")})()}}class gg{constructor(){this._logger=new st("MobileNavigator")}prepare(s,a){return this._logger.create("prepare"),new pg(s,a)}}class mg extends Bf{#e;constructor(s){super({authority:s.authorityUrl,client_id:s.clientId,scope:s.scope,loadUserInfo:s.loadUserInfo,automaticSilentRenew:s.automaticSilentRenew,...s.internal}),this.libSettings=s,this.#e=new gg}signoutMobile(s={}){var a=this;return(0,N.A)(function*(){const u=a._logger.create("signout"),{mobileWindowToolbarColor:m,mobileWindowPresentationStyle:E,mobileWindowWidth:T,mobileWindowHeight:x,...V}=s,fe=a.#e.prepare(a.settings.post_logout_redirect_uri,{mobileWindowToolbarColor:m??a.libSettings.internal?.mobileWindowToolbarColor,mobileWindowPresentationStyle:E??a.libSettings.internal?.mobileWindowPresentationStyle,mobileWindowWidth:T??a.libSettings.internal?.mobileWindowWidth,mobileWindowHeight:x??a.libSettings.internal?.mobileWindowHeight});yield a._signout({request_type:"so:m",post_logout_redirect_uri:a.settings.post_logout_redirect_uri,...V},fe),u.info("success")})()}signinMobile(s={}){var a=this;return(0,N.A)(function*(){const u=a._logger.create("signin"),{mobileWindowToolbarColor:m,mobileWindowPresentationStyle:E,mobileWindowWidth:T,mobileWindowHeight:x,...V}=s,fe=a.#e.prepare(a.settings.redirect_uri,{mobileWindowToolbarColor:m??a.libSettings.internal?.mobileWindowToolbarColor,mobileWindowPresentationStyle:E??a.libSettings.internal?.mobileWindowPresentationStyle,mobileWindowWidth:T??a.libSettings.internal?.mobileWindowWidth,mobileWindowHeight:x??a.libSettings.internal?.mobileWindowHeight}),ve=yield a._signin({request_type:"si:m",redirect_uri:a.settings.redirect_uri,...V},fe);ve?.profile?.sub?u.info("success, signed in subject",ve.profile.sub):u.info("no subject")})()}}const Ps="auth-js:oidc_manager:redirect_url",Qi={loginRequired:!1,retrieveUserSession:!0,loadUserInfo:!1,automaticSilentRenew:!0,desktopNavigationType:Or.REDIRECT,scope:"openid profile email phone",logLevel:qn.NONE,internal:{response_type:"code",redirect_uri:"?oidc-callback=login",post_logout_redirect_uri:"?oidc-callback=logout",popup_redirect_uri:"oidc/callback/popup_redirect.html",popup_post_logout_redirect_uri:"oidc/callback/popup_redirect.html",silent_redirect_uri:"oidc/callback/silent_redirect.html",mobileWindowPresentationStyle:"popover"}};class Wf extends Ca{#e=new rn;#t=new rn;#n=new rn;#i=new rn;#s=new rn;#a=new rn;#l=new rn;#d=[];#c;#u;#h;#g;#p=!1;#_=!1;#o;#r=Qi;#w;set user(s){this.#w!==s&&(this.#w=s,this.#c=s?s.id_token:void 0,this.#u=s?s.access_token:void 0,this.#h=s?.profile?s.profile:void 0,this.#g=s?Zu.deserialize(s):void 0,this.#p=!(!s||s.expired),this.#e.notify(this.#c),this.#t.notify(this.#u),this.#n.notify(this.#h),this.#i.notify(this.#g),this.#s.notify(this.#p))}init(s){var a=this;return(0,N.A)(function*(){qn.setLevel(s.logLevel??Qi.logLevel??qn.NONE),qn.setLogger(console);const u=ln.isNativeMobile(),m=u?`${s.mobileScheme}://localhost/`:ln.getBaseUrl();if(a.#r=Fu({},Qi,{internal:{userStore:new wa({store:u?new Hf:new Os}),redirect_uri:`${m}${Qi.internal?.redirect_uri}`,post_logout_redirect_uri:`${m}${Qi.internal?.post_logout_redirect_uri}`,popup_redirect_uri:`${m}${Qi.internal?.popup_redirect_uri}`,popup_post_logout_redirect_uri:`${m}${Qi.internal?.popup_post_logout_redirect_uri}`,silent_redirect_uri:`${m}${Qi.internal?.silent_redirect_uri}`}},s),a.#o=new mg(a.#r),a.#d.push(a.#o.events.addUserLoaded(E=>{a.user=E}),a.#o.events.addUserUnloaded(()=>{a.#w&&(a.user=null,a.#r.loginRequired&&location.reload())}),a.#o.events.addSilentRenewError((0,N.A)(function*(){yield a.#y()}))),a.#S(),ln.isUrlMatching(location.href,a.#r.internal?.redirect_uri))yield a.#D((0,N.A)(function*(){const E=sessionStorage.getItem(Ps);yield a.#C(()=>a.#o.signinRedirectCallback(location.href),E),sessionStorage.removeItem(Ps)}));else if(ln.isUrlMatching(location.href,a.#r.internal?.post_logout_redirect_uri))yield a.#D((0,N.A)(function*(){const E=sessionStorage.getItem(Ps);yield a.#b(()=>a.#o.signoutRedirectCallback(location.href),E),sessionStorage.removeItem(Ps)}));else if(a.#r.retrieveUserSession||a.#r.loginRequired){const E=function(){var x=(0,N.A)(function*(){yield a.#D(()=>a.#E().catch(function(){var V=(0,N.A)(function*(z){const{error:fe,message:ve}=z;if(a.#r.loginRequired&&(fe?.includes("_required")||ve?.includes("_required")))yield a.login();else if(console.error("[OIDCAuthManager] User's session cannot be retrieved:",z.message),a.#s.notify(!1),a.#r.loginRequired)throw z});return function(z){return V.apply(this,arguments)}}()))});return function(){return x.apply(this,arguments)}}(),T=yield a.#o?.getUser();!T||T.expired?!u&&a.#r.retrieveUserSession?yield E():a.#r.loginRequired?yield a.login():a.user=null:a.user=T}else a.user=null})()}logout(s){var a=this;return(0,N.A)(function*(){const u=s?.redirectUrl??location.href;ln.isNativeMobile()?yield a.#b(()=>a.#o.signoutMobile(s),u):(s?.desktopNavigationType??a.#r.desktopNavigationType)===Or.POPUP?yield a.#b(()=>a.#o.signoutPopup(s),u):(sessionStorage.setItem(Ps,u),yield a.#o?.signoutRedirect(s))})()}login(s){var a=this;return(0,N.A)(function*(){const u=s?.redirectUrl??location.href;return ln.isNativeMobile()?yield a.#C(()=>a.#o.signinMobile(s),u):(s?.desktopNavigationType??a.#r.desktopNavigationType)===Or.POPUP?yield a.#C(()=>a.#o.signinPopup(s),u):(sessionStorage.setItem(Ps,u),yield a.#o?.signinRedirect(s)),a.#p})()}renew(s){var a=this;return(0,N.A)(function*(){return a.#E(s).catch(u=>console.error(u))})()}getSettings(){return this.#r}isRenewing(){return this.#_}isAuthenticated(){var s=this;return(0,N.A)(function*(){return yield s.#f("isAuthenticated()"),s.#p})()}getUserProfile(){var s=this;return(0,N.A)(function*(){return yield s.#f("getUserProfile()"),s.#h})()}getUserSession(){var s=this;return(0,N.A)(function*(){return yield s.#f("getUserSession()"),s.#g})()}getIdToken(){var s=this;return(0,N.A)(function*(){return yield s.#f("getIdToken()"),s.#c})()}getIdTokenDecoded(){var s=this;return(0,N.A)(function*(){return yield s.#f("getIdTokenDecoded()"),ln.decodeJwt(s.#c)})()}getAccessToken(){var s=this;return(0,N.A)(function*(){return yield s.#f("getAccessToken()"),s.#u})()}getAccessTokenDecoded(){var s=this;return(0,N.A)(function*(){return yield s.#f("getAccessTokenDecoded()"),ln.decodeJwt(s.#u)})()}destroy(){this.#e.unsubscribe(),this.#t.unsubscribe(),this.#n.unsubscribe(),this.#i.unsubscribe(),this.#s.unsubscribe(),this.#a.unsubscribe(),this.#l.unsubscribe(),this.#d.forEach(s=>s())}onIdTokenChanged(s){return this.#e.add(s)}onAccessTokenChanged(s){return this.#t.add(s)}onUserProfileChanged(s){return this.#n.add(s)}onUserSessionChanged(s){return this.#i.add(s)}onAuthenticatedChanged(s){return this.#s.add(s)}onRenewingChanged(s){return this.#a.add(s)}onRedirect(s){return this.#l.add(s)}#S(){[this.#r.internal?.silent_redirect_uri,this.#r.internal?.popup_redirect_uri].forEach(s=>{const a=new RegExp(/^.*\/(.*).html$/gm).exec(s??"")?.[1],u=new Error(`[OIDCAuthManager] ${s??"redirect uri"} was not found.`);if(u.stack=void 0,ln.isUrlMatching(location.href,s))throw u.message+="\n\n\u24d8 This usually means you forgot to include the redirect html files in your application assets.",u;if(location.href.includes(`/${a}.html`))throw u.message+="\n\n\u24d8 This usually means your redirect urls are misconfigured.",u})}#f(s){var a=this;return(0,N.A)(function*(){const u=Date.now();for(;a.#_;){if(Date.now()>u+5e3){console.warn("[@badisi/auth-js]",`\`${s}\``,"timed out waiting for renew to finish.");break}yield new Promise(m=>setTimeout(m,100))}})()}#I(s){const a=ln.stringToURL(s??"/");this.#r.loginRequired&&location.origin===a.origin&&location.reload()}#m(s){this.#_=s,this.#a.notify(s)}#D(s){var a=this;return(0,N.A)(function*(){a.#r.loginRequired?yield s():s()})()}#v(s,a){var u=this;return(0,N.A)(function*(){a&&(console.error(a),yield u.#y());const m=ln.stringToURL(s??"/");location.origin===m.origin?(history.replaceState(history.state,"",m.href),u.#l.notify(m)):location.href=m.href})()}#y(){var s=this;return(0,N.A)(function*(){s.user=null,yield Promise.all([s.#o?.clearStaleState(),s.#o?.removeUser()])})()}#E(s){var a=this;return(0,N.A)(function*(){a.#m(!0);try{yield a.#o?.signinSilent(s)}catch(u){throw yield a.#y(),u}finally{a.#m(!1)}})()}#C(s,a){var u=this;return(0,N.A)(function*(){try{u.#m(!0),yield s().catch(m=>{throw"Attempted to navigate on a disposed window"===m?.message&&((m=new Error("[OIDCAuthManager] Attempted to navigate on a disposed window.")).stack=void 0,m.message+="\n\n\u24d8 This may be due to an ad blocker."),m}),yield u.#v(a)}catch(m){throw yield u.#v("/",m),m}finally{u.#m(!1)}})()}#b(s,a){var u=this;return(0,N.A)(function*(){try{yield s().catch(m=>{throw"Attempted to navigate on a disposed window"===m?.message&&((m=new Error("[OIDCAuthManager] Attempted to navigate on a disposed window.")).stack=void 0,m.message+="\n\n\u24d8 This may be due to an ad blocker."),m}),yield u.#v(a),yield u.#y()}catch(m){throw a="/",yield u.#v(a,m),m}finally{u.#I(a)}})()}}const vg=function(){var i=(0,N.A)(function*(s){return yield nr(s,Wf)});return function(a){return i.apply(this,arguments)}}(),yg={automaticLoginOn401:!0,automaticInjectToken:{include:i=>{const s=new URL(i,"http://default-base");return s.hostname.startsWith("api")||s.pathname.startsWith("/api")||!1}}},_g=new w.nKC("AUTH_MANAGER"),Gf=function(){var i=(0,N.A)(function*(s){return{provide:_g,useValue:yield vg({...yg,...s}),multi:!1}});return function(a){return i.apply(this,arguments)}}();let bc=(()=>{class i{#e;#t;#n;#i;#s;#a;#l;#d;#c;#u;constructor(){this.#e=(0,w.WQX)(_g),this.#t=(0,w.WQX)(w.SKi),this.#n=(0,w.WQX)(Ke.Ix),this.#i=new Pr(1),this.#s=new Pr(1),this.#a=new Pr(1),this.#l=new Pr(1),this.#d=new Pr(1),this.#c=new Pr(1),this.#u=[],this.isRenewing$=this.#c.asObservable().pipe(cr()),this.isAuthenticated$=this.#d.asObservable().pipe(cr()),this.userProfile$=this.#a.asObservable().pipe(cr()),this.userSession$=this.#l.asObservable().pipe(cr()),this.idToken$=this.#i.asObservable().pipe(cr()),this.idTokenDecoded$=this.#i.asObservable().pipe(cr(),(0,ge.T)(a=>ln.decodeJwt(a))),this.accessToken$=this.#s.asObservable().pipe(cr()),this.accessTokenDecoded$=this.#s.asObservable().pipe(cr(),(0,ge.T)(a=>ln.decodeJwt(a))),this.#h()}ngOnDestroy(){this.#u.forEach(a=>a.unsubscribe())}login(a){var u=this;return(0,N.A)(function*(){return u.#e.login(a)})()}logout(a){var u=this;return(0,N.A)(function*(){return u.#e.logout(a)})()}renew(a){var u=this;return(0,N.A)(function*(){return u.#e.renew(a)})()}getSettings(){return this.#e.getSettings()}isRenewing(){return this.#e.isRenewing()}isAuthenticated(){var a=this;return(0,N.A)(function*(){return a.#e.isAuthenticated()})()}getUserProfile(){var a=this;return(0,N.A)(function*(){return a.#e.getUserProfile()})()}getUserSession(){var a=this;return(0,N.A)(function*(){return a.#e.getUserSession()})()}getIdToken(){var a=this;return(0,N.A)(function*(){return a.#e.getIdToken()})()}getIdTokenDecoded(){var a=this;return(0,N.A)(function*(){return a.#e.getIdTokenDecoded()})()}getAccessToken(){var a=this;return(0,N.A)(function*(){return a.#e.getAccessToken()})()}getAccessTokenDecoded(){var a=this;return(0,N.A)(function*(){return a.#e.getAccessTokenDecoded()})()}#h(){this.#u.push(this.#e.onIdTokenChanged(a=>this.#t.run(()=>this.#i.next(a))),this.#e.onAccessTokenChanged(a=>this.#t.run(()=>this.#s.next(a))),this.#e.onUserProfileChanged(a=>this.#t.run(()=>this.#a.next(a))),this.#e.onUserSessionChanged(a=>this.#t.run(()=>this.#l.next(a))),this.#e.onAuthenticatedChanged(a=>this.#t.run(()=>this.#d.next(a))),this.#e.onRenewingChanged(a=>this.#t.run(()=>this.#c.next(a))),this.#e.onRedirect(a=>{this.#n.getCurrentNavigation()||this.#t.run(()=>{const u=a.href.replace(ln.getBaseUrl(),"");this.#n.navigateByUrl(u)})}))}static#g=this.\u0275fac=function(u){return new(u||i)};static#p=this.\u0275prov=w.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const jr=(i,s)=>{const u=(fe,ve)=>{const Oe=(fe=>{try{return new URL(fe).href}catch{return new URL(`${location.origin}${fe.startsWith("/")?"":"/"}${fe}`).href}})(fe);if("function"==typeof ve)return ve(Oe);if("string"==typeof ve){const _t=ve.replace(/\//g,"\\/").replace(/\./g,"\\.").replace(/\*\*/g,"*").replace(/\*/g,".*");return null!==new RegExp(_t).exec(Oe)}return null!==ve.exec(Oe)},T=(0,w.WQX)(bc),x=T.getSettings(),V=x?.automaticLoginOn401??!1;return(fe=T,ve=i,Oe=x?.automaticInjectToken??!1,fe.accessToken$.pipe((0,qr.s)(1),(0,ge.T)(_t=>{if(!1!==Oe&&_t&&((fe,ve)=>{let Oe=!1;if("boolean"==typeof ve)Oe=ve;else{const{include:_t,exclude:Dt}=ve??{};Array.isArray(_t)?Oe=_t.some(ht=>u(fe.url,ht)):_t&&(Oe=u(fe.url,_t)),Array.isArray(Dt)?Dt.some(ht=>u(fe.url,ht))&&(Oe=!1):Dt&&u(fe.url,Dt)&&(Oe=!1)}return Oe})(ve,Oe)){const Dt=ve.headers?ve.headers:new Se;return ve.clone({headers:Dt.append("Authorization",`Bearer ${_t}`)})}return ve}))).pipe((0,Z.n)(fe=>s(fe)),(0,Ro.W)(fe=>(V&&401===fe.status&&T.login(),(0,Ii.$)(()=>fe))));var fe,ve,Oe};var zf=O(4402),vy=O(3073),Yu=O(8750),vi=O(3794),qf=O(6450),Ea=O(8496);function Kf(...i){const s=(0,vi.ms)(i),{args:a,keys:u}=(0,vy.D)(i),m=new Q.c(E=>{const{length:T}=a;if(!T)return void E.complete();const x=new Array(T);let V=T,z=T;for(let fe=0;fe<T;fe++){let ve=!1;(0,Yu.Tg)(a[fe]).subscribe((0,Mi._)(E,Oe=>{ve||(ve=!0,z--),x[fe]=Oe},()=>V--,void 0,()=>{(!V||!ve)&&(z||E.next(u?(0,Ea.e)(u,x):x),E.complete())}))}});return s?m.pipe((0,qf.I)(s)):m}let ks=(()=>{class i{#e=(0,w.WQX)(bc);#t=(0,w.WQX)(Ke.Ix);canLoad(a){const u=this.#t.getCurrentNavigation()?.extractedUrl?.toString();return this.#a(a.data,u)}canActivate(a,u){return this.#a(a.data,u.url)}canActivateChild(a,u){return this.#a(a.data,u.url)}isAuthorized(){return!0}#n(a){return!(!a?.then||"function"!=typeof a.then)}#i(a){const u=E=>"boolean"==typeof E?(0,j.of)(E):(0,zf.A)(E)?E:this.#n(E)?(0,De.H)(E):(0,j.of)(!1),m=a?.authGuardValidator;return"function"==typeof m?Kf({userProfile:this.#e.userProfile$.pipe((0,qr.s)(1)),accessToken:this.#e.accessTokenDecoded$.pipe((0,qr.s)(1))}).pipe((0,Z.n)(({userProfile:E,accessToken:T})=>u(m(E,T)))):m?(console.error("authGuardValidator must be a function"),(0,j.of)(!1)):u(this.isAuthorized())}#s(a=location.href){return this.#e.isAuthenticated$.pipe((0,qr.s)(1),(0,Z.n)(u=>u?(0,j.of)(u):(0,De.H)(this.#e.login({redirectUrl:a})).pipe((0,Ro.W)(()=>(0,j.of)(!1)))))}#a(a,u=location.href){return this.#s(u).pipe((0,Z.n)(m=>m?this.#i(a):(0,j.of)(!1)),(0,ge.T)(m=>{if(!m){const E=a?.authGuardRedirectUrl||this.#e.getSettings()?.authGuardRedirectUrl;return this.#t.parseUrl(E||this.#t.url)}return!0}))}static#l=this.\u0275fac=function(u){return new(u||i)};static#d=this.\u0275prov=w.jDH({token:i,factory:i.\u0275fac})}return i})(),yy=(()=>{class i{static#e=this.\u0275fac=function(u){return new(u||i)};static#t=this.\u0275cmp=w.VBU({type:i,selectors:[["app-root"]],standalone:!0,features:[w.aNF],decls:1,vars:0,template:function(u,m){1&u&&w.nrm(0,"router-outlet")},dependencies:[Ke.n3],encapsulation:2})}return i})(),wg=(()=>{class i{constructor(a,u){this._renderer=a,this._elementRef=u,this.onChange=m=>{},this.onTouched=()=>{}}setProperty(a,u){this._renderer.setProperty(this._elementRef.nativeElement,a,u)}registerOnTouched(a){this.onTouched=a}registerOnChange(a){this.onChange=a}setDisabledState(a){this.setProperty("disabled",a)}static#e=this.\u0275fac=function(u){return new(u||i)(w.rXU(w.sFG),w.rXU(w.aKT))};static#t=this.\u0275dir=w.FsC({type:i})}return i})(),Sa=(()=>{class i extends wg{static#e=this.\u0275fac=(()=>{let a;return function(m){return(a||(a=w.xGo(i)))(m||i)}})();static#t=this.\u0275dir=w.FsC({type:i,features:[w.Vt3]})}return i})();const yi=new w.nKC(""),wl={provide:yi,useExisting:(0,w.Rfq)(()=>Ia),multi:!0},Cg=new w.nKC("");let Ia=(()=>{class i extends wg{constructor(a,u,m){super(a,u),this._compositionMode=m,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Qf(){const i=(0,se.QT)()?(0,se.QT)().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}())}writeValue(a){this.setProperty("value",a??"")}_handleInput(a){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(a)}_compositionStart(){this._composing=!0}_compositionEnd(a){this._composing=!1,this._compositionMode&&this.onChange(a)}static#e=this.\u0275fac=function(u){return new(u||i)(w.rXU(w.sFG),w.rXU(w.aKT),w.rXU(Cg,8))};static#t=this.\u0275dir=w.FsC({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(u,m){1&u&&w.bIt("input",function(T){return m._handleInput(T.target.value)})("blur",function(){return m.onTouched()})("compositionstart",function(){return m._compositionStart()})("compositionend",function(T){return m._compositionEnd(T.target.value)})},features:[w.Jv_([wl]),w.Vt3]})}return i})();const Vn=new w.nKC(""),oo=new w.nKC("");function th(i){return null!=i}function mr(i){return(0,w.jNT)(i)?(0,De.H)(i):i}function Ic(i){let s={};return i.forEach(a=>{s=null!=a?{...s,...a}:s}),0===Object.keys(s).length?null:s}function nd(i,s){return s.map(a=>a(i))}function Xn(i){return i.map(s=>function rd(i){return!i.validate}(s)?s:a=>s.validate(a))}function Mc(i){return null!=i?function Ma(i){if(!i)return null;const s=i.filter(th);return 0==s.length?null:function(a){return Ic(nd(a,s))}}(Xn(i)):null}function id(i){return null!=i?function od(i){if(!i)return null;const s=i.filter(th);return 0==s.length?null:function(a){return Kf(nd(a,s).map(mr)).pipe((0,ge.T)(Ic))}}(Xn(i)):null}function sd(i,s){return null===i?[s]:Array.isArray(i)?[...i,s]:[i,s]}function ld(i){return i?Array.isArray(i)?i:[i]:[]}function bl(i,s){return Array.isArray(i)?i.includes(s):i===s}function rh(i,s){const a=ld(s);return ld(i).forEach(m=>{bl(a,m)||a.push(m)}),a}function oh(i,s){return ld(s).filter(a=>!bl(i,a))}class ih{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(s){this._rawValidators=s||[],this._composedValidatorFn=Mc(this._rawValidators)}_setAsyncValidators(s){this._rawAsyncValidators=s||[],this._composedAsyncValidatorFn=id(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(s){this._onDestroyCallbacks.push(s)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(s=>s()),this._onDestroyCallbacks=[]}reset(s=void 0){this.control&&this.control.reset(s)}hasError(s,a){return!!this.control&&this.control.hasError(s,a)}getError(s,a){return this.control?this.control.getError(s,a):null}}class vr extends ih{get formDirective(){return null}get path(){return null}}class _i extends ih{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class cd{constructor(s){this._cd=s}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let dd=(()=>{class i extends cd{constructor(a){super(a)}static#e=this.\u0275fac=function(u){return new(u||i)(w.rXU(_i,2))};static#t=this.\u0275dir=w.FsC({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(u,m){2&u&&w.AVh("ng-untouched",m.isUntouched)("ng-touched",m.isTouched)("ng-pristine",m.isPristine)("ng-dirty",m.isDirty)("ng-valid",m.isValid)("ng-invalid",m.isInvalid)("ng-pending",m.isPending)},features:[w.Vt3]})}return i})();const Ta="VALID",Ac="INVALID",Vs="PENDING",Us="DISABLED";function Rc(i){return null!=i&&!Array.isArray(i)&&"object"==typeof i}class Aa{constructor(s,a){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(s),this._assignAsyncValidators(a)}get validator(){return this._composedValidatorFn}set validator(s){this._rawValidators=this._composedValidatorFn=s}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(s){this._rawAsyncValidators=this._composedAsyncValidatorFn=s}get parent(){return this._parent}get valid(){return this.status===Ta}get invalid(){return this.status===Ac}get pending(){return this.status==Vs}get disabled(){return this.status===Us}get enabled(){return this.status!==Us}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(s){this._assignValidators(s)}setAsyncValidators(s){this._assignAsyncValidators(s)}addValidators(s){this.setValidators(rh(s,this._rawValidators))}addAsyncValidators(s){this.setAsyncValidators(rh(s,this._rawAsyncValidators))}removeValidators(s){this.setValidators(oh(s,this._rawValidators))}removeAsyncValidators(s){this.setAsyncValidators(oh(s,this._rawAsyncValidators))}hasValidator(s){return bl(this._rawValidators,s)}hasAsyncValidator(s){return bl(this._rawAsyncValidators,s)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(s={}){this.touched=!0,this._parent&&!s.onlySelf&&this._parent.markAsTouched(s)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(s=>s.markAllAsTouched())}markAsUntouched(s={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(a=>{a.markAsUntouched({onlySelf:!0})}),this._parent&&!s.onlySelf&&this._parent._updateTouched(s)}markAsDirty(s={}){this.pristine=!1,this._parent&&!s.onlySelf&&this._parent.markAsDirty(s)}markAsPristine(s={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(a=>{a.markAsPristine({onlySelf:!0})}),this._parent&&!s.onlySelf&&this._parent._updatePristine(s)}markAsPending(s={}){this.status=Vs,!1!==s.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!s.onlySelf&&this._parent.markAsPending(s)}disable(s={}){const a=this._parentMarkedDirty(s.onlySelf);this.status=Us,this.errors=null,this._forEachChild(u=>{u.disable({...s,onlySelf:!0})}),this._updateValue(),!1!==s.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...s,skipPristineCheck:a}),this._onDisabledChange.forEach(u=>u(!0))}enable(s={}){const a=this._parentMarkedDirty(s.onlySelf);this.status=Ta,this._forEachChild(u=>{u.enable({...s,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:s.emitEvent}),this._updateAncestors({...s,skipPristineCheck:a}),this._onDisabledChange.forEach(u=>u(!1))}_updateAncestors(s){this._parent&&!s.onlySelf&&(this._parent.updateValueAndValidity(s),s.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(s){this._parent=s}getRawValue(){return this.value}updateValueAndValidity(s={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ta||this.status===Vs)&&this._runAsyncValidator(s.emitEvent)),!1!==s.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!s.onlySelf&&this._parent.updateValueAndValidity(s)}_updateTreeValidity(s={emitEvent:!0}){this._forEachChild(a=>a._updateTreeValidity(s)),this.updateValueAndValidity({onlySelf:!0,emitEvent:s.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Us:Ta}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(s){if(this.asyncValidator){this.status=Vs,this._hasOwnPendingAsyncValidator=!0;const a=mr(this.asyncValidator(this));this._asyncValidationSubscription=a.subscribe(u=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(u,{emitEvent:s})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(s,a={}){this.errors=s,this._updateControlsErrors(!1!==a.emitEvent)}get(s){let a=s;return null==a||(Array.isArray(a)||(a=a.split(".")),0===a.length)?null:a.reduce((u,m)=>u&&u._find(m),this)}getError(s,a){const u=a?this.get(a):this;return u&&u.errors?u.errors[s]:null}hasError(s,a){return!!this.getError(s,a)}get root(){let s=this;for(;s._parent;)s=s._parent;return s}_updateControlsErrors(s){this.status=this._calculateStatus(),s&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(s)}_initObservables(){this.valueChanges=new w.bkB,this.statusChanges=new w.bkB}_calculateStatus(){return this._allControlsDisabled()?Us:this.errors?Ac:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Vs)?Vs:this._anyControlsHaveStatus(Ac)?Ac:Ta}_anyControlsHaveStatus(s){return this._anyControls(a=>a.status===s)}_anyControlsDirty(){return this._anyControls(s=>s.dirty)}_anyControlsTouched(){return this._anyControls(s=>s.touched)}_updatePristine(s={}){this.pristine=!this._anyControlsDirty(),this._parent&&!s.onlySelf&&this._parent._updatePristine(s)}_updateTouched(s={}){this.touched=this._anyControlsTouched(),this._parent&&!s.onlySelf&&this._parent._updateTouched(s)}_registerOnCollectionChange(s){this._onCollectionChange=s}_setUpdateStrategy(s){Rc(s)&&null!=s.updateOn&&(this._updateOn=s.updateOn)}_parentMarkedDirty(s){return!s&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(s){return null}_assignValidators(s){this._rawValidators=Array.isArray(s)?s.slice():s,this._composedValidatorFn=function by(i){return Array.isArray(i)?Mc(i):i||null}(this._rawValidators)}_assignAsyncValidators(s){this._rawAsyncValidators=Array.isArray(s)?s.slice():s,this._composedAsyncValidatorFn=function Ng(i){return Array.isArray(i)?id(i):i||null}(this._rawAsyncValidators)}}const Wo=new w.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>js}),js="always";function Bs(i,s,a=js){(function Il(i,s){const a=function nh(i){return i._rawValidators}(i);null!==s.validator?i.setValidators(sd(a,s.validator)):"function"==typeof a&&i.setValidators([a]);const u=function ad(i){return i._rawAsyncValidators}(i);null!==s.asyncValidator?i.setAsyncValidators(sd(u,s.asyncValidator)):"function"==typeof u&&i.setAsyncValidators([u]);const m=()=>i.updateValueAndValidity();Hs(s._rawValidators,m),Hs(s._rawAsyncValidators,m)})(i,s),s.valueAccessor.writeValue(i.value),(i.disabled||"always"===a)&&s.valueAccessor.setDisabledState?.(i.disabled),function Pg(i,s){s.valueAccessor.registerOnChange(a=>{i._pendingValue=a,i._pendingChange=!0,i._pendingDirty=!0,"change"===i.updateOn&&hh(i,s)})}(i,s),function kg(i,s){const a=(u,m)=>{s.valueAccessor.writeValue(u),m&&s.viewToModelUpdate(u)};i.registerOnChange(a),s._registerOnDestroy(()=>{i._unregisterOnChange(a)})}(i,s),function fh(i,s){s.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,"blur"===i.updateOn&&i._pendingChange&&hh(i,s),"submit"!==i.updateOn&&i.markAsTouched()})}(i,s),function Ey(i,s){if(s.valueAccessor.setDisabledState){const a=u=>{s.valueAccessor.setDisabledState(u)};i.registerOnDisabledChange(a),s._registerOnDestroy(()=>{i._unregisterOnDisabledChange(a)})}}(i,s)}function Hs(i,s){i.forEach(a=>{a.registerOnValidatorChange&&a.registerOnValidatorChange(s)})}function hh(i,s){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),s.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function xc(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}function Tl(i){return"object"==typeof i&&null!==i&&2===Object.keys(i).length&&"value"in i&&"disabled"in i}Promise.resolve();const Al=class extends Aa{constructor(s=null,a,u){super(function lh(i){return(Rc(i)?i.validators:i)||null}(a),function pd(i,s){return(Rc(s)?s.asyncValidators:i)||null}(u,a)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(s),this._setUpdateStrategy(a),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Rc(a)&&(a.nonNullable||a.initialValueIsDefault)&&(this.defaultValue=Tl(s)?s.value:s)}setValue(s,a={}){this.value=this._pendingValue=s,this._onChange.length&&!1!==a.emitModelToViewChange&&this._onChange.forEach(u=>u(this.value,!1!==a.emitViewToModelChange)),this.updateValueAndValidity(a)}patchValue(s,a={}){this.setValue(s,a)}reset(s=this.defaultValue,a={}){this._applyFormState(s),this.markAsPristine(a),this.markAsUntouched(a),this.setValue(this.value,a),this._pendingChange=!1}_updateValue(){}_anyControls(s){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(s){this._onChange.push(s)}_unregisterOnChange(s){xc(this._onChange,s)}registerOnDisabledChange(s){this._onDisabledChange.push(s)}_unregisterOnDisabledChange(s){xc(this._onDisabledChange,s)}_forEachChild(s){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(s){Tl(s)?(this.value=this._pendingValue=s.value,s.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=s}},Pc={provide:_i,useExisting:(0,w.Rfq)(()=>Fc)},kc=Promise.resolve();let Fc=(()=>{class i extends _i{constructor(a,u,m,E,T,x){super(),this._changeDetectorRef=T,this.callSetDisabledState=x,this.control=new Al,this._registered=!1,this.name="",this.update=new w.bkB,this._parent=a,this._setValidators(u),this._setAsyncValidators(m),this.valueAccessor=function Ws(i,s){if(!s)return null;let a,u,m;return Array.isArray(s),s.forEach(E=>{E.constructor===Ia?a=E:function Iy(i){return Object.getPrototypeOf(i.constructor)===Sa}(E)?u=E:m=E}),m||u||a||null}(0,E)}ngOnChanges(a){if(this._checkForErrors(),!this._registered||"name"in a){if(this._registered&&(this._checkName(),this.formDirective)){const u=a.name.previousValue;this.formDirective.removeControl({name:u,path:this._getPath(u)})}this._setUpControl()}"isDisabled"in a&&this._updateDisabled(a),function vd(i,s){if(!i.hasOwnProperty("model"))return!1;const a=i.model;return!!a.isFirstChange()||!Object.is(s,a.currentValue)}(a,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(a){this.viewModel=a,this.update.emit(a)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Bs(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(a){kc.then(()=>{this.control.setValue(a,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(a){const u=a.isDisabled.currentValue,m=0!==u&&(0,w.L39)(u);kc.then(()=>{m&&!this.control.disabled?this.control.disable():!m&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(a){return this._parent?function wi(i,s){return[...s.path,i]}(a,this._parent):[a]}static#e=this.\u0275fac=function(u){return new(u||i)(w.rXU(vr,9),w.rXU(Vn,10),w.rXU(oo,10),w.rXU(yi,10),w.rXU(w.gRc,8),w.rXU(Wo,8))};static#t=this.\u0275dir=w.FsC({type:i,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[w.Mj6.None,"disabled","isDisabled"],model:[w.Mj6.None,"ngModel","model"],options:[w.Mj6.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[w.Jv_([Pc]),w.Vt3,w.OA$]})}return i})(),om=(()=>{class i{static#e=this.\u0275fac=function(u){return new(u||i)};static#t=this.\u0275mod=w.$C({type:i});static#n=this.\u0275inj=w.G2t({})}return i})(),am=(()=>{class i{static withConfig(a){return{ngModule:i,providers:[{provide:Wo,useValue:a.callSetDisabledState??js}]}}static#e=this.\u0275fac=function(u){return new(u||i)};static#t=this.\u0275mod=w.$C({type:i});static#n=this.\u0275inj=w.G2t({imports:[om]})}return i})();typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"&&global;var xl=function(i){return i.Unimplemented="UNIMPLEMENTED",i.Unavailable="UNAVAILABLE",i}(xl||{});class Pl extends Error{constructor(s,a,u){super(s),this.message=s,this.code=a,this.data=u}}const By=i=>{var s,a,u,m,E;const T=i.CapacitorCustomPlatform||null,x=i.Capacitor||{},V=x.Plugins=x.Plugins||{},z=i.CapacitorPlatforms,ve=(null===(s=z?.currentPlatform)||void 0===s?void 0:s.getPlatform)||(()=>null!==T?T.name:(i=>{var s,a;return i?.androidBridge?"android":null!==(a=null===(s=i?.webkit)||void 0===s?void 0:s.messageHandlers)&&void 0!==a&&a.bridge?"ios":"web"})(i)),_t=(null===(a=z?.currentPlatform)||void 0===a?void 0:a.isNativePlatform)||(()=>"web"!==ve()),ht=(null===(u=z?.currentPlatform)||void 0===u?void 0:u.isPluginAvailable)||(Mt=>{const Wt=un.get(Mt);return!(!Wt?.platforms.has(ve())&&!$t(Mt))}),$t=(null===(m=z?.currentPlatform)||void 0===m?void 0:m.getPluginHeader)||(Mt=>{var Wt;return null===(Wt=x.PluginHeaders)||void 0===Wt?void 0:Wt.find(ao=>ao.name===Mt)}),un=new Map,Qn=(null===(E=z?.currentPlatform)||void 0===E?void 0:E.registerPlugin)||((Mt,Wt={})=>{const ao=un.get(Mt);if(ao)return console.warn(`Capacitor plugin "${Mt}" already registered. Cannot register plugins twice.`),ao.proxy;const zo=ve(),qo=$t(Mt);let So;const ka=function(){var In=(0,N.A)(function*(){return!So&&zo in Wt?So=So="function"==typeof Wt[zo]?yield Wt[zo]():Wt[zo]:null!==T&&!So&&"web"in Wt&&(So=So="function"==typeof Wt.web?yield Wt.web():Wt.web),So});return function(){return In.apply(this,arguments)}}(),ot=In=>{let yr;const Br=(...Hr)=>{const Ko=ka().then(_r=>{const ts=((In,yr)=>{var Br,Hr;if(!qo){if(In)return null===(Hr=In[yr])||void 0===Hr?void 0:Hr.bind(In);throw new Pl(`"${Mt}" plugin is not implemented on ${zo}`,xl.Unimplemented)}{const Ko=qo?.methods.find(_r=>yr===_r.name);if(Ko)return"promise"===Ko.rtype?_r=>x.nativePromise(Mt,yr.toString(),_r):(_r,ts)=>x.nativeCallback(Mt,yr.toString(),_r,ts);if(In)return null===(Br=In[yr])||void 0===Br?void 0:Br.bind(In)}})(_r,In);if(ts){const Fa=ts(...Hr);return yr=Fa?.remove,Fa}throw new Pl(`"${Mt}.${In}()" is not implemented on ${zo}`,xl.Unimplemented)});return"addListener"===In&&(Ko.remove=(0,N.A)(function*(){return yr()})),Ko};return Br.toString=()=>`${In.toString()}() { [capacitor code] }`,Object.defineProperty(Br,"name",{value:In,writable:!1,configurable:!1}),Br},Ul=ot("addListener"),jl=ot("removeListener"),es=(In,yr)=>{const Br=Ul({eventName:In},yr),Hr=function(){var _r=(0,N.A)(function*(){const ts=yield Br;jl({eventName:In,callbackId:ts},yr)});return function(){return _r.apply(this,arguments)}}(),Ko=new Promise(_r=>Br.then(()=>_r({remove:Hr})));return Ko.remove=(0,N.A)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield Hr()}),Ko},Od=new Proxy({},{get(In,yr){switch(yr){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return qo?es:Ul;case"removeListener":return jl;default:return ot(yr)}}});return V[Mt]=Od,un.set(Mt,{name:Mt,proxy:Od,platforms:new Set([...Object.keys(Wt),...qo?[zo]:[]])}),Od});return x.convertFileSrc||(x.convertFileSrc=Mt=>Mt),x.getPlatform=ve,x.handleError=Mt=>i.console.error(Mt),x.isNativePlatform=_t,x.isPluginAvailable=ht,x.pluginMethodNoop=(Mt,Wt,ao)=>Promise.reject(`${ao} does not have an implementation of "${Wt}".`),x.registerPlugin=Qn,x.Exception=Pl,x.DEBUG=!!x.DEBUG,x.isLoggingEnabled=!!x.isLoggingEnabled,x.platform=x.getPlatform(),x.isNative=x.isNativePlatform(),x},Bc=(i=>i.Capacitor=By(i))(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),cm=Bc.registerPlugin;class um{constructor(s){this.listeners={},this.windowListeners={},s&&(console.warn(`Capacitor WebPlugin "${s.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=s)}addListener(s,a){var u=this;this.listeners[s]||(this.listeners[s]=[]),this.listeners[s].push(a);const E=this.windowListeners[s];E&&!E.registered&&this.addWindowListener(E);const T=function(){var V=(0,N.A)(function*(){return u.removeListener(s,a)});return function(){return V.apply(this,arguments)}}(),x=Promise.resolve({remove:T});return Object.defineProperty(x,"remove",{value:(V=(0,N.A)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield T()}),function(){return V.apply(this,arguments)})}),x;var V}removeAllListeners(){var s=this;return(0,N.A)(function*(){s.listeners={};for(const a in s.windowListeners)s.removeWindowListener(s.windowListeners[a]);s.windowListeners={}})()}notifyListeners(s,a){const u=this.listeners[s];u&&u.forEach(m=>m(a))}hasListeners(s){return!!this.listeners[s].length}registerWindowListener(s,a){this.windowListeners[a]={registered:!1,windowEventName:s,pluginEventName:a,handler:u=>{this.notifyListeners(a,u)}}}unimplemented(s="not implemented"){return new Bc.Exception(s,xl.Unimplemented)}unavailable(s="not available"){return new Bc.Exception(s,xl.Unavailable)}removeListener(s,a){var u=this;return(0,N.A)(function*(){const m=u.listeners[s];if(!m)return;const E=m.indexOf(a);u.listeners[s].splice(E,1),u.listeners[s].length||u.removeWindowListener(u.windowListeners[s])})()}addWindowListener(s){window.addEventListener(s.windowEventName,s.handler),s.registered=!0}removeWindowListener(s){s&&(window.removeEventListener(s.windowEventName,s.handler),s.registered=!1)}}const kl=i=>encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),Fl=i=>i.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class Td extends um{getCookies(){return(0,N.A)(function*(){const s=document.cookie,a={};return s.split(";").forEach(u=>{if(u.length<=0)return;let[m,E]=u.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");m=Fl(m).trim(),E=Fl(E).trim(),a[m]=E}),a})()}setCookie(s){return(0,N.A)(function*(){try{const a=kl(s.key),u=kl(s.value),m=`; expires=${(s.expires||"").replace("expires=","")}`,E=(s.path||"/").replace("path=",""),T=null!=s.url&&s.url.length>0?`domain=${s.url}`:"";document.cookie=`${a}=${u||""}${m}; path=${E}; ${T};`}catch(a){return Promise.reject(a)}})()}deleteCookie(s){return(0,N.A)(function*(){try{document.cookie=`${s.key}=; Max-Age=0`}catch(a){return Promise.reject(a)}})()}clearCookies(){return(0,N.A)(function*(){try{const s=document.cookie.split(";")||[];for(const a of s)document.cookie=a.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(s){return Promise.reject(s)}})()}clearAllCookies(){var s=this;return(0,N.A)(function*(){try{yield s.clearCookies()}catch(a){return Promise.reject(a)}})()}}cm("CapacitorCookies",{web:()=>new Td});const Vh=function(){var i=(0,N.A)(function*(s){return new Promise((a,u)=>{const m=new FileReader;m.onload=()=>{const E=m.result;a(E.indexOf(",")>=0?E.split(",")[1]:E)},m.onerror=E=>u(E),m.readAsDataURL(s)})});return function(a){return i.apply(this,arguments)}}();class xa extends um{request(s){return(0,N.A)(function*(){const a=((i,s={})=>{const a=Object.assign({method:i.method||"GET",headers:i.headers},s),m=((i={})=>{const s=Object.keys(i);return Object.keys(i).map(m=>m.toLocaleLowerCase()).reduce((m,E,T)=>(m[E]=i[s[T]],m),{})})(i.headers)["content-type"]||"";if("string"==typeof i.data)a.body=i.data;else if(m.includes("application/x-www-form-urlencoded")){const E=new URLSearchParams;for(const[T,x]of Object.entries(i.data||{}))E.set(T,x);a.body=E.toString()}else if(m.includes("multipart/form-data")||i.data instanceof FormData){const E=new FormData;if(i.data instanceof FormData)i.data.forEach((x,V)=>{E.append(V,x)});else for(const x of Object.keys(i.data))E.append(x,i.data[x]);a.body=E;const T=new Headers(a.headers);T.delete("content-type"),a.headers=T}else(m.includes("application/json")||"object"==typeof i.data)&&(a.body=JSON.stringify(i.data));return a})(s,s.webFetchExtra),u=((i,s=!0)=>i?Object.entries(i).reduce((u,m)=>{const[E,T]=m;let x,V;return Array.isArray(T)?(V="",T.forEach(z=>{x=s?encodeURIComponent(z):z,V+=`${E}=${x}&`}),V.slice(0,-1)):(x=s?encodeURIComponent(T):T,V=`${E}=${x}`),`${u}&${V}`},"").substr(1):null)(s.params,s.shouldEncodeUrlParams),m=u?`${s.url}?${u}`:s.url,E=yield fetch(m,a),T=E.headers.get("content-type")||"";let V,z,{responseType:x="text"}=E.ok?s:{};switch(T.includes("application/json")&&(x="json"),x){case"arraybuffer":case"blob":z=yield E.blob(),V=yield Vh(z);break;case"json":V=yield E.json();break;default:V=yield E.text()}const fe={};return E.headers.forEach((ve,Oe)=>{fe[Oe]=ve}),{data:V,headers:fe,status:E.status,url:E.url}})()}get(s){var a=this;return(0,N.A)(function*(){return a.request(Object.assign(Object.assign({},s),{method:"GET"}))})()}post(s){var a=this;return(0,N.A)(function*(){return a.request(Object.assign(Object.assign({},s),{method:"POST"}))})()}put(s){var a=this;return(0,N.A)(function*(){return a.request(Object.assign(Object.assign({},s),{method:"PUT"}))})()}patch(s){var a=this;return(0,N.A)(function*(){return a.request(Object.assign(Object.assign({},s),{method:"PATCH"}))})()}delete(s){var a=this;return(0,N.A)(function*(){return a.request(Object.assign(Object.assign({},s),{method:"DELETE"}))})()}}cm("CapacitorHttp",{web:()=>new xa});const so='\n    .flex {\n        flex: 1;\n    }\n\n    .hidden {\n        display: none !important;\n    }\n\n    .row {\n        display: flex;\n        flex-direction: row;\n    }\n\n    .column {\n        display: flex;\n        flex-direction: column;\n    }\n\n    .card {\n        border: 1px solid rgba(0, 0, 0, 0.12);\n        border-radius: 4px;\n        background-color: white;\n        margin: 12px 6px;\n    }\n\n    .card .card-status {\n        display: block;\n        width: 10px;\n        height: 10px;\n        border-radius: 50%;\n        margin-left: 8px;\n        background-color: #f2f2f2;\n    }\n    .card .card-status.error {\n        background-color: #ef5350;\n    }\n    .card .card-status.success {\n        background-color: #66bb6a;\n    }\n\n    .card .card-title {\n        padding: 16px;\n        font-size: 20px;\n        font-weight: 500;\n        color: rgba(0, 0, 0, 0.87);\n        align-items: center;\n    }\n\n    .card .box {\n        height: 200px;\n        border-top: 1px solid lightgray;\n        word-break: break-all;\n        overflow: auto;\n        background-color: #f2f2f2;\n        padding: 12px;\n    }\n    .card .box pre {\n        margin: 0;\n    }\n\n    .card .card-actions {\n        padding: 0 14px 8px 14px;\n        min-height: 50px;\n    }\n    .card .card-actions .input {\n        display: flex;\n        align-items: center;\n    }\n    .card .card-actions .input:not(:last-child) {\n        margin-bottom: 8px;\n    }\n    .card .card-actions .input label {\n        width: 125px;\n        text-align: right;\n        margin-right: 14px;\n    }\n    .card .card-actions .input input {\n        padding: 4px;\n    }\n\n    .json-key {\n        color: rgb(124, 77, 255);\n    }\n\n    .json-value {\n        color: rgb(67, 122, 237);\n    }\n\n    .json-string {\n        color: rgb(83, 160, 83);\n    }\n\n    .json-date {\n        color: rgb(200, 56, 198);\n    }\n\n    input {\n        color: #5e35b1;\n        padding: 10px;\n        border: 1px solid #0000001f;\n        border-radius: 4px;\n        font-size: 14px;\n    }\n\n    input:invalid {\n        border-color: #f44336;\n    }\n\n    input[type="checkbox"] {\n        margin-right: 10px;\n    }\n\n    select {\n        color: #5e35b1;\n        padding: 8px 6px;\n        border: 1px solid #0000001f;\n        border-radius: 4px;\n    }\n\n    @media only screen and (max-width: 600px) {\n        :host {\n            padding: 0 !important;\n            padding-bottom: 24px !important;\n        }\n\n        :host .card {\n            border-left: 0;\n            border-right: 0;\n            border-radius: 0;\n            margin: 0;\n            margin-bottom: 6px;\n        }\n    }\n',Pa=(i,s=[])=>i?JSON.stringify(i,null,2).replace(/&/g,"&amp;").replace(/\\"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/^( *)("[\w-]+": )?("[^"]*"|[\w.+-]*)?([,[{])?$/gm,(m,E,T,x,V)=>{let z=E||"";const fe=T?T.replace(/[": ]/g,""):void 0;if(fe&&(z+=`<span class="json-key">${fe}</span>: `),x&&(z+=`<span class="${x.startsWith('"')?"json-string":"json-value"}">${x}</span>`,fe&&s.includes(fe))){const ve=new Date(1e3*Number(x)),Oe=`${ve.toDateString()}, ${ve.toLocaleTimeString()}`;Oe&&(z+=` <span class="json-date">(${Oe})</span>`)}return z+(V||"")}):"",pm=document.createElement("template");pm.innerHTML=`\n    <style>\n        ${so}\n\n        :host header {\n            z-index: 1;\n            position: fixed;\n            top: 0;\n            left: 0;\n            right: 0;\n            padding-top: calc(0px + var(--safe-area-inset-top));\n            align-items: center;\n            height: 130px;\n            color: white;\n            background: rgb(103, 58, 183);\n            background: linear-gradient(180deg, rgba(103, 58, 183, 1) 0%, rgba(94, 53, 177, 1) 100%);\n        }\n\n        :host header .github-icon {\n            position: absolute;\n            top: calc(20px + var(--safe-area-inset-top));\n            right: 34px;\n            width: 26px;\n            height: 26px;\n            color: white;\n        }\n\n        @keyframes statusLoadingAnimation {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n        }\n\n        :host header .status.loading {\n            background: none;\n        }\n\n        :host header .status.loading:after {\n            display: block;\n            content: " ";\n            width: 11px;\n            height: 11px;\n            border-radius: 50%;\n            border: 2px solid #fff;\n            border-color: #fff transparent #fff transparent;\n            animation: statusLoadingAnimation 1.2s linear infinite;\n        }\n\n        :host header .status.not-authenticated {\n            background-color: #EC407A;\n        }\n\n        :host header .status.authenticated {\n            background-color: #7CB342;\n        }\n\n        :host header .status {\n            position: absolute;\n            top: calc(25px + var(--safe-area-inset-top));\n            right: 70px;\n            width: 15px;\n            height: 15px;\n            z-index: 1;\n            border-radius: 50%;\n            margin-top: 1px;\n            margin-right: 8px;\n        }\n\n        :host header .version {\n            position: absolute;\n            bottom: 13px;\n        }\n\n        :host header .version a {\n            font-size: 13px;\n            font-weight: 300;\n            font-style: italic;\n            text-decoration: none;\n            color: #bda9e1;\n        }\n\n        :host header .version a:hover {\n            text-decoration: underline;\n        }\n\n        :host header .title {\n            position: relative;\n            align-items: center;\n            margin: 8px 0;\n            font-size: 1.4em;\n            font-weight: 400;\n            color: #ede7f6;\n        }\n\n        :host header .title .icon {\n            margin-top: 3px;\n            margin-right: 4px;\n        }\n\n        :host header .title select {\n            cursor: pointer;\n            text-align: center;\n            font-size: 1.1em;\n            font-weight: bold;\n            color: #ede7f6;\n            background: none;\n            border: none;\n            outline: none;\n        }\n\n        :host header .title .tip {\n            position: absolute;\n            right: -204px;\n            font-size: 15px;\n            font-weight: 300;\n            font-style: italic;\n            color: #ffd341;\n        }\n\n        :host header .title .tip .hand {\n            font-size: 18px;\n        }\n\n        :host header button {\n            margin-top: 2px;\n        }\n\n        :host header button:not(:last-child) {\n            margin-right: 10px;\n        }\n\n        @media only screen and (max-width: 600px) {\n            :host header .title {\n                align-self: flex-start;\n                margin-left: 18px;\n            }\n\n            :host header .status {\n                right: 54px;\n            }\n\n            :host header .github-icon {\n                right: 24px;\n            }\n        }\n        @media only screen and (max-width: 1000px) {\n            :host header .title .tip {\n                display: none;\n            }\n        }\n    </style>\n\n    <header class="column">\n        <div class="status loading"></div>\n\n        <a class="github-icon"\n            href="https://github.com/Badisi/auth-js"\n            target="_blank"\n            title="View it on GitHub"\n            aria-label="GitHub repository">\n            <span>\n                <svg viewBox="0 0 24 24"\n                    xmlns="http://www.w3.org/2000/svg">\n                    <path fill="currentColor"\n                        d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12">\n                    </path>\n                </svg>\n            </span>\n        </a>\n\n        <div class="title row">\n            <span class="icon">\u{1f6e1}\ufe0f</span>Demo app &#123; <select id="implementation-select"></select> &#125;\n            <div class="tip"><span class="hand">\u{1f448}</span> choose an implementation</div>\n        </div>\n\n        <div class="row">\n            <button id="login-button">LOGIN</button>\n            <button id="logout-button">LOGOUT</button>\n            <button id="silent-renew-button">SILENT RENEW</button>\n        </div>\n\n        <div class="version"></div>\n    </header>\n`;class gm extends HTMLElement{constructor(){super(),this.listeners=[],this.attachShadow({mode:"open"}),this.shadowRoot?.appendChild(document.importNode(pm.content,!0)),this.implSelectEl=this.shadowRoot.querySelector("#implementation-select"),this.statusEl=this.shadowRoot.querySelector(".status"),this.versionEl=this.shadowRoot.querySelector(".version"),this.loginButtonEl=this.shadowRoot.querySelector("#login-button"),this.logoutButtonEl=this.shadowRoot.querySelector("#logout-button"),this.silentRenewButtonEl=this.shadowRoot.querySelector("#silent-renew-button")}set isRenewing(s){this.statusEl&&this.statusEl.classList[s?"add":"remove"]("loading")}set isAuthenticated(s){this.statusEl&&null!==s&&(this.statusEl.classList.remove("loading"),this.statusEl.title=s?"Authenticated":"Not authenticated",this.statusEl.classList[s?"add":"remove"]("authenticated"),this.statusEl.classList[s?"remove":"add"]("not-authenticated"))}connectedCallback(){if(window.location.href.includes(":4200")){const a=document.createElement("option");a.textContent="localhost",this.implSelectEl.appendChild(a)}else{window.appSettings.getImplementations().forEach(u=>{const m=document.createElement("option");m.value=String(u.label),m.textContent=u.label,this.implSelectEl.appendChild(m)});const a=()=>{window.location.href=window.appSettings.getImplementations()[this.implSelectEl.selectedIndex].demoUrl};this.implSelectEl.addEventListener("change",a),this.listeners.push(()=>this.implSelectEl.removeEventListener("change",a))}const s=()=>{this.shadowRoot?.querySelector("header .title .tip")?.remove(),window.appSettings.setShowTip(!1)};window.appSettings.get().showTip?(this.implSelectEl.addEventListener("click",s,{once:!0}),this.listeners.push(()=>this.implSelectEl.removeEventListener("click",s))):s(),this.refreshImplementation(),this.addEventListeners()}disconnectedCallback(){this.listeners.forEach(s=>s())}addEventListeners(){const s=()=>this.dispatchEvent(new Event("login",{bubbles:!0,composed:!0}));this.loginButtonEl?.addEventListener("click",s);const a=()=>this.dispatchEvent(new Event("logout",{bubbles:!0,composed:!0}));this.logoutButtonEl?.addEventListener("click",a);const u=()=>this.dispatchEvent(new Event("silentRenew",{bubbles:!0,composed:!0}));this.silentRenewButtonEl?.addEventListener("click",u),this.listeners.push(()=>this.loginButtonEl?.removeEventListener("click",s),()=>this.logoutButtonEl?.removeEventListener("click",a),()=>this.silentRenewButtonEl?.removeEventListener("click",u))}refreshImplementation(){const s=window.appSettings.getImplementations();if(window.location.href.includes(":4200"))this.implSelectEl.selectedIndex=0,this.versionEl.innerHTML="<a>@localhost</a>";else{const a=s.findIndex(m=>window.location.href.includes(m.demoUrl)),u=-1!==a?s[a]:s[0];this.implSelectEl.selectedIndex=-1!==a?a:0,this.versionEl.innerHTML=u.version}}}window.customElements.define("demo-app-header",gm);const mm=document.createElement("template");mm.innerHTML=`\n    <style>\n        ${so}\n\n        :host .tabs {\n            position: fixed;\n            top: calc(130px + var(--safe-area-inset-top));\n            left: 0;\n            right: 0;\n            z-index: 1;\n            align-self: normal;\n            padding: 10px 0;\n            padding-left: 36px;\n            background-color: #7043bf;\n            box-shadow: 0 3px 5px -1px #0003, 0 6px 10px #00000024, 0 1px 18px #0000001f;\n        }\n\n        :host .tabs a {\n            cursor: pointer;\n            color: white;\n            padding: 8px 16px;\n            border-radius: 4px;\n            transition: background-color 150ms cubic-bezier(0.35, 0, 0.25, 1);\n        }\n\n        :host .tabs a.selected {\n            background-color: #512da8;\n        }\n\n        :host .tabs a:hover {\n            background-color: #4527a0;\n        }\n\n        :host .tabs a:not(:last-child) {\n            margin-right: 10px;\n        }\n\n        :host .tabs-content {\n            position: fixed;\n            top: calc(130px + 55px + var(--safe-area-inset-top));\n            left: 0;\n            right: 0;\n            bottom: calc(0px + var(--safe-area-inset-bottom));\n            overflow: auto;\n        }\n\n        @media only screen and (max-width: 600px) {\n            :host .tabs {\n                padding-left: 0;\n                justify-content: center;\n            }\n        }\n    </style>\n\n    <demo-app-header></demo-app-header>\n    <nav id="tabs" class="tabs row"></nav>\n    <div class="tabs-content">\n        <slot id="views"></slot>\n    </div>\n`;class $y extends HTMLElement{constructor(){super(),this.listeners=[],this.tabs=[],this.views=[],this.currentTabIndex=-1,this.attachShadow({mode:"open"}),this.shadowRoot?.appendChild(document.importNode(mm.content,!0)),this.tabsContentEl=this.shadowRoot.querySelector(".tabs-content"),this.demoAppHeaderEl=this.shadowRoot.querySelector("demo-app-header")}set isRenewing(s){this.demoAppHeaderEl.isRenewing=s}set isAuthenticated(s){this.demoAppHeaderEl.isAuthenticated=s}connectedCallback(){this.drawTabs(),this.showView(window.appSettings?window.appSettings.get().currentTabIndex:0)}disconnectedCallback(){this.listeners.forEach(s=>s())}drawTabs(){const s=this.shadowRoot.querySelector("#views"),a=this.shadowRoot.querySelector("#tabs");s&&a&&(this.views=s.assignedElements(),this.views.forEach((u,m)=>{u.style.display="none";const E=document.createElement("a");E.textContent=u.getAttribute("tabLabel")||"?";const T=()=>this.showView(m);E.addEventListener("click",T),this.listeners.push(()=>E.removeEventListener("click",T)),a.appendChild(E),this.tabs.push(E)}))}showView(s){this.currentTabIndex!==s&&(this.currentTabIndex=s,this.tabs.forEach((a,u)=>{a.classList[u!==s?"remove":"add"]("selected")}),this.views.forEach((a,u)=>{a.style.display=u!==s?"none":"flex"}),this.tabsContentEl?.scrollTo(0,0),window.appSettings.setCurrentTabIndex(s))}}window.customElements.define("demo-app-main",$y);const Ad=document.createElement("template");Ad.innerHTML=`\n    <style>\n        ${so}\n\n        :host {\n            display: flex;\n            flex: 1;\n            flex-direction: column;\n            padding: 20px 28px;\n        }\n\n        :host .card.apis input {\n            width: 100%; /* fix for android-chrome */\n        }\n\n        :host .card.apis .card-actions {\n            padding-bottom: 16px;\n        }\n\n        :host .card.apis .card-actions button {\n            margin-left: 14px;\n        }\n\n        @media only screen and (max-width: 600px) {\n            :host .card.apis .card-actions {\n                flex-direction: column;\n                margin-left: 3px;\n            }\n            :host .card.apis .card-actions button {\n                margin-top: 12px;\n                margin-left: 0;\n                padding: 2px 10px;\n                min-width: 104px;\n                align-self: flex-start;\n            }\n            :host .card.apis .input label {\n                text-align: left;\n            }\n            :host .card.apis .input {\n                flex-direction: column;\n                align-items: flex-start;\n                gap: 10px;\n            }\n            :host .card.apis input {\n                width: inherit;\n                align-self: normal;\n            }\n        }\n    </style>\n\n    <div class="card apis">\n        <div class="card-title row">\n            APIs access\n            <div id="api-status" class="card-status"></div>\n        </div>\n        <div class="card-actions row">\n            <div class="column flex">\n                <div class="input row">\n                    <label for="api-url-input">Url</label>\n                    <input id="api-url-input" class="flex" />\n                </div>\n                <div class="input row">\n                    <label for="api-headers-input">Custom headers</label>\n                    <input id="api-headers-input" class="flex" placeholder='"name": "value";' />\n                </div>\n            </div>\n            <button id="api-get-button">GET</button>\n        </div>\n        <div class="box">\n            <code>\n                <pre id="api-response"></pre>\n            </code>\n        </div>\n    </div>\n\n    <slot id="cards"></slot>\n`;class jh extends HTMLElement{constructor(){super(),this.listeners=[],this.attachShadow({mode:"open"}),this.shadowRoot?.appendChild(document.importNode(Ad.content,!0)),this.apiStatusEl=this.shadowRoot.querySelector("#api-status"),this.apiResponseEl=this.shadowRoot.querySelector("#api-response"),this.apiUrlEl=this.shadowRoot.querySelector("#api-url-input"),this.apiHeadersEl=this.shadowRoot.querySelector("#api-headers-input")}connectedCallback(){const s=this.shadowRoot?.querySelector("#api-get-button"),a=()=>{const T=new CustomEvent("api",{bubbles:!0,composed:!0,detail:{url:this.apiUrlEl.value,headers:this.apiHeadersEl.value}});return this.dispatchEvent(T)};s?.addEventListener("click",a);const u=()=>this.saveSettings({privateApiUrl:this.apiUrlEl.value});this.apiUrlEl?.addEventListener("input",u);const m=()=>this.saveSettings({privateApiHeaders:this.apiHeadersEl.value});this.apiHeadersEl?.addEventListener("input",m),this.listeners.push(()=>s?.removeEventListener("click",a),()=>this.apiUrlEl?.removeEventListener("input",u),()=>this.apiHeadersEl?.removeEventListener("input",m));const{otherSettings:E}=window.appSettings.getCurrentUserSettings();this.apiUrlEl.value=E?.privateApiUrl,this.apiHeadersEl.value=E?.privateApiHeaders}disconnectedCallback(){this.listeners.forEach(s=>s())}setApiStatus(s,a){this.apiStatusEl.classList.remove(a?"success":"error"),this.apiStatusEl.classList.add(a?"error":"success"),this.apiResponseEl.innerHTML=Pa(s)}saveSettings(s){const a=window.appSettings.getCurrentUserSettings();a.otherSettings={...a.otherSettings,...s},window.appSettings.addOrUpdateUserSettings(a)}}window.customElements.define("demo-app-playground",jh);const vm=document.createElement("template");vm.innerHTML=`\n    <style>\n        ${so}\n\n        :host {\n            display: flex;\n            flex: 1;\n            flex-direction: column;\n            padding: 20px 28px;\n        }\n\n        :host .info {\n            margin: 16px;\n        }\n\n        :host .info .title {\n            min-width: 130px;\n        }\n\n        :host .info .value {\n            overflow-x: auto;\n            white-space: pre-wrap;\n            word-wrap: break-word;\n        }\n\n        :host .info code {\n            width: 100%;\n        }\n    </style>\n\n    <div class="card">\n        <div class="info column">\n            <div class="title">Authenticated</div>\n            <code>\n                <pre id="isAuthenticated" class="value json-value"></pre>\n            </code>\n        </div>\n\n        <div class="info column">\n            <div class="title">User session</div>\n            <code>\n                <pre id="userSession" class="value"></pre>\n            </code>\n        </div>\n\n        <div class="info column">\n            <div class="title">Access token</div>\n            <code>\n                <pre id="accessToken" class="value json-value"></pre>\n                <pre id="accessTokenDecoded" class="value"></pre>\n            </code>\n        </div>\n\n        <div class="info column">\n            <div class="title">Id token</div>\n            <code>\n                <pre id="idToken" class="value json-value"></pre>\n                <pre id="idTokenDecoded" class="value"></pre>\n            </code>\n        </div>\n\n        <div class="info column">\n            <div class="title">User profile</div>\n            <code>\n                <pre id="userProfile" class="value"></pre>\n            </code>\n        </div>\n    </div>\n`;class Hc extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.shadowRoot?.appendChild(document.importNode(vm.content,!0)),this.isAuthenticated=!1,this.userSession=void 0,this.accessToken=void 0,this.accessTokenDecoded=void 0,this.idToken=void 0,this.idTokenDecoded=void 0,this.userProfile=void 0}set isAuthenticated(s){null!==s&&this.update("#isAuthenticated",s)}set userSession(s){this.update("#userSession",Pa(s,["expires_at"]))}set accessToken(s){this.update("#accessToken",s)}set accessTokenDecoded(s){const a="string"!=typeof s?Pa(s,["exp","iat","auth_time"]):"(no decoded info as it is not a JWT token)";this.update("#accessTokenDecoded",a)}set idToken(s){this.update("#idToken",s)}set idTokenDecoded(s){this.update("#idTokenDecoded",Pa(s,["exp","iat","auth_time"]))}set userProfile(s){this.update("#userProfile",Pa(s))}update(s,a){const u=this.shadowRoot?.querySelector(s);u&&(null==a||""===a?u.closest(".info")?.classList.add("hidden"):(u.closest(".info")?.classList.remove("hidden"),u.innerHTML=String(a)))}}window.customElements.define("demo-app-debug",Hc);const $c=document.createElement("template");$c.innerHTML=`\n    <style>\n        ${so}\n\n        :host {\n            display: flex;\n            flex: 1;\n            flex-direction: column;\n            padding: 20px 28px;\n        }\n\n        :host .card {\n            padding: 40px 16px 16px 16px;\n        }\n\n        :host form {\n            position: relative;\n        }\n\n        :host form .input, :host .form-content > * {\n            margin-bottom: 24px;\n        }\n\n        :host form label {\n            margin-bottom: 8px;\n        }\n\n        :host .form-actions {\n            z-index: 10;\n            position: fixed;\n            bottom: calc(12px + var(--safe-area-inset-bottom));\n            left: calc(50% - 120px);\n            padding: 14px 0;\n            border-radius: 4px;\n            background-color: #E0E0E0;\n            width: 240px;\n            justify-content: center;\n        }\n\n        :host .form-actions button {\n            padding: 2px 12px;\n        }\n\n        :host .form-actions button:not(:last-of-type) {\n            margin-right: 12px;\n        }\n\n        :host button {\n            cursor: pointer;\n        }\n\n        :host #settings-select {\n            margin-left: 6px;\n            color: black;\n        }\n\n        :host #add-settings-button {\n            background: none;\n            border: none;\n            cursor: pointer;\n            padding: 4px;\n            color: darkgray;\n        }\n\n        :host #delete-settings-button {\n            position: absolute;\n            top: 20px;\n            right: 20px;\n            display: flex;\n            align-items: center;\n            background: none;\n            border: none;\n            cursor: pointer;\n            font-size: 14px;\n            color: #EF5350;\n        }\n\n        :host #save-settings-button {\n            color: white;\n            padding: 4px 24px;\n            border: none;\n            border-radius: 4px;\n            transition: background-color 150ms cubic-bezier(0.35, 0, 0.25, 1);\n            background-color: #512da8;\n        }\n\n        :host #cancel-settings-button {\n            padding: 4px 18px;\n            border: none;\n            border-radius: 4px;\n            transition: background-color 150ms cubic-bezier(0.35, 0, 0.25, 1);\n            background-color: white;\n        }\n\n        :host #save-settings-button:hover {\n            background-color: #4527a0;\n        }\n\n        :host(.dirty) .form-actions {\n            display: flex !important;\n        }\n\n        :host(.dirty) #delete-settings-button {\n            display: none;\n        }\n\n        @media only screen and (max-width: 600px) {\n            :host .settings-select {\n                margin: 12px 8px;\n            }\n        }\n    </style>\n\n    <div class="settings-select row">\n        <select id="settings-select"></select>\n        <div id="add-settings-button" title="Create new settings">\n            <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="currentColor"><path d="M0 0h24v24H0z" fill="none"/><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/></svg>\n        </div>\n    </div>\n\n    <div class="form-actions row hidden">\n        <button id="save-settings-button" type="button">SAVE</button>\n        <button id="cancel-settings-button" type="button">CANCEL</button>\n    </div>\n\n    <form class="column card">\n        <div id="delete-settings-button">\n            DELETE\n        </div>\n        <div class="input column">\n            <label for="settingsName">Settings name *</label>\n            <input id="settingsName" name="settingsName" required="">\n        </div>\n        <div class="form-content flex"></div>\n    </form>\n`;class Rd extends HTMLElement{constructor(){super(),this.listeners=[],this.formIsDirty=!1,this.formIsNew=!1,this.attachShadow({mode:"open"}),this.shadowRoot?.appendChild(document.importNode($c.content,!0))}connectedCallback(){this.formEl=this.shadowRoot.querySelector("form"),this.formContentEl=this.shadowRoot.querySelector(".form-content"),this.selectEl=this.shadowRoot.querySelector("#settings-select"),this.settingsNameEl=this.shadowRoot.querySelector("#settingsName");const s=ve=>{!this.formIsDirty&&"settings-select"!==ve.target.id&&(this.formIsDirty=!0,this.classList.add("dirty"))};this.formEl.addEventListener("input",s),this.listeners.push(()=>this.formEl.removeEventListener("input",s)),this.refreshSelect();const a=()=>this.loadSettings(this.selectEl.value);this.selectEl?.addEventListener("change",a),this.listeners.push(()=>this.selectEl.removeEventListener("change",a));const u=this.shadowRoot?.querySelector("#add-settings-button"),m=()=>this.add();u?.addEventListener("click",m),this.listeners.push(()=>u?.removeEventListener("click",m));const E=this.shadowRoot?.querySelector("#delete-settings-button"),T=()=>this.delete();E?.addEventListener("click",T),this.listeners.push(()=>E?.removeEventListener("click",T));const x=this.shadowRoot?.querySelector("#save-settings-button"),V=()=>this.saveAndReload();x?.addEventListener("click",V),this.listeners.push(()=>x?.removeEventListener("click",V));const z=this.shadowRoot?.querySelector("#cancel-settings-button"),fe=()=>this.cancel();z?.addEventListener("click",fe),this.listeners.push(()=>z?.removeEventListener("click",fe)),this.refreshFormContent(window.appSettings.getCurrentUserSettings())}disconnectedCallback(){this.listeners.forEach(s=>s())}loadSettings(s){window.appSettings.setCurrentUserSettings(s),location.reload()}add(){const s="New settings",a=document.createElement("option");a.selected=!0,a.value=s,a.textContent=s,this.selectEl.appendChild(a),this.formIsNew=!0,this.formIsDirty=!0,this.classList.add("dirty"),this.refreshFormContent({name:s,librarySettings:{}})}delete(){window.appSettings.deleteCurrentUserSettings(),location.reload()}cancel(){this.formIsNew=!1,this.formIsDirty=!1,this.classList.remove("dirty"),this.refreshSelect(),this.refreshFormContent(window.appSettings.getCurrentUserSettings())}setPathValue(s,a,u){const m=a.split(".");m.reduce((E,T,x)=>(x===m.length-1?E[T]=u:Object.prototype.hasOwnProperty.call(E,T)||(E[T]={}),E[T]),s)}getPathValue(s,a){return a.split(".").reduce((u,m)=>u&&u[m],s)}refreshSelect(){this.selectEl.innerHTML="";const{userSettings:s,currentUserSettingsId:a}=window.appSettings.get();s.sort((u,m)=>u.name.localeCompare(m.name)).forEach(u=>{const m=document.createElement("option");m.selected=u.name===a,m.value=String(u.name),m.textContent=u.name,this.selectEl.appendChild(m)})}refreshFormContent(s){this.formContentEl.innerHTML="";const{librarySettingsDefinition:a}=window.appSettings.get(),{name:u,librarySettings:m}=s;this.settingsNameEl.value=u,a.sort((E,T)=>(T._sortIndex||0)-(E._sortIndex||0)).forEach(E=>{const T=document.createElement("div");this.formContentEl.prepend(T);const x=document.createElement("label");x.htmlFor=E.name.replace(".",""),x.textContent=`${E.label}${E.required?" *":""}`;const V=document.createElement("list"===E.type?"select":"input");switch(V.id=E.name.replace(".",""),V.name=E.name.replace(".",""),V.required=!0===E.required,E.type){case"boolean":V.checked=this.getPathValue(m,E.name),V.type="checkbox",T.appendChild(V),T.appendChild(x);break;case"list":E.values?.forEach(z=>{const fe=document.createElement("option");fe.value=String(z.value),fe.textContent=z.label,V.appendChild(fe)}),V.value=this.getPathValue(m,E.name),V.classList.add("flex"),T.classList.add("input","column"),T.appendChild(x),T.appendChild(V);break;default:{const z=this.getPathValue(m,E.name);V.value="json"===E.type?z?JSON.stringify(z):"":z??"",T.classList.add("input","column"),T.appendChild(x),T.appendChild(V);break}}})}saveAndReload(){if(this.formEl.reportValidity()){const{librarySettingsDefinition:s}=window.appSettings.get(),a=this.formIsNew?{name:"",librarySettings:{}}:window.appSettings.getCurrentUserSettings();a.name=this.settingsNameEl.value,s.forEach(u=>{const m=this.shadowRoot?.querySelector(`#${u.name.replace(".","")}`);let E;switch(u.type){case"boolean":E=m.checked;break;case"list":default:E=m.value;break;case"json":try{const T=m.value;T&&""!==T.trim()&&(E=JSON.parse(T))}catch(T){console.error(T)}}this.setPathValue(a.librarySettings,u.name,E)}),window.appSettings.addOrUpdateUserSettings(a),this.formIsNew&&window.appSettings.setCurrentUserSettings(a.name),location.reload()}}}window.customElements.define("demo-app-settings",Rd);const Bh=JSON.parse('{"UU":"@badisi/auth-js","TB":"https://github.com/Badisi/auth-js/tree/main/projects/auth-js"}'),Yi=JSON.parse('{"UU":"@badisi/ngx-auth","rE":"0.0.0-semantically-released","TB":"https://github.com/Badisi/auth-js/tree/main/projects/ngx-auth"}'),Wc=[{name:"authorityUrl",label:"Authority url",type:"string",required:!0},{name:"clientId",label:"Client id",type:"string",required:!0},{name:"mobileScheme",label:"Custom mobile scheme name",type:"string"},{name:"scope",label:"Scope",type:"string"},{name:"internal.extraQueryParams",label:"Extra query params",type:"json"},{name:"desktopNavigationType",label:"Desktop navigation type",type:"list",values:[{label:"REDIRECT",value:Or.REDIRECT},{label:"POPUP",value:Or.POPUP}]},{name:"logLevel",label:"Log level",type:"list",values:[{label:"NONE",value:qn.NONE},{label:"ERROR",value:qn.ERROR},{label:"WARN",value:qn.WARN},{label:"INFO",value:qn.INFO},{label:"DEBUG",value:qn.DEBUG}]},{name:"loginRequired",label:"Login required",type:"boolean"},{name:"retrieveUserSession",label:"Retrieve user's session",type:"boolean"},{name:"loadUserInfo",label:"Load user's info",type:"boolean"},{name:"automaticSilentRenew",label:"Automatic silent renew",type:"boolean"},{name:"automaticLoginOn401",label:"Automatic login on 401",type:"boolean"},{name:"automaticInjectToken",label:"Automatic inject token",type:"boolean"}];Wc.splice(3,0,{name:"authGuardRedirectUrl",label:"AuthGuard redirect url",type:"string"});const Gc=Wc,Hh=["demoAppPlayground"],Dm=["queryParamsInput"],Ll=[{path:"",children:[{path:"",component:(()=>{class i{constructor(){this.router=(0,w.WQX)(Ke.Ix),this.authService=(0,w.WQX)(bc),this.httpClient=(0,w.WQX)(oe)}ngAfterViewInit(){setTimeout(()=>{const a=window.appSettings.getCurrentUserSettings().otherSettings;if(this.roles=a?.roles,this.queryParams=a?.queryParams,this.queryParams){let u="";Object.entries(this.queryParams).forEach(([m,E],T)=>{T>0&&(u+="&"),u+=`${m}=${E}`}),this.queryParamsInputEl.nativeElement.value=u}})}callPrivateApi(a){const{url:u,headers:m}=a.detail;if(u){let E=new Se;m?.split(";").forEach(x=>{if(x){const V=x.split(":");E=E.append(V[0]?.trim(),V[1]?.trim()||"")}});const T=this.demoAppPlaygroundEl?.nativeElement;this.httpClient.get(u,m?{headers:E}:{}).subscribe({next:x=>T?.setApiStatus(x,!1),error:x=>T?.setApiStatus(x,!0)})}}saveSettings(){(this.demoAppPlaygroundEl?.nativeElement).saveSettings({roles:this.roles,queryParams:this.queryParams})}onQueryParamsInputChange(a){const u={};a?.split("&").forEach(m=>{const E=m.split("=");2===E.length&&(u[E[0]]=E[1])}),this.queryParams=u,this.saveSettings()}static#e=this.\u0275fac=function(u){return new(u||i)};static#t=this.\u0275cmp=w.VBU({type:i,selectors:[["app-demo"]],viewQuery:function(u,m){if(1&u&&(w.GBs(Hh,5),w.GBs(Dm,5)),2&u){let E;w.mGM(E=w.lsd())&&(m.demoAppPlaygroundEl=E.first),w.mGM(E=w.lsd())&&(m.queryParamsInputEl=E.first)}},standalone:!0,features:[w.aNF],decls:48,vars:32,consts:[["demoAppPlayground",""],["queryParamsInput",""],[3,"login","logout","silentRenew","isRenewing","isAuthenticated"],["tabLabel","Playground",3,"api"],[1,"card","routes"],[1,"card-title"],[1,"card-actions","column"],[1,"route","query-params"],[1,"info"],["placeholder","param1=one&param2=two",3,"input"],[1,"route"],["routerLink","/",3,"queryParams"],["routerLink","/public",3,"queryParams"],["routerLink","/private",3,"queryParams"],["routerLink","/protected",3,"queryParams"],["id","roles-input",3,"input","keydown.enter","ngModelChange","ngModel"],[1,"box"],["tabLabel","Debug",3,"isAuthenticated","userProfile","userSession","idToken","idTokenDecoded","accessToken","accessTokenDecoded"],["tabLabel","Settings"]],template:function(u,m){if(1&u){const E=w.RV6();w.j41(0,"demo-app-main",2),w.nI1(1,"async"),w.nI1(2,"async"),w.bIt("login",function(){return w.eBV(E),w.Njj(m.authService.login())})("logout",function(){return w.eBV(E),w.Njj(m.authService.logout({redirectUrl:"/"}))})("silentRenew",function(){return w.eBV(E),w.Njj(m.authService.renew())}),w.j41(3,"demo-app-playground",3,0),w.bIt("api",function(x){return w.eBV(E),w.Njj(m.callPrivateApi(x))}),w.j41(5,"div",4)(6,"div",5),w.EFF(7,"Routes access"),w.k0s(),w.j41(8,"div",6)(9,"div",7)(10,"div",8)(11,"label"),w.EFF(12,"Query params"),w.k0s(),w.j41(13,"input",9,1),w.bIt("input",function(){w.eBV(E);const x=w.sdS(14);return w.Njj(m.onQueryParamsInputChange(x.value))}),w.k0s()()(),w.j41(15,"div",10)(16,"button",11),w.EFF(17,"HOME"),w.k0s(),w.j41(18,"div",8),w.EFF(19,"Home page"),w.k0s()(),w.j41(20,"div",10)(21,"button",12),w.EFF(22,"PUBLIC"),w.k0s(),w.j41(23,"div",8),w.EFF(24,"Public content (no login required)"),w.k0s()(),w.j41(25,"div",10)(26,"button",13),w.EFF(27,"PRIVATE"),w.k0s(),w.j41(28,"div",8),w.EFF(29,"Private content (login required)"),w.k0s()(),w.j41(30,"div",10)(31,"button",14),w.EFF(32,"PROTECTED"),w.k0s(),w.j41(33,"div",8),w.EFF(34,"Protected content (login required + role(s): "),w.j41(35,"input",15),w.bIt("input",function(){return w.eBV(E),w.Njj(m.saveSettings())})("keydown.enter",function(){return w.eBV(E),w.Njj(m.router.navigateByUrl("/protected"))}),w.mxI("ngModelChange",function(x){return w.eBV(E),w.DH7(m.roles,x)||(m.roles=x),w.Njj(x)}),w.k0s(),w.EFF(36,") "),w.k0s()()(),w.j41(37,"div",16),w.nrm(38,"router-outlet"),w.k0s()()(),w.nrm(39,"demo-app-debug",17),w.nI1(40,"async"),w.nI1(41,"async"),w.nI1(42,"async"),w.nI1(43,"async"),w.nI1(44,"async"),w.nI1(45,"async"),w.nI1(46,"async"),w.nrm(47,"demo-app-settings",18),w.k0s()}2&u&&(w.Y8G("isRenewing",w.bMT(1,14,m.authService.isRenewing$))("isAuthenticated",w.bMT(2,16,m.authService.isAuthenticated$)),w.R7$(16),w.Y8G("queryParams",m.queryParams),w.R7$(5),w.Y8G("queryParams",m.queryParams),w.R7$(5),w.Y8G("queryParams",m.queryParams),w.R7$(5),w.Y8G("queryParams",m.queryParams),w.R7$(4),w.R50("ngModel",m.roles),w.R7$(4),w.Y8G("isAuthenticated",w.bMT(40,18,m.authService.isAuthenticated$))("userProfile",w.bMT(41,20,m.authService.userProfile$))("userSession",w.bMT(42,22,m.authService.userSession$))("idToken",w.bMT(43,24,m.authService.idToken$))("idTokenDecoded",w.bMT(44,26,m.authService.idTokenDecoded$))("accessToken",w.bMT(45,28,m.authService.accessToken$))("accessTokenDecoded",w.bMT(46,30,m.authService.accessTokenDecoded$)))},dependencies:[se.Jj,am,Ia,dd,Fc,Ke.n3,Ke.Wk],styles:[":host .card.routes{margin-top:20px}:host .card.routes .route{display:flex;align-items:center}:host .card.routes .route.query-params{margin:0 0 10px 10px}:host .card.routes .route.query-params label{font-size:16px;color:#000;margin-right:12px}:host .card.routes .route.query-params input{width:500px}:host .card.routes .route button{padding:2px 10px;min-width:104px;margin:8px 12px 8px 8px}:host .card.routes .route input{margin:0 2px;padding:4px}:host .card.routes .route .info{padding-bottom:2px;font-size:14px;line-height:22px;text-align:left;color:#0000008a}:host .card.routes .box{height:100px}@media only screen and (max-width: 600px){:host .card.routes{margin-top:12px}:host .card.routes .route{margin-left:3px!important}:host .card.routes .route.query-params .info{display:flex;flex-direction:column;flex:1;gap:8px}:host .card.routes .route.query-params .info input{margin:0;width:inherit;align-self:normal}:host .card.routes .route #roles-input{width:90%}:host .card.routes .route button{margin-left:3px}}\n",".flex{flex:1}.hidden{display:none!important}.row{display:flex;flex-direction:row}.column{display:flex;flex-direction:column}.card{border:1px solid rgba(0,0,0,.12);border-radius:4px;background-color:#fff;margin:12px 6px}.card .card-status{display:block;width:10px;height:10px;border-radius:50%;margin-left:8px;background-color:#f2f2f2}.card .card-status.error{background-color:#ef5350}.card .card-status.success{background-color:#66bb6a}.card .card-title{padding:16px;font-size:20px;font-weight:500;color:#000000de;align-items:center}.card .box{height:200px;border-top:1px solid lightgray;word-break:break-all;overflow:auto;background-color:#f2f2f2;padding:12px}.card .box pre{margin:0}.card .card-actions{padding:0 14px 8px;min-height:50px}.card .card-actions .input{display:flex;align-items:center}.card .card-actions .input:not(:last-child){margin-bottom:8px}.card .card-actions .input label{width:125px;text-align:right;margin-right:14px}.card .card-actions .input input{padding:4px}.json-key{color:#7c4dff}.json-value{color:#437aed}.json-string{color:#53a053}.json-date{color:#c838c6}input{color:#5e35b1;padding:10px;border:1px solid rgba(0,0,0,.1215686275);border-radius:4px;font-size:14px}input:invalid{border-color:#f44336}input[type=checkbox]{margin-right:10px}select{color:#5e35b1;padding:8px 6px;border:1px solid rgba(0,0,0,.1215686275);border-radius:4px}@media only screen and (max-width: 600px){:host{padding:0 0 24px!important}:host .card{border-left:0;border-right:0;border-radius:0;margin:0 0 6px}}\n"],encapsulation:3})}return i})(),children:[{path:"public",loadComponent:()=>O.e(998).then(O.bind(O,1998)).then(i=>i.PageComponent),runGuardsAndResolvers:"always",data:{title:"PUBLIC CONTENT"}},{path:"private",loadComponent:()=>O.e(998).then(O.bind(O,1998)).then(i=>i.PageComponent),runGuardsAndResolvers:"always",canLoad:[ks],canActivate:[ks],canActivateChild:[ks],data:{title:"PRIVATE CONTENT"}},{path:"forbidden",loadComponent:()=>O.e(998).then(O.bind(O,1998)).then(i=>i.PageComponent),runGuardsAndResolvers:"always",data:{title:"ACCESS FORBIDDEN"}},{path:"protected",loadComponent:()=>O.e(998).then(O.bind(O,1998)).then(i=>i.PageComponent),runGuardsAndResolvers:"always",canLoad:[ks],canActivate:[ks],canActivateChild:[ks],data:{title:"PROTECTED CONTENT",authGuardValidator:(i,s)=>{const{otherSettings:a,librarySettings:u}=window.appSettings.getCurrentUserSettings(),m=a&&a.roles?.split(",")||[];let E;if(u.authorityUrl.includes("auth0"))E=s?.["http://ngx-auth.com/roles"];else if(u.authorityUrl.includes("zitadel")){const T=s?.["urn:zitadel:iam:org:project:roles"];E=Object.keys(T??{})}else E=s.resource_access?.account?.roles;return m.every(T=>(E??[]).includes(T))}}}]}]},{path:"**",pathMatch:"full",redirectTo:""}],Vl={providers:[ce(),(0,Ke.lh)(Ll,(0,Ke.Ii)({onSameUrlNavigation:"reload"}))]},zc=new class Nd{constructor(s,a){this.storageKey=s,this.defaultAppSettings=a,this.implementations=[{label:"VanillaJS",demoUrl:"https://badisi.github.io/auth-js/demo-app/auth-js",version:`<a href="${Bh.TB}" target="_blank">${Bh.UU}@main</a>`},{label:"Angular",demoUrl:"https://badisi.github.io/auth-js/demo-app/ngx-auth",version:`<a href="${Yi.TB}" target="_blank">${Yi.UU}@main</a>`}],this.defaultAppSettings.librarySettingsDefinition.forEach((u,m)=>u._sortIndex=m)}getImplementations(){return this.implementations}setShowTip(s){const a=this.get();a.showTip=s,this.saveAppSettings(a)}setCurrentTabIndex(s){const a=this.get();a.currentTabIndex=s,this.saveAppSettings(a)}addOrUpdateUserSettings(s){const a=this.get(),u=a.userSettings.findIndex(m=>m.name===s.name);-1!==u?a.userSettings[u]=s:a.userSettings.push(s),this.saveAppSettings(a)}deleteCurrentUserSettings(){const s=this.get(),{name:a}=this.getCurrentUserSettings(),u=s.userSettings.findIndex(m=>m.name===a);-1!==u&&(s.userSettings.splice(u,1),delete s.currentUserSettingsId,this.saveAppSettings(s))}setCurrentUserSettings(s){const a=this.get();-1!==a.userSettings.findIndex(m=>m.name===s)&&(a.currentUserSettingsId=s,this.saveAppSettings(a))}getCurrentUserSettings(){const s=this.get(),a=s.userSettings.findIndex(u=>u.name===s.currentUserSettingsId);return-1!==a?s.userSettings[a]:s.userSettings.sort((u,m)=>u.name.localeCompare(m.name))[0]}get(){const s=sessionStorage.getItem(this.storageKey);if(s){const a={...this.defaultAppSettings,...JSON.parse(s)};return this.defaultAppSettings.userSettings.forEach(u=>{a.userSettings.find(m=>m.name===u.name)||a.userSettings.push(u)}),a}return{...this.defaultAppSettings}}saveAppSettings(s){delete s.librarySettingsDefinition,sessionStorage.setItem(this.storageKey,JSON.stringify(s))}}(`ngx-auth:${Yi.rE}:demo-app:settings`,{showTip:!0,currentTabIndex:0,userSettings:((i=!1)=>{const s=((i=!1)=>{const s=[{name:"Auth0",otherSettings:{privateApiUrl:"https://dev-fijd1e9x.us.auth0.com/api/v2/users/auth0|631b171682c639d40cb84d5c",privateApiHeaders:""},librarySettings:{authorityUrl:"https://dev-fijd1e9x.us.auth0.com",clientId:"kRVVEnAWKMpxxpcodl0TqLXfIHgQvmmt",mobileScheme:"demo-app",scope:"openid profile email phone offline_access read:current_user",internal:{extraQueryParams:{audience:"https://dev-fijd1e9x.us.auth0.com/api/v2/"}},desktopNavigationType:Or.REDIRECT,logLevel:qn.NONE,loginRequired:!1,retrieveUserSession:!0,loadUserInfo:!0,automaticSilentRenew:!0}},{name:"Zitadel",otherSettings:{privateApiUrl:"",privateApiHeaders:""},librarySettings:{authorityUrl:"https://auth-js-0pdipf.zitadel.cloud",clientId:"178200751804317953@demo-app",mobileScheme:"demo-app",scope:"openid profile email phone offline_access",desktopNavigationType:Or.REDIRECT,logLevel:qn.NONE,loginRequired:!1,retrieveUserSession:!0,loadUserInfo:!0,automaticSilentRenew:!0}}];return i||s.push({name:"Keycloak (local)",otherSettings:{privateApiUrl:"/api/my-api",privateApiHeaders:""},librarySettings:{authorityUrl:"http://localhost:8080/auth/realms/demo",clientId:"demo-app",mobileScheme:"demo-app",scope:"openid profile email phone",desktopNavigationType:Or.REDIRECT,logLevel:qn.NONE,loginRequired:!1,retrieveUserSession:!0,loadUserInfo:!0,automaticSilentRenew:!0}}),s})(i),a=[{name:"Auth0",otherSettings:{...s[0].otherSettings,roles:"view-profile"},librarySettings:{...s[0].librarySettings,authGuardRedirectUrl:"/forbidden",automaticLoginOn401:!0,automaticInjectToken:!0}},{name:"Zitadel",otherSettings:{...s[1].otherSettings,roles:"view-profile"},librarySettings:{...s[1].librarySettings,authGuardRedirectUrl:"/forbidden",automaticLoginOn401:!0,automaticInjectToken:!0}}];return i||a.push({name:"Keycloak (local)",otherSettings:{...s[s.length-1].otherSettings,roles:"view-profile"},librarySettings:{...s[s.length-1].librarySettings,authGuardRedirectUrl:"/forbidden",automaticLoginOn401:!0,automaticInjectToken:!0}}),a})(!(0,w.naY)()),librarySettingsDefinition:Gc});(()=>{window.appSettings=zc;const i=document.createElement("div");i.innerHTML="Loading...",document.body.appendChild(i),Gf(zc.getCurrentUserSettings().librarySettings).then(s=>{i.replaceWith(document.createElement("app-root")),Vl.providers.push((i=>(0,w.EmA)([i,ks,ce(ke([jr]))]))(s)),(0,C.B8)(yy,Vl).catch(a=>console.error(a))}).catch(s=>{const a=s instanceof Error?s.message:s;i.innerHTML=`${a}<br/><button id="loginButton">Login</button>`,document.body.querySelector("#loginButton")?.addEventListener("click",()=>location.reload(),{once:!0})})})()},7656:function(Ue,he,O){var C;Ue.exports=(C=C||function(N,w){var j;if(typeof window<"u"&&window.crypto&&(j=window.crypto),typeof self<"u"&&self.crypto&&(j=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(j=globalThis.crypto),!j&&typeof window<"u"&&window.msCrypto&&(j=window.msCrypto),!j&&typeof global<"u"&&global.crypto&&(j=global.crypto),!j)try{j=O(477)}catch{}var Q=function(){if(j){if("function"==typeof j.getRandomValues)try{return j.getRandomValues(new Uint32Array(1))[0]}catch{}if("function"==typeof j.randomBytes)try{return j.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},De=Object.create||function(){function ie(){}return function(ye){var Be;return ie.prototype=ye,Be=new ie,ie.prototype=null,Be}}(),J={},be=J.lib={},ge=be.Base=function(){return{extend:function(ie){var ye=De(this);return ie&&ye.mixIn(ie),(!ye.hasOwnProperty("init")||this.init===ye.init)&&(ye.init=function(){ye.$super.init.apply(this,arguments)}),ye.init.prototype=ye,ye.$super=this,ye},create:function(){var ie=this.extend();return ie.init.apply(ie,arguments),ie},init:function(){},mixIn:function(ie){for(var ye in ie)ie.hasOwnProperty(ye)&&(this[ye]=ie[ye]);ie.hasOwnProperty("toString")&&(this.toString=ie.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),te=be.WordArray=ge.extend({init:function(ie,ye){ie=this.words=ie||[],this.sigBytes=null!=ye?ye:4*ie.length},toString:function(ie){return(ie||se).stringify(this)},concat:function(ie){var ye=this.words,Be=ie.words,pe=this.sigBytes,de=ie.sigBytes;if(this.clamp(),pe%4)for(var Ce=0;Ce<de;Ce++)ye[pe+Ce>>>2]|=(Be[Ce>>>2]>>>24-Ce%4*8&255)<<24-(pe+Ce)%4*8;else for(var Ae=0;Ae<de;Ae+=4)ye[pe+Ae>>>2]=Be[Ae>>>2];return this.sigBytes+=de,this},clamp:function(){var ie=this.words,ye=this.sigBytes;ie[ye>>>2]&=4294967295<<32-ye%4*8,ie.length=N.ceil(ye/4)},clone:function(){var ie=ge.clone.call(this);return ie.words=this.words.slice(0),ie},random:function(ie){for(var ye=[],Be=0;Be<ie;Be+=4)ye.push(Q());return new te.init(ye,ie)}}),Z=J.enc={},se=Z.Hex={stringify:function(ie){for(var ye=ie.words,Be=ie.sigBytes,pe=[],de=0;de<Be;de++){var Ce=ye[de>>>2]>>>24-de%4*8&255;pe.push((Ce>>>4).toString(16)),pe.push((15&Ce).toString(16))}return pe.join("")},parse:function(ie){for(var ye=ie.length,Be=[],pe=0;pe<ye;pe+=2)Be[pe>>>3]|=parseInt(ie.substr(pe,2),16)<<24-pe%8*4;return new te.init(Be,ye/2)}},Te=Z.Latin1={stringify:function(ie){for(var ye=ie.words,Be=ie.sigBytes,pe=[],de=0;de<Be;de++)pe.push(String.fromCharCode(ye[de>>>2]>>>24-de%4*8&255));return pe.join("")},parse:function(ie){for(var ye=ie.length,Be=[],pe=0;pe<ye;pe++)Be[pe>>>2]|=(255&ie.charCodeAt(pe))<<24-pe%4*8;return new te.init(Be,ye)}},ae=Z.Utf8={stringify:function(ie){try{return decodeURIComponent(escape(Te.stringify(ie)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(ie){return Te.parse(unescape(encodeURIComponent(ie)))}},Se=be.BufferedBlockAlgorithm=ge.extend({reset:function(){this._data=new te.init,this._nDataBytes=0},_append:function(ie){"string"==typeof ie&&(ie=ae.parse(ie)),this._data.concat(ie),this._nDataBytes+=ie.sigBytes},_process:function(ie){var ye,Be=this._data,pe=Be.words,de=Be.sigBytes,Ce=this.blockSize,Ae=de/(4*Ce),Ie=(Ae=ie?N.ceil(Ae):N.max((0|Ae)-this._minBufferSize,0))*Ce,Pe=N.min(4*Ie,de);if(Ie){for(var qe=0;qe<Ie;qe+=Ce)this._doProcessBlock(pe,qe);ye=pe.splice(0,Ie),Be.sigBytes-=Pe}return new te.init(ye,Pe)},clone:function(){var ie=ge.clone.call(this);return ie._data=this._data.clone(),ie},_minBufferSize:0}),Ze=(be.Hasher=Se.extend({cfg:ge.extend(),init:function(ie){this.cfg=this.cfg.extend(ie),this.reset()},reset:function(){Se.reset.call(this),this._doReset()},update:function(ie){return this._append(ie),this._process(),this},finalize:function(ie){return ie&&this._append(ie),this._doFinalize()},blockSize:16,_createHelper:function(ie){return function(ye,Be){return new ie.init(Be).finalize(ye)}},_createHmacHelper:function(ie){return function(ye,Be){return new Ze.HMAC.init(ie,Be).finalize(ye)}}}),J.algo={});return J}(Math),C)},8891:function(Ue,he,O){var C,j;Ue.exports=(C=O(7656),j=C.lib.WordArray,C.enc.Base64={stringify:function(be){var ge=be.words,te=be.sigBytes,Z=this._map;be.clamp();for(var se=[],Te=0;Te<te;Te+=3)for(var Ze=(ge[Te>>>2]>>>24-Te%4*8&255)<<16|(ge[Te+1>>>2]>>>24-(Te+1)%4*8&255)<<8|ge[Te+2>>>2]>>>24-(Te+2)%4*8&255,ie=0;ie<4&&Te+.75*ie<te;ie++)se.push(Z.charAt(Ze>>>6*(3-ie)&63));var ye=Z.charAt(64);if(ye)for(;se.length%4;)se.push(ye);return se.join("")},parse:function(be){var ge=be.length,te=this._map,Z=this._reverseMap;if(!Z){Z=this._reverseMap=[];for(var se=0;se<te.length;se++)Z[te.charCodeAt(se)]=se}var Te=te.charAt(64);if(Te){var ae=be.indexOf(Te);-1!==ae&&(ge=ae)}return function J(be,ge,te){for(var Z=[],se=0,Te=0;Te<ge;Te++)if(Te%4){var ae=te[be.charCodeAt(Te-1)]<<Te%4*2,Se=te[be.charCodeAt(Te)]>>>6-Te%4*2;Z[se>>>2]|=(ae|Se)<<24-se%4*8,se++}return j.create(Z,se)}(be,ge,Z)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},C.enc.Base64)},627:function(Ue,he,O){Ue.exports=O(7656).enc.Utf8},5168:function(Ue,he,O){var C;Ue.exports=(C=O(7656),function(N){var w=C,j=w.lib,Q=j.WordArray,De=j.Hasher,J=w.algo,be=[],ge=[];!function(){function se(ze){for(var Ze=N.sqrt(ze),ie=2;ie<=Ze;ie++)if(!(ze%ie))return!1;return!0}function Te(ze){return 4294967296*(ze-(0|ze))|0}for(var ae=2,Se=0;Se<64;)se(ae)&&(Se<8&&(be[Se]=Te(N.pow(ae,.5))),ge[Se]=Te(N.pow(ae,1/3)),Se++),ae++}();var te=[],Z=J.SHA256=De.extend({_doReset:function(){this._hash=new Q.init(be.slice(0))},_doProcessBlock:function(se,Te){for(var ae=this._hash.words,Se=ae[0],ze=ae[1],Ze=ae[2],ie=ae[3],ye=ae[4],Be=ae[5],pe=ae[6],de=ae[7],Ce=0;Ce<64;Ce++){if(Ce<16)te[Ce]=0|se[Te+Ce];else{var We=te[Ce-15],Ie=te[Ce-2];te[Ce]=((We<<25|We>>>7)^(We<<14|We>>>18)^We>>>3)+te[Ce-7]+((Ie<<15|Ie>>>17)^(Ie<<13|Ie>>>19)^Ie>>>10)+te[Ce-16]}var Je=Se&ze^Se&Ze^ze&Ze,tn=de+((ye<<26|ye>>>6)^(ye<<21|ye>>>11)^(ye<<7|ye>>>25))+(ye&Be^~ye&pe)+ge[Ce]+te[Ce];de=pe,pe=Be,Be=ye,ye=ie+tn|0,ie=Ze,Ze=ze,ze=Se,Se=tn+(((Se<<30|Se>>>2)^(Se<<19|Se>>>13)^(Se<<10|Se>>>22))+Je)|0}ae[0]=ae[0]+Se|0,ae[1]=ae[1]+ze|0,ae[2]=ae[2]+Ze|0,ae[3]=ae[3]+ie|0,ae[4]=ae[4]+ye|0,ae[5]=ae[5]+Be|0,ae[6]=ae[6]+pe|0,ae[7]=ae[7]+de|0},_doFinalize:function(){var se=this._data,Te=se.words,ae=8*this._nDataBytes,Se=8*se.sigBytes;return Te[Se>>>5]|=128<<24-Se%32,Te[14+(Se+64>>>9<<4)]=N.floor(ae/4294967296),Te[15+(Se+64>>>9<<4)]=ae,se.sigBytes=4*Te.length,this._process(),this._hash},clone:function(){var se=De.clone.call(this);return se._hash=this._hash.clone(),se}});w.SHA256=De._createHelper(Z),w.HmacSHA256=De._createHmacHelper(Z)}(Math),C.SHA256)},4412:(Ue,he,O)=>{"use strict";O.d(he,{t:()=>N});var C=O(1413);class N extends C.B{constructor(j){super(),this._value=j}get value(){return this.getValue()}_subscribe(j){const Q=super._subscribe(j);return!Q.closed&&j.next(this._value),Q}getValue(){const{hasError:j,thrownError:Q,_value:De}=this;if(j)throw Q;return this._throwIfClosed(),De}next(j){super.next(this._value=j)}}},1985:(Ue,he,O)=>{"use strict";O.d(he,{c:()=>be});var C=O(7707),N=O(8359),w=O(3494),j=O(1203),Q=O(1026),De=O(8071),J=O(9786);let be=(()=>{class se{constructor(ae){ae&&(this._subscribe=ae)}lift(ae){const Se=new se;return Se.source=this,Se.operator=ae,Se}subscribe(ae,Se,ze){const Ze=function Z(se){return se&&se instanceof C.vU||function te(se){return se&&(0,De.T)(se.next)&&(0,De.T)(se.error)&&(0,De.T)(se.complete)}(se)&&(0,N.Uv)(se)}(ae)?ae:new C.Ms(ae,Se,ze);return(0,J.Y)(()=>{const{operator:ie,source:ye}=this;Ze.add(ie?ie.call(Ze,ye):ye?this._subscribe(Ze):this._trySubscribe(Ze))}),Ze}_trySubscribe(ae){try{return this._subscribe(ae)}catch(Se){ae.error(Se)}}forEach(ae,Se){return new(Se=ge(Se))((ze,Ze)=>{const ie=new C.Ms({next:ye=>{try{ae(ye)}catch(Be){Ze(Be),ie.unsubscribe()}},error:Ze,complete:ze});this.subscribe(ie)})}_subscribe(ae){var Se;return null===(Se=this.source)||void 0===Se?void 0:Se.subscribe(ae)}[w.s](){return this}pipe(...ae){return(0,j.m)(ae)(this)}toPromise(ae){return new(ae=ge(ae))((Se,ze)=>{let Ze;this.subscribe(ie=>Ze=ie,ie=>ze(ie),()=>Se(Ze))})}}return se.create=Te=>new se(Te),se})();function ge(se){var Te;return null!==(Te=se??Q.$.Promise)&&void 0!==Te?Te:Promise}},1413:(Ue,he,O)=>{"use strict";O.d(he,{B:()=>J});var C=O(1985),N=O(8359);const j=(0,O(1853).L)(ge=>function(){ge(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Q=O(7908),De=O(9786);let J=(()=>{class ge extends C.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Z){const se=new be(this,this);return se.operator=Z,se}_throwIfClosed(){if(this.closed)throw new j}next(Z){(0,De.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const se of this.currentObservers)se.next(Z)}})}error(Z){(0,De.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Z;const{observers:se}=this;for(;se.length;)se.shift().error(Z)}})}complete(){(0,De.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Z}=this;for(;Z.length;)Z.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Z;return(null===(Z=this.observers)||void 0===Z?void 0:Z.length)>0}_trySubscribe(Z){return this._throwIfClosed(),super._trySubscribe(Z)}_subscribe(Z){return this._throwIfClosed(),this._checkFinalizedStatuses(Z),this._innerSubscribe(Z)}_innerSubscribe(Z){const{hasError:se,isStopped:Te,observers:ae}=this;return se||Te?N.Kn:(this.currentObservers=null,ae.push(Z),new N.yU(()=>{this.currentObservers=null,(0,Q.o)(ae,Z)}))}_checkFinalizedStatuses(Z){const{hasError:se,thrownError:Te,isStopped:ae}=this;se?Z.error(Te):ae&&Z.complete()}asObservable(){const Z=new C.c;return Z.source=this,Z}}return ge.create=(te,Z)=>new be(te,Z),ge})();class be extends J{constructor(te,Z){super(),this.destination=te,this.source=Z}next(te){var Z,se;null===(se=null===(Z=this.destination)||void 0===Z?void 0:Z.next)||void 0===se||se.call(Z,te)}error(te){var Z,se;null===(se=null===(Z=this.destination)||void 0===Z?void 0:Z.error)||void 0===se||se.call(Z,te)}complete(){var te,Z;null===(Z=null===(te=this.destination)||void 0===te?void 0:te.complete)||void 0===Z||Z.call(te)}_subscribe(te){var Z,se;return null!==(se=null===(Z=this.source)||void 0===Z?void 0:Z.subscribe(te))&&void 0!==se?se:N.Kn}}},7707:(Ue,he,O)=>{"use strict";O.d(he,{Ms:()=>ze,vU:()=>se});var C=O(8071),N=O(8359),w=O(1026),j=O(5334),Q=O(5343);const De=ge("C",void 0,void 0);function ge(pe,de,Ce){return{kind:pe,value:de,error:Ce}}var te=O(9270),Z=O(9786);class se extends N.yU{constructor(de){super(),this.isStopped=!1,de?(this.destination=de,(0,N.Uv)(de)&&de.add(this)):this.destination=Be}static create(de,Ce,We){return new ze(de,Ce,We)}next(de){this.isStopped?ye(function be(pe){return ge("N",pe,void 0)}(de),this):this._next(de)}error(de){this.isStopped?ye(function J(pe){return ge("E",void 0,pe)}(de),this):(this.isStopped=!0,this._error(de))}complete(){this.isStopped?ye(De,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(de){this.destination.next(de)}_error(de){try{this.destination.error(de)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Te=Function.prototype.bind;function ae(pe,de){return Te.call(pe,de)}class Se{constructor(de){this.partialObserver=de}next(de){const{partialObserver:Ce}=this;if(Ce.next)try{Ce.next(de)}catch(We){Ze(We)}}error(de){const{partialObserver:Ce}=this;if(Ce.error)try{Ce.error(de)}catch(We){Ze(We)}else Ze(de)}complete(){const{partialObserver:de}=this;if(de.complete)try{de.complete()}catch(Ce){Ze(Ce)}}}class ze extends se{constructor(de,Ce,We){let Ae;if(super(),(0,C.T)(de)||!de)Ae={next:de??void 0,error:Ce??void 0,complete:We??void 0};else{let Ie;this&&w.$.useDeprecatedNextContext?(Ie=Object.create(de),Ie.unsubscribe=()=>this.unsubscribe(),Ae={next:de.next&&ae(de.next,Ie),error:de.error&&ae(de.error,Ie),complete:de.complete&&ae(de.complete,Ie)}):Ae=de}this.destination=new Se(Ae)}}function Ze(pe){w.$.useDeprecatedSynchronousErrorHandling?(0,Z.l)(pe):(0,j.m)(pe)}function ye(pe,de){const{onStoppedNotification:Ce}=w.$;Ce&&te.f.setTimeout(()=>Ce(pe,de))}const Be={closed:!0,next:Q.l,error:function ie(pe){throw pe},complete:Q.l}},8359:(Ue,he,O)=>{"use strict";O.d(he,{Kn:()=>De,yU:()=>Q,Uv:()=>J});var C=O(8071);const w=(0,O(1853).L)(ge=>function(Z){ge(this),this.message=Z?`${Z.length} errors occurred during unsubscription:\n${Z.map((se,Te)=>`${Te+1}) ${se.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Z});var j=O(7908);class Q{constructor(te){this.initialTeardown=te,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let te;if(!this.closed){this.closed=!0;const{_parentage:Z}=this;if(Z)if(this._parentage=null,Array.isArray(Z))for(const ae of Z)ae.remove(this);else Z.remove(this);const{initialTeardown:se}=this;if((0,C.T)(se))try{se()}catch(ae){te=ae instanceof w?ae.errors:[ae]}const{_finalizers:Te}=this;if(Te){this._finalizers=null;for(const ae of Te)try{be(ae)}catch(Se){te=te??[],Se instanceof w?te=[...te,...Se.errors]:te.push(Se)}}if(te)throw new w(te)}}add(te){var Z;if(te&&te!==this)if(this.closed)be(te);else{if(te instanceof Q){if(te.closed||te._hasParent(this))return;te._addParent(this)}(this._finalizers=null!==(Z=this._finalizers)&&void 0!==Z?Z:[]).push(te)}}_hasParent(te){const{_parentage:Z}=this;return Z===te||Array.isArray(Z)&&Z.includes(te)}_addParent(te){const{_parentage:Z}=this;this._parentage=Array.isArray(Z)?(Z.push(te),Z):Z?[Z,te]:te}_removeParent(te){const{_parentage:Z}=this;Z===te?this._parentage=null:Array.isArray(Z)&&(0,j.o)(Z,te)}remove(te){const{_finalizers:Z}=this;Z&&(0,j.o)(Z,te),te instanceof Q&&te._removeParent(this)}}Q.EMPTY=(()=>{const ge=new Q;return ge.closed=!0,ge})();const De=Q.EMPTY;function J(ge){return ge instanceof Q||ge&&"closed"in ge&&(0,C.T)(ge.remove)&&(0,C.T)(ge.add)&&(0,C.T)(ge.unsubscribe)}function be(ge){(0,C.T)(ge)?ge():ge.unsubscribe()}},1026:(Ue,he,O)=>{"use strict";O.d(he,{$:()=>C});const C={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},983:(Ue,he,O)=>{"use strict";O.d(he,{w:()=>N});const N=new(O(1985).c)(Q=>Q.complete())},6648:(Ue,he,O)=>{"use strict";O.d(he,{H:()=>We});var C=O(8750),N=O(5225),w=O(9974),j=O(4360);function Q(Ae,Ie=0){return(0,w.N)((Pe,qe)=>{Pe.subscribe((0,j._)(qe,Je=>(0,N.N)(qe,Ae,()=>qe.next(Je),Ie),()=>(0,N.N)(qe,Ae,()=>qe.complete(),Ie),Je=>(0,N.N)(qe,Ae,()=>qe.error(Je),Ie)))})}function De(Ae,Ie=0){return(0,w.N)((Pe,qe)=>{qe.add(Ae.schedule(()=>Pe.subscribe(qe),Ie))})}var ge=O(1985),Z=O(4761),se=O(8071);function ae(Ae,Ie){if(!Ae)throw new Error("Iterable cannot be null");return new ge.c(Pe=>{(0,N.N)(Pe,Ie,()=>{const qe=Ae[Symbol.asyncIterator]();(0,N.N)(Pe,Ie,()=>{qe.next().then(Je=>{Je.done?Pe.complete():Pe.next(Je.value)})},0,!0)})})}var Se=O(5055),ze=O(9858),Ze=O(7441),ie=O(5397),ye=O(7953),Be=O(591),pe=O(5196);function We(Ae,Ie){return Ie?function Ce(Ae,Ie){if(null!=Ae){if((0,Se.l)(Ae))return function J(Ae,Ie){return(0,C.Tg)(Ae).pipe(De(Ie),Q(Ie))}(Ae,Ie);if((0,Ze.X)(Ae))return function te(Ae,Ie){return new ge.c(Pe=>{let qe=0;return Ie.schedule(function(){qe===Ae.length?Pe.complete():(Pe.next(Ae[qe++]),Pe.closed||this.schedule())})})}(Ae,Ie);if((0,ze.y)(Ae))return function be(Ae,Ie){return(0,C.Tg)(Ae).pipe(De(Ie),Q(Ie))}(Ae,Ie);if((0,ye.T)(Ae))return ae(Ae,Ie);if((0,ie.x)(Ae))return function Te(Ae,Ie){return new ge.c(Pe=>{let qe;return(0,N.N)(Pe,Ie,()=>{qe=Ae[Z.l](),(0,N.N)(Pe,Ie,()=>{let Je,er;try{({value:Je,done:er}=qe.next())}catch(yn){return void Pe.error(yn)}er?Pe.complete():Pe.next(Je)},0,!0)}),()=>(0,se.T)(qe?.return)&&qe.return()})}(Ae,Ie);if((0,pe.U)(Ae))return function de(Ae,Ie){return ae((0,pe.C)(Ae),Ie)}(Ae,Ie)}throw(0,Be.L)(Ae)}(Ae,Ie):(0,C.Tg)(Ae)}},8750:(Ue,he,O)=>{"use strict";O.d(he,{Tg:()=>Te});var C=O(1635),N=O(7441),w=O(9858),j=O(1985),Q=O(5055),De=O(7953),J=O(591),be=O(5397),ge=O(5196),te=O(8071),Z=O(5334),se=O(3494);function Te(pe){if(pe instanceof j.c)return pe;if(null!=pe){if((0,Q.l)(pe))return function ae(pe){return new j.c(de=>{const Ce=pe[se.s]();if((0,te.T)(Ce.subscribe))return Ce.subscribe(de);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(pe);if((0,N.X)(pe))return function Se(pe){return new j.c(de=>{for(let Ce=0;Ce<pe.length&&!de.closed;Ce++)de.next(pe[Ce]);de.complete()})}(pe);if((0,w.y)(pe))return function ze(pe){return new j.c(de=>{pe.then(Ce=>{de.closed||(de.next(Ce),de.complete())},Ce=>de.error(Ce)).then(null,Z.m)})}(pe);if((0,De.T)(pe))return ie(pe);if((0,be.x)(pe))return function Ze(pe){return new j.c(de=>{for(const Ce of pe)if(de.next(Ce),de.closed)return;de.complete()})}(pe);if((0,ge.U)(pe))return function ye(pe){return ie((0,ge.C)(pe))}(pe)}throw(0,J.L)(pe)}function ie(pe){return new j.c(de=>{(function Be(pe,de){var Ce,We,Ae,Ie;return(0,C.sH)(this,void 0,void 0,function*(){try{for(Ce=(0,C.xN)(pe);!(We=yield Ce.next()).done;)if(de.next(We.value),de.closed)return}catch(Pe){Ae={error:Pe}}finally{try{We&&!We.done&&(Ie=Ce.return)&&(yield Ie.call(Ce))}finally{if(Ae)throw Ae.error}}de.complete()})})(pe,de).catch(Ce=>de.error(Ce))})}},7673:(Ue,he,O)=>{"use strict";O.d(he,{of:()=>w});var C=O(3794),N=O(6648);function w(...j){const Q=(0,C.lI)(j);return(0,N.H)(j,Q)}},8810:(Ue,he,O)=>{"use strict";O.d(he,{$:()=>w});var C=O(1985),N=O(8071);function w(j,Q){const De=(0,N.T)(j)?j:()=>j,J=be=>be.error(De());return new C.c(Q?be=>Q.schedule(J,0,be):J)}},4360:(Ue,he,O)=>{"use strict";O.d(he,{_:()=>N});var C=O(7707);function N(j,Q,De,J,be){return new w(j,Q,De,J,be)}class w extends C.vU{constructor(Q,De,J,be,ge,te){super(Q),this.onFinalize=ge,this.shouldUnsubscribe=te,this._next=De?function(Z){try{De(Z)}catch(se){Q.error(se)}}:super._next,this._error=be?function(Z){try{be(Z)}catch(se){Q.error(se)}finally{this.unsubscribe()}}:super._error,this._complete=J?function(){try{J()}catch(Z){Q.error(Z)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Q;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:De}=this;super.unsubscribe(),!De&&(null===(Q=this.onFinalize)||void 0===Q||Q.call(this))}}}},9437:(Ue,he,O)=>{"use strict";O.d(he,{W:()=>j});var C=O(8750),N=O(4360),w=O(9974);function j(Q){return(0,w.N)((De,J)=>{let te,be=null,ge=!1;be=De.subscribe((0,N._)(J,void 0,void 0,Z=>{te=(0,C.Tg)(Q(Z,j(Q)(De))),be?(be.unsubscribe(),be=null,te.subscribe(J)):ge=!0})),ge&&(be.unsubscribe(),be=null,te.subscribe(J))})}},274:(Ue,he,O)=>{"use strict";O.d(he,{H:()=>w});var C=O(1397),N=O(8071);function w(j,Q){return(0,N.T)(Q)?(0,C.Z)(j,Q,1):(0,C.Z)(j,1)}},5964:(Ue,he,O)=>{"use strict";O.d(he,{p:()=>w});var C=O(9974),N=O(4360);function w(j,Q){return(0,C.N)((De,J)=>{let be=0;De.subscribe((0,N._)(J,ge=>j.call(Q,ge,be++)&&J.next(ge)))})}},980:(Ue,he,O)=>{"use strict";O.d(he,{j:()=>N});var C=O(9974);function N(w){return(0,C.N)((j,Q)=>{try{j.subscribe(Q)}finally{Q.add(w)}})}},6354:(Ue,he,O)=>{"use strict";O.d(he,{T:()=>w});var C=O(9974),N=O(4360);function w(j,Q){return(0,C.N)((De,J)=>{let be=0;De.subscribe((0,N._)(J,ge=>{J.next(j.call(Q,ge,be++))}))})}},1397:(Ue,he,O)=>{"use strict";O.d(he,{Z:()=>be});var C=O(6354),N=O(8750),w=O(9974),j=O(5225),Q=O(4360),J=O(8071);function be(ge,te,Z=1/0){return(0,J.T)(te)?be((se,Te)=>(0,C.T)((ae,Se)=>te(se,ae,Te,Se))((0,N.Tg)(ge(se,Te))),Z):("number"==typeof te&&(Z=te),(0,w.N)((se,Te)=>function De(ge,te,Z,se,Te,ae,Se,ze){const Ze=[];let ie=0,ye=0,Be=!1;const pe=()=>{Be&&!Ze.length&&!ie&&te.complete()},de=We=>ie<se?Ce(We):Ze.push(We),Ce=We=>{ae&&te.next(We),ie++;let Ae=!1;(0,N.Tg)(Z(We,ye++)).subscribe((0,Q._)(te,Ie=>{Te?.(Ie),ae?de(Ie):te.next(Ie)},()=>{Ae=!0},void 0,()=>{if(Ae)try{for(ie--;Ze.length&&ie<se;){const Ie=Ze.shift();Se?(0,j.N)(te,Se,()=>Ce(Ie)):Ce(Ie)}pe()}catch(Ie){te.error(Ie)}}))};return ge.subscribe((0,Q._)(te,de,()=>{Be=!0,pe()})),()=>{ze?.()}}(se,Te,ge,Z)))}},5558:(Ue,he,O)=>{"use strict";O.d(he,{n:()=>j});var C=O(8750),N=O(9974),w=O(4360);function j(Q,De){return(0,N.N)((J,be)=>{let ge=null,te=0,Z=!1;const se=()=>Z&&!ge&&be.complete();J.subscribe((0,w._)(be,Te=>{ge?.unsubscribe();let ae=0;const Se=te++;(0,C.Tg)(Q(Te,Se)).subscribe(ge=(0,w._)(be,ze=>be.next(De?De(Te,ze,Se,ae++):ze),()=>{ge=null,se()}))},()=>{Z=!0,se()}))})}},6697:(Ue,he,O)=>{"use strict";O.d(he,{s:()=>j});var C=O(983),N=O(9974),w=O(4360);function j(Q){return Q<=0?()=>C.w:(0,N.N)((De,J)=>{let be=0;De.subscribe((0,w._)(J,ge=>{++be<=Q&&(J.next(ge),Q<=be&&J.complete())}))})}},9270:(Ue,he,O)=>{"use strict";O.d(he,{f:()=>C});const C={setTimeout(N,w,...j){const{delegate:Q}=C;return Q?.setTimeout?Q.setTimeout(N,w,...j):setTimeout(N,w,...j)},clearTimeout(N){const{delegate:w}=C;return(w?.clearTimeout||clearTimeout)(N)},delegate:void 0}},4761:(Ue,he,O)=>{"use strict";O.d(he,{l:()=>N});const N=function C(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(Ue,he,O)=>{"use strict";O.d(he,{s:()=>C});const C="function"==typeof Symbol&&Symbol.observable||"@@observable"},3794:(Ue,he,O)=>{"use strict";O.d(he,{ms:()=>j,lI:()=>Q});var C=O(8071);function w(J){return J[J.length-1]}function j(J){return(0,C.T)(w(J))?J.pop():void 0}function Q(J){return function N(J){return J&&(0,C.T)(J.schedule)}(w(J))?J.pop():void 0}},3073:(Ue,he,O)=>{"use strict";O.d(he,{D:()=>Q});const{isArray:C}=Array,{getPrototypeOf:N,prototype:w,keys:j}=Object;function Q(J){if(1===J.length){const be=J[0];if(C(be))return{args:be,keys:null};if(function De(J){return J&&"object"==typeof J&&N(J)===w}(be)){const ge=j(be);return{args:ge.map(te=>be[te]),keys:ge}}}return{args:J,keys:null}}},7908:(Ue,he,O)=>{"use strict";function C(N,w){if(N){const j=N.indexOf(w);0<=j&&N.splice(j,1)}}O.d(he,{o:()=>C})},1853:(Ue,he,O)=>{"use strict";function C(N){const j=N(Q=>{Error.call(Q),Q.stack=(new Error).stack});return j.prototype=Object.create(Error.prototype),j.prototype.constructor=j,j}O.d(he,{L:()=>C})},8496:(Ue,he,O)=>{"use strict";function C(N,w){return N.reduce((j,Q,De)=>(j[Q]=w[De],j),{})}O.d(he,{e:()=>C})},9786:(Ue,he,O)=>{"use strict";O.d(he,{Y:()=>w,l:()=>j});var C=O(1026);let N=null;function w(Q){if(C.$.useDeprecatedSynchronousErrorHandling){const De=!N;if(De&&(N={errorThrown:!1,error:null}),Q(),De){const{errorThrown:J,error:be}=N;if(N=null,J)throw be}}else Q()}function j(Q){C.$.useDeprecatedSynchronousErrorHandling&&N&&(N.errorThrown=!0,N.error=Q)}},5225:(Ue,he,O)=>{"use strict";function C(N,w,j,Q=0,De=!1){const J=w.schedule(function(){j(),De?N.add(this.schedule(null,Q)):this.unsubscribe()},Q);if(N.add(J),!De)return J}O.d(he,{N:()=>C})},3669:(Ue,he,O)=>{"use strict";function C(N){return N}O.d(he,{D:()=>C})},7441:(Ue,he,O)=>{"use strict";O.d(he,{X:()=>C});const C=N=>N&&"number"==typeof N.length&&"function"!=typeof N},7953:(Ue,he,O)=>{"use strict";O.d(he,{T:()=>N});var C=O(8071);function N(w){return Symbol.asyncIterator&&(0,C.T)(w?.[Symbol.asyncIterator])}},8071:(Ue,he,O)=>{"use strict";function C(N){return"function"==typeof N}O.d(he,{T:()=>C})},5055:(Ue,he,O)=>{"use strict";O.d(he,{l:()=>w});var C=O(3494),N=O(8071);function w(j){return(0,N.T)(j[C.s])}},5397:(Ue,he,O)=>{"use strict";O.d(he,{x:()=>w});var C=O(4761),N=O(8071);function w(j){return(0,N.T)(j?.[C.l])}},4402:(Ue,he,O)=>{"use strict";O.d(he,{A:()=>w});var C=O(1985),N=O(8071);function w(j){return!!j&&(j instanceof C.c||(0,N.T)(j.lift)&&(0,N.T)(j.subscribe))}},9858:(Ue,he,O)=>{"use strict";O.d(he,{y:()=>N});var C=O(8071);function N(w){return(0,C.T)(w?.then)}},5196:(Ue,he,O)=>{"use strict";O.d(he,{C:()=>w,U:()=>j});var C=O(1635),N=O(8071);function w(Q){return(0,C.AQ)(this,arguments,function*(){const J=Q.getReader();try{for(;;){const{value:be,done:ge}=yield(0,C.N3)(J.read());if(ge)return yield(0,C.N3)(void 0);yield yield(0,C.N3)(be)}}finally{J.releaseLock()}})}function j(Q){return(0,N.T)(Q?.getReader)}},9974:(Ue,he,O)=>{"use strict";O.d(he,{N:()=>w,S:()=>N});var C=O(8071);function N(j){return(0,C.T)(j?.lift)}function w(j){return Q=>{if(N(Q))return Q.lift(function(De){try{return j(De,this)}catch(J){this.error(J)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(Ue,he,O)=>{"use strict";O.d(he,{I:()=>j});var C=O(6354);const{isArray:N}=Array;function j(Q){return(0,C.T)(De=>function w(Q,De){return N(De)?Q(...De):Q(De)}(Q,De))}},5343:(Ue,he,O)=>{"use strict";function C(){}O.d(he,{l:()=>C})},1203:(Ue,he,O)=>{"use strict";O.d(he,{F:()=>N,m:()=>w});var C=O(3669);function N(...j){return w(j)}function w(j){return 0===j.length?C.D:1===j.length?j[0]:function(De){return j.reduce((J,be)=>be(J),De)}}},5334:(Ue,he,O)=>{"use strict";O.d(he,{m:()=>w});var C=O(1026),N=O(9270);function w(j){N.f.setTimeout(()=>{const{onUnhandledError:Q}=C.$;if(!Q)throw j;Q(j)})}},591:(Ue,he,O)=>{"use strict";function C(N){return new TypeError(`You provided ${null!==N&&"object"==typeof N?"an invalid object":`'${N}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}O.d(he,{L:()=>C})},477:()=>{},177:(Ue,he,O)=>{"use strict";O.d(he,{AJ:()=>Xr,Jj:()=>pt,N0:()=>mo,QT:()=>w,VF:()=>Q,Vy:()=>Js,ZD:()=>j,_b:()=>Ii,aZ:()=>ie,hb:()=>ae,qQ:()=>J});var C=O(4438);let N=null;function w(){return N}function j(g){N??=g}class Q{}const J=new C.nKC("");let be=(()=>{class g{historyGo(_){throw new Error("")}static#e=this.\u0275fac=function(S){return new(S||g)};static#t=this.\u0275prov=C.jDH({token:g,factory:()=>(0,C.WQX)(te),providedIn:"platform"})}return g})(),te=(()=>{class g extends be{constructor(){super(),this._doc=(0,C.WQX)(J),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return w().getBaseHref(this._doc)}onPopState(_){const S=w().getGlobalEventTarget(this._doc,"window");return S.addEventListener("popstate",_,!1),()=>S.removeEventListener("popstate",_)}onHashChange(_){const S=w().getGlobalEventTarget(this._doc,"window");return S.addEventListener("hashchange",_,!1),()=>S.removeEventListener("hashchange",_)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(_){this._location.pathname=_}pushState(_,S,P){this._history.pushState(_,S,P)}replaceState(_,S,P){this._history.replaceState(_,S,P)}forward(){this._history.forward()}back(){this._history.back()}historyGo(_=0){this._history.go(_)}getState(){return this._history.state}static#e=this.\u0275fac=function(S){return new(S||g)};static#t=this.\u0275prov=C.jDH({token:g,factory:()=>new g,providedIn:"platform"})}return g})();function Z(g,M){if(0==g.length)return M;if(0==M.length)return g;let _=0;return g.endsWith("/")&&_++,M.startsWith("/")&&_++,2==_?g+M.substring(1):1==_?g+M:g+"/"+M}function se(g){const M=g.match(/#|\?|$/),_=M&&M.index||g.length;return g.slice(0,_-("/"===g[_-1]?1:0))+g.slice(_)}function Te(g){return g&&"?"!==g[0]?"?"+g:g}let ae=(()=>{class g{historyGo(_){throw new Error("")}static#e=this.\u0275fac=function(S){return new(S||g)};static#t=this.\u0275prov=C.jDH({token:g,factory:()=>(0,C.WQX)(ze),providedIn:"root"})}return g})();const Se=new C.nKC("");let ze=(()=>{class g extends ae{constructor(_,S){super(),this._platformLocation=_,this._removeListenerFns=[],this._baseHref=S??this._platformLocation.getBaseHrefFromDOM()??(0,C.WQX)(J).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(_){this._removeListenerFns.push(this._platformLocation.onPopState(_),this._platformLocation.onHashChange(_))}getBaseHref(){return this._baseHref}prepareExternalUrl(_){return Z(this._baseHref,_)}path(_=!1){const S=this._platformLocation.pathname+Te(this._platformLocation.search),P=this._platformLocation.hash;return P&&_?`${S}${P}`:S}pushState(_,S,P,X){const le=this.prepareExternalUrl(P+Te(X));this._platformLocation.pushState(_,S,le)}replaceState(_,S,P,X){const le=this.prepareExternalUrl(P+Te(X));this._platformLocation.replaceState(_,S,le)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(_=0){this._platformLocation.historyGo?.(_)}static#e=this.\u0275fac=function(S){return new(S||g)(C.KVO(be),C.KVO(Se,8))};static#t=this.\u0275prov=C.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}return g})(),ie=(()=>{class g{constructor(_){this._subject=new C.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=_;const S=this._locationStrategy.getBaseHref();this._basePath=function de(g){if(new RegExp("^(https?:)?//").test(g)){const[,_]=g.split(/\/\/[^\/]+/);return _}return g}(se(pe(S))),this._locationStrategy.onPopState(P=>{this._subject.emit({url:this.path(!0),pop:!0,state:P.state,type:P.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(_=!1){return this.normalize(this._locationStrategy.path(_))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(_,S=""){return this.path()==this.normalize(_+Te(S))}normalize(_){return g.stripTrailingSlash(function Be(g,M){if(!g||!M.startsWith(g))return M;const _=M.substring(g.length);return""===_||["/",";","?","#"].includes(_[0])?_:M}(this._basePath,pe(_)))}prepareExternalUrl(_){return _&&"/"!==_[0]&&(_="/"+_),this._locationStrategy.prepareExternalUrl(_)}go(_,S="",P=null){this._locationStrategy.pushState(P,"",_,S),this._notifyUrlChangeListeners(this.prepareExternalUrl(_+Te(S)),P)}replaceState(_,S="",P=null){this._locationStrategy.replaceState(P,"",_,S),this._notifyUrlChangeListeners(this.prepareExternalUrl(_+Te(S)),P)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(_=0){this._locationStrategy.historyGo?.(_)}onUrlChange(_){return this._urlChangeListeners.push(_),this._urlChangeSubscription??=this.subscribe(S=>{this._notifyUrlChangeListeners(S.url,S.state)}),()=>{const S=this._urlChangeListeners.indexOf(_);this._urlChangeListeners.splice(S,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(_="",S){this._urlChangeListeners.forEach(P=>P(_,S))}subscribe(_,S,P){return this._subject.subscribe({next:_,error:S,complete:P})}static#e=this.normalizeQueryParams=Te;static#t=this.joinWithSlash=Z;static#n=this.stripTrailingSlash=se;static#i=this.\u0275fac=function(S){return new(S||g)(C.KVO(ae))};static#s=this.\u0275prov=C.jDH({token:g,factory:()=>function ye(){return new ie((0,C.KVO)(ae))}(),providedIn:"root"})}return g})();function pe(g){return g.replace(/\/index.html$/,"")}function Ii(g,M){M=encodeURIComponent(M);for(const _ of g.split(";")){const S=_.indexOf("="),[P,X]=-1==S?[_,""]:[_.slice(0,S),_.slice(S+1)];if(P.trim()===M)return decodeURIComponent(X)}return null}class xo{createSubscription(M,_){return(0,C.O8t)(()=>M.subscribe({next:_,error:S=>{throw S}}))}dispose(M){(0,C.O8t)(()=>M.unsubscribe())}}class Ti{createSubscription(M,_){return M.then(_,S=>{throw S})}dispose(M){}}const Ai=new Ti,Ri=new xo;let pt=(()=>{class g{constructor(_){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=_}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(_){if(!this._obj){if(_)try{this.markForCheckOnValueUpdate=!1,this._subscribe(_)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return _!==this._obj?(this._dispose(),this.transform(_)):this._latestValue}_subscribe(_){this._obj=_,this._strategy=this._selectStrategy(_),this._subscription=this._strategy.createSubscription(_,S=>this._updateLatestValue(_,S))}_selectStrategy(_){if((0,C.jNT)(_))return Ai;if((0,C.zjR)(_))return Ri;throw function _n(g,M){return new C.wOt(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(_,S){_===this._obj&&(this._latestValue=S,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static#e=this.\u0275fac=function(S){return new(S||g)(C.rXU(C.gRc,16))};static#t=this.\u0275pipe=C.EJ8({name:"async",type:g,pure:!1,standalone:!0})}return g})();const Xr="browser",gs="server";function Js(g){return g===gs}class mo{}},4438:(Ue,he,O)=>{"use strict";O.d(he,{iLQ:()=>Yv,sZ2:()=>Ta,o8S:()=>Ba,BIS:()=>pd,gRc:()=>gb,Ql9:()=>LA,Ocv:()=>GA,Z63:()=>oi,aKT:()=>wl,uvJ:()=>Gn,zcH:()=>vi,bkB:()=>Kn,$GK:()=>pt,nKC:()=>Ke,zZn:()=>jr,_q3:()=>ay,MKu:()=>ly,xe9:()=>Sp,Co$:()=>lw,Vns:()=>Hl,SKi:()=>Un,Agw:()=>Us,PLl:()=>Vs,sFG:()=>h0,_9s:()=>y_,czy:()=>Hc,C4Q:()=>Vd,NYb:()=>AA,giA:()=>nb,RxE:()=>KC,c1b:()=>tp,gXe:()=>vo,L39:()=>UR,Ol2:()=>iv,w6W:()=>hS,Rfq:()=>lr,WQX:()=>je,naY:()=>QA,QuC:()=>Wn,EmA:()=>Is,N4e:()=>wo,O8t:()=>BR,H3F:()=>XC,H8p:()=>fr,KH2:()=>gu,TgB:()=>Zc,wOt:()=>Ne,WHO:()=>eb,e01:()=>tb,H5H:()=>Nv,Zy3:()=>xr,mq5:()=>dD,JZv:()=>tt,TL3:()=>ER,LfX:()=>Jo,plB:()=>La,jNT:()=>Zv,zjR:()=>rb,TL$:()=>Cy,Tbb:()=>Qt,Vt3:()=>nv,Mj6:()=>Lr,GFd:()=>aw,OA$:()=>b,Jv_:()=>bC,aNF:()=>EC,R7$:()=>Ul,BMQ:()=>mv,AVh:()=>Cv,wni:()=>ZD,VBU:()=>la,FsC:()=>Ya,jDH:()=>It,G2t:()=>Ei,$C:()=>ca,EJ8:()=>Es,rXU:()=>es,nrm:()=>Tv,k0s:()=>gp,j41:()=>pp,RV6:()=>lD,xGo:()=>Rr,KVO:()=>fn,kS0:()=>Or,bIt:()=>Pv,lsd:()=>eC,nI1:()=>NC,bMT:()=>OC,Y8G:()=>wv,mGM:()=>YD,sdS:()=>tC,Njj:()=>Ef,eBV:()=>bf,n$t:()=>sm,EFF:()=>dC,JRh:()=>Lv,DH7:()=>DC,mxI:()=>jv,R50:()=>Uv,GBs:()=>JD}),O(467);let w=null,Q=1;const De=Symbol("SIGNAL");function J(e){const t=w;return w=e,t}function ae(e){if((!We(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==Q)){if(!e.producerMustRecompute(e)&&!Be(e))return e.dirty=!1,void(e.lastCleanEpoch=Q);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=Q}}function Be(e){Ae(e);for(let t=0;t<e.producerNode.length;t++){const n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(ae(n),r!==n.version))return!0}return!1}function Ce(e,t){if(function Ie(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),Ae(e),1===e.liveConsumerNode.length)for(let r=0;r<e.producerNode.length;r++)Ce(e.producerNode[r],e.producerIndexOfThis[r]);const n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const r=e.liveConsumerIndexOfThis[t],o=e.liveConsumerNode[t];Ae(o),o.producerIndexOfThis[r]=t}}function We(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Ae(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let Rn=null;var Vt=O(1413),pn=O(8359),sr=O(4412),On=O(6354);const jn="https://g.co/ng/security#xss";class Ne extends Error{constructor(t,n){super(xr(t,n)),this.code=t}}function xr(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}function lt(e){return{toString:e}.toString()}const Wr="__parameters__";function gn(e,t,n){return lt(()=>{const r=function bn(e){return function(...n){if(e){const r=e(...n);for(const o in r)this[o]=r[o]}}}(t);function o(...l){if(this instanceof o)return r.apply(this,l),this;const c=new o(...l);return d.annotation=c,d;function d(p,D,I){const R=p.hasOwnProperty(Wr)?p[Wr]:Object.defineProperty(p,Wr,{value:[]})[Wr];for(;R.length<=I;)R.push(null);return(R[I]=R[I]||[]).push(c),p}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o})}const tt=globalThis;function bt(e){for(let t in e)if(e[t]===bt)return t;throw Error("Could not find renamed property on target object.")}function To(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Qt(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Qt).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function Cr(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const St=bt({__forward_ref__:bt});function lr(e){return e.__forward_ref__=lr,e.toString=function(){return Qt(this())},e}function $(e){return G(e)?e():e}function G(e){return"function"==typeof e&&e.hasOwnProperty(St)&&e.__forward_ref__===lr}function It(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Ei(e){return{providers:e.providers||[],imports:e.imports||[]}}function Si(e){return Yo(e,qs)||Yo(e,qr)}function Jo(e){return null!==Si(e)}function Yo(e,t){return e.hasOwnProperty(t)?e[t]:null}function zr(e){return e&&(e.hasOwnProperty(Ii)||e.hasOwnProperty(Ro))?e[Ii]:null}const qs=bt({\u0275prov:bt}),Ii=bt({\u0275inj:bt}),qr=bt({ngInjectableDef:bt}),Ro=bt({ngInjectorDef:bt});class Ke{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=It({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ti(e){return e&&!!e.\u0275providers}const kr=bt({\u0275cmp:bt}),Mi=bt({\u0275dir:bt}),cr=bt({\u0275pipe:bt}),Ks=bt({\u0275mod:bt}),nr=bt({\u0275fac:bt}),ct=bt({__NG_ELEMENT_ID__:bt}),br=bt({__NG_ENV_ID__:bt});function Xe(e){return"string"==typeof e?e:null==e?"":String(e)}function Ri(e,t){throw new Ne(-201,!1)}var pt=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(pt||{});let ds;function Xs(){return ds}function Pn(e){const t=ds;return ds=e,t}function Qs(e,t,n){const r=Si(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&pt.Optional?null:void 0!==t?t:void Ri()}const Kr={},fs="__NG_DI_FLAG__",Ni="ngTempTokenPath",hs=/\n/gm,Xa="__source";let Po;function Fr(e){const t=Po;return Po=e,t}function Oi(e,t=pt.Default){if(void 0===Po)throw new Ne(-203,!1);return null===Po?Qs(e,void 0,t):Po.get(e,t&pt.Optional?null:void 0,t)}function fn(e,t=pt.Default){return(Xs()||Oi)($(e),t)}function je(e,t=pt.Default){return fn(e,xi(t))}function xi(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Fo(e){const t=[];for(let n=0;n<e.length;n++){const r=$(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Ne(900,!1);let o,l=pt.Default;for(let c=0;c<r.length;c++){const d=r[c],p=Xr(d);"number"==typeof p?-1===p?o=d.token:l|=p:o=d}t.push(fn(o,l))}else t.push(fn(r))}return t}function ri(e,t){return e[fs]=t,e.prototype[fs]=t,e}function Xr(e){return e[fs]}const Pi=ri(gn("Optional"),8),ki=ri(gn("SkipSelf"),4);function go(e,t){return e.hasOwnProperty(nr)?e[nr]:null}function Er(e,t){e.forEach(n=>Array.isArray(n)?Er(n,t):t(n))}function ta(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function mo(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Fn(e,t,n){let r=$n(e,t);return r>=0?e[1|r]=n:(r=~r,function na(e,t,n,r){let o=e.length;if(o==t)e.push(n,r);else if(1===o)e.push(r,e[0]),e[0]=n;else{for(o--,e.push(e[o-1],e[o]);o>t;)e[o]=e[o-2],o--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function vs(e,t){const n=$n(e,t);if(n>=0)return e[1|n]}function $n(e,t){return function ys(e,t,n){let r=0,o=e.length>>n;for(;o!==r;){const l=r+(o-r>>1),c=e[l<<n];if(t===c)return l<<n;c>t?o=l:r=l+1}return~(o<<n)}(e,t,1)}const Sr={},Et=[],oi=new Ke(""),Yl=new Ke("",-1),_s=new Ke("");class ws{get(t,n=Kr){if(n===Kr){const r=new Error(`NullInjectorError: No provider for ${Qt(t)}!`);throw r.name="NullInjectorError",r}return n}}var Fi=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Fi||{}),vo=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(vo||{}),Lr=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Lr||{});function Ir(e,t,n){let r=e.length;for(;;){const o=e.indexOf(t,n);if(-1===o)return o;if(0===o||e.charCodeAt(o-1)<=32){const l=t.length;if(o+l===r||e.charCodeAt(o+l)<=32)return o}n=o+1}}function Ds(e,t,n){let r=0;for(;r<n.length;){const o=n[r];if("number"==typeof o){if(0!==o)break;r++;const l=n[r++],c=n[r++],d=n[r++];e.setAttribute(t,c,d,l)}else{const l=o,c=n[++r];ec(l)?e.setProperty(t,l,c):e.setAttribute(t,l,c),r++}}return r}function Lo(e){return 3===e||4===e||6===e}function ec(e){return 64===e.charCodeAt(0)}function Li(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const o=t[r];"number"==typeof o?n=o:0===n||ia(e,n,o,null,-1===n||2===n?t[++r]:null)}}return e}function ia(e,t,n,r,o){let l=0,c=e.length;if(-1===t)c=-1;else for(;l<e.length;){const d=e[l++];if("number"==typeof d){if(d===t){c=-1;break}if(d>t){c=l-1;break}}}for(;l<e.length;){const d=e[l];if("number"==typeof d)break;if(d===n){if(null===r)return void(null!==o&&(e[l+1]=o));if(r===e[l+1])return void(e[l+2]=o)}l++,null!==r&&l++,null!==o&&l++}-1!==c&&(e.splice(c,0,t),l=c+1),e.splice(l++,0,n),null!==r&&e.splice(l++,0,r),null!==o&&e.splice(l++,0,o)}const Cs="ng-template";function Vi(e,t,n,r){let o=0;if(r){for(;o<t.length&&"string"==typeof t[o];o+=2)if("class"===t[o]&&-1!==Ir(t[o+1].toLowerCase(),n,0))return!0}else if(sa(e))return!1;if(o=t.indexOf(1,o),o>-1){let l;for(;++o<t.length&&"string"==typeof(l=t[o]);)if(l.toLowerCase()===n)return!0}return!1}function sa(e){return 4===e.type&&e.value!==Cs}function tc(e,t,n){return t===(4!==e.type||n?e.value:Cs)}function Zr(e,t,n){let r=4;const o=e.attrs,l=null!==o?function ii(e){for(let t=0;t<e.length;t++)if(Lo(e[t]))return t;return e.length}(o):0;let c=!1;for(let d=0;d<t.length;d++){const p=t[d];if("number"!=typeof p){if(!c)if(4&r){if(r=2|1&r,""!==p&&!tc(e,p,n)||""===p&&1===t.length){if(En(r))return!1;c=!0}}else if(8&r){if(null===o||!Vi(e,o,p,n)){if(En(r))return!1;c=!0}}else{const D=t[++d],I=aa(p,o,sa(e),n);if(-1===I){if(En(r))return!1;c=!0;continue}if(""!==D){let R;if(R=I>l?"":o[I+1].toLowerCase(),2&r&&D!==R){if(En(r))return!1;c=!0}}}}else{if(!c&&!En(r)&&!En(p))return!1;if(c&&En(p))continue;c=!1,r=p|1&r}}return En(r)||c}function En(e){return!(1&e)}function aa(e,t,n,r){if(null===t)return-1;let o=0;if(r||!n){let l=!1;for(;o<t.length;){const c=t[o];if(c===e)return o;if(3===c||6===c)l=!0;else{if(1===c||2===c){let d=t[++o];for(;"string"==typeof d;)d=t[++o];continue}if(4===c)break;if(0===c){o+=4;continue}}o+=l?1:2}return-1}return function Ut(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function Qa(e,t,n=!1){for(let r=0;r<t.length;r++)if(Zr(e,t[r],n))return!0;return!1}function Za(e,t){return e?":not("+t.trim()+")":t}function rc(e){let t=e[0],n=1,r=2,o="",l=!1;for(;n<e.length;){let c=e[n];if("string"==typeof c)if(2&r){const d=e[++n];o+="["+c+(d.length>0?'="'+d+'"':"")+"]"}else 8&r?o+="."+c:4&r&&(o+=" "+c);else""!==o&&!En(c)&&(t+=Za(l,o),o=""),r=c,l=l||!En(r);n++}return""!==o&&(t+=Za(l,o)),t}function la(e){return lt(()=>{const t=ua(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Fi.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||vo.Emulated,styles:e.styles||Et,_:null,schemas:e.schemas||null,tView:null,id:""};Ss(n);const r=e.dependencies;return n.directiveDefs=yo(r,!1),n.pipeDefs=yo(r,!0),n.id=function Jr(e){let t=0;const n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const o of n)t=Math.imul(31,t)+o.charCodeAt(0)|0;return t+=2147483648,"c"+t}(n),n})}function bs(e){return dt(e)||cn(e)}function Vo(e){return null!==e}function ca(e){return lt(()=>({type:e.type,bootstrap:e.bootstrap||Et,declarations:e.declarations||Et,imports:e.imports||Et,exports:e.exports||Et,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Ja(e,t){if(null==e)return Sr;const n={};for(const r in e)if(e.hasOwnProperty(r)){const o=e[r];let l,c,d=Lr.None;Array.isArray(o)?(d=o[0],l=o[1],c=o[2]??l):(l=o,c=o),t?(n[l]=d!==Lr.None?[r,d]:r,t[l]=c):n[l]=r}return n}function Ya(e){return lt(()=>{const t=ua(e);return Ss(t),t})}function Es(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function dt(e){return e[kr]||null}function cn(e){return e[Mi]||null}function Gt(e){return e[cr]||null}function Wn(e){const t=dt(e)||cn(e)||Gt(e);return null!==t&&t.standalone}function Sn(e,t){const n=e[Ks]||null;if(!n&&!0===t)throw new Error(`Type ${Qt(e)} does not have '\u0275mod' property.`);return n}function ua(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||Sr,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||Et,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ja(e.inputs,t),outputs:Ja(e.outputs),debugInfo:null}}function Ss(e){e.features?.forEach(t=>t(e))}function yo(e,t){if(!e)return null;const n=t?Gt:bs;return()=>("function"==typeof e?e():e).map(r=>n(r)).filter(Vo)}function Is(e){return{\u0275providers:e}}function fa(...e){return{\u0275providers:Ui(0,e),\u0275fromNgModule:!0}}function Ui(e,...t){const n=[],r=new Set;let o;const l=c=>{n.push(c)};return Er(t,c=>{const d=c;si(d,l,[],r)&&(o||=[],o.push(d))}),void 0!==o&&ha(o,l),n}function ha(e,t){for(let n=0;n<e.length;n++){const{ngModule:r,providers:o}=e[n];ji(o,l=>{t(l,r)})}}function si(e,t,n,r){if(!(e=$(e)))return!1;let o=null,l=zr(e);const c=!l&&dt(e);if(l||c){if(c&&!c.standalone)return!1;o=e}else{const p=e.ngModule;if(l=zr(p),!l)return!1;o=p}const d=r.has(o);if(c){if(d)return!1;if(r.add(o),c.dependencies){const p="function"==typeof c.dependencies?c.dependencies():c.dependencies;for(const D of p)si(D,t,n,r)}}else{if(!l)return!1;{if(null!=l.imports&&!d){let D;r.add(o);try{Er(l.imports,I=>{si(I,t,n,r)&&(D||=[],D.push(I))})}finally{}void 0!==D&&ha(D,t)}if(!d){const D=go(o)||(()=>new o);t({provide:o,useFactory:D,deps:Et},o),t({provide:_s,useValue:o,multi:!0},o),t({provide:oi,useValue:()=>fn(o),multi:!0},o)}const p=l.providers;if(null!=p&&!d){const D=e;ji(p,I=>{t(I,D)})}}}return o!==e&&void 0!==e.providers}function ji(e,t){for(let n of e)ti(n)&&(n=n.\u0275providers),Array.isArray(n)?ji(n,t):t(n)}const sc=bt({provide:String,useValue:bt});function Yr(e){return null!==e&&"object"==typeof e&&sc in e}function _o(e){return"function"==typeof e}const fr=new Ke(""),Ms={},rl={};let ai;function Bi(){return void 0===ai&&(ai=new ws),ai}class Gn{}class li extends Gn{get destroyed(){return this._destroyed}constructor(t,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,$i(t,c=>this.processProvider(c)),this.records.set(Yl,ci(void 0,this)),o.has("environment")&&this.records.set(Gn,ci(void 0,this));const l=this.records.get(fr);null!=l&&"string"==typeof l.value&&this.scopes.add(l.value),this.injectorDefTypes=new Set(this.get(_s,Et,pt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const t=J(null);try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),J(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const n=Fr(this),r=Pn(void 0);try{return t()}finally{Fr(n),Pn(r)}}get(t,n=Kr,r=pt.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(br))return t[br](this);r=xi(r);const l=Fr(this),c=Pn(void 0);try{if(!(r&pt.SkipSelf)){let p=this.records.get(t);if(void 0===p){const D=function uc(e){return"function"==typeof e||"object"==typeof e&&e instanceof Ke}(t)&&Si(t);p=D&&this.injectableDefInScope(D)?ci(Hi(t),Ms):null,this.records.set(t,p)}if(null!=p)return this.hydrate(t,p)}return(r&pt.Self?Bi():this.parent).get(t,n=r&pt.Optional&&n===Kr?null:n)}catch(d){if("NullInjectorError"===d.name){if((d[Ni]=d[Ni]||[]).unshift(Qt(t)),l)throw d;return function gs(e,t,n,r){const o=e[Ni];throw t[Xa]&&o.unshift(t[Xa]),e.message=function po(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let o=Qt(t);if(Array.isArray(t))o=t.map(Qt).join(" -> ");else if("object"==typeof t){let l=[];for(let c in t)if(t.hasOwnProperty(c)){let d=t[c];l.push(c+":"+("string"==typeof d?JSON.stringify(d):Qt(d)))}o=`{${l.join(", ")}}`}return`${n}${r?"("+r+")":""}[${o}]: ${e.replace(hs,"\n  ")}`}("\n"+e.message,o,n,r),e.ngTokenPath=o,e[Ni]=null,e}(d,t,"R3InjectorError",this.source)}throw d}finally{Pn(c),Fr(l)}}resolveInjectorInitializers(){const t=J(null),n=Fr(this),r=Pn(void 0);try{const l=this.get(oi,Et,pt.Self);for(const c of l)c()}finally{Fr(n),Pn(r),J(t)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(Qt(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ne(205,!1)}processProvider(t){let n=_o(t=$(t))?t:$(t&&t.provide);const r=function lc(e){return Yr(e)?ci(void 0,e.useValue):ci(cc(e),Ms)}(t);if(!_o(t)&&!0===t.multi){let o=this.records.get(n);o||(o=ci(void 0,Ms,!0),o.factory=()=>Fo(o.multi),this.records.set(n,o)),n=t,o.multi.push(t)}this.records.set(n,r)}hydrate(t,n){const r=J(null);try{return n.value===Ms&&(n.value=rl,n.value=n.factory()),"object"==typeof n.value&&n.value&&function il(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{J(r)}}injectableDefInScope(t){if(!t.providedIn)return!1;const n=$(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Hi(e){const t=Si(e),n=null!==t?t.factory:go(e);if(null!==n)return n;if(e instanceof Ke)throw new Ne(204,!1);if(e instanceof Function)return function ac(e){if(e.length>0)throw new Ne(204,!1);const n=function zs(e){return e&&(e[qs]||e[qr])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Ne(204,!1)}function cc(e,t,n){let r;if(_o(e)){const o=$(e);return go(o)||Hi(o)}if(Yr(e))r=()=>$(e.useValue);else if(function tl(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...Fo(e.deps||[]));else if(function el(e){return!(!e||!e.useExisting)}(e))r=()=>fn($(e.useExisting));else{const o=$(e&&(e.useClass||e.provide));if(!function ol(e){return!!e.deps}(e))return go(o)||Hi(o);r=()=>new o(...Fo(e.deps))}return r}function ci(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function $i(e,t){for(const n of e)Array.isArray(n)?$i(n,t):n&&ti(n)?$i(n.\u0275providers,t):t(n)}function wo(e,t){e instanceof li&&e.assertNotDestroyed();const r=Fr(e),o=Pn(void 0);try{return t()}finally{Fr(r),Pn(o)}}const vt=0,me=1,Le=2,Pt=3,vn=4,zt=5,Yt=6,rr=7,Bt=8,wn=9,Tr=10,Qe=11,or=12,dc=13,Uo=14,qt=15,ui=16,Wi=17,Do=18,As=19,Cu=20,eo=21,Gi=22,jo=23,it=25,pa=1,Vr=7,zi=9,hn=10;var ga=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(ga||{});function Dn(e){return Array.isArray(e)&&"object"==typeof e[pa]}function Cn(e){return Array.isArray(e)&&!0===e[pa]}function ll(e){return!!(4&e.flags)}function di(e){return e.componentOffset>-1}function ma(e){return!(1&~e.flags)}function Ar(e){return!!e.template}function fc(e){return!!(512&e[Le])}class h{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function y(e,t,n,r){null!==t?t.applyValueToInputSignal(t,r):e[n]=r}function b(){return A}function A(e){return e.type.prototype.ngOnChanges&&(e.setInput=q),F}function F(){const e=Ee(this),t=e?.current;if(t){const n=e.previous;if(n===Sr)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function q(e,t,n,r,o){const l=this.declaredInputs[r],c=Ee(e)||function Ge(e,t){return e[H]=t}(e,{previous:Sr,current:null}),d=c.current||(c.current={}),p=c.previous,D=p[l];d[l]=new h(D&&D.currentValue,n,p===Sr),y(e,t,o,n)}b.ngInherit=!0;const H="__ngSimpleChanges__";function Ee(e){return e[H]||null}const ir=function(e,t,n){};let va=!1;function jt(e){for(;Array.isArray(e);)e=e[vt];return e}function cl(e,t){return jt(t[e])}function hr(e,t){return jt(t[e.index])}function ul(e,t){return e.data[t]}function ya(e,t){return e[t]}function Ur(e,t){const n=t[e];return Dn(n)?n:n[vt]}function Au(e){return!(128&~e[Le])}function Ho(e,t){return null==t?null:e[t]}function Ru(e){e[Wi]=0}function Xp(e){1024&e[Le]||(e[Le]|=1024,Au(e)&&dl(e))}function Nu(e){return!!(9216&e[Le]||e[jo]?.dirty)}function Ou(e){e[Tr].changeDetectionScheduler?.notify(1),Nu(e)?dl(e):64&e[Le]&&(function Bo(){return va}()?(e[Le]|=1024,dl(e)):e[Tr].changeDetectionScheduler?.notify())}function dl(e){e[Tr].changeDetectionScheduler?.notify();let t=Rs(e);for(;null!==t&&!(8192&t[Le])&&(t[Le]|=8192,Au(t));)t=Rs(t)}function gc(e,t){if(!(256&~e[Le]))throw new Ne(911,!1);null===e[eo]&&(e[eo]=[]),e[eo].push(t)}function Rs(e){const t=e[Pt];return Cn(t)?t[Pt]:t}const rt={lFrame:qn(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function wf(){return rt.bindingsEnabled}function ne(){return rt.lFrame.lView}function yt(){return rt.lFrame.tView}function bf(e){return rt.lFrame.contextLView=e,e[Bt]}function Ef(e){return rt.lFrame.contextLView=null,e}function Ht(){let e=Sf();for(;null!==e&&64===e.type;)e=e.parent;return e}function Sf(){return rt.lFrame.currentTNode}function $o(e,t){const n=rt.lFrame;n.currentTNode=e,n.isParent=t}function Pu(){return rt.lFrame.isParent}function Co(){return rt.lFrame.bindingIndex++}function py(e,t){const n=rt.lFrame;n.bindingIndex=n.bindingRootIndex=e,Fu(t)}function Fu(e){rt.lFrame.currentDirectiveIndex=e}function Vu(){return rt.lFrame.currentQueryIndex}function hl(e){rt.lFrame.currentQueryIndex=e}function ig(e){const t=e[me];return 2===t.type?t.declTNode:1===t.type?e[zt]:null}function Tf(e,t,n){if(n&pt.SkipSelf){let o=t,l=e;for(;!(o=o.parent,null!==o||n&pt.Host||(o=ig(l),null===o||(l=l[Uo],10&o.type))););if(null===o)return!1;t=o,e=l}const r=rt.lFrame=bo();return r.currentTNode=t,r.lView=e,!0}function to(e){const t=bo(),n=e[me];rt.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function bo(){const e=rt.lFrame,t=null===e?null:e.child;return null===t?qn(e):t}function qn(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function st(){const e=rt.lFrame;return rt.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Af=st;function no(){const e=st();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Ln(){return rt.lFrame.selectedIndex}function Ki(e){rt.lFrame.selectedIndex=e}function wt(){const e=rt.lFrame;return ul(e.tView,e.selectedIndex)}let Nf=!0;function Os(){return Nf}function ro(e){Nf=e}function wa(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const l=e.data[n].type.prototype,{ngAfterContentInit:c,ngAfterContentChecked:d,ngAfterViewInit:p,ngAfterViewChecked:D,ngOnDestroy:I}=l;c&&(e.contentHooks??=[]).push(-n,c),d&&((e.contentHooks??=[]).push(n,d),(e.contentCheckHooks??=[]).push(n,d)),p&&(e.viewHooks??=[]).push(-n,p),D&&((e.viewHooks??=[]).push(n,D),(e.viewCheckHooks??=[]).push(n,D)),null!=I&&(e.destroyHooks??=[]).push(n,I)}}function mc(e,t,n){Of(e,t,3,n)}function vc(e,t,n,r){(3&e[Le])===n&&Of(e,t,n,r)}function Hu(e,t){let n=e[Le];(3&n)===t&&(n&=16383,n+=1,e[Le]=n)}function Of(e,t,n,r){const l=r??-1,c=t.length-1;let d=0;for(let p=void 0!==r?65535&e[Wi]:0;p<c;p++)if("number"==typeof t[p+1]){if(d=t[p],null!=r&&d>=r)break}else t[p]<0&&(e[Wi]+=65536),(d<l||-1==l)&&(ag(e,n,t,p),e[Wi]=(4294901760&e[Wi])+p+2),p++}function xf(e,t){ir(4,e,t);const n=J(null);try{t.call(e)}finally{J(n),ir(5,e,t)}}function ag(e,t,n,r){const o=n[r]<0,l=n[r+1],d=e[o?-n[r]:n[r]];o?e[Le]>>14<e[Wi]>>16&&(3&e[Le])===t&&(e[Le]+=16384,xf(d,l)):xf(d,l)}const Xi=-1;class pl{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Gu(e){return e!==Xi}function gl(e){return 32767&e}function ml(e,t){let n=function cg(e){return e>>16}(e),r=t;for(;n>0;)r=r[Uo],n--;return r}let zu=!0;function yc(e){const t=zu;return zu=e,t}const vl=255,qu=5;let Ff=0;const Eo={};function _c(e,t){const n=Xu(e,t);if(-1!==n)return n;const r=t[me];r.firstCreatePass&&(e.injectorIndex=t.length,Ku(r.data,e),Ku(t,null),Ku(r.blueprint,null));const o=wc(e,t),l=e.injectorIndex;if(Gu(o)){const c=gl(o),d=ml(o,t),p=d[me].data;for(let D=0;D<8;D++)t[l+D]=d[c+D]|p[c+D]}return t[l+8]=o,l}function Ku(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Xu(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function wc(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,o=t;for(;null!==o;){if(r=Hf(o),null===r)return Xi;if(n++,o=o[Uo],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Xi}function yl(e,t,n){!function Lf(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(ct)&&(r=n[ct]),null==r&&(r=n[ct]=Ff++);const o=r&vl;t.data[e+(o>>qu)]|=1<<o}(e,t,n)}function Vf(e,t,n){if(n&pt.Optional||void 0!==e)return e;Ri()}function Uf(e,t,n,r){if(n&pt.Optional&&void 0===r&&(r=null),!(n&(pt.Self|pt.Host))){const o=e[wn],l=Pn(void 0);try{return o?o.get(t,r,n&pt.Optional):Qs(t,r,n&pt.Optional)}finally{Pn(l)}}return Vf(r,0,n)}function Qu(e,t,n,r=pt.Default,o){if(null!==e){if(2048&t[Le]&&!(r&pt.Self)){const c=function Nr(e,t,n,r,o){let l=e,c=t;for(;null!==l&&null!==c&&2048&c[Le]&&!(512&c[Le]);){const d=jf(l,c,n,r|pt.Self,Eo);if(d!==Eo)return d;let p=l.parent;if(!p){const D=c[Cu];if(D){const I=D.get(n,Eo,r);if(I!==Eo)return I}p=Hf(c),c=c[Uo]}l=p}return o}(e,t,n,r,Eo);if(c!==Eo)return c}const l=jf(e,t,n,r,Eo);if(l!==Eo)return l}return Uf(t,n,r,o)}function jf(e,t,n,r,o){const l=function fg(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(ct)?e[ct]:void 0;return"number"==typeof t?t>=0?t&vl:ba:t}(n);if("function"==typeof l){if(!Tf(t,e,r))return r&pt.Host?Vf(o,0,r):Uf(t,n,r,o);try{let c;if(c=l(r),null!=c||r&pt.Optional)return c;Ri()}finally{Af()}}else if("number"==typeof l){let c=null,d=Xu(e,t),p=Xi,D=r&pt.Host?t[qt][zt]:null;for((-1===d||r&pt.SkipSelf)&&(p=-1===d?wc(e,t):t[d+8],p!==Xi&&hg(r,!1)?(c=t[me],d=gl(p),t=ml(p,t)):d=-1);-1!==d;){const I=t[me];if(Bf(l,d,I.data)){const R=dg(d,t,n,c,r,D);if(R!==Eo)return R}p=t[d+8],p!==Xi&&hg(r,t[me].data[d+8]===D)&&Bf(l,d,t)?(c=I,d=gl(p),t=ml(p,t)):d=-1}}return o}function dg(e,t,n,r,o,l){const c=t[me],d=c.data[e+8],I=Dc(d,c,n,null==r?di(d)&&zu:r!=c&&!!(3&d.type),o&pt.Host&&l===d);return null!==I?xs(t,c,I,d):Eo}function Dc(e,t,n,r,o){const l=e.providerIndexes,c=t.data,d=1048575&l,p=e.directiveStart,I=l>>20,L=o?d+I:e.directiveEnd;for(let U=r?d:d+I;U<L;U++){const W=c[U];if(U<p&&n===W||U>=p&&W.type===n)return U}if(o){const U=c[p];if(U&&Ar(U)&&U.type===n)return p}return null}function xs(e,t,n,r){let o=e[n];const l=t.data;if(function Pf(e){return e instanceof pl}(o)){const c=o;c.resolving&&function xo(e,t){throw t&&t.join(" > "),new Ne(-200,e)}(function ut(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Xe(e)}(l[n]));const d=yc(c.canSeeViewProviders);c.resolving=!0;const D=c.injectImpl?Pn(c.injectImpl):null;Tf(e,r,pt.Default);try{o=e[n]=c.factory(void 0,l,e,r),t.firstCreatePass&&n>=r.directiveStart&&function sg(e,t,n){const{ngOnChanges:r,ngOnInit:o,ngDoCheck:l}=t.type.prototype;if(r){const c=A(t);(n.preOrderHooks??=[]).push(e,c),(n.preOrderCheckHooks??=[]).push(e,c)}o&&(n.preOrderHooks??=[]).push(0-e,o),l&&((n.preOrderHooks??=[]).push(e,l),(n.preOrderCheckHooks??=[]).push(e,l))}(n,l[n],t)}finally{null!==D&&Pn(D),yc(d),c.resolving=!1,Af()}}return o}function Bf(e,t,n){return!!(n[t+(e>>qu)]&1<<e)}function hg(e,t){return!(e&pt.Self||e&pt.Host&&t)}class rn{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return Qu(this._tNode,this._lView,t,xi(r),n)}}function ba(){return new rn(Ht(),ne())}function Rr(e){return lt(()=>{const t=e.prototype.constructor,n=t[nr]||gr(t),r=Object.prototype;let o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==r;){const l=o[nr]||gr(o);if(l&&l!==n)return l;o=Object.getPrototypeOf(o)}return l=>new l})}function gr(e){return G(e)?()=>{const t=gr($(e));return t&&t()}:go(e)}function Hf(e){const t=e[me],n=t.type;return 2===n?t.declTNode:1===n?e[zt]:null}function Or(e){return function ug(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const r=n.length;let o=0;for(;o<r;){const l=n[o];if(Lo(l))break;if(0===l)o+=2;else if("number"==typeof l)for(o++;o<r&&"string"==typeof n[o];)o++;else{if(l===t)return n[o+1];o+=2}}}return null}(Ht(),e)}function Gf(e,t=null,n=null,r){const o=bc(e,t,n,r);return o.resolveInjectorInitializers(),o}function bc(e,t=null,n=null,r,o=new Set){const l=[n||Et,fa(e)];return r=r||("object"==typeof e?void 0:Qt(e)),new li(l,t||Bi(),r||null,o)}let jr=(()=>{class e{static#e=this.THROW_IF_NOT_FOUND=Kr;static#t=this.NULL=new ws;static create(n,r){if(Array.isArray(n))return Gf({name:""},r,n,"");{const o=n.name??"";return Gf({name:o},n.parent,n.providers,o)}}static#n=this.\u0275prov=It({token:e,providedIn:"any",factory:()=>fn(Yl)});static#i=this.__NG_ELEMENT_ID__=-1}return e})();function Yu(e){return e.ngOriginalError}class vi{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&Yu(t);for(;n&&Yu(n);)n=Yu(n);return n||null}}const qf=new Ke("",{providedIn:"root",factory:()=>je(vi).handleError.bind(void 0)});let Ea=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=ks;static#t=this.__NG_ENV_ID__=n=>n}return e})();class Kf extends Ea{constructor(t){super(),this._lView=t}onDestroy(t){return gc(this._lView,t),()=>function xu(e,t){if(null===e[eo])return;const n=e[eo].indexOf(t);-1!==n&&e[eo].splice(n,1)}(this._lView,t)}}function ks(){return new Kf(ne())}function Dg(){return Fs(Ht(),ne())}function Fs(e,t){return new wl(hr(e,t))}let wl=(()=>{class e{constructor(n){this.nativeElement=n}static#e=this.__NG_ELEMENT_ID__=Dg}return e})();function Qf(e){return e instanceof wl?e.nativeElement:e}function Ia(e){return t=>{setTimeout(e,void 0,t)}}const Kn=class Cg extends Vt.B{constructor(t=!1){super(),this.destroyRef=void 0,this.__isAsync=t,function sl(){return void 0!==Xs()||null!=function ko(){return Po}()}()&&(this.destroyRef=je(Ea,{optional:!0})??void 0)}emit(t){const n=J(null);try{super.next(t)}finally{J(n)}}subscribe(t,n,r){let o=t,l=n||(()=>null),c=r;if(t&&"object"==typeof t){const p=t;o=p.next?.bind(p),l=p.error?.bind(p),c=p.complete?.bind(p)}this.__isAsync&&(l=Ia(l),o&&(o=Ia(o)),c&&(c=Ia(c)));const d=super.subscribe({next:o,error:l,complete:c});return t instanceof pn.yU&&t.add(d),d}};function Zf(){return this._results[Symbol.iterator]()}class Vn{static#e=Symbol.iterator;get changes(){return this._changes??=new Kn}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const n=Vn.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=Zf)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;const r=function Hn(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function ea(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let o=e[r],l=t[r];if(n&&(o=n(o),l=n(l)),l!==o)return!1}return!0}(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function Dl(e){return!(128&~e.flags)}const Ec=new Map;let Jf=0;const rd="__ngContext__";function Xn(e,t){Dn(t)?(e[rd]=t[As],function eh(e){Ec.set(e[As],e)}(t)):e[rd]=t}function _i(e){return Sg(e[or])}function cd(e){return Sg(e[vn])}function Sg(e){for(;null!==e&&!Cn(e);)e=e[vn];return e}let ah;function Cy(e){ah=e}const Ta=new Ke("",{providedIn:"root",factory:()=>Ac}),Ac="ng",Vs=new Ke(""),Us=new Ke("",{providedIn:"platform",factory:()=>"unknown"}),pd=new Ke("",{providedIn:"root",factory:()=>function Ls(){if(void 0!==ah)return ah;if(typeof document<"u")return document;throw new Ne(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let fh=()=>null;function Nc(e,t,n=!1){return fh(e,t,n)}const mh=new Ke("",{providedIn:"root",factory:()=>!1});let Pc;function _h(e){return function kc(){if(void 0===Pc&&(Pc=null,tt.trustedTypes))try{Pc=tt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Pc}()?.createScriptURL(e)||e}class Cd{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${jn})`}}function Di(e){return e instanceof Cd?e.changingThisBreaksApplicationSecurity:e}function Na(e,t){const n=function zg(e){return e instanceof Cd&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${jn})`)}return n===t}const Sh=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Oa=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Oa||{});function nm(e){const t=jc();return t?t.sanitize(Oa.URL,e)||"":Na(e,"URL")?Di(e):function Ed(e){return(e=String(e)).match(Sh)?e:"unsafe:"+e}(Xe(e))}function rm(e){const t=jc();if(t)return _h(t.sanitize(Oa.RESOURCE_URL,e)||"");if(Na(e,"ResourceURL"))return _h(Di(e));throw new Ne(904,!1)}function sm(e,t,n){return function Py(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?rm:nm}(t,n)(e)}function jc(){const e=ne();return e&&e[Tr].sanitizer}function io(e){return e instanceof Function?e():e}var Hc=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Hc||{});let $c;function Rd(e,t){return $c(e,t)}function Yi(e,t,n,r,o){if(null!=r){let l,c=!1;Cn(r)?l=r:Dn(r)&&(c=!0,r=r[vt]);const d=jt(r);0===e&&null!==n?null==o?E(t,n,d):m(t,n,d,o||null,!0):1===e&&null!==n?m(t,n,d,o||null,!0):2===e?function un(e,t,n){const r=z(e,t);r&&function x(e,t,n,r){e.removeChild(t,n,r)}(e,r,t,n)}(t,d,c):3===e&&t.destroyNode(d),null!=l&&function zo(e,t,n,r,o){const l=n[Vr];l!==jt(n)&&Yi(t,e,r,l,o);for(let d=hn;d<n.length;d++){const p=n[d];Mt(p[me],p,e,t,r,l)}}(t,e,l,n,o)}}function Gc(e,t,n){return e.createElement(t,n)}function Hh(e,t){t[Tr].changeDetectionScheduler?.notify(1),Mt(e,t,t[Qe],2,null,null)}function Cm(e,t){const n=e[zi],r=n.indexOf(t);n.splice(r,1)}function Ll(e,t){if(e.length<=hn)return;const n=hn+t,r=e[n];if(r){const o=r[ui];null!==o&&o!==e&&Cm(o,r),t>0&&(e[n-1][vn]=r[vn]);const l=mo(e,hn+t);!function _m(e,t){Hh(e,t),t[vt]=null,t[zt]=null}(r[me],r);const c=l[Do];null!==c&&c.detachView(l[me]),r[Pt]=null,r[vn]=null,r[Le]&=-129}return r}function Vl(e,t){if(!(256&t[Le])){const n=t[Qe];n.destroyNode&&Mt(e,t,n,3,null,null),function Dm(e){let t=e[or];if(!t)return zc(e[me],e);for(;t;){let n=null;if(Dn(t))n=t[or];else{const r=t[hn];r&&(n=r)}if(!n){for(;t&&!t[vn]&&t!==e;)Dn(t)&&zc(t[me],t),t=t[Pt];null===t&&(t=e),Dn(t)&&zc(t[me],t),n=t&&t[vn]}t=n}}(t)}}function zc(e,t){if(256&t[Le])return;const n=J(null);try{t[Le]&=-129,t[Le]|=256,t[jo]&&function pe(e){if(Ae(e),We(e))for(let t=0;t<e.producerNode.length;t++)Ce(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}(t[jo]),function s(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const o=t[n[r]];if(!(o instanceof pl)){const l=n[r+1];if(Array.isArray(l))for(let c=0;c<l.length;c+=2){const d=o[l[c]],p=l[c+1];ir(4,d,p);try{p.call(d)}finally{ir(5,d,p)}}else{ir(4,o,l);try{l.call(o)}finally{ir(5,o,l)}}}}}(e,t),function i(e,t){const n=e.cleanup,r=t[rr];if(null!==n)for(let l=0;l<n.length-1;l+=2)if("string"==typeof n[l]){const c=n[l+3];c>=0?r[c]():r[-c].unsubscribe(),l+=2}else n[l].call(r[n[l+1]]);null!==r&&(t[rr]=null);const o=t[eo];if(null!==o){t[eo]=null;for(let l=0;l<o.length;l++)(0,o[l])()}}(e,t),1===t[me].type&&t[Qe].destroy();const r=t[ui];if(null!==r&&Cn(t[Pt])){r!==t[Pt]&&Cm(r,t);const o=t[Do];null!==o&&o.detachView(e)}!function Sc(e){Ec.delete(e[As])}(t)}finally{J(n)}}function a(e,t,n){return function u(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[vt];{const{componentOffset:o}=r;if(o>-1){const{encapsulation:l}=e.data[r.directiveStart+o];if(l===vo.None||l===vo.Emulated)return null}return hr(r,n)}}(e,t.parent,n)}function m(e,t,n,r,o){e.insertBefore(t,n,r,o)}function E(e,t,n){e.appendChild(t,n)}function T(e,t,n,r,o){null!==r?m(e,t,n,r,o):E(e,t,n)}function z(e,t){return e.parentNode(t)}let Dt,_t=function Oe(e,t,n){return 40&e.type?hr(e,n):null};function Ct(e,t,n,r){const o=a(e,r,t),l=t[Qe],d=function ve(e,t,n){return _t(e,t,n)}(r.parent||t[zt],r,t);if(null!=o)if(Array.isArray(n))for(let p=0;p<n.length;p++)T(l,o,n[p],d,!1);else T(l,o,n,d,!1);void 0!==Dt&&Dt(l,r,t,n,o)}function $t(e,t){if(null!==t){const n=t.type;if(3&n)return hr(t,e);if(4&n)return Ot(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return $t(e,r);{const o=e[t.index];return Cn(o)?Ot(-1,o):jt(o)}}if(32&n)return Rd(t,e)()||jt(e[t.index]);{const r=Xt(e,t);return null!==r?Array.isArray(r)?r[0]:$t(Rs(e[qt]),r):$t(e,t.next)}}return null}function Xt(e,t){return null!==t?e[qt][zt].projection[t.projection]:null}function Ot(e,t){const n=hn+e+1;if(n<t.length){const r=t[n],o=r[me].firstChild;if(null!==o)return $t(r,o)}return t[Vr]}function Qn(e,t,n,r,o,l,c){for(;null!=n;){const d=r[n.index],p=n.type;if(c&&0===t&&(d&&Xn(jt(d),r),n.flags|=2),32&~n.flags)if(8&p)Qn(e,t,n.child,r,o,l,!1),Yi(t,e,o,d,l);else if(32&p){const D=Rd(n,r);let I;for(;I=D();)Yi(t,e,o,I,l);Yi(t,e,o,d,l)}else 16&p?ao(e,t,r,n,o,l):Yi(t,e,o,d,l);n=c?n.projectionNext:n.next}}function Mt(e,t,n,r,o,l){Qn(n,r,e.firstChild,t,o,l,!1)}function ao(e,t,n,r,o,l){const c=n[qt],p=c[zt].projection[r.projection];if(Array.isArray(p))for(let D=0;D<p.length;D++)Yi(t,e,o,p[D],l);else{let D=p;const I=c[Pt];Dl(r)&&(D.flags|=128),Qn(e,t,D,I,o,l,!0)}}function ka(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function qc(e,t,n){const{mergedAttrs:r,classes:o,styles:l}=n;null!==r&&Ds(e,t,r),null!==o&&ka(e,t,o),null!==l&&function So(e,t,n){e.setAttribute(t,"style",n)}(e,t,l)}const ot={};function Ul(e=1){jl(yt(),ne(),Ln()+e,!1)}function jl(e,t,n,r){if(!r)if(3&~t[Le]){const l=e.preOrderHooks;null!==l&&vc(t,l,0,n)}else{const l=e.preOrderCheckHooks;null!==l&&mc(t,l,n)}Ki(n)}function es(e,t=pt.Default){const n=ne();return null===n?fn(e,t):Qu(Ht(),n,$(e),t)}function In(e,t,n,r,o,l){const c=J(null);try{let d=null;o&Lr.SignalBased&&(d=t[r][De]),null!==d&&void 0!==d.transformFn&&(l=d.transformFn(l)),o&Lr.HasDecoratorInputTransform&&(l=e.inputTransforms[r].call(t,l)),null!==e.setInput?e.setInput(t,d,l,n,r):y(t,d,r,l)}finally{J(c)}}function Br(e,t,n,r,o,l,c,d,p,D,I){const R=t.blueprint.slice();return R[vt]=o,R[Le]=204|r,(null!==D||e&&2048&e[Le])&&(R[Le]|=2048),Ru(R),R[Pt]=R[Uo]=e,R[Bt]=n,R[Tr]=c||e&&e[Tr],R[Qe]=d||e&&e[Qe],R[wn]=p||e&&e[wn]||null,R[zt]=l,R[As]=function Yf(){return Jf++}(),R[Yt]=I,R[Cu]=D,R[qt]=2==t.type?e[qt]:R,R}function Hr(e,t,n,r,o){let l=e.data[t];if(null===l)l=function Ko(e,t,n,r,o){const l=Sf(),c=Pu(),p=e.data[t]=function lE(e,t,n,r,o,l){let c=t?t.injectorIndex:-1,d=0;return function _a(){return null!==rt.skipHydrationRootTNode}()&&(d|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:c,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:d,providerIndexes:0,value:o,attrs:l,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,c?l:l&&l.parent,n,t,r,o);return null===e.firstChild&&(e.firstChild=p),null!==l&&(c?null==l.child&&null!==p.parent&&(l.child=p):null===l.next&&(l.next=p,p.prev=l)),p}(e,t,n,r,o),function rg(){return rt.lFrame.inI18n}()&&(l.flags|=32);else if(64&l.type){l.type=n,l.value=r,l.attrs=o;const c=function fl(){const e=rt.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();l.injectorIndex=null===c?-1:c.injectorIndex}return $o(l,!0),l}function _r(e,t,n,r){if(0===n)return-1;const o=t.length;for(let l=0;l<n;l++)t.push(r),e.blueprint.push(r),e.data.push(null);return o}function ts(e,t,n,r,o){const l=Ln(),c=2&r;try{Ki(-1),c&&t.length>it&&jl(e,t,it,!1),ir(c?2:0,o),n(r,o)}finally{Ki(l),ir(c?3:1,o)}}function Fa(e,t,n){if(ll(t)){const r=J(null);try{const l=t.directiveEnd;for(let c=t.directiveStart;c<l;c++){const d=e.data[c];d.contentQueries&&d.contentQueries(1,n[c],c)}}finally{J(r)}}}function zy(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Sm(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Sm(e,t,n,r,o,l,c,d,p,D,I){const R=it+r,L=R+o,U=function nE(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:ot);return n}(R,L),W="function"==typeof D?D():D;return U[me]={type:e,blueprint:U,template:n,queries:null,viewQuery:d,declTNode:t,data:U.slice().fill(null,R),bindingStartIndex:R,expandoStartIndex:L,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof l?l():l,pipeRegistry:"function"==typeof c?c():c,firstChild:null,schemas:p,consts:W,incompleteFirstPass:!1,ssrId:I}}let qy=()=>null;function Ky(e,t,n,r,o){for(let l in t){if(!t.hasOwnProperty(l))continue;const c=t[l];if(void 0===c)continue;r??={};let d,p=Lr.None;Array.isArray(c)?(d=c[0],p=c[1]):d=c;let D=l;if(null!==o){if(!o.hasOwnProperty(l))continue;D=o[l]}0===e?Xy(r,n,D,d,p):Xy(r,n,D,d)}return r}function Xy(e,t,n,r,o){let l;e.hasOwnProperty(n)?(l=e[n]).push(t,r):l=e[n]=[t,r],void 0!==o&&l.push(o)}function lo(e,t,n,r,o,l,c,d){const p=hr(t,n);let I,D=t.inputs;!d&&null!=D&&(I=D[r])?(Rm(e,n,I,r,o),di(t)&&function dE(e,t){const n=Ur(t,e);16&n[Le]||(n[Le]|=64)}(n,t.index)):3&t.type&&(r=function uE(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),o=null!=c?c(o,t.value||"",r):o,l.setProperty(p,r,o))}function Qy(e,t,n,r,o,l){for(let D=0;D<r.length;D++)yl(_c(n,t),e,r[D].type);!function wE(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let D=0;D<r.length;D++){const I=r[D];I.providersResolver&&I.providersResolver(I)}let c=!1,d=!1,p=_r(e,t,r.length,null);for(let D=0;D<r.length;D++){const I=r[D];n.mergedAttrs=Li(n.mergedAttrs,I.hostAttrs),DE(e,n,t,p,I),_E(p,I,o),null!==I.contentQueries&&(n.flags|=4),(null!==I.hostBindings||null!==I.hostAttrs||0!==I.hostVars)&&(n.flags|=64);const R=I.type.prototype;!c&&(R.ngOnChanges||R.ngOnInit||R.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),c=!0),!d&&(R.ngOnChanges||R.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),d=!0),p++}!function cE(e,t,n){const o=t.directiveEnd,l=e.data,c=t.attrs,d=[];let p=null,D=null;for(let I=t.directiveStart;I<o;I++){const R=l[I],L=n?n.get(R):null,W=L?L.outputs:null;p=Ky(0,R.inputs,I,p,L?L.inputs:null),D=Ky(1,R.outputs,I,D,W);const re=null===p||null===c||sa(t)?null:EE(p,I,c);d.push(re)}null!==p&&(p.hasOwnProperty("class")&&(t.flags|=8),p.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=d,t.inputs=p,t.outputs=D}(e,n,l)}function Zy(e,t,n){const r=n.directiveStart,o=n.directiveEnd,l=n.index,c=function og(){return rt.lFrame.currentDirectiveIndex}();try{Ki(l);for(let d=r;d<o;d++){const p=e.data[d],D=t[d];Fu(d),(null!==p.hostBindings||0!==p.hostVars||null!==p.hostAttrs)&&mE(p,D)}}finally{Ki(-1),Fu(c)}}function mE(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Mm(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function _E(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Ar(t)&&(n[""]=e)}}function DE(e,t,n,r,o){e.data[r]=o;const l=o.factory||(o.factory=go(o.type)),c=new pl(l,Ar(o),es);e.blueprint[r]=c,n[r]=c,function hE(e,t,n,r,o){const l=o.hostBindings;if(l){let c=e.hostBindingOpCodes;null===c&&(c=e.hostBindingOpCodes=[]);const d=~t.index;(function pE(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(c)!=d&&c.push(d),c.push(n,r,l)}}(e,t,r,_r(e,n,o.hostVars,ot),o)}function ns(e,t,n,r,o,l){const c=hr(e,t);!function Tm(e,t,n,r,o,l,c){if(null==l)e.removeAttribute(t,o,n);else{const d=null==c?Xe(l):c(l,r||"",o);e.setAttribute(t,o,d,n)}}(t[Qe],c,l,e.value,n,r,o)}function bE(e,t,n,r,o,l){const c=l[t];if(null!==c)for(let d=0;d<c.length;)In(r,n,c[d++],c[d++],c[d++],c[d++])}function EE(e,t,n){let r=null,o=0;for(;o<n.length;){const l=n[o];if(0!==l)if(5!==l){if("number"==typeof l)break;if(e.hasOwnProperty(l)){null===r&&(r=[]);const c=e[l];for(let d=0;d<c.length;d+=3)if(c[d]===t){r.push(l,c[d+1],c[d+2],n[o+1]);break}}o+=2}else o+=2;else o+=4}return r}function Yy(e,t){const n=e.contentQueries;if(null!==n){const r=J(null);try{for(let o=0;o<n.length;o+=2){const c=n[o+1];if(-1!==c){const d=e.data[c];hl(n[o]),d.contentQueries(2,t[c],c)}}}finally{J(r)}}}function $h(e,t){return e[or]?e[dc][vn]=t:e[or]=t,e[dc]=t,t}function Am(e,t,n){hl(0);const r=J(null);try{t(e,n)}finally{J(r)}}function e_(e){return e[rr]||(e[rr]=[])}function t_(e){return e.cleanup||(e.cleanup=[])}function Wh(e,t){const n=e[wn],r=n?n.get(vi,null):null;r&&r.handleError(t)}function Rm(e,t,n,r,o){for(let l=0;l<n.length;){const c=n[l++],d=n[l++],p=n[l++];In(e.data[c],t[c],r,d,p,o)}}function SE(e,t){const n=Ur(t,e),r=n[me];!function IE(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n);const o=n[vt];null!==o&&null===n[Yt]&&(n[Yt]=Nc(o,n[wn])),Nm(r,n,n[Bt])}function Nm(e,t,n){to(t);try{const r=e.viewQuery;null!==r&&Am(1,r,n);const o=e.template;null!==o&&ts(e,t,o,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[Do]?.finishViewCreation(e),e.staticContentQueries&&Yy(e,t),e.staticViewQueries&&Am(2,e.viewQuery,n);const l=e.components;null!==l&&function ME(e,t){for(let n=0;n<t.length;n++)SE(e,t[n])}(t,l)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[Le]&=-5,no()}}function Kc(e,t){return!t||null===t.firstChild||Dl(e)}function Pd(e,t,n,r=!0){const o=t[me];if(function Wy(e,t,n,r){const o=hn+r,l=n.length;r>0&&(n[o-1][vn]=t),r<l-hn?(t[vn]=n[o],ta(n,hn+r,t)):(n.push(t),t[vn]=null),t[Pt]=n;const c=t[ui];null!==c&&n!==c&&function Gy(e,t){const n=e[zi];t[qt]!==t[Pt][Pt][qt]&&(e[Le]|=ga.HasTransplantedViews),null===n?e[zi]=[t]:n.push(t)}(c,t);const d=t[Do];null!==d&&d.insertView(e),Ou(t),t[Le]|=128}(o,t,e,n),r){const c=Ot(n,e),d=t[Qe],p=z(d,e[Vr]);null!==p&&function wm(e,t,n,r,o,l){r[vt]=o,r[zt]=t,Mt(e,r,n,1,o,l)}(o,e[zt],d,t,p,c)}const l=t[Yt];null!==l&&null!==l.firstChild&&(l.firstChild=null)}function kd(e,t,n,r,o=!1){for(;null!==n;){const l=t[n.index];null!==l&&r.push(jt(l)),Cn(l)&&o_(l,r);const c=n.type;if(8&c)kd(e,t,n.child,r);else if(32&c){const d=Rd(n,t);let p;for(;p=d();)r.push(p)}else if(16&c){const d=Xt(t,n);if(Array.isArray(d))r.push(...d);else{const p=Rs(t[qt]);kd(p[me],p,d,r,!0)}}n=o?n.projectionNext:n.next}return r}function o_(e,t){for(let n=hn;n<e.length;n++){const r=e[n],o=r[me].firstChild;null!==o&&kd(r[me],r,o,t)}e[Vr]!==e[vt]&&t.push(e[Vr])}let i_=[];const NE={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{dl(e.lView)},consumerOnSignalRead(){this.lView[jo]=this}},s_=100;function Gh(e,t=!0,n=0){const r=e[Tr],o=r.rendererFactory;o.begin?.();try{!function OE(e,t){xm(e,t);let n=0;for(;Nu(e);){if(n===s_)throw new Ne(103,!1);n++,xm(e,1)}}(e,n)}catch(c){throw t&&Wh(e,c),c}finally{o.end?.(),r.inlineEffectRunner?.flush()}}function xE(e,t,n,r){const o=t[Le];if(!(256&~o))return;t[Tr].inlineEffectRunner?.flush(),to(t);let c=null,d=null;(function PE(e){return 2!==e.type})(e)&&(d=function TE(e){return e[jo]??function AE(e){const t=i_.pop()??Object.create(NE);return t.lView=e,t}(e)}(t),c=function ie(e){return e&&(e.nextProducerIndex=0),J(e)}(d));try{Ru(t),function If(e){return rt.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&ts(e,t,n,2,r);const p=!(3&~o);if(p){const R=e.preOrderCheckHooks;null!==R&&mc(t,R,null)}else{const R=e.preOrderHooks;null!==R&&vc(t,R,0,null),Hu(t,0)}if(function kE(e){for(let t=_i(e);null!==t;t=cd(t)){if(!(t[Le]&ga.HasTransplantedViews))continue;const n=t[zi];for(let r=0;r<n.length;r++){Xp(n[r])}}}(t),a_(t,0),null!==e.contentQueries&&Yy(e,t),p){const R=e.contentCheckHooks;null!==R&&mc(t,R)}else{const R=e.contentHooks;null!==R&&vc(t,R,1),Hu(t,1)}!function yr(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const o=n[r];if(o<0)Ki(~o);else{const l=o,c=n[++r],d=n[++r];py(c,l),d(2,t[l])}}}finally{Ki(-1)}}(e,t);const D=e.components;null!==D&&c_(t,D,0);const I=e.viewQuery;if(null!==I&&Am(2,I,r),p){const R=e.viewCheckHooks;null!==R&&mc(t,R)}else{const R=e.viewHooks;null!==R&&vc(t,R,2),Hu(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[Gi]){for(const R of t[Gi])R();t[Gi]=null}t[Le]&=-73}catch(p){throw dl(t),p}finally{null!==d&&(function ye(e,t){if(J(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(We(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)Ce(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}(d,c),function RE(e){e.lView[jo]!==e&&(e.lView=null,i_.push(e))}(d)),no()}}function a_(e,t){for(let n=_i(e);null!==n;n=cd(n))for(let r=hn;r<n.length;r++)l_(n[r],t)}function FE(e,t,n){l_(Ur(t,e),n)}function l_(e,t){Au(e)&&xm(e,t)}function xm(e,t){const r=e[me],o=e[Le],l=e[jo];let c=!!(0===t&&16&o);if(c||=!!(64&o&&0===t),c||=!!(1024&o),c||=!(!l?.dirty||!Be(l)),l&&(l.dirty=!1),e[Le]&=-9217,c)xE(r,e,r.template,e[Bt]);else if(8192&o){a_(e,1);const d=r.components;null!==d&&c_(e,d,1)}}function c_(e,t,n){for(let r=0;r<t.length;r++)FE(e,t[r],n)}function Fd(e){for(e[Tr].changeDetectionScheduler?.notify();e;){e[Le]|=64;const t=Rs(e);if(fc(e)&&!t)return e;e=t}return null}class Ld{get rootNodes(){const t=this._lView,n=t[me];return kd(n,t,n.firstChild,[])}constructor(t,n,r=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Bt]}set context(t){this._lView[Bt]=t}get destroyed(){return!(256&~this._lView[Le])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[Pt];if(Cn(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(Ll(t,r),mo(n,r))}this._attachedToViewContainer=!1}Vl(this._lView[me],this._lView)}onDestroy(t){gc(this._lView,t)}markForCheck(){Fd(this._cdRefInjectingView||this._lView)}detach(){this._lView[Le]&=-129}reattach(){Ou(this._lView),this._lView[Le]|=128}detectChanges(){this._lView[Le]|=1024,Gh(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ne(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,Hh(this._lView[me],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Ne(902,!1);this._appRef=t,Ou(this._lView)}}let Vd=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=UE}return e})();const LE=Vd,VE=class extends LE{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){const o=function xd(e,t,n,r){const o=J(null);try{const l=t.tView,p=Br(e,l,n,4096&e[Le]?4096:16,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null);p[ui]=e[t.index];const I=e[Do];return null!==I&&(p[Do]=I.createEmbeddedView(l)),Nm(l,p,n),p}finally{J(o)}}(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:n,dehydratedView:r});return new Ld(o)}};function UE(){return zh(Ht(),ne())}function zh(e,t){return 4&e.type?new VE(t,e,Fs(e,t)):null}class Um{}class u0{}class m_{}class f0{resolveComponentFactory(t){throw function d0(e){const t=Error(`No component factory found for ${Qt(e)}.`);return t.ngComponent=e,t}(t)}}let Zh=(()=>{class e{static#e=this.NULL=new f0}return e})();class y_{}let h0=(()=>{class e{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function p0(){const e=ne(),n=Ur(Ht().index,e);return(Dn(n)?n:e)[Qe]}()}return e})(),g0=(()=>{class e{static#e=this.\u0275prov=It({token:e,providedIn:"root",factory:()=>null})}return e})();const jm={},__=new Set;function w_(...e){}class Un{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Kn(!1),this.onMicrotaskEmpty=new Kn(!1),this.onStable=new Kn(!1),this.onError=new Kn(!1),typeof Zone>"u")throw new Ne(908,!1);Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&n,o.shouldCoalesceRunChangeDetection=r,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=function m0(){const e="function"==typeof tt.requestAnimationFrame;let t=tt[e?"requestAnimationFrame":"setTimeout"],n=tt[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&n){const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r);const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function _0(e){const t=()=>{!function y0(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(tt,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Hm(e),e.isCheckStableRunning=!0,Bm(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Hm(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,o,l,c,d)=>{if(function w0(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(d))return n.invokeTask(o,l,c,d);try{return D_(e),n.invokeTask(o,l,c,d)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===l.type||e.shouldCoalesceRunChangeDetection)&&t(),C_(e)}},onInvoke:(n,r,o,l,c,d,p)=>{try{return D_(e),n.invoke(o,l,c,d,p)}finally{e.shouldCoalesceRunChangeDetection&&t(),C_(e)}},onHasTask:(n,r,o,l)=>{n.hasTask(o,l),r===o&&("microTask"==l.change?(e._hasPendingMicrotasks=l.microTask,Hm(e),Bm(e)):"macroTask"==l.change&&(e.hasPendingMacrotasks=l.macroTask))},onHandleError:(n,r,o,l)=>(n.handleError(o,l),e.runOutsideAngular(()=>e.onError.emit(l)),!1)})}(o)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Un.isInAngularZone())throw new Ne(909,!1)}static assertNotInAngularZone(){if(Un.isInAngularZone())throw new Ne(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,o){const l=this._inner,c=l.scheduleEventTask("NgZoneEvent: "+o,t,v0,w_,w_);try{return l.runTask(c,n,r)}finally{l.cancelTask(c)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const v0={};function Bm(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Hm(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function D_(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function C_(e){e._nesting--,Bm(e)}let $d=(()=>{class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const n=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const r of n)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=It({token:e,providedIn:"root",factory:()=>new e})}return e})();function La(e){return!!Sn(e)}function Yh(e,t,n){let r=n?e.styles:null,o=n?e.classes:null,l=0;if(null!==t)for(let c=0;c<t.length;c++){const d=t[c];"number"==typeof d?l=d:1==l?o=Cr(o,d):2==l&&(r=Cr(r,d+": "+t[++c]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=o:e.classesWithoutHost=o}class A_ extends Zh{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=dt(t);return new zd(n,this.ngModule)}}function R_(e){const t=[];for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n];void 0!==r&&t.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return t}class ep{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=xi(r);const o=this.injector.get(t,jm,r);return o!==jm||n===jm?o:this.parentInjector.get(t,n,r)}}class zd extends m_{get inputs(){const t=this.componentDef,n=t.inputTransforms,r=R_(t.inputs);if(null!==n)for(const o of r)n.hasOwnProperty(o.propName)&&(o.transform=n[o.propName]);return r}get outputs(){return R_(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function oc(e){return e.map(rc).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,o){const l=J(null);try{let c=(o=o||this.ngModule)instanceof Gn?o:o?.injector;c&&null!==this.componentDef.getStandaloneInjector&&(c=this.componentDef.getStandaloneInjector(c)||c);const d=c?new ep(t,c):t,p=d.get(y_,null);if(null===p)throw new Ne(407,!1);const D=d.get(g0,null),L={rendererFactory:p,sanitizer:D,inlineEffectRunner:null,afterRenderEventManager:d.get($d,null),changeDetectionScheduler:d.get(Um,null)},U=p.createRenderer(null,this.componentDef),W=this.componentDef.selectors[0][0]||"div",re=r?function rE(e,t,n,r){const l=r.get(mh,!1)||n===vo.ShadowDom,c=e.selectRootElement(t,l);return function oE(e){qy(e)}(c),c}(U,r,this.componentDef.encapsulation,d):Gc(U,W,function I0(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(W));let we=512;this.componentDef.signals?we|=4096:this.componentDef.onPush||(we|=16);let Re=null;null!==re&&(Re=Nc(re,d,!0));const ue=Sm(0,null,null,1,0,null,null,null,null,null,null),nt=Br(null,ue,null,we,null,null,L,U,d,null,Re);let kt,en;to(nt);try{const Yn=this.componentDef;let uo,wu=null;Yn.findHostDirectiveDefs?(uo=[],wu=new Map,Yn.findHostDirectiveDefs(Yn,uo,wu),uo.push(Yn)):uo=[Yn];const zb=function T0(e,t){const n=e[me],r=it;return e[r]=t,Hr(n,r,2,"#host",null)}(nt,re),qR=function A0(e,t,n,r,o,l,c){const d=o[me];!function R0(e,t,n,r){for(const o of e)t.mergedAttrs=Li(t.mergedAttrs,o.hostAttrs);null!==t.mergedAttrs&&(Yh(t,t.mergedAttrs,!0),null!==n&&qc(r,n,t))}(r,e,t,c);let p=null;null!==t&&(p=Nc(t,o[wn]));const D=l.rendererFactory.createRenderer(t,n);let I=16;n.signals?I=4096:n.onPush&&(I=64);const R=Br(o,zy(n),null,I,o[e.index],e,l,D,null,null,p);return d.firstCreatePass&&Mm(d,e,r.length-1),$h(o,R),o[e.index]=R}(zb,re,Yn,uo,nt,L,U);en=ul(ue,it),re&&function O0(e,t,n,r){if(r)Ds(e,n,["ng-version","17.3.4"]);else{const{attrs:o,classes:l}=function ic(e){const t=[],n=[];let r=1,o=2;for(;r<e.length;){let l=e[r];if("string"==typeof l)2===o?""!==l&&t.push(l,e[++r]):8===o&&n.push(l);else{if(!En(o))break;o=l}r++}return{attrs:t,classes:n}}(t.selectors[0]);o&&Ds(e,n,o),l&&l.length>0&&ka(e,n,l.join(" "))}}(U,Yn,re,r),void 0!==n&&function x0(e,t,n){const r=e.projection=[];for(let o=0;o<t.length;o++){const l=n[o];r.push(null!=l?Array.from(l):null)}}(en,this.ngContentSelectors,n),kt=function N0(e,t,n,r,o,l){const c=Ht(),d=o[me],p=hr(c,o);Qy(d,o,c,n,null,r);for(let I=0;I<n.length;I++)Xn(xs(o,d,c.directiveStart+I,c),o);Zy(d,o,c),p&&Xn(p,o);const D=xs(o,d,c.directiveStart+c.componentOffset,c);if(e[Bt]=o[Bt]=D,null!==l)for(const I of l)I(D,t);return Fa(d,c,o),D}(qR,Yn,uo,wu,nt,[P0]),Nm(ue,nt,null)}finally{no()}return new M0(this.componentType,kt,Fs(en,nt),nt,en)}finally{J(l)}}}class M0 extends u0{constructor(t,n,r,o,l){super(),this.location=r,this._rootLView=o,this._tNode=l,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Ld(o,void 0,!1),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let o;if(null!==r&&(o=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const l=this._rootLView;Rm(l[me],l,o,t,n),this.previousInputValues.set(t,n),Fd(Ur(this._tNode.index,l))}}get injector(){return new rn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function P0(){const e=Ht();wa(ne()[me],e)}let tp=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=k0}return e})();function k0(){return x_(Ht(),ne())}const F0=tp,N_=class extends F0{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Fs(this._hostTNode,this._hostLView)}get injector(){return new rn(this._hostTNode,this._hostLView)}get parentInjector(){const t=wc(this._hostTNode,this._hostLView);if(Gu(t)){const n=ml(t,this._hostLView),r=gl(t);return new rn(n[me].data[r+8],n)}return new rn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=O_(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-hn}createEmbeddedView(t,n,r){let o,l;"number"==typeof r?o=r:null!=r&&(o=r.index,l=r.injector);const d=t.createEmbeddedViewImpl(n||{},l,null);return this.insertImpl(d,o,Kc(this._hostTNode,null)),d}createComponent(t,n,r,o,l){const c=t&&!function le(e){return"function"==typeof e}(t);let d;if(c)d=n;else{const W=n||{};d=W.index,r=W.injector,o=W.projectableNodes,l=W.environmentInjector||W.ngModuleRef}const p=c?t:new zd(dt(t)),D=r||this.parentInjector;if(!l&&null==p.ngModule){const re=(c?D:this.parentInjector).get(Gn,null);re&&(l=re)}dt(p.componentType??{});const U=p.create(D,o,null,l);return this.insertImpl(U.hostView,d,Kc(this._hostTNode,null)),U}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){const o=t._lView;if(function Kp(e){return Cn(e[Pt])}(o)){const d=this.indexOf(t);if(-1!==d)this.detach(d);else{const p=o[Pt],D=new N_(p,p[zt],p[Pt]);D.detach(D.indexOf(t))}}const l=this._adjustIndex(n),c=this._lContainer;return Pd(c,o,l,r),t.attachToViewContainerRef(),ta(zm(c),l,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=O_(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=Ll(this._lContainer,n);r&&(mo(zm(this._lContainer),n),Vl(r[me],r))}detach(t){const n=this._adjustIndex(t,-1),r=Ll(this._lContainer,n);return r&&null!=mo(zm(this._lContainer),n)?new Ld(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function O_(e){return e[8]}function zm(e){return e[8]||(e[8]=[])}function x_(e,t){let n;const r=t[e.index];return Cn(r)?n=r:(n=function Jy(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}(r,t,null,e),t[e.index]=n,$h(t,n)),P_(n,t,e,r),new N_(n,e,t)}let P_=function F_(e,t,n,r){if(e[Vr])return;let o;o=8&n.type?jt(r):function L0(e,t){const n=e[Qe],r=n.createComment(""),o=hr(t,e);return m(n,z(n,o),r,function fe(e,t){return e.nextSibling(t)}(n,o),!1),r}(t,n),e[Vr]=o};class Km{constructor(t){this.queryList=t,this.matches=null}clone(){return new Km(this.queryList)}setDirty(){this.queryList.setDirty()}}class Xm{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,o=[];for(let l=0;l<r;l++){const c=n.getByIndex(l);o.push(this.queries[c.indexInDeclarationView].clone())}return new Xm(o)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==ev(t,n).matches&&this.queries[n].setDirty()}}class L_{constructor(t,n,r=null){this.flags=n,this.read=r,this.predicate="string"==typeof t?function G0(e){return e.split(",").map(t=>t.trim())}(t):t}}class Qm{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const o=null!==n?n.length:0,l=this.getByIndex(r).embeddedTView(t,o);l&&(l.indexInDeclarationView=r,null!==n?n.push(l):n=[l])}return null!==n?new Qm(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Zm{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new Zm(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1&~this.metadata.flags){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){const l=r[o];this.matchTNodeWithReadOption(t,n,B0(n,l)),this.matchTNodeWithReadOption(t,n,Dc(n,t,l,!1,!1))}else r===Vd?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,Dc(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const o=this.metadata.read;if(null!==o)if(o===wl||o===tp||o===Vd&&4&n.type)this.addMatch(n.index,-2);else{const l=Dc(n,t,o,!1,!1);null!==l&&this.addMatch(n.index,l)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function B0(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function $0(e,t,n,r){return-1===n?function H0(e,t){return 11&e.type?Fs(e,t):4&e.type?zh(e,t):null}(t,e):-2===n?function W0(e,t,n){return n===wl?Fs(t,e):n===Vd?zh(t,e):n===tp?x_(t,e):void 0}(e,t,r):xs(e,e[me],n,t)}function V_(e,t,n,r){const o=t[Do].queries[r];if(null===o.matches){const l=e.data,c=n.matches,d=[];for(let p=0;null!==c&&p<c.length;p+=2){const D=c[p];d.push(D<0?null:$0(t,l[D],c[p+1],n.metadata.read))}o.matches=d}return o.matches}function Jm(e,t,n,r){const o=e.queries.getByIndex(n),l=o.matches;if(null!==l){const c=V_(e,t,o,n);for(let d=0;d<l.length;d+=2){const p=l[d];if(p>0)r.push(c[d/2]);else{const D=l[d+1],I=t[-p];for(let R=hn;R<I.length;R++){const L=I[R];L[ui]===L[Pt]&&Jm(L[me],L,D,r)}if(null!==I[zi]){const R=I[zi];for(let L=0;L<R.length;L++){const U=R[L];Jm(U[me],U,D,r)}}}}}return r}function U_(e,t,n){const r=new Vn(!(4&~n));return function aE(e,t,n,r){const o=e_(t);o.push(n),e.firstCreatePass&&t_(e).push(r,o.length-1)}(e,t,r,r.destroy),(t[Do]??=new Xm).queries.push(new Km(r))-1}function H_(e,t,n){null===e.queries&&(e.queries=new Qm),e.queries.track(new Zm(t,n))}function ev(e,t){return e.queries.getByIndex(t)}function $_(e,t){const n=e[me],r=ev(n,t);return r.crossesNgTemplate?Jm(n,e,t,[]):V_(n,e,r,t)}function z_(e){return function W_(e){return"function"==typeof e&&void 0!==e[De]}(e)&&"function"==typeof e.set}function nv(e){let t=function rw(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let o;if(Ar(e))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Ne(903,!1);o=t.\u0275dir}if(o){if(n){r.push(o);const c=e;c.inputs=rp(e.inputs),c.inputTransforms=rp(e.inputTransforms),c.declaredInputs=rp(e.declaredInputs),c.outputs=rp(e.outputs);const d=o.hostBindings;d&&aS(e,d);const p=o.viewQuery,D=o.contentQueries;if(p&&iS(e,p),D&&sS(e,D),rS(e,o),To(e.outputs,o.outputs),Ar(o)&&o.data.animation){const I=e.data;I.animation=(I.animation||[]).concat(o.data.animation)}}const l=o.features;if(l)for(let c=0;c<l.length;c++){const d=l[c];d&&d.ngInherit&&d(e),d===nv&&(n=!1)}}t=Object.getPrototypeOf(t)}!function oS(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const o=e[r];o.hostVars=t+=o.hostVars,o.hostAttrs=Li(o.hostAttrs,n=Li(n,o.hostAttrs))}}(r)}function rS(e,t){for(const n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;const r=t.inputs[n];if(void 0!==r&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n],null!==t.inputTransforms)){const o=Array.isArray(r)?r[0]:r;if(!t.inputTransforms.hasOwnProperty(o))continue;e.inputTransforms??={},e.inputTransforms[o]=t.inputTransforms[o]}}}function rp(e){return e===Sr?{}:e===Et?[]:e}function iS(e,t){const n=e.viewQuery;e.viewQuery=n?(r,o)=>{t(r,o),n(r,o)}:t}function sS(e,t){const n=e.contentQueries;e.contentQueries=n?(r,o,l)=>{t(r,o,l),n(r,o,l)}:t}function aS(e,t){const n=e.hostBindings;e.hostBindings=n?(r,o)=>{t(r,o),n(r,o)}:t}function aw(e){const t=e.inputConfig,n={};for(const r in t)if(t.hasOwnProperty(r)){const o=t[r];Array.isArray(o)&&o[3]&&(n[r]=o[3])}e.inputTransforms=n}class Hl{}class lw{}function hS(e,t){return new rv(e,t??null,[])}class rv extends Hl{constructor(t,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new A_(this);const o=Sn(t);this._bootstrapComponents=io(o.bootstrap),this._r3Injector=bc(t,n,[{provide:Hl,useValue:this},{provide:Zh,useValue:this.componentFactoryResolver},...r],Qt(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class ov extends lw{constructor(t){super(),this.moduleType=t}create(t){return new rv(this.moduleType,t,[])}}class cw extends Hl{constructor(t){super(),this.componentFactoryResolver=new A_(this),this.instance=null;const n=new li([...t.providers,{provide:Hl,useValue:this},{provide:Zh,useValue:this.componentFactoryResolver}],t.parent||Bi(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function iv(e,t,n=null){return new cw({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}let Zc=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new sr.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=It({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function ip(e){return!!sv(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function sv(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Mn(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function mv(e,t,n,r){const o=ne();return Mn(o,Co(),t)&&(yt(),ns(wt(),o,e,t,n,r)),mv}function fp(e,t){return e<<17|t<<2}function ja(e){return e>>17&32767}function vv(e){return 2|e}function Gl(e){return(131068&e)>>2}function yv(e,t){return-131069&e|t<<2}function _v(e){return 1|e}function Hw(e,t,n,r){const o=e[n+1],l=null===t;let c=r?ja(o):Gl(o),d=!1;for(;0!==c&&(!1===d||l);){const D=e[c+1];iI(e[c],t)&&(d=!0,e[c+1]=r?_v(D):vv(D)),c=r?ja(D):Gl(D)}d&&(e[n+1]=r?vv(o):_v(o))}function iI(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&$n(e,t)>=0}function wv(e,t,n){const r=ne();return Mn(r,Co(),t)&&lo(yt(),wt(),r,e,t,r[Qe],n,!1),wv}function Dv(e,t,n,r,o){const c=o?"class":"style";Rm(e,n,t.inputs[c],c,r)}function Cv(e,t){return function Ci(e,t,n,r){const o=ne(),l=yt(),c=function gi(e){const t=rt.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}(2);l.firstUpdatePass&&function Zw(e,t,n,r){const o=e.data;if(null===o[n+1]){const l=o[Ln()],c=function Qw(e,t){return t>=e.expandoStartIndex}(e,n);(function tD(e,t){return!!(e.flags&(t?8:16))})(l,r)&&null===t&&!c&&(t=!1),t=function pI(e,t,n,r){const o=function Lu(e){const t=rt.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let l=r?t.residualClasses:t.residualStyles;if(null===o)0===(r?t.classBindings:t.styleBindings)&&(n=ef(n=bv(null,e,t,n,r),t.attrs,r),l=null);else{const c=t.directiveStylingLast;if(-1===c||e[c]!==o)if(n=bv(o,e,t,n,r),null===l){let p=function gI(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==Gl(r))return e[ja(r)]}(e,t,r);void 0!==p&&Array.isArray(p)&&(p=bv(null,e,t,p[1],r),p=ef(p,t.attrs,r),function mI(e,t,n,r){e[ja(n?t.classBindings:t.styleBindings)]=r}(e,t,r,p))}else l=function vI(e,t,n){let r;const o=t.directiveEnd;for(let l=1+t.directiveStylingLast;l<o;l++)r=ef(r,e[l].hostAttrs,n);return ef(r,t.attrs,n)}(e,t,r)}return void 0!==l&&(r?t.residualClasses=l:t.residualStyles=l),n}(o,l,t,r),function rI(e,t,n,r,o,l){let c=l?t.classBindings:t.styleBindings,d=ja(c),p=Gl(c);e[r]=n;let I,D=!1;if(Array.isArray(n)?(I=n[1],(null===I||$n(n,I)>0)&&(D=!0)):I=n,o)if(0!==p){const L=ja(e[d+1]);e[r+1]=fp(L,d),0!==L&&(e[L+1]=yv(e[L+1],r)),e[d+1]=function tI(e,t){return 131071&e|t<<17}(e[d+1],r)}else e[r+1]=fp(d,0),0!==d&&(e[d+1]=yv(e[d+1],r)),d=r;else e[r+1]=fp(p,0),0===d?d=r:e[p+1]=yv(e[p+1],r),p=r;D&&(e[r+1]=vv(e[r+1])),Hw(e,I,r,!0),Hw(e,I,r,!1),function oI(e,t,n,r,o){const l=o?e.residualClasses:e.residualStyles;null!=l&&"string"==typeof t&&$n(l,t)>=0&&(n[r+1]=_v(n[r+1]))}(t,I,e,r,l),c=fp(d,p),l?t.classBindings=c:t.styleBindings=c}(o,l,t,n,c,r)}}(l,e,c,r),t!==ot&&Mn(o,c,t)&&function Yw(e,t,n,r,o,l,c,d){if(!(3&t.type))return;const p=e.data,D=p[d+1],I=function nI(e){return!(1&~e)}(D)?eD(p,t,n,o,Gl(D),c):void 0;hp(I)||(hp(l)||function eI(e){return!(2&~e)}(D)&&(l=eD(p,null,n,o,d,c)),function qo(e,t,n,r,o){if(t)o?e.addClass(n,r):e.removeClass(n,r);else{let l=-1===r.indexOf("-")?void 0:Hc.DashCase;null==o?e.removeStyle(n,r,l):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),l|=Hc.Important),e.setStyle(n,r,o,l))}}(r,c,cl(Ln(),n),o,l))}(l,l.data[Ln()],o,o[Qe],e,o[c+1]=function DI(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=Qt(Di(e)))),e}(t,n),r,c)}(e,t,null,!0),Cv}function bv(e,t,n,r,o){let l=null;const c=n.directiveEnd;let d=n.directiveStylingLast;for(-1===d?d=n.directiveStart:d++;d<c&&(l=t[d],r=ef(r,l.hostAttrs,o),l!==e);)d++;return null!==e&&(n.directiveStylingLast=d),r}function ef(e,t,n){const r=n?1:2;let o=-1;if(null!==t)for(let l=0;l<t.length;l++){const c=t[l];"number"==typeof c?o=c:o===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Fn(e,c,!!n||t[++l]))}return void 0===e?null:e}function eD(e,t,n,r,o,l){const c=null===t;let d;for(;o>0;){const p=e[o],D=Array.isArray(p),I=D?p[1]:p,R=null===I;let L=n[o+1];L===ot&&(L=R?Et:void 0);let U=R?vs(L,r):I===r?L:void 0;if(D&&!hp(U)&&(U=vs(p,r)),hp(U)&&(d=U,c))return d;const W=e[o+1];o=c?ja(W):Gl(W)}if(null!==t){let p=l?t.residualClasses:t.residualStyles;null!=p&&(d=vs(p,r))}return d}function hp(e){return void 0!==e}function pp(e,t,n,r){const o=ne(),l=yt(),c=it+e,d=o[Qe],p=l.firstCreatePass?function WI(e,t,n,r,o,l){const c=t.consts,p=Hr(t,e,2,r,Ho(c,o));return function Im(e,t,n,r){if(wf()){const o=null===r?null:{"":-1},l=function vE(e,t){const n=e.directiveRegistry;let r=null,o=null;if(n)for(let l=0;l<n.length;l++){const c=n[l];if(Qa(t,c.selectors,!1))if(r||(r=[]),Ar(c))if(null!==c.findHostDirectiveDefs){const d=[];o=o||new Map,c.findHostDirectiveDefs(c,d,o),r.unshift(...d,c),Mm(e,t,d.length)}else r.unshift(c),Mm(e,t,0);else o=o||new Map,c.findHostDirectiveDefs?.(c,r,o),r.push(c)}return null===r?null:[r,o]}(e,n);let c,d;null===l?c=d=null:[c,d]=l,null!==c&&Qy(e,t,n,c,o,d),o&&function yE(e,t,n){if(t){const r=e.localNames=[];for(let o=0;o<t.length;o+=2){const l=n[t[o+1]];if(null==l)throw new Ne(-301,!1);r.push(t[o],l)}}}(n,r,o)}n.mergedAttrs=Li(n.mergedAttrs,n.attrs)}(t,n,p,Ho(c,l)),null!==p.attrs&&Yh(p,p.attrs,!1),null!==p.mergedAttrs&&Yh(p,p.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,p),p}(c,l,o,t,n,r):l.data[c],D=iD(l,o,p,d,t,e);o[c]=D;const I=ma(p);return $o(p,!0),qc(d,D,p),!function Xd(e){return!(32&~e.flags)}(p)&&Os()&&Ct(l,o,D,p),0===function _f(){return rt.lFrame.elementDepthCount}()&&Xn(D,o),function Qp(){rt.lFrame.elementDepthCount++}(),I&&(function bm(e,t,n){wf()&&(function gE(e,t,n,r){const o=n.directiveStart,l=n.directiveEnd;di(n)&&function CE(e,t,n){const r=hr(t,e),o=zy(n);let c=16;n.signals?c=4096:n.onPush&&(c=64);const d=$h(e,Br(e,o,null,c,r,t,null,e[Tr].rendererFactory.createRenderer(r,n),null,null,null));e[t.index]=d}(t,n,e.data[o+n.componentOffset]),e.firstCreatePass||_c(n,t),Xn(r,t);const c=n.initialInputs;for(let d=o;d<l;d++){const p=e.data[d],D=xs(t,e,d,n);Xn(D,t),null!==c&&bE(0,d-o,D,p,0,c),Ar(p)&&(Ur(n.index,t)[Bt]=xs(t,e,d,n))}}(e,t,n,hr(n,t)),!(64&~n.flags)&&Zy(e,t,n))}(l,o,p),Fa(l,p,o)),null!==r&&function Em(e,t,n=hr){const r=t.localNames;if(null!==r){let o=t.index+1;for(let l=0;l<r.length;l+=2){const c=r[l+1],d=-1===c?n(t,e):e[c];e[o++]=d}}}(o,p),pp}function gp(){let e=Ht();Pu()?function ku(){rt.lFrame.isParent=!1}():(e=e.parent,$o(e,!1));const t=e;(function Df(e){return rt.skipHydrationRootTNode===e})(t)&&function eg(){rt.skipHydrationRootTNode=null}(),function Zp(){rt.lFrame.elementDepthCount--}();const n=yt();return n.firstCreatePass&&(wa(n,e),ll(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function Wu(e){return!!(8&e.flags)}(t)&&Dv(n,t,ne(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function lg(e){return!!(16&e.flags)}(t)&&Dv(n,t,ne(),t.stylesWithoutHost,!1),gp}function Tv(e,t,n,r){return pp(e,t,n,r),gp(),Tv}let iD=(e,t,n,r,o,l)=>(ro(!0),Gc(r,o,function Rf(){return rt.lFrame.currentNamespace}()));function lD(){return ne()}const zl=void 0;var ZI=["en",[["a","p"],["AM","PM"],zl],[["AM","PM"],zl,zl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],zl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],zl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",zl,"{1} 'at' {0}",zl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function QI(e){const n=Math.floor(Math.abs(e)),r=e.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let pu={};function Nv(e){const t=function JI(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=fD(t);if(n)return n;const r=t.split("-")[0];if(n=fD(r),n)return n;if("en"===r)return ZI;throw new Ne(701,!1)}function dD(e){return Nv(e)[gu.PluralCase]}function fD(e){return e in pu||(pu[e]=tt.ng&&tt.ng.common&&tt.ng.common.locales&&tt.ng.common.locales[e]),pu[e]}var gu=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(gu||{});const mu="en-US";let hD=mu;function Pv(e,t,n,r){const o=ne(),l=yt(),c=Ht();return kv(l,o,o[Qe],c,e,t,r),Pv}function kv(e,t,n,r,o,l,c){const d=ma(r),D=e.firstCreatePass&&t_(e),I=t[Bt],R=e_(t);let L=!0;if(3&r.type||c){const re=hr(r,t),we=c?c(re):re,Re=R.length,ue=c?kt=>c(jt(kt[r.index])):r.index;let nt=null;if(!c&&d&&(nt=function KM(e,t,n,r){const o=e.cleanup;if(null!=o)for(let l=0;l<o.length-1;l+=2){const c=o[l];if(c===n&&o[l+1]===r){const d=t[rr],p=o[l+2];return d.length>p?d[p]:null}"string"==typeof c&&(l+=2)}return null}(e,t,o,r.index)),null!==nt)(nt.__ngLastListenerFn__||nt).__ngNextListenerFn__=l,nt.__ngLastListenerFn__=l,L=!1;else{l=BD(r,t,I,l,!1);const kt=n.listen(we,o,l);R.push(l,kt),D&&D.push(o,ue,Re,Re+1)}}else l=BD(r,t,I,l,!1);const U=r.outputs;let W;if(L&&null!==U&&(W=U[o])){const re=W.length;if(re)for(let we=0;we<re;we+=2){const en=t[W[we]][W[we+1]].subscribe(l),Yn=R.length;R.push(l,en),D&&D.push(o,r.index,Yn,-(Yn+1))}}}function jD(e,t,n,r){const o=J(null);try{return ir(6,t,n),!1!==n(r)}catch(l){return Wh(e,l),!1}finally{ir(7,t,n),J(o)}}function BD(e,t,n,r,o){return function l(c){if(c===Function)return r;Fd(e.componentOffset>-1?Ur(e.index,t):t);let p=jD(t,n,r,c),D=l.__ngNextListenerFn__;for(;D;)p=jD(t,n,D,c)&&p,D=D.__ngNextListenerFn__;return o&&!1===p&&c.preventDefault(),p}}function ZD(e,t,n,r){!function B_(e,t,n,r){const o=yt();if(o.firstCreatePass){const l=Ht();H_(o,new L_(t,n,r),l.index),function z0(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(o,e),!(2&~n)&&(o.staticContentQueries=!0)}return U_(o,ne(),n)}(e,t,n,r)}function JD(e,t,n){!function j_(e,t,n){const r=yt();return r.firstCreatePass&&(H_(r,new L_(e,t,n),-1),!(2&~t)&&(r.staticViewQueries=!0)),U_(r,ne(),t)}(e,t,n)}function YD(e){const t=ne(),n=yt(),r=Vu();hl(r+1);const o=ev(n,r);if(e.dirty&&function qp(e){return!(4&~e[Le])}(t)===!(2&~o.metadata.flags)){if(null===o.matches)e.reset([]);else{const l=$_(t,r);e.reset(l,Qf),e.notifyOnChanges()}return!0}return!1}function eC(){return function Ym(e,t){return e[Do].queries[t].queryList}(ne(),Vu())}function tC(e){return ya(function tg(){return rt.lFrame.contextLView}(),it+e)}function dC(e,t=""){const n=ne(),r=yt(),o=e+it,l=r.firstCreatePass?Hr(r,o,1,t,null):r.data[o],c=fC(r,n,l,t,e);n[o]=c,Os()&&Ct(r,n,c,l),$o(l,!1)}let fC=(e,t,n,r,o)=>(ro(!0),function Nd(e,t){return e.createText(t)}(t[Qe],r));function Lv(e){return Vv("",e,""),Lv}function Vv(e,t,n){const r=ne(),o=function iu(e,t,n,r){return Mn(e,Co(),n)?t+Xe(n)+r:ot}(r,e,t,n);return o!==ot&&function Gs(e,t,n){const r=cl(t,e);!function ym(e,t,n){e.setValue(t,n)}(e[Qe],r,n)}(r,Ln(),o),Vv}function Uv(e,t,n){z_(t)&&(t=t());const r=ne();return Mn(r,Co(),t)&&lo(yt(),wt(),r,e,t,r[Qe],n,!1),Uv}function DC(e,t){const n=z_(e);return n&&e.set(t),n}function jv(e,t){const n=ne(),r=yt(),o=Ht();return kv(r,n,n[Qe],o,e,t),jv}function Bv(e,t,n,r,o){if(e=$(e),Array.isArray(e))for(let l=0;l<e.length;l++)Bv(e[l],t,n,r,o);else{const l=yt(),c=ne(),d=Ht();let p=_o(e)?e:$(e.provide);const D=cc(e),I=1048575&d.providerIndexes,R=d.directiveStart,L=d.providerIndexes>>20;if(_o(e)||!e.multi){const U=new pl(D,o,es),W=$v(p,t,o?I:I+L,R);-1===W?(yl(_c(d,c),l,p),Hv(l,e,t.length),t.push(p),d.directiveStart++,d.directiveEnd++,o&&(d.providerIndexes+=1048576),n.push(U),c.push(U)):(n[W]=U,c[W]=U)}else{const U=$v(p,t,I+L,R),W=$v(p,t,I,I+L),we=W>=0&&n[W];if(o&&!we||!o&&!(U>=0&&n[U])){yl(_c(d,c),l,p);const Re=function vT(e,t,n,r,o){const l=new pl(e,n,es);return l.multi=[],l.index=t,l.componentProviders=0,CC(l,o,r&&!n),l}(o?mT:gT,n.length,o,r,D);!o&&we&&(n[W].providerFactory=Re),Hv(l,e,t.length,0),t.push(p),d.directiveStart++,d.directiveEnd++,o&&(d.providerIndexes+=1048576),n.push(Re),c.push(Re)}else Hv(l,e,U>-1?U:W,CC(n[o?W:U],D,!o&&r));!o&&r&&we&&n[W].componentProviders++}}}function Hv(e,t,n,r){const o=_o(t),l=function nl(e){return!!e.useClass}(t);if(o||l){const p=(l?$(t.useClass):t).prototype.ngOnDestroy;if(p){const D=e.destroyHooks||(e.destroyHooks=[]);if(!o&&t.multi){const I=D.indexOf(n);-1===I?D.push(n,[r,p]):D[I+1].push(r,p)}else D.push(n,p)}}}function CC(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function $v(e,t,n,r){for(let o=n;o<r;o++)if(t[o]===e)return o;return-1}function gT(e,t,n,r){return Wv(this.multi,[])}function mT(e,t,n,r){const o=this.multi;let l;if(this.providerFactory){const c=this.providerFactory.componentProviders,d=xs(n,n[me],this.providerFactory.index,r);l=d.slice(0,c),Wv(o,l);for(let p=c;p<d.length;p++)l.push(d[p])}else l=[],Wv(o,l);return l}function Wv(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function bC(e,t=[]){return n=>{n.providersResolver=(r,o)=>function pT(e,t,n){const r=yt();if(r.firstCreatePass){const o=Ar(e);Bv(n,r.data,r.blueprint,o,!0),Bv(t,r.data,r.blueprint,o,!1)}}(r,o?o(e):e,t)}}let yT=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=Ui(0,n.type),o=r.length>0?iv([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,o)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=It({token:e,providedIn:"environment",factory:()=>new e(fn(Gn))})}return e})();function EC(e){(function rs(e){__.has(e)||(__.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))})("NgStandalone"),e.getStandaloneInjector=t=>t.get(yT).getOrCreateStandaloneInjector(e)}function IC(e,t,n,r,o,l){const c=t+n;return Mn(e,c,o)?function os(e,t,n){return e[t]=n}(e,c+1,l?r.call(l,o):r(o)):function cf(e,t){const n=e[t];return n===ot?void 0:n}(e,c+1)}function NC(e,t){const n=yt();let r;const o=e+it;n.firstCreatePass?(r=function NT(e,t){if(t)for(let n=t.length-1;n>=0;n--){const r=t[n];if(e===r.name)return r}}(t,n.pipeRegistry),n.data[o]=r,r.onDestroy&&(n.destroyHooks??=[]).push(o,r.onDestroy)):r=n.data[o];const l=r.factory||(r.factory=go(r.type)),d=Pn(es);try{const p=yc(!1),D=l();return yc(p),function nT(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}(n,ne(),o,D),D}finally{Pn(d)}}function OC(e,t,n){const r=e+it,o=ne(),l=ya(o,r);return function uf(e,t){return e[me].data[t].pure}(o,r)?IC(o,function pr(){const e=rt.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}(),t,l.transform,n,l):l.transform(n)}class KC{constructor(t){this.full=t;const n=t.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}}let XC=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=It({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const eb=new Ke(""),tb=new Ke("");let Qv,AA=(()=>{class e{constructor(n,r,o){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Qv||(function RA(e){Qv=e}(o),o.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Un.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb()}});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,o){let l=-1;r&&r>0&&(l=setTimeout(()=>{this._callbacks=this._callbacks.filter(c=>c.timeoutId!==l),n()},r)),this._callbacks.push({doneCb:n,timeoutId:l,updateCb:o})}whenStable(n,r,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,o){return[]}static#e=this.\u0275fac=function(r){return new(r||e)(fn(Un),fn(nb),fn(tb))};static#t=this.\u0275prov=It({token:e,factory:e.\u0275fac})}return e})(),nb=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Qv?.findTestabilityInTree(this,n,r)??null}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=It({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function Zv(e){return!!e&&"function"==typeof e.then}function rb(e){return!!e&&"function"==typeof e.subscribe}const NA=new Ke("");let Jv=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=je(NA,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const o of this.appInits){const l=o();if(Zv(l))n.push(l);else if(rb(l)){const c=new Promise((d,p)=>{l.subscribe({complete:d,error:p})});n.push(c)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),0===n.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=It({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Yv=new Ke("");let Ba=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=je(qf),this.afterRenderEffectManager=je($d),this.externalTestViews=new Set,this.beforeRender=new Vt.B,this.afterTick=new Vt.B,this.componentTypes=[],this.components=[],this.isStable=je(Zc).hasPendingTasks.pipe((0,On.T)(n=>!n)),this._injector=je(Gn)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const o=n instanceof m_;if(!this._injector.get(Jv).done)throw!o&&Wn(n),new Ne(405,!1);let c;c=o?n:this._injector.get(Zh).resolveComponentFactory(n),this.componentTypes.push(c.componentType);const d=function OA(e){return e.isBoundToModule}(c)?void 0:this._injector.get(Hl),D=c.create(jr.NULL,[],r||c.selector,d),I=D.location.nativeElement,R=D.injector.get(eb,null);return R?.registerApplication(I),D.onDestroy(()=>{this.detachView(D.hostView),bp(this.components,D),R?.unregisterApplication(I)}),this._loadComponent(D),D}tick(){this._tick(!0)}_tick(n){if(this._runningTick)throw new Ne(101,!1);const r=J(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(n)}catch(o){this.internalErrorHandler(o)}finally{this.afterTick.next(),this._runningTick=!1,J(r)}}detectChangesInAttachedViews(n){let r=0;const o=this.afterRenderEffectManager;for(;;){if(r===s_)throw new Ne(103,!1);if(n){const l=0===r;this.beforeRender.next(l);for(let{_lView:c,notifyErrorHandler:d}of this._views)PA(c,l,d)}if(r++,o.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:l})=>ey(l))&&(o.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:l})=>ey(l))))break}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;bp(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(Yv,[]);[...this._bootstrapListeners,...r].forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>bp(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Ne(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=It({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function bp(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function PA(e,t,n){!t&&!ey(e)||function kA(e,t,n){let r;n?(r=0,e[Le]|=1024):r=64&e[Le]?0:1,Gh(e,t,r)}(e,n,t)}function ey(e){return Nu(e)}class FA{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let LA=(()=>{class e{compileModuleSync(n){return new ov(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),l=io(Sn(n).declarations).reduce((c,d)=>{const p=dt(d);return p&&c.push(new zd(p)),c},[]);return new FA(r,l)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=It({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),jA=(()=>{class e{constructor(){this.zone=je(Un),this.applicationRef=je(Ba)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=It({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function lb(e){return[{provide:Un,useFactory:e},{provide:oi,multi:!0,useFactory:()=>{const t=je(jA,{optional:!0});return()=>t.initialize()}},{provide:oi,multi:!0,useFactory:()=>{const t=je($A);return()=>{t.initialize()}}},{provide:qf,useFactory:BA}]}function BA(){const e=je(Un),t=je(vi);return n=>e.runOutsideAngular(()=>t.handleError(n))}function HA(e){return Is([[],lb(()=>new Un(function cb(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}(e)))])}let $A=(()=>{class e{constructor(){this.subscription=new pn.yU,this.initialized=!1,this.zone=je(Un),this.pendingTasks=je(Zc)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Un.assertNotInAngularZone(),queueMicrotask(()=>{null!==n&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Un.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=It({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Sp=new Ke("",{providedIn:"root",factory:()=>je(Sp,pt.Optional|pt.SkipSelf)||function WA(){return typeof $localize<"u"&&$localize.locale||mu}()}),GA=new Ke("",{providedIn:"root",factory:()=>"USD"}),ty=new Ke("");let Ha=null;function QA(){return!1}let gb=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=ZA}return e})();function ZA(e){return function JA(e,t,n){if(di(e)&&!n){const r=Ur(e.index,t);return new Ld(r,r)}return 47&e.type?new Ld(t[qt],t):null}(Ht(),ne(),!(16&~e))}class _b{constructor(){}supports(t){return ip(t)}create(t){return new rR(t)}}const nR=(e,t)=>t;class rR{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||nR}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,o=0,l=null;for(;n||r;){const c=!r||n&&n.currentIndex<Db(r,o,l)?n:r,d=Db(c,o,l),p=c.currentIndex;if(c===r)o--,r=r._nextRemoved;else if(n=n._next,null==c.previousIndex)o++;else{l||(l=[]);const D=d-o,I=p-o;if(D!=I){for(let L=0;L<D;L++){const U=L<l.length?l[L]:l[L]=0,W=U+L;I<=W&&W<D&&(l[L]=U+1)}l[c.previousIndex]=I-D}}d!==p&&t(c,d,p)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!ip(t))throw new Ne(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let o,l,c,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let d=0;d<this.length;d++)l=t[d],c=this._trackByFn(d,l),null!==n&&Object.is(n.trackById,c)?(r&&(n=this._verifyReinsertion(n,l,c,d)),Object.is(n.item,l)||this._addIdentityChange(n,l)):(n=this._mismatch(n,l,c,d),r=!0),n=n._next}else o=0,function yS(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Symbol.iterator]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,d=>{c=this._trackByFn(o,d),null!==n&&Object.is(n.trackById,c)?(r&&(n=this._verifyReinsertion(n,d,c,o)),Object.is(n.item,d)||this._addIdentityChange(n,d)):(n=this._mismatch(n,d,c,o),r=!0),n=n._next,o++}),this.length=o;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,o){let l;return null===t?l=this._itTail:(l=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,l,o)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,o))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,l,o)):t=this._addAfter(new oR(n,r),l,o),t}_verifyReinsertion(t,n,r,o){let l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==l?t=this._reinsertAfter(l,t._prev,o):t.currentIndex!=o&&(t.currentIndex=o,this._addToMoves(t,o)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const o=t._prevRemoved,l=t._nextRemoved;return null===o?this._removalsHead=l:o._nextRemoved=l,null===l?this._removalsTail=o:l._prevRemoved=o,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const o=null===n?this._itHead:n._next;return t._next=o,t._prev=n,null===o?this._itTail=t:o._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new wb),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new wb),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class oR{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class iR{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class wb{constructor(){this.map=new Map}put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new iR,this.map.set(n,r)),r.add(t)}get(t,n){const o=this.map.get(t);return o?o.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Db(e,t,n){const r=e.previousIndex;if(null===r)return r;let o=0;return n&&r<n.length&&(o=n[r]),r+t+o}class Cb{constructor(){}supports(t){return t instanceof Map||sv(t)}create(){return new sR}}class sR{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||sv(t)))throw new Ne(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,o)=>{if(n&&n.key===o)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const l=this._getOrCreateRecordForKey(o,r);n=this._insertBeforeOrAppend(n,l)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const r=t._prev;return n._next=t,n._prev=r,t._prev=n,r&&(r._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const o=this._records.get(t);this._maybeAddToChanges(o,n);const l=o._prev,c=o._next;return l&&(l._next=c),c&&(c._prev=l),o._next=null,o._prev=null,o}const r=new aR(t);return this._records.set(t,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(r=>n(t[r],r))}}class aR{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function bb(){return new ay([new _b])}let ay=(()=>{class e{static#e=this.\u0275prov=It({token:e,providedIn:"root",factory:bb});constructor(n){this.factories=n}static create(n,r){if(null!=r){const o=r.factories.slice();n=n.concat(o)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||bb()),deps:[[e,new ki,new Pi]]}}find(n){const r=this.factories.find(o=>o.supports(n));if(null!=r)return r;throw new Ne(901,!1)}}return e})();function Eb(){return new ly([new Cb])}let ly=(()=>{class e{static#e=this.\u0275prov=It({token:e,providedIn:"root",factory:Eb});constructor(n){this.factories=n}static create(n,r){if(r){const o=r.factories.slice();n=n.concat(o)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||Eb()),deps:[[e,new ki,new Pi]]}}find(n){const r=this.factories.find(o=>o.supports(n));if(r)return r;throw new Ne(901,!1)}}return e})();function ER(e){try{const{rootComponent:t,appProviders:n,platformProviders:r}=e,o=function XA(e=[]){if(Ha)return Ha;const t=function fb(e=[],t){return jr.create({name:t,providers:[{provide:fr,useValue:"platform"},{provide:ty,useValue:new Set([()=>Ha=null])},...e]})}(e);return Ha=t,function ob(){!function dn(e){Rn=e}(()=>{throw new Ne(600,!1)})}(),function hb(e){e.get(Vs,null)?.forEach(n=>n())}(t),t}(r),l=[HA(),...n||[]],d=new cw({providers:l,parent:o,debugName:"",runEnvironmentInitializers:!1}).injector,p=d.get(Un);return p.run(()=>{d.resolveInjectorInitializers();const D=d.get(vi,null);let I;p.runOutsideAngular(()=>{I=p.onError.subscribe({next:U=>{D.handleError(U)}})});const R=()=>d.destroy(),L=o.get(ty);return L.add(R),d.onDestroy(()=>{I.unsubscribe(),L.delete(R)}),function ib(e,t,n){try{const r=n();return Zv(r)?r.catch(o=>{throw t.runOutsideAngular(()=>e.handleError(o)),o}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(D,p,()=>{const U=d.get(Jv);return U.runInitializers(),U.donePromise.then(()=>{!function pD(e){"string"==typeof e&&(hD=e.toLowerCase().replace(/_/g,"-"))}(d.get(Sp,mu)||mu);const re=d.get(Ba);return void 0!==t&&re.bootstrap(t),re})})})}catch(t){return Promise.reject(t)}}function UR(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function BR(e){const t=J(null);try{return e()}finally{J(t)}}},345:(Ue,he,O)=>{"use strict";O.d(he,{B8:()=>ee,hE:()=>jn});var C=O(4438),N=O(177);class w extends N.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class j extends w{static makeCurrent(){(0,N.ZD)(new j)}onAndCancel(G,k,B){return G.addEventListener(k,B),()=>{G.removeEventListener(k,B)}}dispatchEvent(G,k){G.dispatchEvent(k)}remove(G){G.parentNode&&G.parentNode.removeChild(G)}createElement(G,k){return(k=k||this.getDefaultDocument()).createElement(G)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(G){return G.nodeType===Node.ELEMENT_NODE}isShadowRoot(G){return G instanceof DocumentFragment}getGlobalEventTarget(G,k){return"window"===k?window:"document"===k?G:"body"===k?G.body:null}getBaseHref(G){const k=function De(){return Q=Q||document.querySelector("base"),Q?Q.getAttribute("href"):null}();return null==k?null:function J($){return new URL($,document.baseURI).pathname}(k)}resetBaseElement(){Q=null}getUserAgent(){return window.navigator.userAgent}getCookie(G){return(0,N._b)(document.cookie,G)}}let Q=null,ge=(()=>{class ${build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(B){return new(B||$)};static#t=this.\u0275prov=C.jDH({token:$,factory:$.\u0275fac})}return $})();const te=new C.nKC("");let Z=(()=>{class ${constructor(k,B){this._zone=B,this._eventNameToPlugin=new Map,k.forEach(ce=>{ce.manager=this}),this._plugins=k.slice().reverse()}addEventListener(k,B,ce){return this._findPluginFor(B).addEventListener(k,B,ce)}getZone(){return this._zone}_findPluginFor(k){let B=this._eventNameToPlugin.get(k);if(B)return B;if(B=this._plugins.find(ke=>ke.supports(k)),!B)throw new C.wOt(5101,!1);return this._eventNameToPlugin.set(k,B),B}static#e=this.\u0275fac=function(B){return new(B||$)(C.KVO(te),C.KVO(C.SKi))};static#t=this.\u0275prov=C.jDH({token:$,factory:$.\u0275fac})}return $})();class se{constructor(G){this._doc=G}}const Te="ng-app-id";let ae=(()=>{class ${constructor(k,B,ce,ke={}){this.doc=k,this.appId=B,this.nonce=ce,this.platformId=ke,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,N.Vy)(ke),this.resetHostNodes()}addStyles(k){for(const B of k)1===this.changeUsageCount(B,1)&&this.onStyleAdded(B)}removeStyles(k){for(const B of k)this.changeUsageCount(B,-1)<=0&&this.onStyleRemoved(B)}ngOnDestroy(){const k=this.styleNodesInDOM;k&&(k.forEach(B=>B.remove()),k.clear());for(const B of this.getAllStyles())this.onStyleRemoved(B);this.resetHostNodes()}addHost(k){this.hostNodes.add(k);for(const B of this.getAllStyles())this.addStyleToHost(k,B)}removeHost(k){this.hostNodes.delete(k)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(k){for(const B of this.hostNodes)this.addStyleToHost(B,k)}onStyleRemoved(k){const B=this.styleRef;B.get(k)?.elements?.forEach(ce=>ce.remove()),B.delete(k)}collectServerRenderedStyles(){const k=this.doc.head?.querySelectorAll(`style[${Te}="${this.appId}"]`);if(k?.length){const B=new Map;return k.forEach(ce=>{null!=ce.textContent&&B.set(ce.textContent,ce)}),B}return null}changeUsageCount(k,B){const ce=this.styleRef;if(ce.has(k)){const ke=ce.get(k);return ke.usage+=B,ke.usage}return ce.set(k,{usage:B,elements:[]}),B}getStyleElement(k,B){const ce=this.styleNodesInDOM,ke=ce?.get(B);if(ke?.parentNode===k)return ce.delete(B),ke.removeAttribute(Te),ke;{const He=this.doc.createElement("style");return this.nonce&&He.setAttribute("nonce",this.nonce),He.textContent=B,this.platformIsServer&&He.setAttribute(Te,this.appId),k.appendChild(He),He}}addStyleToHost(k,B){const ce=this.getStyleElement(k,B),ke=this.styleRef,He=ke.get(B)?.elements;He?He.push(ce):ke.set(B,{elements:[ce],usage:1})}resetHostNodes(){const k=this.hostNodes;k.clear(),k.add(this.doc.head)}static#e=this.\u0275fac=function(B){return new(B||$)(C.KVO(N.qQ),C.KVO(C.sZ2),C.KVO(C.BIS,8),C.KVO(C.Agw))};static#t=this.\u0275prov=C.jDH({token:$,factory:$.\u0275fac})}return $})();const Se={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ze=/%COMP%/g,pe=new C.nKC("",{providedIn:"root",factory:()=>!0});function We($,G){return G.map(k=>k.replace(ze,$))}let Ae=(()=>{class ${constructor(k,B,ce,ke,He,At,nn,mn=null){this.eventManager=k,this.sharedStylesHost=B,this.appId=ce,this.removeStylesOnCompDestroy=ke,this.doc=He,this.platformId=At,this.ngZone=nn,this.nonce=mn,this.rendererByCompId=new Map,this.platformIsServer=(0,N.Vy)(At),this.defaultRenderer=new Ie(k,He,nn,this.platformIsServer)}createRenderer(k,B){if(!k||!B)return this.defaultRenderer;this.platformIsServer&&B.encapsulation===C.gXe.ShadowDom&&(B={...B,encapsulation:C.gXe.Emulated});const ce=this.getOrCreateRenderer(k,B);return ce instanceof tn?ce.applyToHost(k):ce instanceof yn&&ce.applyStyles(),ce}getOrCreateRenderer(k,B){const ce=this.rendererByCompId;let ke=ce.get(B.id);if(!ke){const He=this.doc,At=this.ngZone,nn=this.eventManager,mn=this.sharedStylesHost,Gr=this.removeStylesOnCompDestroy,Bn=this.platformIsServer;switch(B.encapsulation){case C.gXe.Emulated:ke=new tn(nn,mn,B,this.appId,Gr,He,At,Bn);break;case C.gXe.ShadowDom:return new er(nn,mn,k,B,He,At,this.nonce,Bn);default:ke=new yn(nn,mn,B,Gr,He,At,Bn)}ce.set(B.id,ke)}return ke}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(B){return new(B||$)(C.KVO(Z),C.KVO(ae),C.KVO(C.sZ2),C.KVO(pe),C.KVO(N.qQ),C.KVO(C.Agw),C.KVO(C.SKi),C.KVO(C.BIS))};static#t=this.\u0275prov=C.jDH({token:$,factory:$.\u0275fac})}return $})();class Ie{constructor(G,k,B,ce){this.eventManager=G,this.doc=k,this.ngZone=B,this.platformIsServer=ce,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(G,k){return k?this.doc.createElementNS(Se[k]||k,G):this.doc.createElement(G)}createComment(G){return this.doc.createComment(G)}createText(G){return this.doc.createTextNode(G)}appendChild(G,k){(Je(G)?G.content:G).appendChild(k)}insertBefore(G,k,B){G&&(Je(G)?G.content:G).insertBefore(k,B)}removeChild(G,k){G&&G.removeChild(k)}selectRootElement(G,k){let B="string"==typeof G?this.doc.querySelector(G):G;if(!B)throw new C.wOt(-5104,!1);return k||(B.textContent=""),B}parentNode(G){return G.parentNode}nextSibling(G){return G.nextSibling}setAttribute(G,k,B,ce){if(ce){k=ce+":"+k;const ke=Se[ce];ke?G.setAttributeNS(ke,k,B):G.setAttribute(k,B)}else G.setAttribute(k,B)}removeAttribute(G,k,B){if(B){const ce=Se[B];ce?G.removeAttributeNS(ce,k):G.removeAttribute(`${B}:${k}`)}else G.removeAttribute(k)}addClass(G,k){G.classList.add(k)}removeClass(G,k){G.classList.remove(k)}setStyle(G,k,B,ce){ce&(C.czy.DashCase|C.czy.Important)?G.style.setProperty(k,B,ce&C.czy.Important?"important":""):G.style[k]=B}removeStyle(G,k,B){B&C.czy.DashCase?G.style.removeProperty(k):G.style[k]=""}setProperty(G,k,B){null!=G&&(G[k]=B)}setValue(G,k){G.nodeValue=k}listen(G,k,B){if("string"==typeof G&&!(G=(0,N.QT)().getGlobalEventTarget(this.doc,G)))throw new Error(`Unsupported event target ${G} for event ${k}`);return this.eventManager.addEventListener(G,k,this.decoratePreventDefault(B))}decoratePreventDefault(G){return k=>{if("__ngUnwrap__"===k)return G;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>G(k)):G(k))&&k.preventDefault()}}}function Je($){return"TEMPLATE"===$.tagName&&void 0!==$.content}class er extends Ie{constructor(G,k,B,ce,ke,He,At,nn){super(G,ke,He,nn),this.sharedStylesHost=k,this.hostEl=B,this.shadowRoot=B.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const mn=We(ce.id,ce.styles);for(const Gr of mn){const Bn=document.createElement("style");At&&Bn.setAttribute("nonce",At),Bn.textContent=Gr,this.shadowRoot.appendChild(Bn)}}nodeOrShadowRoot(G){return G===this.hostEl?this.shadowRoot:G}appendChild(G,k){return super.appendChild(this.nodeOrShadowRoot(G),k)}insertBefore(G,k,B){return super.insertBefore(this.nodeOrShadowRoot(G),k,B)}removeChild(G,k){return super.removeChild(this.nodeOrShadowRoot(G),k)}parentNode(G){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(G)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class yn extends Ie{constructor(G,k,B,ce,ke,He,At,nn){super(G,ke,He,At),this.sharedStylesHost=k,this.removeStylesOnCompDestroy=ce,this.styles=nn?We(nn,B.styles):B.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class tn extends yn{constructor(G,k,B,ce,ke,He,At,nn){const mn=ce+"-"+B.id;super(G,k,B,ke,He,At,nn,mn),this.contentAttr=function de($){return"_ngcontent-%COMP%".replace(ze,$)}(mn),this.hostAttr=function Ce($){return"_nghost-%COMP%".replace(ze,$)}(mn)}applyToHost(G){this.applyStyles(),this.setAttribute(G,this.hostAttr,"")}createElement(G,k){const B=super.createElement(G,k);return super.setAttribute(B,this.contentAttr,""),B}}let Rn=(()=>{class $ extends se{constructor(k){super(k)}supports(k){return!0}addEventListener(k,B,ce){return k.addEventListener(B,ce,!1),()=>this.removeEventListener(k,B,ce)}removeEventListener(k,B,ce){return k.removeEventListener(B,ce)}static#e=this.\u0275fac=function(B){return new(B||$)(C.KVO(N.qQ))};static#t=this.\u0275prov=C.jDH({token:$,factory:$.\u0275fac})}return $})();const mt=["alt","control","meta","shift"],dn={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},K={alt:$=>$.altKey,control:$=>$.ctrlKey,meta:$=>$.metaKey,shift:$=>$.shiftKey};let Y=(()=>{class $ extends se{constructor(k){super(k)}supports(k){return null!=$.parseEventName(k)}addEventListener(k,B,ce){const ke=$.parseEventName(B),He=$.eventCallback(ke.fullKey,ce,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,N.QT)().onAndCancel(k,ke.domEventName,He))}static parseEventName(k){const B=k.toLowerCase().split("."),ce=B.shift();if(0===B.length||"keydown"!==ce&&"keyup"!==ce)return null;const ke=$._normalizeKey(B.pop());let He="",At=B.indexOf("code");if(At>-1&&(B.splice(At,1),He="code."),mt.forEach(mn=>{const Gr=B.indexOf(mn);Gr>-1&&(B.splice(Gr,1),He+=mn+".")}),He+=ke,0!=B.length||0===ke.length)return null;const nn={};return nn.domEventName=ce,nn.fullKey=He,nn}static matchEventFullKeyCode(k,B){let ce=dn[k.key]||k.key,ke="";return B.indexOf("code.")>-1&&(ce=k.code,ke="code."),!(null==ce||!ce)&&(ce=ce.toLowerCase()," "===ce?ce="space":"."===ce&&(ce="dot"),mt.forEach(He=>{He!==ce&&(0,K[He])(k)&&(ke+=He+".")}),ke+=ce,ke===B)}static eventCallback(k,B,ce){return ke=>{$.matchEventFullKeyCode(ke,k)&&ce.runGuarded(()=>B(ke))}}static _normalizeKey(k){return"esc"===k?"escape":k}static#e=this.\u0275fac=function(B){return new(B||$)(C.KVO(N.qQ))};static#t=this.\u0275prov=C.jDH({token:$,factory:$.\u0275fac})}return $})();function ee($,G){return(0,C.TL3)({rootComponent:$,...Me(G)})}function Me($){return{appProviders:[...pn,...$?.providers??[]],platformProviders:Fe}}const Fe=[{provide:C.Agw,useValue:N.AJ},{provide:C.PLl,useValue:function Ve(){j.makeCurrent()},multi:!0},{provide:N.qQ,useFactory:function Nn(){return(0,C.TL$)(document),document},deps:[]}],pn=[{provide:C.H8p,useValue:"root"},{provide:C.zcH,useFactory:function gt(){return new C.zcH},deps:[]},{provide:te,useClass:Rn,multi:!0,deps:[N.qQ,C.SKi,C.Agw]},{provide:te,useClass:Y,multi:!0,deps:[N.qQ]},Ae,ae,Z,{provide:C._9s,useExisting:Ae},{provide:N.N0,useClass:ge,deps:[]},[]];let jn=(()=>{class ${constructor(k){this._doc=k}getTitle(){return this._doc.title}setTitle(k){this._doc.title=k||""}static#e=this.\u0275fac=function(B){return new(B||$)(C.KVO(N.qQ))};static#t=this.\u0275prov=C.jDH({token:$,factory:$.\u0275fac,providedIn:"root"})}return $})()},8540:(Ue,he,O)=>{"use strict";O.d(he,{nX:()=>Xr,Ix:()=>or,Wk:()=>qt,n3:()=>ea,lh:()=>it,Ii:()=>bu});var C=O(4438),N=O(4402),w=O(6648),j=O(7673),Q=O(4412);const J=(0,O(1853).L)(f=>function(){f(this),this.name="EmptyError",this.message="no elements in sequence"});var be=O(1985),ge=O(3073),te=O(3669),Z=O(6450),se=O(3794),Te=O(8496),ae=O(4360),Se=O(5225);function ze(...f){const v=(0,se.lI)(f),h=(0,se.ms)(f),{args:y,keys:b}=(0,ge.D)(f);if(0===y.length)return(0,w.H)([],v);const A=new be.c(function Ze(f,v,h=te.D){return y=>{ie(v,()=>{const{length:b}=f,A=new Array(b);let F=b,q=b;for(let H=0;H<b;H++)ie(v,()=>{const Ee=(0,w.H)(f[H],v);let Ge=!1;Ee.subscribe((0,ae._)(y,at=>{A[H]=at,Ge||(Ge=!0,q--),q||y.next(h(A.slice()))},()=>{--F||y.complete()}))},y)},y)}}(y,v,b?F=>(0,Te.e)(b,F):te.D));return h?A.pipe((0,Z.I)(h)):A}function ie(f,v,h){f?(0,Se.N)(h,f,v):v()}var ye=O(1397);function de(...f){return function pe(){return function Be(f=1/0){return(0,ye.Z)(te.D,f)}(1)}()((0,w.H)(f,(0,se.lI)(f)))}var Ce=O(8750);function We(f){return new be.c(v=>{(0,Ce.Tg)(f()).subscribe(v)})}var Ae=O(1203),Ie=O(8810),Pe=O(983),qe=O(8359),Je=O(9974);function er(){return(0,Je.N)((f,v)=>{let h=null;f._refCount++;const y=(0,ae._)(v,void 0,void 0,void 0,()=>{if(!f||f._refCount<=0||0<--f._refCount)return void(h=null);const b=f._connection,A=h;h=null,b&&(!A||b===A)&&b.unsubscribe(),v.unsubscribe()});f.subscribe(y),y.closed||(h=f.connect())})}class yn extends be.c{constructor(v,h){super(),this.source=v,this.subjectFactory=h,this._subject=null,this._refCount=0,this._connection=null,(0,Je.S)(v)&&(this.lift=v.lift)}_subscribe(v){return this.getSubject().subscribe(v)}getSubject(){const v=this._subject;return(!v||v.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:v}=this;this._subject=this._connection=null,v?.unsubscribe()}connect(){let v=this._connection;if(!v){v=this._connection=new qe.yU;const h=this.getSubject();v.add(this.source.subscribe((0,ae._)(h,void 0,()=>{this._teardown(),h.complete()},y=>{this._teardown(),h.error(y)},()=>this._teardown()))),v.closed&&(this._connection=null,v=qe.yU.EMPTY)}return v}refCount(){return er()(this)}}var tn=O(1413),Rn=O(177),mt=O(6354),dn=O(5558),K=O(6697),ee=O(5964);function oe(f){return(0,Je.N)((v,h)=>{let y=!1;v.subscribe((0,ae._)(h,b=>{y=!0,h.next(b)},()=>{y||h.next(f),h.complete()}))})}function Me(f=_e){return(0,Je.N)((v,h)=>{let y=!1;v.subscribe((0,ae._)(h,b=>{y=!0,h.next(b)},()=>y?h.complete():h.error(f())))})}function _e(){return new J}function Ve(f,v){const h=arguments.length>=2;return y=>y.pipe(f?(0,ee.p)((b,A)=>f(b,A,y)):te.D,(0,K.s)(1),h?oe(v):Me(()=>new J))}var gt=O(274),Nn=O(8071);function Fe(f,v,h){const y=(0,Nn.T)(f)||v||h?{next:f,error:v,complete:h}:f;return y?(0,Je.N)((b,A)=>{var F;null===(F=y.subscribe)||void 0===F||F.call(y);let q=!0;b.subscribe((0,ae._)(A,H=>{var Ee;null===(Ee=y.next)||void 0===Ee||Ee.call(y,H),A.next(H)},()=>{var H;q=!1,null===(H=y.complete)||void 0===H||H.call(y),A.complete()},H=>{var Ee;q=!1,null===(Ee=y.error)||void 0===Ee||Ee.call(y,H),A.error(H)},()=>{var H,Ee;q&&(null===(H=y.unsubscribe)||void 0===H||H.call(y)),null===(Ee=y.finalize)||void 0===Ee||Ee.call(y)}))}):te.D}var xt=O(9437);function pn(f){return f<=0?()=>Pe.w:(0,Je.N)((v,h)=>{let y=[];v.subscribe((0,ae._)(h,b=>{y.push(b),f<y.length&&y.shift()},()=>{for(const b of y)h.next(b);h.complete()},void 0,()=>{y=null}))})}var Kt=O(980),jn=O(5343),xr=O(345);const Ye="primary",wr=Symbol("RouteTitle");class as{constructor(v){this.params=v||{}}has(v){return Object.prototype.hasOwnProperty.call(this.params,v)}get(v){if(this.has(v)){const h=this.params[v];return Array.isArray(h)?h[0]:h}return null}getAll(v){if(this.has(v)){const h=this.params[v];return Array.isArray(h)?h:[h]}return[]}get keys(){return Object.keys(this.params)}}function Qo(f){return new as(f)}function Dr(f,v,h){const y=h.path.split("/");if(y.length>f.length||"full"===h.pathMatch&&(v.hasChildren()||y.length<f.length))return null;const b={};for(let A=0;A<y.length;A++){const F=y[A],q=f[A];if(F.startsWith(":"))b[F.substring(1)]=q;else if(F!==q.path)return null}return{consumed:f.slice(0,y.length),posParams:b}}function et(f,v){const h=f?Wr(f):void 0,y=v?Wr(v):void 0;if(!h||!y||h.length!=y.length)return!1;let b;for(let A=0;A<h.length;A++)if(b=h[A],!ar(f[b],v[b]))return!1;return!0}function Wr(f){return[...Object.keys(f),...Object.getOwnPropertySymbols(f)]}function ar(f,v){if(Array.isArray(f)&&Array.isArray(v)){if(f.length!==v.length)return!1;const h=[...f].sort(),y=[...v].sort();return h.every((b,A)=>y[A]===b)}return f===v}function tr(f){return f.length>0?f[f.length-1]:null}function bn(f){return(0,N.A)(f)?f:(0,C.jNT)(f)?(0,w.H)(Promise.resolve(f)):(0,j.of)(f)}const gn={exact:function Tt(f,v,h){if(!G(f.segments,v.segments)||!Cr(f.segments,v.segments,h)||f.numberOfChildren!==v.numberOfChildren)return!1;for(const y in v.children)if(!f.children[y]||!Tt(f.children[y],v.children[y],h))return!1;return!0},subset:To},$a={exact:function Mo(f,v){return et(f,v)},subset:function bt(f,v){return Object.keys(v).length<=Object.keys(f).length&&Object.keys(v).every(h=>ar(f[h],v[h]))},ignored:()=>!0};function tt(f,v,h){return gn[h.paths](f.root,v.root,h.matrixParams)&&$a[h.queryParams](f.queryParams,v.queryParams)&&!("exact"===h.fragment&&f.fragment!==v.fragment)}function To(f,v,h){return Qt(f,v,v.segments,h)}function Qt(f,v,h,y){if(f.segments.length>h.length){const b=f.segments.slice(0,h.length);return!(!G(b,h)||v.hasChildren()||!Cr(b,h,y))}if(f.segments.length===h.length){if(!G(f.segments,h)||!Cr(f.segments,h,y))return!1;for(const b in v.children)if(!f.children[b]||!To(f.children[b],v.children[b],y))return!1;return!0}{const b=h.slice(0,f.segments.length),A=h.slice(f.segments.length);return!!(G(f.segments,b)&&Cr(f.segments,b,y)&&f.children[Ye])&&Qt(f.children[Ye],v,A,y)}}function Cr(f,v,h){return v.every((y,b)=>$a[h](f[b].parameters,y.parameters))}class fo{constructor(v=new St([],{}),h={},y=null){this.root=v,this.queryParams=h,this.fragment=y}get queryParamMap(){return this._queryParamMap??=Qo(this.queryParams),this._queryParamMap}toString(){return ke.serialize(this)}}class St{constructor(v,h){this.segments=v,this.children=h,this.parent=null,Object.values(h).forEach(y=>y.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return He(this)}}class lr{constructor(v,h){this.path=v,this.parameters=h}get parameterMap(){return this._parameterMap??=Qo(this.parameters),this._parameterMap}toString(){return Kl(this)}}function G(f,v){return f.length===v.length&&f.every((h,y)=>h.path===v[y].path)}let B=(()=>{class f{static#e=this.\u0275fac=function(y){return new(y||f)};static#t=this.\u0275prov=C.jDH({token:f,factory:()=>new ce,providedIn:"root"})}return f})();class ce{parse(v){const h=new Si(v);return new fo(h.parseRootSegment(),h.parseQueryParams(),h.parseFragment())}serialize(v){const h=`/${At(v.root,!0)}`,y=function $e(f){const v=Object.entries(f).map(([h,y])=>Array.isArray(y)?y.map(b=>`${mn(h)}=${mn(b)}`).join("&"):`${mn(h)}=${mn(y)}`).filter(h=>h);return v.length?`?${v.join("&")}`:""}(v.queryParams);return`${h}${y}${"string"==typeof v.fragment?`#${function Gr(f){return encodeURI(f)}(v.fragment)}`:""}`}}const ke=new ce;function He(f){return f.segments.map(v=>Kl(v)).join("/")}function At(f,v){if(!f.hasChildren())return He(f);if(v){const h=f.children[Ye]?At(f.children[Ye],!1):"",y=[];return Object.entries(f.children).forEach(([b,A])=>{b!==Ye&&y.push(`${b}:${At(A,!1)}`)}),y.length>0?`${h}(${y.join("//")})`:h}{const h=function k(f,v){let h=[];return Object.entries(f.children).forEach(([y,b])=>{y===Ye&&(h=h.concat(v(b,y)))}),Object.entries(f.children).forEach(([y,b])=>{y!==Ye&&(h=h.concat(v(b,y)))}),h}(f,(y,b)=>b===Ye?[At(f.children[Ye],!1)]:[`${b}:${At(y,!1)}`]);return 1===Object.keys(f.children).length&&null!=f.children[Ye]?`${He(f)}/${h[0]}`:`${He(f)}/(${h.join("//")})`}}function nn(f){return encodeURIComponent(f).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function mn(f){return nn(f).replace(/%3B/gi,";")}function Bn(f){return nn(f).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ao(f){return decodeURIComponent(f)}function Wa(f){return Ao(f.replace(/\+/g,"%20"))}function Kl(f){return`${Bn(f.path)}${function xn(f){return Object.entries(f).map(([v,h])=>`;${Bn(v)}=${Bn(h)}`).join("")}(f.parameters)}`}const Ga=/^[^\/()?;#]+/;function Zo(f){const v=f.match(Ga);return v?v[0]:""}const za=/^[^\/()?;=#]+/,Ka=/^[^=?&#]+/,Xl=/^[^&#]+/;class Si{constructor(v){this.url=v,this.remaining=v}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new St([],{}):new St([],this.parseChildren())}parseQueryParams(){const v={};if(this.consumeOptional("?"))do{this.parseQueryParam(v)}while(this.consumeOptional("&"));return v}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const v=[];for(this.peekStartsWith("(")||v.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),v.push(this.parseSegment());let h={};this.peekStartsWith("/(")&&(this.capture("/"),h=this.parseParens(!0));let y={};return this.peekStartsWith("(")&&(y=this.parseParens(!1)),(v.length>0||Object.keys(h).length>0)&&(y[Ye]=new St(v,h)),y}parseSegment(){const v=Zo(this.remaining);if(""===v&&this.peekStartsWith(";"))throw new C.wOt(4009,!1);return this.capture(v),new lr(Ao(v),this.parseMatrixParams())}parseMatrixParams(){const v={};for(;this.consumeOptional(";");)this.parseParam(v);return v}parseParam(v){const h=function qa(f){const v=f.match(za);return v?v[0]:""}(this.remaining);if(!h)return;this.capture(h);let y="";if(this.consumeOptional("=")){const b=Zo(this.remaining);b&&(y=b,this.capture(y))}v[Ao(h)]=Ao(y)}parseQueryParam(v){const h=function It(f){const v=f.match(Ka);return v?v[0]:""}(this.remaining);if(!h)return;this.capture(h);let y="";if(this.consumeOptional("=")){const F=function Ei(f){const v=f.match(Xl);return v?v[0]:""}(this.remaining);F&&(y=F,this.capture(y))}const b=Wa(h),A=Wa(y);if(v.hasOwnProperty(b)){let F=v[b];Array.isArray(F)||(F=[F],v[b]=F),F.push(A)}else v[b]=A}parseParens(v){const h={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const y=Zo(this.remaining),b=this.remaining[y.length];if("/"!==b&&")"!==b&&";"!==b)throw new C.wOt(4010,!1);let A;y.indexOf(":")>-1?(A=y.slice(0,y.indexOf(":")),this.capture(A),this.capture(":")):v&&(A=Ye);const F=this.parseChildren();h[A]=1===Object.keys(F).length?F[Ye]:new St([],F),this.consumeOptional("//")}return h}peekStartsWith(v){return this.remaining.startsWith(v)}consumeOptional(v){return!!this.peekStartsWith(v)&&(this.remaining=this.remaining.substring(v.length),!0)}capture(v){if(!this.consumeOptional(v))throw new C.wOt(4011,!1)}}function Jo(f){return f.segments.length>0?new St([],{[Ye]:f}):f}function Yo(f){const v={};for(const[y,b]of Object.entries(f.children)){const A=Yo(b);if(y===Ye&&0===A.segments.length&&A.hasChildren())for(const[F,q]of Object.entries(A.children))v[F]=q;else(A.segments.length>0||A.hasChildren())&&(v[y]=A)}return function zs(f){if(1===f.numberOfChildren&&f.children[Ye]){const v=f.children[Ye];return new St(f.segments.concat(v.segments),v.children)}return f}(new St(f.segments,v))}function zr(f){return f instanceof fo}function Ii(f){let v;const b=Jo(function h(A){const F={};for(const H of A.children){const Ee=h(H);F[H.outlet]=Ee}const q=new St(A.url,F);return A===f&&(v=q),q}(f.root));return v??b}function qr(f,v,h,y){let b=f;for(;b.parent;)b=b.parent;if(0===v.length)return ho(b,b,b,h,y);const A=function Oo(f){if("string"==typeof f[0]&&1===f.length&&"/"===f[0])return new ls(!0,0,f);let v=0,h=!1;const y=f.reduce((b,A,F)=>{if("object"==typeof A&&null!=A){if(A.outlets){const q={};return Object.entries(A.outlets).forEach(([H,Ee])=>{q[H]="string"==typeof Ee?Ee.split("/"):Ee}),[...b,{outlets:q}]}if(A.segmentPath)return[...b,A.segmentPath]}return"string"!=typeof A?[...b,A]:0===F?(A.split("/").forEach((q,H)=>{0==H&&"."===q||(0==H&&""===q?h=!0:".."===q?v++:""!=q&&b.push(q))}),b):[...b,A]},[]);return new ls(h,v,y)}(v);if(A.toRoot())return ho(b,b,new St([],{}),h,y);const F=function cs(f,v,h){if(f.isAbsolute)return new ei(v,!0,0);if(!h)return new ei(v,!1,NaN);if(null===h.parent)return new ei(h,!0,0);const y=Ro(f.commands[0])?0:1;return function ln(f,v,h){let y=f,b=v,A=h;for(;A>b;){if(A-=b,y=y.parent,!y)throw new C.wOt(4005,!1);b=y.segments.length}return new ei(y,!1,b-A)}(h,h.segments.length-1+y,f.numberOfDoubleDots)}(A,b,f),q=F.processChildren?Pr(F.segmentGroup,F.index,A.commands):us(F.segmentGroup,F.index,A.commands);return ho(b,F.segmentGroup,q,h,y)}function Ro(f){return"object"==typeof f&&null!=f&&!f.outlets&&!f.segmentPath}function Ke(f){return"object"==typeof f&&null!=f&&f.outlets}function ho(f,v,h,y,b){let F,A={};y&&Object.entries(y).forEach(([H,Ee])=>{A[H]=Array.isArray(Ee)?Ee.map(Ge=>`${Ge}`):`${Ee}`}),F=f===v?h:No(f,v,h);const q=Jo(Yo(F));return new fo(q,A,b)}function No(f,v,h){const y={};return Object.entries(f.children).forEach(([b,A])=>{y[b]=A===v?h:No(A,v,h)}),new St(f.segments,y)}class ls{constructor(v,h,y){if(this.isAbsolute=v,this.numberOfDoubleDots=h,this.commands=y,v&&y.length>0&&Ro(y[0]))throw new C.wOt(4003,!1);const b=y.find(Ke);if(b&&b!==tr(y))throw new C.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ei{constructor(v,h,y){this.segmentGroup=v,this.processChildren=h,this.index=y}}function us(f,v,h){if(f??=new St([],{}),0===f.segments.length&&f.hasChildren())return Pr(f,v,h);const y=function ti(f,v,h){let y=0,b=v;const A={match:!1,pathIndex:0,commandIndex:0};for(;b<f.segments.length;){if(y>=h.length)return A;const F=f.segments[b],q=h[y];if(Ke(q))break;const H=`${q}`,Ee=y<h.length-1?h[y+1]:null;if(b>0&&void 0===H)break;if(H&&Ee&&"object"==typeof Ee&&void 0===Ee.outlets){if(!Ks(H,Ee,F))return A;y+=2}else{if(!Ks(H,{},F))return A;y++}b++}return{match:!0,pathIndex:b,commandIndex:y}}(f,v,h),b=h.slice(y.commandIndex);if(y.match&&y.pathIndex<f.segments.length){const A=new St(f.segments.slice(0,y.pathIndex),{});return A.children[Ye]=new St(f.segments.slice(y.pathIndex),f.children),Pr(A,0,b)}return y.match&&0===b.length?new St(f.segments,{}):y.match&&!f.hasChildren()?kr(f,v,h):y.match?Pr(f,0,b):kr(f,v,h)}function Pr(f,v,h){if(0===h.length)return new St(f.segments,{});{const y=function Ql(f){return Ke(f[0])?f[0].outlets:{[Ye]:f}}(h),b={};if(Object.keys(y).some(A=>A!==Ye)&&f.children[Ye]&&1===f.numberOfChildren&&0===f.children[Ye].segments.length){const A=Pr(f.children[Ye],v,h);return new St(f.segments,A.children)}return Object.entries(y).forEach(([A,F])=>{"string"==typeof F&&(F=[F]),null!==F&&(b[A]=us(f.children[A],v,F))}),Object.entries(f.children).forEach(([A,F])=>{void 0===y[A]&&(b[A]=F)}),new St(f.segments,b)}}function kr(f,v,h){const y=f.segments.slice(0,v);let b=0;for(;b<h.length;){const A=h[b];if(Ke(A)){const H=Mi(A.outlets);return new St(y,H)}if(0===b&&Ro(h[0])){y.push(new lr(f.segments[v].path,cr(h[0]))),b++;continue}const F=Ke(A)?A.outlets[Ye]:`${A}`,q=b<h.length-1?h[b+1]:null;F&&q&&Ro(q)?(y.push(new lr(F,cr(q))),b+=2):(y.push(new lr(F,{})),b++)}return new St(y,{})}function Mi(f){const v={};return Object.entries(f).forEach(([h,y])=>{"string"==typeof y&&(y=[y]),null!==y&&(v[h]=kr(new St([],{}),0,y))}),v}function cr(f){const v={};return Object.entries(f).forEach(([h,y])=>v[h]=`${y}`),v}function Ks(f,v,h){return f==h.path&&et(v,h.parameters)}const nr="imperative";var ct=function(f){return f[f.NavigationStart=0]="NavigationStart",f[f.NavigationEnd=1]="NavigationEnd",f[f.NavigationCancel=2]="NavigationCancel",f[f.NavigationError=3]="NavigationError",f[f.RoutesRecognized=4]="RoutesRecognized",f[f.ResolveStart=5]="ResolveStart",f[f.ResolveEnd=6]="ResolveEnd",f[f.GuardsCheckStart=7]="GuardsCheckStart",f[f.GuardsCheckEnd=8]="GuardsCheckEnd",f[f.RouteConfigLoadStart=9]="RouteConfigLoadStart",f[f.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",f[f.ChildActivationStart=11]="ChildActivationStart",f[f.ChildActivationEnd=12]="ChildActivationEnd",f[f.ActivationStart=13]="ActivationStart",f[f.ActivationEnd=14]="ActivationEnd",f[f.Scroll=15]="Scroll",f[f.NavigationSkipped=16]="NavigationSkipped",f}(ct||{});class br{constructor(v,h){this.id=v,this.url=h}}class Xe extends br{constructor(v,h,y="imperative",b=null){super(v,h),this.type=ct.NavigationStart,this.navigationTrigger=y,this.restoredState=b}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ut extends br{constructor(v,h,y){super(v,h),this.urlAfterRedirects=y,this.type=ct.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var ur=function(f){return f[f.Redirect=0]="Redirect",f[f.SupersededByNewNavigation=1]="SupersededByNewNavigation",f[f.NoDataFromResolver=2]="NoDataFromResolver",f[f.GuardRejected=3]="GuardRejected",f}(ur||{}),_n=function(f){return f[f.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",f[f.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",f}(_n||{});class xo extends br{constructor(v,h,y,b){super(v,h),this.reason=y,this.code=b,this.type=ct.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ti extends br{constructor(v,h,y,b){super(v,h),this.reason=y,this.code=b,this.type=ct.NavigationSkipped}}class Ai extends br{constructor(v,h,y,b){super(v,h),this.error=y,this.target=b,this.type=ct.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ri extends br{constructor(v,h,y,b){super(v,h),this.urlAfterRedirects=y,this.state=b,this.type=ct.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pt extends br{constructor(v,h,y,b){super(v,h),this.urlAfterRedirects=y,this.state=b,this.type=ct.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ds extends br{constructor(v,h,y,b,A){super(v,h),this.urlAfterRedirects=y,this.state=b,this.shouldActivate=A,this.type=ct.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Xs extends br{constructor(v,h,y,b){super(v,h),this.urlAfterRedirects=y,this.state=b,this.type=ct.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pn extends br{constructor(v,h,y,b){super(v,h),this.urlAfterRedirects=y,this.state=b,this.type=ct.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qs{constructor(v){this.route=v,this.type=ct.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Zl{constructor(v){this.route=v,this.type=ct.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ni{constructor(v){this.snapshot=v,this.type=ct.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Kr{constructor(v){this.snapshot=v,this.type=ct.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fs{constructor(v){this.snapshot=v,this.type=ct.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ni{constructor(v){this.snapshot=v,this.type=ct.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hs{}class ps{constructor(v){this.url=v}}class Po{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new ko,this.attachRef=null}}let ko=(()=>{class f{constructor(){this.contexts=new Map}onChildOutletCreated(h,y){const b=this.getOrCreateContext(h);b.outlet=y,this.contexts.set(h,b)}onChildOutletDestroyed(h){const y=this.getContext(h);y&&(y.outlet=null,y.attachRef=null)}onOutletDeactivated(){const h=this.contexts;return this.contexts=new Map,h}onOutletReAttached(h){this.contexts=h}getOrCreateContext(h){let y=this.getContext(h);return y||(y=new Po,this.contexts.set(h,y)),y}getContext(h){return this.contexts.get(h)||null}static#e=this.\u0275fac=function(y){return new(y||f)};static#t=this.\u0275prov=C.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})();class Fr{constructor(v){this._root=v}get root(){return this._root.value}parent(v){const h=this.pathFromRoot(v);return h.length>1?h[h.length-2]:null}children(v){const h=Oi(v,this._root);return h?h.children.map(y=>y.value):[]}firstChild(v){const h=Oi(v,this._root);return h&&h.children.length>0?h.children[0].value:null}siblings(v){const h=fn(v,this._root);return h.length<2?[]:h[h.length-2].children.map(b=>b.value).filter(b=>b!==v)}pathFromRoot(v){return fn(v,this._root).map(h=>h.value)}}function Oi(f,v){if(f===v.value)return v;for(const h of v.children){const y=Oi(f,h);if(y)return y}return null}function fn(f,v){if(f===v.value)return[v];for(const h of v.children){const y=fn(f,h);if(y.length)return y.unshift(v),y}return[]}class kn{constructor(v,h){this.value=v,this.children=h}toString(){return`TreeNode(${this.value})`}}function je(f){const v={};return f&&f.children.forEach(h=>v[h.value.outlet]=h),v}class xi extends Fr{constructor(v,h){super(v),this.snapshot=h,Pi(this,v)}toString(){return this.snapshot.toString()}}function Fo(f){const v=function ri(f){const A=new po([],{},{},"",{},Ye,f,null,{});return new Zs("",new kn(A,[]))}(f),h=new Q.t([new lr("",{})]),y=new Q.t({}),b=new Q.t({}),A=new Q.t({}),F=new Q.t(""),q=new Xr(h,y,A,F,b,Ye,f,v.root);return q.snapshot=v.root,new xi(new kn(q,[]),v)}class Xr{constructor(v,h,y,b,A,F,q,H){this.urlSubject=v,this.paramsSubject=h,this.queryParamsSubject=y,this.fragmentSubject=b,this.dataSubject=A,this.outlet=F,this.component=q,this._futureSnapshot=H,this.title=this.dataSubject?.pipe((0,mt.T)(Ee=>Ee[wr]))??(0,j.of)(void 0),this.url=v,this.params=h,this.queryParams=y,this.fragment=b,this.data=A}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,mt.T)(v=>Qo(v))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,mt.T)(v=>Qo(v))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function gs(f,v,h="emptyOnly"){let y;const{routeConfig:b}=f;return y=null===v||"always"!==h&&""!==b?.path&&(v.component||v.routeConfig?.loadComponent)?{params:{...f.params},data:{...f.data},resolve:{...f.data,...f._resolvedData??{}}}:{params:{...v.params,...f.params},data:{...v.data,...f.data},resolve:{...f.data,...v.data,...b?.data,...f._resolvedData}},b&&go(b)&&(y.resolve[wr]=b.title),y}class po{get title(){return this.data?.[wr]}constructor(v,h,y,b,A,F,q,H,Ee){this.url=v,this.params=h,this.queryParams=y,this.fragment=b,this.data=A,this.outlet=F,this.component=q,this.routeConfig=H,this._resolve=Ee}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Qo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Qo(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(y=>y.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Zs extends Fr{constructor(v,h){super(h),this.url=v,Pi(this,h)}toString(){return Js(this._root)}}function Pi(f,v){v.value._routerState=f,v.children.forEach(h=>Pi(f,h))}function Js(f){const v=f.children.length>0?` { ${f.children.map(Js).join(", ")} } `:"";return`${f.value}${v}`}function ki(f){if(f.snapshot){const v=f.snapshot,h=f._futureSnapshot;f.snapshot=h,et(v.queryParams,h.queryParams)||f.queryParamsSubject.next(h.queryParams),v.fragment!==h.fragment&&f.fragmentSubject.next(h.fragment),et(v.params,h.params)||f.paramsSubject.next(h.params),function lt(f,v){if(f.length!==v.length)return!1;for(let h=0;h<f.length;++h)if(!et(f[h],v[h]))return!1;return!0}(v.url,h.url)||f.urlSubject.next(h.url),et(v.data,h.data)||f.dataSubject.next(h.data)}else f.snapshot=f._futureSnapshot,f.dataSubject.next(f._futureSnapshot.data)}function Ys(f,v){const h=et(f.params,v.params)&&function $(f,v){return G(f,v)&&f.every((h,y)=>et(h.parameters,v[y].parameters))}(f.url,v.url);return h&&!(!f.parent!=!v.parent)&&(!f.parent||Ys(f.parent,v.parent))}function go(f){return"string"==typeof f.title||null===f.title}let ea=(()=>{class f{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ye,this.activateEvents=new C.bkB,this.deactivateEvents=new C.bkB,this.attachEvents=new C.bkB,this.detachEvents=new C.bkB,this.parentContexts=(0,C.WQX)(ko),this.location=(0,C.WQX)(C.c1b),this.changeDetector=(0,C.WQX)(C.gRc),this.environmentInjector=(0,C.WQX)(C.uvJ),this.inputBinder=(0,C.WQX)(Er,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(h){if(h.name){const{firstChange:y,previousValue:b}=h.name;if(y)return;this.isTrackedInParentContexts(b)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(b)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(h){return this.parentContexts.getContext(h)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const h=this.parentContexts.getContext(this.name);h?.route&&(h.attachRef?this.attach(h.attachRef,h.route):this.activateWith(h.route,h.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new C.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new C.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new C.wOt(4012,!1);this.location.detach();const h=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(h.instance),h}attach(h,y){this.activated=h,this._activatedRoute=y,this.location.insert(h.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(h.instance)}deactivate(){if(this.activated){const h=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(h)}}activateWith(h,y){if(this.isActivated)throw new C.wOt(4013,!1);this._activatedRoute=h;const b=this.location,F=h.snapshot.component,q=this.parentContexts.getOrCreateContext(this.name).children,H=new Hn(h,q,b.injector);this.activated=b.createComponent(F,{index:b.length,injector:H,environmentInjector:y??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(y){return new(y||f)};static#t=this.\u0275dir=C.FsC({type:f,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[C.OA$]})}return f})();class Hn{constructor(v,h,y){this.route=v,this.childContexts=h,this.parent=y,this.__ngOutletInjector=!0}get(v,h){return v===Xr?this.route:v===ko?this.childContexts:this.parent.get(v,h)}}const Er=new C.nKC("");function dr(f,v,h){if(h&&f.shouldReuseRoute(v.value,h.value.snapshot)){const y=h.value;y._futureSnapshot=v.value;const b=function Qr(f,v,h){return v.children.map(y=>{for(const b of h.children)if(f.shouldReuseRoute(y.value,b.value.snapshot))return dr(f,y,b);return dr(f,y)})}(f,v,h);return new kn(y,b)}{if(f.shouldAttach(v.value)){const A=f.retrieve(v.value);if(null!==A){const F=A.route;return F.value._futureSnapshot=v.value,F.children=v.children.map(q=>dr(f,q)),F}}const y=function ms(f){return new Xr(new Q.t(f.url),new Q.t(f.params),new Q.t(f.queryParams),new Q.t(f.fragment),new Q.t(f.data),f.outlet,f.component,f)}(v.value),b=v.children.map(A=>dr(f,A));return new kn(y,b)}}const na="ngNavigationCancelingError";function ra(f,v){const{redirectTo:h,navigationBehaviorOptions:y}=zr(v)?{redirectTo:v,navigationBehaviorOptions:void 0}:v,b=Fn(!1,ur.Redirect);return b.url=h,b.navigationBehaviorOptions=y,b}function Fn(f,v){const h=new Error(`NavigationCancelingError: ${f||""}`);return h[na]=!0,h.cancellationCode=v,h}function $n(f){return!!f&&f[na]}let oa=(()=>{class f{static#e=this.\u0275fac=function(y){return new(y||f)};static#t=this.\u0275cmp=C.VBU({type:f,selectors:[["ng-component"]],standalone:!0,features:[C.aNF],decls:1,vars:0,template:function(y,b){1&y&&C.nrm(0,"router-outlet")},dependencies:[ea],encapsulation:2})}return f})();function Lr(f){const v=f.children&&f.children.map(Lr),h=v?{...f,children:v}:{...f};return!h.component&&!h.loadComponent&&(v||h.loadChildren)&&h.outlet&&h.outlet!==Ye&&(h.component=oa),h}function Ir(f){return f.outlet||Ye}function Lo(f){if(!f)return null;if(f.routeConfig?._injector)return f.routeConfig._injector;for(let v=f.parent;v;v=v.parent){const h=v.routeConfig;if(h?._loadedInjector)return h._loadedInjector;if(h?._injector)return h._injector}return null}class ia{constructor(v,h,y,b,A){this.routeReuseStrategy=v,this.futureState=h,this.currState=y,this.forwardEvent=b,this.inputBindingEnabled=A}activate(v){const h=this.futureState._root,y=this.currState?this.currState._root:null;this.deactivateChildRoutes(h,y,v),ki(this.futureState.root),this.activateChildRoutes(h,y,v)}deactivateChildRoutes(v,h,y){const b=je(h);v.children.forEach(A=>{const F=A.value.outlet;this.deactivateRoutes(A,b[F],y),delete b[F]}),Object.values(b).forEach(A=>{this.deactivateRouteAndItsChildren(A,y)})}deactivateRoutes(v,h,y){const b=v.value,A=h?h.value:null;if(b===A)if(b.component){const F=y.getContext(b.outlet);F&&this.deactivateChildRoutes(v,h,F.children)}else this.deactivateChildRoutes(v,h,y);else A&&this.deactivateRouteAndItsChildren(h,y)}deactivateRouteAndItsChildren(v,h){v.value.component&&this.routeReuseStrategy.shouldDetach(v.value.snapshot)?this.detachAndStoreRouteSubtree(v,h):this.deactivateRouteAndOutlet(v,h)}detachAndStoreRouteSubtree(v,h){const y=h.getContext(v.value.outlet),b=y&&v.value.component?y.children:h,A=je(v);for(const F of Object.values(A))this.deactivateRouteAndItsChildren(F,b);if(y&&y.outlet){const F=y.outlet.detach(),q=y.children.onOutletDeactivated();this.routeReuseStrategy.store(v.value.snapshot,{componentRef:F,route:v,contexts:q})}}deactivateRouteAndOutlet(v,h){const y=h.getContext(v.value.outlet),b=y&&v.value.component?y.children:h,A=je(v);for(const F of Object.values(A))this.deactivateRouteAndItsChildren(F,b);y&&(y.outlet&&(y.outlet.deactivate(),y.children.onOutletDeactivated()),y.attachRef=null,y.route=null)}activateChildRoutes(v,h,y){const b=je(h);v.children.forEach(A=>{this.activateRoutes(A,b[A.value.outlet],y),this.forwardEvent(new Ni(A.value.snapshot))}),v.children.length&&this.forwardEvent(new Kr(v.value.snapshot))}activateRoutes(v,h,y){const b=v.value,A=h?h.value:null;if(ki(b),b===A)if(b.component){const F=y.getOrCreateContext(b.outlet);this.activateChildRoutes(v,h,F.children)}else this.activateChildRoutes(v,h,y);else if(b.component){const F=y.getOrCreateContext(b.outlet);if(this.routeReuseStrategy.shouldAttach(b.snapshot)){const q=this.routeReuseStrategy.retrieve(b.snapshot);this.routeReuseStrategy.store(b.snapshot,null),F.children.onOutletReAttached(q.contexts),F.attachRef=q.componentRef,F.route=q.route.value,F.outlet&&F.outlet.attach(q.componentRef,q.route.value),ki(q.route.value),this.activateChildRoutes(v,null,F.children)}else{const q=Lo(b.snapshot);F.attachRef=null,F.route=b,F.injector=q,F.outlet&&F.outlet.activateWith(b,F.injector),this.activateChildRoutes(v,null,F.children)}}else this.activateChildRoutes(v,null,y)}}class Cs{constructor(v){this.path=v,this.route=this.path[this.path.length-1]}}class Vi{constructor(v,h){this.component=v,this.route=h}}function sa(f,v,h){const y=f._root;return En(y,v?v._root:null,h,[y.value])}function Zr(f,v){const h=Symbol(),y=v.get(f,h);return y===h?"function"!=typeof f||(0,C.LfX)(f)?v.get(f):f:y}function En(f,v,h,y,b={canDeactivateChecks:[],canActivateChecks:[]}){const A=je(v);return f.children.forEach(F=>{(function aa(f,v,h,y,b={canDeactivateChecks:[],canActivateChecks:[]}){const A=f.value,F=v?v.value:null,q=h?h.getContext(f.value.outlet):null;if(F&&A.routeConfig===F.routeConfig){const H=function Qa(f,v,h){if("function"==typeof h)return h(f,v);switch(h){case"pathParamsChange":return!G(f.url,v.url);case"pathParamsOrQueryParamsChange":return!G(f.url,v.url)||!et(f.queryParams,v.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ys(f,v)||!et(f.queryParams,v.queryParams);default:return!Ys(f,v)}}(F,A,A.routeConfig.runGuardsAndResolvers);H?b.canActivateChecks.push(new Cs(y)):(A.data=F.data,A._resolvedData=F._resolvedData),En(f,v,A.component?q?q.children:null:h,y,b),H&&q&&q.outlet&&q.outlet.isActivated&&b.canDeactivateChecks.push(new Vi(q.outlet.component,F))}else F&&Mr(v,q,b),b.canActivateChecks.push(new Cs(y)),En(f,null,A.component?q?q.children:null:h,y,b)})(F,A[F.value.outlet],h,y.concat([F.value]),b),delete A[F.value.outlet]}),Object.entries(A).forEach(([F,q])=>Mr(q,h.getContext(F),b)),b}function Mr(f,v,h){const y=je(f),b=f.value;Object.entries(y).forEach(([A,F])=>{Mr(F,b.component?v?v.children.getContext(A):null:v,h)}),h.canDeactivateChecks.push(new Vi(b.component&&v&&v.outlet&&v.outlet.isActivated?v.outlet.component:null,b))}function ii(f){return"function"==typeof f}function la(f){return f instanceof J||"EmptyError"===f?.name}const bs=Symbol("INITIAL_VALUE");function Vo(){return(0,dn.n)(f=>ze(f.map(v=>v.pipe((0,K.s)(1),function Y(...f){const v=(0,se.lI)(f);return(0,Je.N)((h,y)=>{(v?de(f,h,v):de(f,h)).subscribe(y)})}(bs)))).pipe((0,mt.T)(v=>{for(const h of v)if(!0!==h){if(h===bs)return bs;if(!1===h||h instanceof fo)return h}return!0}),(0,ee.p)(v=>v!==bs),(0,K.s)(1)))}function ua(f){return(0,Ae.F)(Fe(v=>{if(zr(v))throw ra(0,v)}),(0,mt.T)(v=>!0===v))}class yo{constructor(v){this.segmentGroup=v||null}}class da extends Error{constructor(v){super(),this.urlTree=v}}function Jr(f){return(0,Ie.$)(new yo(f))}class ha{constructor(v,h){this.urlSerializer=v,this.urlTree=h}lineralizeSegments(v,h){let y=[],b=h.root;for(;;){if(y=y.concat(b.segments),0===b.numberOfChildren)return(0,j.of)(y);if(b.numberOfChildren>1||!b.children[Ye])return(0,Ie.$)(new C.wOt(4e3,!1));b=b.children[Ye]}}applyRedirectCommands(v,h,y){const b=this.applyRedirectCreateUrlTree(h,this.urlSerializer.parse(h),v,y);if(h.startsWith("/"))throw new da(b);return b}applyRedirectCreateUrlTree(v,h,y,b){const A=this.createSegmentGroup(v,h.root,y,b);return new fo(A,this.createQueryParams(h.queryParams,this.urlTree.queryParams),h.fragment)}createQueryParams(v,h){const y={};return Object.entries(v).forEach(([b,A])=>{if("string"==typeof A&&A.startsWith(":")){const q=A.substring(1);y[b]=h[q]}else y[b]=A}),y}createSegmentGroup(v,h,y,b){const A=this.createSegments(v,h.segments,y,b);let F={};return Object.entries(h.children).forEach(([q,H])=>{F[q]=this.createSegmentGroup(v,H,y,b)}),new St(A,F)}createSegments(v,h,y,b){return h.map(A=>A.path.startsWith(":")?this.findPosParam(v,A,b):this.findOrReturn(A,y))}findPosParam(v,h,y){const b=y[h.path.substring(1)];if(!b)throw new C.wOt(4001,!1);return b}findOrReturn(v,h){let y=0;for(const b of h){if(b.path===v.path)return h.splice(y),b;y++}return v}}const si={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Du(f,v,h,y,b){const A=ji(f,v,h);return A.matched?(y=function ys(f,v){return f.providers&&!f._injector&&(f._injector=(0,C.Ol2)(f.providers,v,`Route: ${f.path}`)),f._injector??v}(v,y),function Ss(f,v,h,y){const b=v.canMatch;if(!b||0===b.length)return(0,j.of)(!0);const A=b.map(F=>{const q=Zr(F,f);return bn(function ic(f){return f&&ii(f.canMatch)}(q)?q.canMatch(v,h):(0,C.N4e)(f,()=>q(v,h)))});return(0,j.of)(A).pipe(Vo(),ua())}(y,v,h).pipe((0,mt.T)(F=>!0===F?A:{...si}))):(0,j.of)(A)}function ji(f,v,h){if("**"===v.path)return function sc(f){return{matched:!0,parameters:f.length>0?tr(f).parameters:{},consumedSegments:f,remainingSegments:[],positionalParamSegments:{}}}(h);if(""===v.path)return"full"===v.pathMatch&&(f.hasChildren()||h.length>0)?{...si}:{matched:!0,consumedSegments:[],remainingSegments:h,parameters:{},positionalParamSegments:{}};const b=(v.matcher||Dr)(h,f,v);if(!b)return{...si};const A={};Object.entries(b.posParams??{}).forEach(([q,H])=>{A[q]=H.path});const F=b.consumed.length>0?{...A,...b.consumed[b.consumed.length-1].parameters}:A;return{matched:!0,consumedSegments:b.consumed,remainingSegments:h.slice(b.consumed.length),parameters:F,positionalParamSegments:b.posParams??{}}}function Yr(f,v,h,y){return h.length>0&&function _o(f,v,h){return h.some(y=>fr(f,v,y)&&Ir(y)!==Ye)}(f,h,y)?{segmentGroup:new St(v,tl(y,new St(h,f.children))),slicedSegments:[]}:0===h.length&&function nl(f,v,h){return h.some(y=>fr(f,v,y))}(f,h,y)?{segmentGroup:new St(f.segments,el(f,h,y,f.children)),slicedSegments:h}:{segmentGroup:new St(f.segments,f.children),slicedSegments:h}}function el(f,v,h,y){const b={};for(const A of h)if(fr(f,v,A)&&!y[Ir(A)]){const F=new St([],{});b[Ir(A)]=F}return{...y,...b}}function tl(f,v){const h={};h[Ye]=v;for(const y of f)if(""===y.path&&Ir(y)!==Ye){const b=new St([],{});h[Ir(y)]=b}return h}function fr(f,v,h){return(!(f.hasChildren()||v.length>0)||"full"!==h.pathMatch)&&""===h.path}class ai{}class li{constructor(v,h,y,b,A,F,q){this.injector=v,this.configLoader=h,this.rootComponentType=y,this.config=b,this.urlTree=A,this.paramsInheritanceStrategy=F,this.urlSerializer=q,this.applyRedirects=new ha(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(v){return new C.wOt(4002,`'${v.segmentGroup}'`)}recognize(){const v=Yr(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(v).pipe((0,mt.T)(h=>{const y=new po([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ye,this.rootComponentType,null,{}),b=new kn(y,h),A=new Zs("",b),F=function qs(f,v,h=null,y=null){return qr(Ii(f),v,h,y)}(y,[],this.urlTree.queryParams,this.urlTree.fragment);return F.queryParams=this.urlTree.queryParams,A.url=this.urlSerializer.serialize(F),this.inheritParamsAndData(A._root,null),{state:A,tree:F}}))}match(v){return this.processSegmentGroup(this.injector,this.config,v,Ye).pipe((0,xt.W)(y=>{if(y instanceof da)return this.urlTree=y.urlTree,this.match(y.urlTree.root);throw y instanceof yo?this.noMatchError(y):y}))}inheritParamsAndData(v,h){const y=v.value,b=gs(y,h,this.paramsInheritanceStrategy);y.params=Object.freeze(b.params),y.data=Object.freeze(b.data),v.children.forEach(A=>this.inheritParamsAndData(A,y))}processSegmentGroup(v,h,y,b){return 0===y.segments.length&&y.hasChildren()?this.processChildren(v,h,y):this.processSegment(v,h,y,y.segments,b,!0).pipe((0,mt.T)(A=>A instanceof kn?[A]:[]))}processChildren(v,h,y){const b=[];for(const A of Object.keys(y.children))"primary"===A?b.unshift(A):b.push(A);return(0,w.H)(b).pipe((0,gt.H)(A=>{const F=y.children[A],q=function Ds(f,v){const h=f.filter(y=>Ir(y)===v);return h.push(...f.filter(y=>Ir(y)!==v)),h}(h,A);return this.processSegmentGroup(v,q,F,A)}),function Vt(f,v){return(0,Je.N)(function an(f,v,h,y,b){return(A,F)=>{let q=h,H=v,Ee=0;A.subscribe((0,ae._)(F,Ge=>{const at=Ee++;H=q?f(H,Ge,at):(q=!0,Ge),y&&F.next(H)},b&&(()=>{q&&F.next(H),F.complete()})))}}(f,v,arguments.length>=2,!0))}((A,F)=>(A.push(...F),A)),oe(null),function sr(f,v){const h=arguments.length>=2;return y=>y.pipe(f?(0,ee.p)((b,A)=>f(b,A,y)):te.D,pn(1),h?oe(v):Me(()=>new J))}(),(0,ye.Z)(A=>{if(null===A)return Jr(y);const F=lc(A);return function Hi(f){f.sort((v,h)=>v.value.outlet===Ye?-1:h.value.outlet===Ye?1:v.value.outlet.localeCompare(h.value.outlet))}(F),(0,j.of)(F)}))}processSegment(v,h,y,b,A,F){return(0,w.H)(h).pipe((0,gt.H)(q=>this.processSegmentAgainstRoute(q._injector??v,h,q,y,b,A,F).pipe((0,xt.W)(H=>{if(H instanceof yo)return(0,j.of)(null);throw H}))),Ve(q=>!!q),(0,xt.W)(q=>{if(la(q))return function rl(f,v,h){return 0===v.length&&!f.children[h]}(y,b,A)?(0,j.of)(new ai):Jr(y);throw q}))}processSegmentAgainstRoute(v,h,y,b,A,F,q){return function Ms(f,v,h,y){return!!(Ir(f)===y||y!==Ye&&fr(v,h,f))&&ji(v,f,h).matched}(y,b,A,F)?void 0===y.redirectTo?this.matchSegmentAgainstRoute(v,b,y,A,F):this.allowRedirects&&q?this.expandSegmentAgainstRouteUsingRedirect(v,b,h,y,A,F):Jr(b):Jr(b)}expandSegmentAgainstRouteUsingRedirect(v,h,y,b,A,F){const{matched:q,consumedSegments:H,positionalParamSegments:Ee,remainingSegments:Ge}=ji(h,b,A);if(!q)return Jr(h);b.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const at=this.applyRedirects.applyRedirectCommands(H,b.redirectTo,Ee);return this.applyRedirects.lineralizeSegments(b,at).pipe((0,ye.Z)(on=>this.processSegment(v,y,h,on.concat(Ge),F,!1)))}matchSegmentAgainstRoute(v,h,y,b,A){const F=Du(h,y,b,v);return"**"===y.path&&(h.children={}),F.pipe((0,dn.n)(q=>q.matched?this.getChildConfig(v=y._injector??v,y,b).pipe((0,dn.n)(({routes:H})=>{const Ee=y._loadedInjector??v,{consumedSegments:Ge,remainingSegments:at,parameters:on}=q,ir=new po(Ge,on,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function ci(f){return f.data||{}}(y),Ir(y),y.component??y._loadedComponent??null,y,function ol(f){return f.resolve||{}}(y)),{segmentGroup:fi,slicedSegments:hi}=Yr(h,Ge,at,H);if(0===hi.length&&fi.hasChildren())return this.processChildren(Ee,H,fi).pipe((0,mt.T)(Bo=>null===Bo?null:new kn(ir,Bo)));if(0===H.length&&0===hi.length)return(0,j.of)(new kn(ir,[]));const va=Ir(y)===A;return this.processSegment(Ee,H,fi,hi,va?Ye:A,!0).pipe((0,mt.T)(Bo=>new kn(ir,Bo instanceof kn?[Bo]:[])))})):Jr(h)))}getChildConfig(v,h,y){return h.children?(0,j.of)({routes:h.children,injector:v}):h.loadChildren?void 0!==h._loadedRoutes?(0,j.of)({routes:h._loadedRoutes,injector:h._loadedInjector}):function Sn(f,v,h,y){const b=v.canLoad;if(void 0===b||0===b.length)return(0,j.of)(!0);const A=b.map(F=>{const q=Zr(F,f);return bn(function nc(f){return f&&ii(f.canLoad)}(q)?q.canLoad(v,h):(0,C.N4e)(f,()=>q(v,h)))});return(0,j.of)(A).pipe(Vo(),ua())}(v,h,y).pipe((0,ye.Z)(b=>b?this.configLoader.loadChildren(v,h).pipe(Fe(A=>{h._loadedRoutes=A.routes,h._loadedInjector=A.injector})):function Ui(f){return(0,Ie.$)(Fn(!1,ur.GuardRejected))}())):(0,j.of)({routes:[],injector:v})}}function ac(f){const v=f.value.routeConfig;return v&&""===v.path}function lc(f){const v=[],h=new Set;for(const y of f){if(!ac(y)){v.push(y);continue}const b=v.find(A=>y.value.routeConfig===A.value.routeConfig);void 0!==b?(b.children.push(...y.children),h.add(b)):v.push(y)}for(const y of h){const b=lc(y.children);v.push(new kn(y.value,b))}return v.filter(y=>!h.has(y))}function $i(f){const v=f.children.map(h=>$i(h)).flat();return[f,...v]}function g(f){return(0,dn.n)(v=>{const h=f(v);return h?(0,w.H)(h).pipe((0,mt.T)(()=>v)):(0,j.of)(v)})}let M=(()=>{class f{buildTitle(h){let y,b=h.root;for(;void 0!==b;)y=this.getResolvedTitleForRoute(b)??y,b=b.children.find(A=>A.outlet===Ye);return y}getResolvedTitleForRoute(h){return h.data[wr]}static#e=this.\u0275fac=function(y){return new(y||f)};static#t=this.\u0275prov=C.jDH({token:f,factory:()=>(0,C.WQX)(_),providedIn:"root"})}return f})(),_=(()=>{class f extends M{constructor(h){super(),this.title=h}updateTitle(h){const y=this.buildTitle(h);void 0!==y&&this.title.setTitle(y)}static#e=this.\u0275fac=function(y){return new(y||f)(C.KVO(xr.hE))};static#t=this.\u0275prov=C.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})();const S=new C.nKC("",{providedIn:"root",factory:()=>({})}),P=new C.nKC("");let X=(()=>{class f{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,C.WQX)(C.Ql9)}loadComponent(h){if(this.componentLoaders.get(h))return this.componentLoaders.get(h);if(h._loadedComponent)return(0,j.of)(h._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(h);const y=bn(h.loadComponent()).pipe((0,mt.T)(Ft),Fe(A=>{this.onLoadEndListener&&this.onLoadEndListener(h),h._loadedComponent=A}),(0,Kt.j)(()=>{this.componentLoaders.delete(h)})),b=new yn(y,()=>new tn.B).pipe(er());return this.componentLoaders.set(h,b),b}loadChildren(h,y){if(this.childrenLoaders.get(y))return this.childrenLoaders.get(y);if(y._loadedRoutes)return(0,j.of)({routes:y._loadedRoutes,injector:y._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(y);const A=function le(f,v,h,y){return bn(f.loadChildren()).pipe((0,mt.T)(Ft),(0,ye.Z)(b=>b instanceof C.Co$||Array.isArray(b)?(0,j.of)(b):(0,w.H)(v.compileModuleAsync(b))),(0,mt.T)(b=>{y&&y(f);let A,F,q=!1;return Array.isArray(b)?(F=b,!0):(A=b.create(h).injector,F=A.get(P,[],{optional:!0,self:!0}).flat()),{routes:F.map(Lr),injector:A}}))}(y,this.compiler,h,this.onLoadEndListener).pipe((0,Kt.j)(()=>{this.childrenLoaders.delete(y)})),F=new yn(A,()=>new tn.B).pipe(er());return this.childrenLoaders.set(y,F),F}static#e=this.\u0275fac=function(y){return new(y||f)};static#t=this.\u0275prov=C.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})();function Ft(f){return function xe(f){return f&&"object"==typeof f&&"default"in f}(f)?f.default:f}let Nt=(()=>{class f{static#e=this.\u0275fac=function(y){return new(y||f)};static#t=this.\u0275prov=C.jDH({token:f,factory:()=>(0,C.WQX)(Lt),providedIn:"root"})}return f})(),Lt=(()=>{class f{shouldProcessUrl(h){return!0}extract(h){return h}merge(h,y){return h}static#e=this.\u0275fac=function(y){return new(y||f)};static#t=this.\u0275prov=C.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})();const ft=new C.nKC("");let vt=(()=>{class f{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new tn.B,this.transitionAbortSubject=new tn.B,this.configLoader=(0,C.WQX)(X),this.environmentInjector=(0,C.WQX)(C.uvJ),this.urlSerializer=(0,C.WQX)(B),this.rootContexts=(0,C.WQX)(ko),this.location=(0,C.WQX)(Rn.aZ),this.inputBindingEnabled=null!==(0,C.WQX)(Er,{optional:!0}),this.titleStrategy=(0,C.WQX)(M),this.options=(0,C.WQX)(S,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,C.WQX)(Nt),this.createViewTransition=(0,C.WQX)(ft,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,j.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=b=>this.events.next(new Zl(b)),this.configLoader.onLoadStartListener=b=>this.events.next(new Qs(b))}complete(){this.transitions?.complete()}handleNavigationRequest(h){const y=++this.navigationId;this.transitions?.next({...this.transitions.value,...h,id:y})}setupNavigations(h,y,b){return this.transitions=new Q.t({id:0,currentUrlTree:y,currentRawUrl:y,extractedUrl:this.urlHandlingStrategy.extract(y),urlAfterRedirects:this.urlHandlingStrategy.extract(y),rawUrl:y,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:nr,restoredState:null,currentSnapshot:b.snapshot,targetSnapshot:null,currentRouterState:b,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,ee.p)(A=>0!==A.id),(0,mt.T)(A=>({...A,extractedUrl:this.urlHandlingStrategy.extract(A.rawUrl)})),(0,dn.n)(A=>{let F=!1,q=!1;return(0,j.of)(A).pipe((0,dn.n)(H=>{if(this.navigationId>A.id)return this.cancelNavigationTransition(A,"",ur.SupersededByNewNavigation),Pe.w;this.currentTransition=A,this.currentNavigation={id:H.id,initialUrl:H.rawUrl,extractedUrl:H.extractedUrl,trigger:H.source,extras:H.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const Ee=!h.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!Ee&&"reload"!==(H.extras.onSameUrlNavigation??h.onSameUrlNavigation)){const at="";return this.events.next(new Ti(H.id,this.urlSerializer.serialize(H.rawUrl),at,_n.IgnoredSameUrlNavigation)),H.resolve(null),Pe.w}if(this.urlHandlingStrategy.shouldProcessUrl(H.rawUrl))return(0,j.of)(H).pipe((0,dn.n)(at=>{const on=this.transitions?.getValue();return this.events.next(new Xe(at.id,this.urlSerializer.serialize(at.extractedUrl),at.source,at.restoredState)),on!==this.transitions?.getValue()?Pe.w:Promise.resolve(at)}),function il(f,v,h,y,b,A){return(0,ye.Z)(F=>function Bi(f,v,h,y,b,A,F="emptyOnly"){return new li(f,v,h,y,b,F,A).recognize()}(f,v,h,y,F.extractedUrl,b,A).pipe((0,mt.T)(({state:q,tree:H})=>({...F,targetSnapshot:q,urlAfterRedirects:H}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,h.config,this.urlSerializer,this.paramsInheritanceStrategy),Fe(at=>{A.targetSnapshot=at.targetSnapshot,A.urlAfterRedirects=at.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:at.urlAfterRedirects};const on=new Ri(at.id,this.urlSerializer.serialize(at.extractedUrl),this.urlSerializer.serialize(at.urlAfterRedirects),at.targetSnapshot);this.events.next(on)}));if(Ee&&this.urlHandlingStrategy.shouldProcessUrl(H.currentRawUrl)){const{id:at,extractedUrl:on,source:ir,restoredState:fi,extras:hi}=H,va=new Xe(at,this.urlSerializer.serialize(on),ir,fi);this.events.next(va);const Bo=Fo(this.rootComponentType).snapshot;return this.currentTransition=A={...H,targetSnapshot:Bo,urlAfterRedirects:on,extras:{...hi,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=on,(0,j.of)(A)}{const at="";return this.events.next(new Ti(H.id,this.urlSerializer.serialize(H.extractedUrl),at,_n.IgnoredByUrlHandlingStrategy)),H.resolve(null),Pe.w}}),Fe(H=>{const Ee=new pt(H.id,this.urlSerializer.serialize(H.extractedUrl),this.urlSerializer.serialize(H.urlAfterRedirects),H.targetSnapshot);this.events.next(Ee)}),(0,mt.T)(H=>(this.currentTransition=A={...H,guards:sa(H.targetSnapshot,H.currentSnapshot,this.rootContexts)},A)),function ca(f,v){return(0,ye.Z)(h=>{const{targetSnapshot:y,currentSnapshot:b,guards:{canActivateChecks:A,canDeactivateChecks:F}}=h;return 0===F.length&&0===A.length?(0,j.of)({...h,guardsResult:!0}):function Ja(f,v,h,y){return(0,w.H)(f).pipe((0,ye.Z)(b=>function Wn(f,v,h,y,b){const A=v&&v.routeConfig?v.routeConfig.canDeactivate:null;if(!A||0===A.length)return(0,j.of)(!0);const F=A.map(q=>{const H=Lo(v)??b,Ee=Zr(q,H);return bn(function oc(f){return f&&ii(f.canDeactivate)}(Ee)?Ee.canDeactivate(f,v,h,y):(0,C.N4e)(H,()=>Ee(f,v,h,y))).pipe(Ve())});return(0,j.of)(F).pipe(Vo())}(b.component,b.route,h,v,y)),Ve(b=>!0!==b,!0))}(F,y,b,f).pipe((0,ye.Z)(q=>q&&function Ut(f){return"boolean"==typeof f}(q)?function Ya(f,v,h,y){return(0,w.H)(v).pipe((0,gt.H)(b=>de(function dt(f,v){return null!==f&&v&&v(new ni(f)),(0,j.of)(!0)}(b.route.parent,y),function Es(f,v){return null!==f&&v&&v(new fs(f)),(0,j.of)(!0)}(b.route,y),function Gt(f,v,h){const y=v[v.length-1],A=v.slice(0,v.length-1).reverse().map(F=>function tc(f){const v=f.routeConfig?f.routeConfig.canActivateChild:null;return v&&0!==v.length?{node:f,guards:v}:null}(F)).filter(F=>null!==F).map(F=>We(()=>{const q=F.guards.map(H=>{const Ee=Lo(F.node)??h,Ge=Zr(H,Ee);return bn(function rc(f){return f&&ii(f.canActivateChild)}(Ge)?Ge.canActivateChild(y,f):(0,C.N4e)(Ee,()=>Ge(y,f))).pipe(Ve())});return(0,j.of)(q).pipe(Vo())}));return(0,j.of)(A).pipe(Vo())}(f,b.path,h),function cn(f,v,h){const y=v.routeConfig?v.routeConfig.canActivate:null;if(!y||0===y.length)return(0,j.of)(!0);const b=y.map(A=>We(()=>{const F=Lo(v)??h,q=Zr(A,F);return bn(function Za(f){return f&&ii(f.canActivate)}(q)?q.canActivate(v,f):(0,C.N4e)(F,()=>q(v,f))).pipe(Ve())}));return(0,j.of)(b).pipe(Vo())}(f,b.route,h))),Ve(b=>!0!==b,!0))}(y,A,f,v):(0,j.of)(q)),(0,mt.T)(q=>({...h,guardsResult:q})))})}(this.environmentInjector,H=>this.events.next(H)),Fe(H=>{if(A.guardsResult=H.guardsResult,zr(H.guardsResult))throw ra(0,H.guardsResult);const Ee=new ds(H.id,this.urlSerializer.serialize(H.extractedUrl),this.urlSerializer.serialize(H.urlAfterRedirects),H.targetSnapshot,!!H.guardsResult);this.events.next(Ee)}),(0,ee.p)(H=>!!H.guardsResult||(this.cancelNavigationTransition(H,"",ur.GuardRejected),!1)),g(H=>{if(H.guards.canActivateChecks.length)return(0,j.of)(H).pipe(Fe(Ee=>{const Ge=new Xs(Ee.id,this.urlSerializer.serialize(Ee.extractedUrl),this.urlSerializer.serialize(Ee.urlAfterRedirects),Ee.targetSnapshot);this.events.next(Ge)}),(0,dn.n)(Ee=>{let Ge=!1;return(0,j.of)(Ee).pipe(function uc(f,v){return(0,ye.Z)(h=>{const{targetSnapshot:y,guards:{canActivateChecks:b}}=h;if(!b.length)return(0,j.of)(h);const A=new Set(b.map(H=>H.route)),F=new Set;for(const H of A)if(!F.has(H))for(const Ee of $i(H))F.add(Ee);let q=0;return(0,w.H)(F).pipe((0,gt.H)(H=>A.has(H)?function wo(f,v,h,y){const b=f.routeConfig,A=f._resolve;return void 0!==b?.title&&!go(b)&&(A[wr]=b.title),function sl(f,v,h,y){const b=Wr(f);if(0===b.length)return(0,j.of)({});const A={};return(0,w.H)(b).pipe((0,ye.Z)(F=>function Ts(f,v,h,y){const b=Lo(v)??y,A=Zr(f,b);return bn(A.resolve?A.resolve(v,h):(0,C.N4e)(b,()=>A(v,h)))}(f[F],v,h,y).pipe(Ve(),Fe(q=>{A[F]=q}))),pn(1),function On(f){return(0,mt.T)(()=>f)}(A),(0,xt.W)(F=>la(F)?Pe.w:(0,Ie.$)(F)))}(A,f,v,y).pipe((0,mt.T)(F=>(f._resolvedData=F,f.data=gs(f,f.parent,h).resolve,null)))}(H,y,f,v):(H.data=gs(H,H.parent,f).resolve,(0,j.of)(void 0))),Fe(()=>q++),pn(1),(0,ye.Z)(H=>q===F.size?(0,j.of)(h):Pe.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),Fe({next:()=>Ge=!0,complete:()=>{Ge||this.cancelNavigationTransition(Ee,"",ur.NoDataFromResolver)}}))}),Fe(Ee=>{const Ge=new Pn(Ee.id,this.urlSerializer.serialize(Ee.extractedUrl),this.urlSerializer.serialize(Ee.urlAfterRedirects),Ee.targetSnapshot);this.events.next(Ge)}))}),g(H=>{const Ee=Ge=>{const at=[];Ge.routeConfig?.loadComponent&&!Ge.routeConfig._loadedComponent&&at.push(this.configLoader.loadComponent(Ge.routeConfig).pipe(Fe(on=>{Ge.component=on}),(0,mt.T)(()=>{})));for(const on of Ge.children)at.push(...Ee(on));return at};return ze(Ee(H.targetSnapshot.root)).pipe(oe(null),(0,K.s)(1))}),g(()=>this.afterPreactivation()),(0,dn.n)(()=>{const{currentSnapshot:H,targetSnapshot:Ee}=A,Ge=this.createViewTransition?.(this.environmentInjector,H.root,Ee.root);return Ge?(0,w.H)(Ge).pipe((0,mt.T)(()=>A)):(0,j.of)(A)}),(0,mt.T)(H=>{const Ee=function mo(f,v,h){const y=dr(f,v._root,h?h._root:void 0);return new xi(y,v)}(h.routeReuseStrategy,H.targetSnapshot,H.currentRouterState);return this.currentTransition=A={...H,targetRouterState:Ee},this.currentNavigation.targetRouterState=Ee,A}),Fe(()=>{this.events.next(new hs)}),((f,v,h,y)=>(0,mt.T)(b=>(new ia(v,b.targetRouterState,b.currentRouterState,h,y).activate(f),b)))(this.rootContexts,h.routeReuseStrategy,H=>this.events.next(H),this.inputBindingEnabled),(0,K.s)(1),Fe({next:H=>{F=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ut(H.id,this.urlSerializer.serialize(H.extractedUrl),this.urlSerializer.serialize(H.urlAfterRedirects))),this.titleStrategy?.updateTitle(H.targetRouterState.snapshot),H.resolve(!0)},complete:()=>{F=!0}}),function Ne(f){return(0,Je.N)((v,h)=>{(0,Ce.Tg)(f).subscribe((0,ae._)(h,()=>h.complete(),jn.l)),!h.closed&&v.subscribe(h)})}(this.transitionAbortSubject.pipe(Fe(H=>{throw H}))),(0,Kt.j)(()=>{!F&&!q&&this.cancelNavigationTransition(A,"",ur.SupersededByNewNavigation),this.currentTransition?.id===A.id&&(this.currentNavigation=null,this.currentTransition=null)}),(0,xt.W)(H=>{if(q=!0,$n(H))this.events.next(new xo(A.id,this.urlSerializer.serialize(A.extractedUrl),H.message,H.cancellationCode)),function vs(f){return $n(f)&&zr(f.url)}(H)?this.events.next(new ps(H.url)):A.resolve(!1);else{this.events.next(new Ai(A.id,this.urlSerializer.serialize(A.extractedUrl),H,A.targetSnapshot??void 0));try{A.resolve(h.errorHandler(H))}catch(Ee){this.options.resolveNavigationPromiseOnError?A.resolve(!1):A.reject(Ee)}}return Pe.w}))}))}cancelNavigationTransition(h,y,b){const A=new xo(h.id,this.urlSerializer.serialize(h.extractedUrl),y,b);this.events.next(A),h.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static#e=this.\u0275fac=function(y){return new(y||f)};static#t=this.\u0275prov=C.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})();function me(f){return f!==nr}let Le=(()=>{class f{static#e=this.\u0275fac=function(y){return new(y||f)};static#t=this.\u0275prov=C.jDH({token:f,factory:()=>(0,C.WQX)(vn),providedIn:"root"})}return f})();class Pt{shouldDetach(v){return!1}store(v,h){}shouldAttach(v){return!1}retrieve(v){return null}shouldReuseRoute(v,h){return v.routeConfig===h.routeConfig}}let vn=(()=>{class f extends Pt{static#e=this.\u0275fac=(()=>{let h;return function(b){return(h||(h=C.xGo(f)))(b||f)}})();static#t=this.\u0275prov=C.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})(),zt=(()=>{class f{static#e=this.\u0275fac=function(y){return new(y||f)};static#t=this.\u0275prov=C.jDH({token:f,factory:()=>(0,C.WQX)(Yt),providedIn:"root"})}return f})(),Yt=(()=>{class f extends zt{constructor(){super(...arguments),this.location=(0,C.WQX)(Rn.aZ),this.urlSerializer=(0,C.WQX)(B),this.options=(0,C.WQX)(S,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,C.WQX)(Nt),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new fo,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Fo(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(h){return this.location.subscribe(y=>{"popstate"===y.type&&h(y.url,y.state)})}handleRouterEvent(h,y){if(h instanceof Xe)this.stateMemento=this.createStateMemento();else if(h instanceof Ti)this.rawUrlTree=y.initialUrl;else if(h instanceof Ri){if("eager"===this.urlUpdateStrategy&&!y.extras.skipLocationChange){const b=this.urlHandlingStrategy.merge(y.finalUrl,y.initialUrl);this.setBrowserUrl(b,y)}}else h instanceof hs?(this.currentUrlTree=y.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(y.finalUrl,y.initialUrl),this.routerState=y.targetRouterState,"deferred"===this.urlUpdateStrategy&&(y.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,y))):h instanceof xo&&(h.code===ur.GuardRejected||h.code===ur.NoDataFromResolver)?this.restoreHistory(y):h instanceof Ai?this.restoreHistory(y,!0):h instanceof ut&&(this.lastSuccessfulId=h.id,this.currentPageId=this.browserPageId)}setBrowserUrl(h,y){const b=this.urlSerializer.serialize(h);if(this.location.isCurrentPathEqualTo(b)||y.extras.replaceUrl){const F={...y.extras.state,...this.generateNgRouterState(y.id,this.browserPageId)};this.location.replaceState(b,"",F)}else{const A={...y.extras.state,...this.generateNgRouterState(y.id,this.browserPageId+1)};this.location.go(b,"",A)}}restoreHistory(h,y=!1){if("computed"===this.canceledNavigationResolution){const A=this.currentPageId-this.browserPageId;0!==A?this.location.historyGo(A):this.currentUrlTree===h.finalUrl&&0===A&&(this.resetState(h),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(y&&this.resetState(h),this.resetUrlToCurrentUrlTree())}resetState(h){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,h.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(h,y){return"computed"===this.canceledNavigationResolution?{navigationId:h,\u0275routerPageId:y}:{navigationId:h}}static#e=this.\u0275fac=(()=>{let h;return function(b){return(h||(h=C.xGo(f)))(b||f)}})();static#t=this.\u0275prov=C.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})();var rr=function(f){return f[f.COMPLETE=0]="COMPLETE",f[f.FAILED=1]="FAILED",f[f.REDIRECTING=2]="REDIRECTING",f}(rr||{});function wn(f){throw f}const Tr={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Qe={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let or=(()=>{class f{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=(0,C.WQX)(C.H3F),this.stateManager=(0,C.WQX)(zt),this.options=(0,C.WQX)(S,{optional:!0})||{},this.pendingTasks=(0,C.WQX)(C.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,C.WQX)(vt),this.urlSerializer=(0,C.WQX)(B),this.location=(0,C.WQX)(Rn.aZ),this.urlHandlingStrategy=(0,C.WQX)(Nt),this._events=new tn.B,this.errorHandler=this.options.errorHandler||wn,this.navigated=!1,this.routeReuseStrategy=(0,C.WQX)(Le),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,C.WQX)(P,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,C.WQX)(Er,{optional:!0}),this.eventsSubscription=new qe.yU,this.isNgZoneEnabled=(0,C.WQX)(C.SKi)instanceof C.SKi&&C.SKi.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:h=>{this.console.warn(h)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const h=this.navigationTransitions.events.subscribe(y=>{try{const b=this.navigationTransitions.currentTransition,A=this.navigationTransitions.currentNavigation;if(null!==b&&null!==A)if(this.stateManager.handleRouterEvent(y,A),y instanceof xo&&y.code!==ur.Redirect&&y.code!==ur.SupersededByNewNavigation)this.navigated=!0;else if(y instanceof ut)this.navigated=!0;else if(y instanceof ps){const F=this.urlHandlingStrategy.merge(y.url,b.currentRawUrl),q={info:b.extras.info,skipLocationChange:b.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||me(b.source)};this.scheduleNavigation(F,nr,null,q,{resolve:b.resolve,reject:b.reject,promise:b.promise})}(function Uo(f){return!(f instanceof hs||f instanceof ps)})(y)&&this._events.next(y)}catch(b){this.navigationTransitions.transitionAbortSubject.next(b)}});this.eventsSubscription.add(h)}resetRootComponentType(h){this.routerState.root.component=h,this.navigationTransitions.rootComponentType=h}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),nr,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((h,y)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(h,"popstate",y)},0)})}navigateToSyncWithBrowser(h,y,b){const A={replaceUrl:!0},F=b?.navigationId?b:null;if(b){const H={...b};delete H.navigationId,delete H.\u0275routerPageId,0!==Object.keys(H).length&&(A.state=H)}const q=this.parseUrl(h);this.scheduleNavigation(q,y,F,A)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(h){this.config=h.map(Lr),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(h,y={}){const{relativeTo:b,queryParams:A,fragment:F,queryParamsHandling:q,preserveFragment:H}=y,Ee=H?this.currentUrlTree.fragment:F;let at,Ge=null;switch(q){case"merge":Ge={...this.currentUrlTree.queryParams,...A};break;case"preserve":Ge=this.currentUrlTree.queryParams;break;default:Ge=A||null}null!==Ge&&(Ge=this.removeEmptyProps(Ge));try{at=Ii(b?b.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof h[0]||!h[0].startsWith("/"))&&(h=[]),at=this.currentUrlTree.root}return qr(at,h,Ge,Ee??null)}navigateByUrl(h,y={skipLocationChange:!1}){const b=zr(h)?h:this.parseUrl(h),A=this.urlHandlingStrategy.merge(b,this.rawUrlTree);return this.scheduleNavigation(A,nr,null,y)}navigate(h,y={skipLocationChange:!1}){return function dc(f){for(let v=0;v<f.length;v++)if(null==f[v])throw new C.wOt(4008,!1)}(h),this.navigateByUrl(this.createUrlTree(h,y),y)}serializeUrl(h){return this.urlSerializer.serialize(h)}parseUrl(h){try{return this.urlSerializer.parse(h)}catch{return this.urlSerializer.parse("/")}}isActive(h,y){let b;if(b=!0===y?{...Tr}:!1===y?{...Qe}:y,zr(h))return tt(this.currentUrlTree,h,b);const A=this.parseUrl(h);return tt(this.currentUrlTree,A,b)}removeEmptyProps(h){return Object.entries(h).reduce((y,[b,A])=>(null!=A&&(y[b]=A),y),{})}scheduleNavigation(h,y,b,A,F){if(this.disposed)return Promise.resolve(!1);let q,H,Ee;F?(q=F.resolve,H=F.reject,Ee=F.promise):Ee=new Promise((at,on)=>{q=at,H=on});const Ge=this.pendingTasks.add();return function Bt(f,v){f.events.pipe((0,ee.p)(h=>h instanceof ut||h instanceof xo||h instanceof Ai||h instanceof Ti),(0,mt.T)(h=>h instanceof ut||h instanceof Ti?rr.COMPLETE:h instanceof xo&&(h.code===ur.Redirect||h.code===ur.SupersededByNewNavigation)?rr.REDIRECTING:rr.FAILED),(0,ee.p)(h=>h!==rr.REDIRECTING),(0,K.s)(1)).subscribe(()=>{v()})}(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Ge))}),this.navigationTransitions.handleNavigationRequest({source:y,restoredState:b,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:h,extras:A,resolve:q,reject:H,promise:Ee,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ee.catch(at=>Promise.reject(at))}static#e=this.\u0275fac=function(y){return new(y||f)};static#t=this.\u0275prov=C.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})(),qt=(()=>{class f{constructor(h,y,b,A,F,q){this.router=h,this.route=y,this.tabIndexAttribute=b,this.renderer=A,this.el=F,this.locationStrategy=q,this.href=null,this.commands=null,this.onChanges=new tn.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const H=F.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===H||"area"===H,this.isAnchorElement?this.subscription=h.events.subscribe(Ee=>{Ee instanceof ut&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(h){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",h)}ngOnChanges(h){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(h){null!=h?(this.commands=Array.isArray(h)?h:[h],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(h,y,b,A,F){const q=this.urlTree;return!!(null===q||this.isAnchorElement&&(0!==h||y||b||A||F||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(q,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const h=this.urlTree;this.href=null!==h&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(h)):null;const y=null===this.href?null:(0,C.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",y)}applyAttributeValue(h,y){const b=this.renderer,A=this.el.nativeElement;null!==y?b.setAttribute(A,h,y):b.removeAttribute(A,h)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(y){return new(y||f)(C.rXU(or),C.rXU(Xr),C.kS0("tabindex"),C.rXU(C.sFG),C.rXU(C.aKT),C.rXU(Rn.hb))};static#t=this.\u0275dir=C.FsC({type:f,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(y,b){1&y&&C.bIt("click",function(F){return b.onClick(F.button,F.ctrlKey,F.shiftKey,F.altKey,F.metaKey)}),2&y&&C.BMQ("target",b.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[C.Mj6.HasDecoratorInputTransform,"preserveFragment","preserveFragment",C.L39],skipLocationChange:[C.Mj6.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",C.L39],replaceUrl:[C.Mj6.HasDecoratorInputTransform,"replaceUrl","replaceUrl",C.L39],routerLink:"routerLink"},standalone:!0,features:[C.GFd,C.OA$]})}return f})();const Gi=new C.nKC("");function it(f,...v){return(0,C.EmA)([{provide:P,multi:!0,useValue:f},[],{provide:Xr,useFactory:pa,deps:[or]},{provide:C.iLQ,multi:!0,useFactory:ga},v.map(h=>h.\u0275providers)])}function pa(f){return f.routerState.root}function ga(){const f=(0,C.WQX)(C.zZn);return v=>{const h=f.get(C.o8S);if(v!==h.components[0])return;const y=f.get(or),b=f.get(Dn);1===f.get(Cn)&&y.initialNavigation(),f.get(Ar,null,C.$GK.Optional)?.setUpPreloading(),f.get(Gi,null,C.$GK.Optional)?.init(),y.resetRootComponentType(h.componentTypes[0]),b.closed||(b.next(),b.complete(),b.unsubscribe())}}const Dn=new C.nKC("",{factory:()=>new tn.B}),Cn=new C.nKC("",{providedIn:"root",factory:()=>1}),Ar=new C.nKC("");function bu(f){return function zn(f,v){return{\u0275kind:f,\u0275providers:v}}(5,[{provide:S,useValue:f}])}},467:(Ue,he,O)=>{"use strict";function C(w,j,Q,De,J,be,ge){try{var te=w[be](ge),Z=te.value}catch(se){return void Q(se)}te.done?j(Z):Promise.resolve(Z).then(De,J)}function N(w){return function(){var j=this,Q=arguments;return new Promise(function(De,J){var be=w.apply(j,Q);function ge(Z){C(be,De,J,ge,te,"next",Z)}function te(Z){C(be,De,J,ge,te,"throw",Z)}ge(void 0)})}}O.d(he,{A:()=>N})},1635:(Ue,he,O)=>{"use strict";function se(K,Y,ee,oe){return new(ee||(ee=Promise))(function(_e,Ve){function gt(xt){try{Fe(oe.next(xt))}catch(an){Ve(an)}}function Nn(xt){try{Fe(oe.throw(xt))}catch(an){Ve(an)}}function Fe(xt){xt.done?_e(xt.value):function Me(_e){return _e instanceof ee?_e:new ee(function(Ve){Ve(_e)})}(xt.value).then(gt,Nn)}Fe((oe=oe.apply(K,Y||[])).next())})}function pe(K){return this instanceof pe?(this.v=K,this):new pe(K)}function de(K,Y,ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Me,oe=ee.apply(K,Y||[]),_e=[];return Me={},Ve("next"),Ve("throw"),Ve("return"),Me[Symbol.asyncIterator]=function(){return this},Me;function Ve(Vt){oe[Vt]&&(Me[Vt]=function(pn){return new Promise(function(sr,On){_e.push([Vt,pn,sr,On])>1||gt(Vt,pn)})})}function gt(Vt,pn){try{!function Nn(Vt){Vt.value instanceof pe?Promise.resolve(Vt.value.v).then(Fe,xt):an(_e[0][2],Vt)}(oe[Vt](pn))}catch(sr){an(_e[0][3],sr)}}function Fe(Vt){gt("next",Vt)}function xt(Vt){gt("throw",Vt)}function an(Vt,pn){Vt(pn),_e.shift(),_e.length&&gt(_e[0][0],_e[0][1])}}function We(K){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ee,Y=K[Symbol.asyncIterator];return Y?Y.call(K):(K=function ze(K){var Y="function"==typeof Symbol&&Symbol.iterator,ee=Y&&K[Y],oe=0;if(ee)return ee.call(K);if(K&&"number"==typeof K.length)return{next:function(){return K&&oe>=K.length&&(K=void 0),{value:K&&K[oe++],done:!K}}};throw new TypeError(Y?"Object is not iterable.":"Symbol.iterator is not defined.")}(K),ee={},oe("next"),oe("throw"),oe("return"),ee[Symbol.asyncIterator]=function(){return this},ee);function oe(_e){ee[_e]=K[_e]&&function(Ve){return new Promise(function(gt,Nn){!function Me(_e,Ve,gt,Nn){Promise.resolve(Nn).then(function(Fe){_e({value:Fe,done:gt})},Ve)}(gt,Nn,(Ve=K[_e](Ve)).done,Ve.value)})}}}O.d(he,{AQ:()=>de,N3:()=>pe,sH:()=>se,xN:()=>We}),"function"==typeof SuppressedError&&SuppressedError}},Ue=>{Ue(Ue.s=3147)}]);