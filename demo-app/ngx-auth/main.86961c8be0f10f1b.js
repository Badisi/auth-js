(self.webpackChunkdemo_app_ngx_auth=self.webpackChunkdemo_app_ngx_auth||[]).push([[179],{5852:($e,de,R)=>{"use strict";R.r(de),R.d(de,{PageModule:()=>ve});var w=R(9644),B=R(3020);const V=[{path:"",component:(()=>{class ae{constructor(ye){this.route=ye,this.title=""}ngOnInit(){this.title=this.route.snapshot.data.title}static#e=this.\u0275fac=function(W){return new(W||ae)(B.Y36(w.gz))};static#t=this.\u0275cmp=B.Xpm({type:ae,selectors:[["app-page"]],decls:2,vars:1,template:function(W,Q){1&W&&(B.TgZ(0,"h2"),B._uU(1),B.qZA()),2&W&&(B.xp6(1),B.Oqu(Q.title))},styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%;color:#bdbdbd}"]})}return ae})()}];let Z=(()=>{class ae{static#e=this.\u0275fac=function(W){return new(W||ae)};static#t=this.\u0275mod=B.oAB({type:ae});static#n=this.\u0275inj=B.cJS({imports:[w.Bz.forChild(V),w.Bz]})}return ae})(),ve=(()=>{class ae{static#e=this.\u0275fac=function(W){return new(W||ae)};static#t=this.\u0275mod=B.oAB({type:ae});static#n=this.\u0275inj=B.cJS({imports:[Z]})}return ae})()},4410:($e,de,R)=>{"use strict";var w=R(6550);function B(a,i,o,u,p,C,I){try{var F=a[C](I),L=F.value}catch(J){return void o(J)}F.done?i(L):Promise.resolve(L).then(u,p)}function P(a){return function(){var i=this,o=arguments;return new Promise(function(u,p){var C=a.apply(i,o);function I(L){B(C,u,p,I,F,"next",L)}function F(L){B(C,u,p,I,F,"throw",L)}I(void 0)})}}function V(a){this.message=a}(V.prototype=new Error).name="InvalidCharacterError";var Z=typeof window<"u"&&window.atob&&window.atob.bind(window)||function(a){var i=String(a).replace(/=+$/,"");if(i.length%4==1)throw new V("'atob' failed: The string to be decoded is not correctly encoded.");for(var o,u,p=0,C=0,I="";u=i.charAt(C++);~u&&(o=p%4?64*o+u:u,p++%4)?I+=String.fromCharCode(255&o>>(-2*p&6)):0)u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(u);return I};function ae(a){this.message=a}(ae.prototype=new Error).name="InvalidTokenError";const ye=function Se(a,i){if("string"!=typeof a)throw new ae("Invalid token specified");var o=!0===(i=i||{}).header?0:1;try{return JSON.parse(function ve(a){var i=a.replace(/-/g,"+").replace(/_/g,"/");switch(i.length%4){case 0:break;case 2:i+="==";break;case 3:i+="=";break;default:throw"Illegal base64url string!"}try{return decodeURIComponent(Z(i).replace(/(.)/g,function(u,p){var C=p.charCodeAt(0).toString(16).toUpperCase();return C.length<2&&(C="0"+C),"%"+C}))}catch{return Z(i)}}(a.split(".")[o]))}catch(u){throw new ae("Invalid token specified: "+u.message)}};let W=(()=>{class a{static#e=this.isCordova=()=>!!(window.cordova||window.phonegap||window.PhoneGap);static#t=this.isCapacitor=()=>!!window.Capacitor?.isNativePlatform();static#n=this.isNativeMobile=()=>a.isCapacitor()||a.isCordova();static#r=this.decodeJwt=o=>{try{return o&&ye(o)}catch{return console.warn("[@badisi/auth-js] Access token was not decoded as it is not a valid JWT."),o}};static#i=this.isUrlMatching=(o,u)=>{if(void 0!==u){const p=new URL(o,"http://test"),C=new URL(u,"http://test");if(""!==C.pathname&&"/"!==C.pathname&&!p.pathname.includes(C.pathname)||"http://test"!==C.origin&&(p.protocol!==C.protocol||p.origin!==C.origin||!`${p.origin}${p.pathname}}`.includes(`${C.origin}${C.pathname}`)))return!1;let I=!0;return C.searchParams.forEach((F,L)=>{p.searchParams.getAll(L).includes(F)||(I=!1)}),I}return!1};static#o=this.getBaseUrl=()=>{const o=document.baseURI||document.querySelector("base")?.href||location.origin;return o.endsWith("/")?o:`${o}/`};static#s=this.stringToURL=o=>{try{return new URL(o)}catch{const u=o.startsWith("/")?o.substring(1,o.length):o;return new URL(`${a.getBaseUrl()}${u}`)}}}return a})();var Q=R(7579);const te={now:()=>(te.delegate||Date).now(),delegate:void 0};class Me extends Q.x{constructor(i=1/0,o=1/0,u=te){super(),this._bufferSize=i,this._windowTime=o,this._timestampProvider=u,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=o===1/0,this._bufferSize=Math.max(1,i),this._windowTime=Math.max(1,o)}next(i){const{isStopped:o,_buffer:u,_infiniteTimeWindow:p,_timestampProvider:C,_windowTime:I}=this;o||(u.push(i),!p&&u.push(C.now()+I)),this._trimBuffer(),super.next(i)}_subscribe(i){this._throwIfClosed(),this._trimBuffer();const o=this._innerSubscribe(i),{_infiniteTimeWindow:u,_buffer:p}=this,C=p.slice();for(let I=0;I<C.length&&!i.closed;I+=u?1:2)i.next(C[I]);return this._checkFinalizedStatuses(i),o}_trimBuffer(){const{_bufferSize:i,_timestampProvider:o,_buffer:u,_infiniteTimeWindow:p}=this,C=(p?1:2)*i;if(i<1/0&&C<u.length&&u.splice(0,u.length-C),!p){const I=o.now();let F=0;for(let L=1;L<u.length&&u[L]<=I;L+=2)F=L;F&&u.splice(0,F+1)}}}var le=R(1884),Ie=R(4004),E=R(3020);const Fe=function Ce(a,i){return a===i||a!=a&&i!=i},fe=function ge(a,i){for(var o=a.length;o--;)if(Fe(a[o][0],i))return o;return-1};var pe=Array.prototype.splice;function lt(a){var i=-1,o=null==a?0:a.length;for(this.clear();++i<o;){var u=a[i];this.set(u[0],u[1])}}lt.prototype.clear=function Qe(){this.__data__=[],this.size=0},lt.prototype.delete=function De(a){var i=this.__data__,o=fe(i,a);return!(o<0||(o==i.length-1?i.pop():pe.call(i,o,1),--this.size,0))},lt.prototype.get=function Ge(a){var i=this.__data__,o=fe(i,a);return o<0?void 0:i[o][1]},lt.prototype.has=function Re(a){return fe(this.__data__,a)>-1},lt.prototype.set=function ze(a,i){var o=this.__data__,u=fe(o,a);return u<0?(++this.size,o.push([a,i])):o[u][1]=i,this};const fn=lt,hn="object"==typeof global&&global&&global.Object===Object&&global;var je="object"==typeof self&&self&&self.Object===Object&&self;const xt=hn||je||Function("return this")();var jt=xt.Symbol,Nt=Object.prototype,qe=Nt.hasOwnProperty,Rn=Nt.toString,Ln=jt?jt.toStringTag:void 0;var on=Object.prototype.toString;var Qr=jt?jt.toStringTag:void 0;const gn=function pn(a){return null==a?void 0===a?"[object Undefined]":"[object Null]":Qr&&Qr in Object(a)?function ot(a){var i=qe.call(a,Ln),o=a[Ln];try{a[Ln]=void 0;var u=!0}catch{}var p=Rn.call(a);return u&&(i?a[Ln]=o:delete a[Ln]),p}(a):function On(a){return on.call(a)}(a)},Wt=function Xr(a){var i=typeof a;return null!=a&&("object"==i||"function"==i)},_r=function no(a){if(!Wt(a))return!1;var i=gn(a);return"[object Function]"==i||"[object GeneratorFunction]"==i||"[object AsyncFunction]"==i||"[object Proxy]"==i};var a,Tt=xt["__core-js_shared__"],ei=(a=/[^.]+$/.exec(Tt&&Tt.keys&&Tt.keys.IE_PROTO||""))?"Symbol(src)_1."+a:"";var Yn=Function.prototype.toString;var ni=/^\[object .+?Constructor\]$/,ee=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const Ne=function ke(a){return!(!Wt(a)||function ro(a){return!!ei&&ei in a}(a))&&(_r(a)?ee:ni).test(function io(a){if(null!=a){try{return Yn.call(a)}catch{}try{return a+""}catch{}}return""}(a))},En=function Ht(a,i){var o=function Dt(a,i){return a?.[i]}(a,i);return Ne(o)?o:void 0},oo=En(xt,"Map"),Sn=En(Object,"create");var ir=Object.prototype.hasOwnProperty;var Pi=Object.prototype.hasOwnProperty;function sr(a){var i=-1,o=null==a?0:a.length;for(this.clear();++i<o;){var u=a[i];this.set(u[0],u[1])}}sr.prototype.clear=function rr(){this.__data__=Sn?Sn(null):{},this.size=0},sr.prototype.delete=function ht(a){var i=this.has(a)&&delete this.__data__[a];return this.size-=i?1:0,i},sr.prototype.get=function or(a){var i=this.__data__;if(Sn){var o=i[a];return"__lodash_hash_undefined__"===o?void 0:o}return ir.call(i,a)?i[a]:void 0},sr.prototype.has=function br(a){var i=this.__data__;return Sn?void 0!==i[a]:Pi.call(i,a)},sr.prototype.set=function mi(a,i){var o=this.__data__;return this.size+=this.has(a)?0:1,o[a]=Sn&&void 0===i?"__lodash_hash_undefined__":i,this};const vs=sr,Cr=function _s(a,i){var o=a.__data__;return function ys(a){var i=typeof a;return"string"==i||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==a:null===a}(i)?o["string"==typeof i?"string":"hash"]:o.map};function ar(a){var i=-1,o=null==a?0:a.length;for(this.clear();++i<o;){var u=a[i];this.set(u[0],u[1])}}ar.prototype.clear=function Bo(){this.size=0,this.__data__={hash:new vs,map:new(oo||fn),string:new vs}},ar.prototype.delete=function $o(a){var i=Cr(this,a).delete(a);return this.size-=i?1:0,i},ar.prototype.get=function Ds(a){return Cr(this,a).get(a)},ar.prototype.has=function Un(a){return Cr(this,a).has(a)},ar.prototype.set=function vi(a,i){var o=Cr(this,a),u=o.size;return o.set(a,i),this.size+=o.size==u?0:1,this};const Pn=ar;function yi(a){var i=this.__data__=new fn(a);this.size=i.size}yi.prototype.clear=function yr(){this.__data__=new fn,this.size=0},yi.prototype.delete=function z(a){var i=this.__data__,o=i.delete(a);return this.size=i.size,o},yi.prototype.get=function oe(a){return this.__data__.get(a)},yi.prototype.has=function _e(a){return this.__data__.has(a)},yi.prototype.set=function aa(a,i){var o=this.__data__;if(o instanceof fn){var u=o.__data__;if(!oo||u.length<199)return u.push([a,i]),this.size=++o.size,this;o=this.__data__=new Pn(u)}return o.set(a,i),this.size=o.size,this};const Wo=yi;var Cs=function(){try{var a=En(Object,"defineProperty");return a({},"",{}),a}catch{}}();const Fi=Cs,Jt=function yt(a,i,o){"__proto__"==i&&Fi?Fi(a,i,{configurable:!0,enumerable:!0,value:o,writable:!0}):a[i]=o},Ur=function Mn(a,i,o){(void 0!==o&&!Fe(a[i],o)||void 0===o&&!(i in a))&&Jt(a,i,o)};var Es=function In(a){return function(i,o,u){for(var p=-1,C=Object(i),I=u(i),F=I.length;F--;){var L=I[a?F:++p];if(!1===o(C[L],L,C))break}return i}}();const Vr=Es;var qo="object"==typeof exports&&exports&&!exports.nodeType&&exports,lo=qo&&"object"==typeof module&&module&&!module.nodeType&&module,Te=lo&&lo.exports===qo?xt.Buffer:void 0,Ze=Te?Te.allocUnsafe:void 0;const Ot=xt.Uint8Array,Hr=function jr(a,i){var o=i?function Er(a){var i=new a.constructor(a.byteLength);return new Ot(i).set(new Ot(a)),i}(a.buffer):a.buffer;return new a.constructor(o,a.byteOffset,a.length)};var ki=Object.create,Br=function(){function a(){}return function(i){if(!Wt(i))return{};if(ki)return ki(i);a.prototype=i;var o=new a;return a.prototype=void 0,o}}();const zt=Br;var lr=function Li(a,i){return function(o){return a(i(o))}}(Object.getPrototypeOf,Object);const Ui=lr;var wi=Object.prototype;const Zn=function $r(a){var i=a&&a.constructor;return a===("function"==typeof i&&i.prototype||wi)},co=function at(a){return null!=a&&"object"==typeof a},Jn=function Ss(a){return co(a)&&"[object Arguments]"==gn(a)};var fo=Object.prototype,Vi=fo.hasOwnProperty,oi=fo.propertyIsEnumerable,sn=Jn(function(){return arguments}())?Jn:function(a){return co(a)&&Vi.call(a,"callee")&&!oi.call(a,"callee")};const ji=sn,an=Array.isArray,vn=function Sr(a){return"number"==typeof a&&a>-1&&a%1==0&&a<=9007199254740991},Mr=function Qn(a){return null!=a&&vn(a.length)&&!_r(a)};var Hi="object"==typeof exports&&exports&&!exports.nodeType&&exports,ml=Hi&&"object"==typeof module&&module&&!module.nodeType&&module,Ci=ml&&ml.exports===Hi?xt.Buffer:void 0;const _l=(Ci?Ci.isBuffer:void 0)||function gl(){return!1};var wl=Function.prototype.toString,Bu=Object.prototype.hasOwnProperty,$u=wl.call(Object);var At={};At["[object Float32Array]"]=At["[object Float64Array]"]=At["[object Int8Array]"]=At["[object Int16Array]"]=At["[object Int32Array]"]=At["[object Uint8Array]"]=At["[object Uint8ClampedArray]"]=At["[object Uint16Array]"]=At["[object Uint32Array]"]=!0,At["[object Arguments]"]=At["[object Array]"]=At["[object ArrayBuffer]"]=At["[object Boolean]"]=At["[object DataView]"]=At["[object Date]"]=At["[object Error]"]=At["[object Function]"]=At["[object Map]"]=At["[object Number]"]=At["[object Object]"]=At["[object RegExp]"]=At["[object Set]"]=At["[object String]"]=At["[object WeakMap]"]=!1;var ha="object"==typeof exports&&exports&&!exports.nodeType&&exports,$i=ha&&"object"==typeof module&&module&&!module.nodeType&&module,xs=$i&&$i.exports===ha&&hn.process,Il=function(){try{return $i&&$i.require&&$i.require("util").types||xs&&xs.binding&&xs.binding("util")}catch{}}(),Rs=Il&&Il.isTypedArray;const pa=Rs?function fa(a){return function(i){return a(i)}}(Rs):function As(a){return co(a)&&vn(a.length)&&!!At[gn(a)]},Ps=function Os(a,i){if(("constructor"!==i||"function"!=typeof a[i])&&"__proto__"!=i)return a[i]};var ai=Object.prototype.hasOwnProperty;const M=function y(a,i,o){var u=a[i];(!ai.call(a,i)||!Fe(u,o)||void 0===o&&!(i in a))&&Jt(a,i,o)};var Pe=/^(?:0|[1-9]\d*)$/;const _t=function pt(a,i){var o=typeof a;return!!(i=i??9007199254740991)&&("number"==o||"symbol"!=o&&Pe.test(a))&&a>-1&&a%1==0&&a<i};var Ye=Object.prototype.hasOwnProperty;const Ct=function Ut(a,i){var o=an(a),u=!o&&ji(a),p=!o&&!u&&_l(a),C=!o&&!u&&!p&&pa(a),I=o||u||p||C,F=I?function N(a,i){for(var o=-1,u=Array(a);++o<a;)u[o]=i(o);return u}(a.length,String):[],L=F.length;for(var J in a)(i||Ye.call(a,J))&&(!I||!("length"==J||p&&("offset"==J||"parent"==J)||C&&("buffer"==J||"byteLength"==J||"byteOffset"==J)||_t(J,L)))&&F.push(J);return F};var Si=Object.prototype.hasOwnProperty;const Xn=function Hn(a){if(!Wt(a))return function Kt(a){var i=[];if(null!=a)for(var o in Object(a))i.push(o);return i}(a);var i=Zn(a),o=[];for(var u in a)"constructor"==u&&(i||!Si.call(a,u))||o.push(u);return o},li=function zr(a){return Mr(a)?Ct(a,!0):Xn(a)},ma=function Be(a){return function _(a,i,o,u){var p=!o;o||(o={});for(var C=-1,I=i.length;++C<I;){var F=i[C],L=u?u(o[F],a[F],F,o,a):void 0;void 0===L&&(L=a[F]),p?Jt(o,F,L):M(o,F,L)}return o}(a,li(a))},Yu=function bd(a,i,o,u,p,C,I){var F=Ps(a,o),L=Ps(i,o),J=I.get(L);if(J)Ur(a,o,J);else{var xe=C?C(F,L,o+"",a,i,I):void 0,Le=void 0===xe;if(Le){var We=an(L),Dn=!We&&_l(L),tr=!We&&!Dn&&pa(L);xe=L,We||Dn||tr?an(F)?xe=F:function ju(a){return co(a)&&Mr(a)}(F)?xe=function et(a,i){var o=-1,u=a.length;for(i||(i=Array(u));++o<u;)i[o]=a[o];return i}(F):Dn?(Le=!1,xe=function kt(a,i){if(i)return a.slice();var o=a.length,u=Ze?Ze(o):new a.constructor(o);return a.copy(u),u}(L,!0)):tr?(Le=!1,xe=Hr(L,!0)):xe=[]:function ua(a){if(!co(a)||"[object Object]"!=gn(a))return!1;var i=Ui(a);if(null===i)return!0;var o=Bu.call(i,"constructor")&&i.constructor;return"function"==typeof o&&o instanceof o&&wl.call(o)==$u}(L)||ji(L)?(xe=F,ji(F)?xe=ma(F):(!Wt(F)||_r(F))&&(xe=function Di(a){return"function"!=typeof a.constructor||Zn(a)?{}:zt(Ui(a))}(L))):Le=!1}Le&&(I.set(L,xe),p(xe,L,u,C,I),I.delete(L)),Ur(a,o,xe)}},Ku=function Al(a,i,o,u,p){a!==i&&Vr(i,function(C,I){if(p||(p=new Wo),Wt(C))Yu(a,i,I,o,Al,u,p);else{var F=u?u(Ps(a,I),C,I+"",a,i,p):void 0;void 0===F&&(F=C),Ur(a,I,F)}},li)},Gi=function Bn(a){return a};var xl=Math.max;const gt=function he(a){return function(){return a}};var Fs=Fi?function(a,i){return Fi(a,"toString",{configurable:!0,enumerable:!1,value:gt(i),writable:!0})}:Gi,er=Date.now,Ol=function Wr(a){var i=0,o=0;return function(){var u=er(),p=16-(u-o);if(o=u,p>0){if(++i>=800)return arguments[0]}else i=0;return a.apply(void 0,arguments)}}(Fs);const Ed=Ol,_a=function Qu(a,i){return Ed(function Rl(a,i,o){return i=xl(void 0===i?a.length-1:i,0),function(){for(var u=arguments,p=-1,C=xl(u.length-i,0),I=Array(C);++p<C;)I[p]=u[i+p];p=-1;for(var F=Array(i+1);++p<i;)F[p]=u[p];return F[i]=o(I),function Ns(a,i,o){switch(o.length){case 0:return a.call(i);case 1:return a.call(i,o[0]);case 2:return a.call(i,o[0],o[1]);case 3:return a.call(i,o[0],o[1],o[2])}return a.apply(i,o)}(a,this,F)}}(a,i,Gi),a+"")};var qr=function Pl(a){return _a(function(i,o){var u=-1,p=o.length,C=p>1?o[p-1]:void 0,I=p>2?o[2]:void 0;for(C=a.length>3&&"function"==typeof C?(p--,C):void 0,I&&function _n(a,i,o){if(!Wt(o))return!1;var u=typeof i;return!!("number"==u?Mr(o)&&_t(i,o.length):"string"==u&&i in o)&&Fe(o[i],a)}(o[0],o[1],I)&&(C=p<3?void 0:C,p=1),i=Object(i);++u<p;){var F=o[u];F&&a(i,F,u,C)}return i})}(function(a,i,o){Ku(a,i,o)});const Xu=qr;var cr,dr,ec=R(7585),Sd=R(1817),tc=R(8319),wa=R(4384),Nl={debug:()=>{},info:()=>{},warn:()=>{},error:()=>{}},An=(a=>(a[a.NONE=0]="NONE",a[a.ERROR=1]="ERROR",a[a.WARN=2]="WARN",a[a.INFO=3]="INFO",a[a.DEBUG=4]="DEBUG",a))(An||{});(a=>{a.reset=function i(){cr=3,dr=Nl},a.setLevel=function o(p){if(!(0<=p&&p<=4))throw new Error("Invalid log level");cr=p},a.setLogger=function u(p){dr=p}})(An||(An={}));var it=class{constructor(a){this._name=a}debug(...a){cr>=4&&dr.debug(it._format(this._name,this._method),...a)}info(...a){cr>=3&&dr.info(it._format(this._name,this._method),...a)}warn(...a){cr>=2&&dr.warn(it._format(this._name,this._method),...a)}error(...a){cr>=1&&dr.error(it._format(this._name,this._method),...a)}throw(a){throw this.error(a),a}create(a){const i=Object.create(this);return i._method=a,i.debug("begin"),i}static createStatic(a,i){const o=new it(`${a}.${i}`);return o.debug("begin"),o}static _format(a,i){const o=`[${a}]`;return i?`${o} ${i}:`:o}static debug(a,...i){cr>=4&&dr.debug(it._format(a),...i)}static info(a,...i){cr>=3&&dr.info(it._format(a),...i)}static warn(a,...i){cr>=2&&dr.warn(it._format(a),...i)}static error(a,...i){cr>=1&&dr.error(it._format(a),...i)}};An.reset();var Ar=class{static _randomWord(){return ec.lib.WordArray.random(1).words[0]}static generateUUIDv4(){return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,i=>(+i^Ar._randomWord()&15>>+i/4).toString(16)).replace(/-/g,"")}static generateCodeVerifier(){return Ar.generateUUIDv4()+Ar.generateUUIDv4()+Ar.generateUUIDv4()}static generateCodeChallenge(a){try{const i=Sd(a);return tc.stringify(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}catch(i){throw it.error("CryptoUtils.generateCodeChallenge",i),i}}static generateBasicAuth(a,i){const o=wa.parse([a,i].join(":"));return tc.stringify(o)}},ci=class{constructor(a){this._name=a,this._logger=new it(`Event('${this._name}')`),this._callbacks=[]}addHandler(a){return this._callbacks.push(a),()=>this.removeHandler(a)}removeHandler(a){const i=this._callbacks.lastIndexOf(a);i>=0&&this._callbacks.splice(i,1)}raise(...a){this._logger.debug("raise:",...a);for(const i of this._callbacks)i(...a)}},Ls=class{static decode(a){try{return ye(a)}catch(i){throw it.error("JwtUtils.decode",i),i}}},ba=class{static center({...a}){var i;return null==a.width&&(a.width=null!=(i=[800,720,600,480].find(p=>p<=window.outerWidth/1.618))?i:360),null!=a.left||(a.left=Math.max(0,Math.round(window.screenX+(window.outerWidth-a.width)/2))),null!=a.height&&(null!=a.top||(a.top=Math.max(0,Math.round(window.screenY+(window.outerHeight-a.height)/2)))),a}static serialize(a){return Object.entries(a).filter(([,i])=>null!=i).map(([i,o])=>`${i}=${"boolean"!=typeof o?o:o?"yes":"no"}`).join(",")}},Nn=class extends ci{constructor(){super(...arguments),this._logger=new it(`Timer('${this._name}')`),this._timerHandle=null,this._expiration=0,this._callback=()=>{const a=this._expiration-Nn.getEpochTime();this._logger.debug("timer completes in",a),this._expiration<=Nn.getEpochTime()&&(this.cancel(),super.raise())}}static getEpochTime(){return Math.floor(Date.now()/1e3)}init(a){const i=this._logger.create("init");a=Math.max(Math.floor(a),1);const o=Nn.getEpochTime()+a;if(this.expiration===o&&this._timerHandle)return void i.debug("skipping since already initialized for expiration at",this.expiration);this.cancel(),i.debug("using duration",a),this._expiration=o;const u=Math.min(a,5);this._timerHandle=setInterval(this._callback,1e3*u)}get expiration(){return this._expiration}cancel(){this._logger.create("cancel"),this._timerHandle&&(clearInterval(this._timerHandle),this._timerHandle=null)}},Ca=class{static readParams(a,i="query"){if(!a)throw new TypeError("Invalid URL");const u=new URL(a,"http://127.0.0.1")["fragment"===i?"hash":"search"];return new URLSearchParams(u.slice(1))}},Xt=class extends Error{constructor(a,i){var o,u,p;if(super(a.error_description||a.error||""),this.form=i,this.name="ErrorResponse",!a.error)throw it.error("ErrorResponse","No error passed"),new Error("No error passed");this.error=a.error,this.error_description=null!=(o=a.error_description)?o:null,this.error_uri=null!=(u=a.error_uri)?u:null,this.state=a.userState,this.session_state=null!=(p=a.session_state)?p:null,this.url_state=a.url_state}},Mi=class extends Error{constructor(a){super(a),this.name="ErrorTimeout"}},qt=class{constructor(a){this._logger=new it("AccessTokenEvents"),this._expiringTimer=new Nn("Access token expiring"),this._expiredTimer=new Nn("Access token expired"),this._expiringNotificationTimeInSeconds=a.expiringNotificationTimeInSeconds}load(a){const i=this._logger.create("load");if(a.access_token&&void 0!==a.expires_in){const o=a.expires_in;if(i.debug("access token present, remaining duration:",o),o>0){let p=o-this._expiringNotificationTimeInSeconds;p<=0&&(p=1),i.debug("registering expiring timer, raising in",p,"seconds"),this._expiringTimer.init(p)}else i.debug("canceling existing expiring timer because we're past expiration."),this._expiringTimer.cancel();const u=o+1;i.debug("registering expired timer, raising in",u,"seconds"),this._expiredTimer.init(u)}else this._expiringTimer.cancel(),this._expiredTimer.cancel()}unload(){this._logger.debug("unload: canceling existing access token timers"),this._expiringTimer.cancel(),this._expiredTimer.cancel()}addAccessTokenExpiring(a){return this._expiringTimer.addHandler(a)}removeAccessTokenExpiring(a){this._expiringTimer.removeHandler(a)}addAccessTokenExpired(a){return this._expiredTimer.addHandler(a)}removeAccessTokenExpired(a){this._expiredTimer.removeHandler(a)}},kl=class{constructor(){this._logger=new it("InMemoryWebStorage"),this._data={}}clear(){this._logger.create("clear"),this._data={}}getItem(a){return this._logger.create(`getItem('${a}')`),this._data[a]}setItem(a,i){this._logger.create(`setItem('${a}')`),this._data[a]=i}removeItem(a){this._logger.create(`removeItem('${a}')`),delete this._data[a]}get length(){return Object.getOwnPropertyNames(this._data).length}key(a){return Object.getOwnPropertyNames(this._data)[a]}},f=class{constructor(a=[],i=null,o={}){this._jwtHandler=i,this._extraHeaders=o,this._logger=new it("JsonService"),this._contentTypes=[],this._contentTypes.push(...a,"application/json"),i&&this._contentTypes.push("application/jwt")}fetchWithTimeout(a,i={}){return P(function*(){const{timeoutInSeconds:o,...u}=i;if(!o)return yield fetch(a,u);const p=new AbortController,C=setTimeout(()=>p.abort(),1e3*o);try{return yield fetch(a,{...i,signal:p.signal})}catch(I){throw I instanceof DOMException&&"AbortError"===I.name?new Mi("Network timed out"):I}finally{clearTimeout(C)}})()}getJson(a,{token:i,credentials:o}={}){var u=this;return P(function*(){const p=u._logger.create("getJson"),C={Accept:u._contentTypes.join(", ")};let I;i&&(p.debug("token passed, setting Authorization header"),C.Authorization="Bearer "+i),u.appendExtraHeaders(C);try{p.debug("url:",a),I=yield u.fetchWithTimeout(a,{method:"GET",headers:C,credentials:o})}catch(J){throw p.error("Network Error"),J}p.debug("HTTP response received, status",I.status);const F=I.headers.get("Content-Type");if(F&&!u._contentTypes.find(J=>F.startsWith(J))&&p.throw(new Error(`Invalid response Content-Type: ${F??"undefined"}, from URL: ${a}`)),I.ok&&u._jwtHandler&&F?.startsWith("application/jwt"))return yield u._jwtHandler(yield I.text());let L;try{L=yield I.json()}catch(J){throw p.error("Error parsing JSON response",J),I.ok?J:new Error(`${I.statusText} (${I.status})`)}if(!I.ok)throw p.error("Error from server:",L),L.error?new Xt(L):new Error(`${I.statusText} (${I.status}): ${JSON.stringify(L)}`);return L})()}postForm(a,{body:i,basicAuth:o,timeoutInSeconds:u,initCredentials:p}){var C=this;return P(function*(){const I=C._logger.create("postForm"),F={Accept:C._contentTypes.join(", "),"Content-Type":"application/x-www-form-urlencoded"};let L;void 0!==o&&(F.Authorization="Basic "+o),C.appendExtraHeaders(F);try{I.debug("url:",a),L=yield C.fetchWithTimeout(a,{method:"POST",headers:F,body:i,timeoutInSeconds:u,credentials:p})}catch(We){throw I.error("Network error"),We}I.debug("HTTP response received, status",L.status);const J=L.headers.get("Content-Type");if(J&&!C._contentTypes.find(We=>J.startsWith(We)))throw new Error(`Invalid response Content-Type: ${J??"undefined"}, from URL: ${a}`);const xe=yield L.text();let Le={};if(xe)try{Le=JSON.parse(xe)}catch(We){throw I.error("Error parsing JSON response",We),L.ok?We:new Error(`${L.statusText} (${L.status})`)}if(!L.ok)throw I.error("Error from server:",Le),Le.error?new Xt(Le,i):new Error(`${L.statusText} (${L.status}): ${JSON.stringify(Le)}`);return Le})()}appendExtraHeaders(a){const i=this._logger.create("appendExtraHeaders"),o=Object.keys(this._extraHeaders),u=["authorization","accept","content-type"];0!==o.length&&o.forEach(p=>{if(u.includes(p.toLocaleLowerCase()))return void i.warn("Protected header could not be overridden",p,u);const C="function"==typeof this._extraHeaders[p]?this._extraHeaders[p]():this._extraHeaders[p];C&&""!==C&&(a[p]=C)})}},d=class{constructor({prefix:a="oidc.",store:i=localStorage}={}){this._logger=new it("WebStorageStateStore"),this._store=i,this._prefix=a}set(a,i){var o=this;return P(function*(){o._logger.create(`set('${a}')`),a=o._prefix+a,yield o._store.setItem(a,i)})()}get(a){var i=this;return P(function*(){return i._logger.create(`get('${a}')`),a=i._prefix+a,yield i._store.getItem(a)})()}remove(a){var i=this;return P(function*(){i._logger.create(`remove('${a}')`),a=i._prefix+a;const o=yield i._store.getItem(a);return yield i._store.removeItem(a),o})()}getAllKeys(){var a=this;return P(function*(){a._logger.create("getAllKeys");const i=yield a._store.length,o=[];for(let u=0;u<i;u++){const p=yield a._store.key(u);p&&0===p.indexOf(a._prefix)&&o.push(p.substr(a._prefix.length))}return o})()}},Oe=class{constructor({authority:a,metadataUrl:i,metadata:o,signingKeys:u,metadataSeed:p,client_id:C,client_secret:I,response_type:F="code",scope:L="openid",redirect_uri:J,post_logout_redirect_uri:xe,client_authentication:Le="client_secret_post",prompt:We,display:Dn,max_age:tr,ui_locales:St,acr_values:Pt,resource:xn,response_mode:Zt="query",filterProtocolClaims:Et=!0,loadUserInfo:rn=!1,staleStateAgeInSeconds:nn=900,clockSkewInSeconds:Ji=300,userInfoJwtIssuer:Mt="OP",mergeClaims:It=!1,disablePKCE:Nr=!1,stateStore:mr,refreshTokenCredentials:hi,revokeTokenAdditionalContentTypes:Fr,fetchRequestCredentials:ps,refreshTokenAllowedScope:ll,extraQueryParams:na={},extraTokenParams:ra={},extraHeaders:bu={}}){if(this.authority=a,i?this.metadataUrl=i:(this.metadataUrl=a,a&&(this.metadataUrl.endsWith("/")||(this.metadataUrl+="/"),this.metadataUrl+=".well-known/openid-configuration")),this.metadata=o,this.metadataSeed=p,this.signingKeys=u,this.client_id=C,this.client_secret=I,this.response_type=F,this.scope=L,this.redirect_uri=J,this.post_logout_redirect_uri=xe,this.client_authentication=Le,this.prompt=We,this.display=Dn,this.max_age=tr,this.ui_locales=St,this.acr_values=Pt,this.resource=xn,this.response_mode=Zt,this.filterProtocolClaims=Et??!0,this.loadUserInfo=!!rn,this.staleStateAgeInSeconds=nn,this.clockSkewInSeconds=Ji,this.userInfoJwtIssuer=Mt,this.mergeClaims=!!It,this.disablePKCE=!!Nr,this.revokeTokenAdditionalContentTypes=Fr,ps&&hi&&console.warn("Both fetchRequestCredentials and refreshTokenCredentials is set. Only fetchRequestCredentials will be used."),this.fetchRequestCredentials=ps||hi||"same-origin",mr)this.stateStore=mr;else{const rd=typeof window<"u"?window.localStorage:new kl;this.stateStore=new d({store:rd})}this.refreshTokenAllowedScope=ll,this.extraQueryParams=na,this.extraTokenParams=ra,this.extraHeaders=bu}},wt=class{constructor(a,i){this._settings=a,this._metadataService=i,this._logger=new it("TokenClient"),this._jsonService=new f(this._settings.revokeTokenAdditionalContentTypes,null,this._settings.extraHeaders)}exchangeCode({grant_type:a="authorization_code",redirect_uri:i=this._settings.redirect_uri,client_id:o=this._settings.client_id,client_secret:u=this._settings.client_secret,...p}){var C=this;return P(function*(){const I=C._logger.create("exchangeCode");o||I.throw(new Error("A client_id is required")),i||I.throw(new Error("A redirect_uri is required")),p.code||I.throw(new Error("A code is required"));const F=new URLSearchParams({grant_type:a,redirect_uri:i});for(const[Le,We]of Object.entries(p))null!=We&&F.set(Le,We);let L;switch(C._settings.client_authentication){case"client_secret_basic":if(!u)throw I.throw(new Error("A client_secret is required")),null;L=Ar.generateBasicAuth(o,u);break;case"client_secret_post":F.append("client_id",o),u&&F.append("client_secret",u)}const J=yield C._metadataService.getTokenEndpoint(!1);I.debug("got token endpoint");const xe=yield C._jsonService.postForm(J,{body:F,basicAuth:L,initCredentials:C._settings.fetchRequestCredentials});return I.debug("got response"),xe})()}exchangeCredentials({grant_type:a="password",client_id:i=this._settings.client_id,client_secret:o=this._settings.client_secret,scope:u=this._settings.scope,...p}){var C=this;return P(function*(){const I=C._logger.create("exchangeCredentials");i||I.throw(new Error("A client_id is required"));const F=new URLSearchParams({grant_type:a,scope:u});for(const[Le,We]of Object.entries(p))null!=We&&F.set(Le,We);let L;switch(C._settings.client_authentication){case"client_secret_basic":if(!o)throw I.throw(new Error("A client_secret is required")),null;L=Ar.generateBasicAuth(i,o);break;case"client_secret_post":F.append("client_id",i),o&&F.append("client_secret",o)}const J=yield C._metadataService.getTokenEndpoint(!1);I.debug("got token endpoint");const xe=yield C._jsonService.postForm(J,{body:F,basicAuth:L,initCredentials:C._settings.fetchRequestCredentials});return I.debug("got response"),xe})()}exchangeRefreshToken({grant_type:a="refresh_token",client_id:i=this._settings.client_id,client_secret:o=this._settings.client_secret,timeoutInSeconds:u,...p}){var C=this;return P(function*(){const I=C._logger.create("exchangeRefreshToken");i||I.throw(new Error("A client_id is required")),p.refresh_token||I.throw(new Error("A refresh_token is required"));const F=new URLSearchParams({grant_type:a});for(const[Le,We]of Object.entries(p))Array.isArray(We)?We.forEach(Dn=>F.append(Le,Dn)):null!=We&&F.set(Le,We);let L;switch(C._settings.client_authentication){case"client_secret_basic":if(!o)throw I.throw(new Error("A client_secret is required")),null;L=Ar.generateBasicAuth(i,o);break;case"client_secret_post":F.append("client_id",i),o&&F.append("client_secret",o)}const J=yield C._metadataService.getTokenEndpoint(!1);I.debug("got token endpoint");const xe=yield C._jsonService.postForm(J,{body:F,basicAuth:L,timeoutInSeconds:u,initCredentials:C._settings.fetchRequestCredentials});return I.debug("got response"),xe})()}revoke(a){var i=this;return P(function*(){var o;const u=i._logger.create("revoke");a.token||u.throw(new Error("A token is required"));const p=yield i._metadataService.getRevocationEndpoint(!1);u.debug(`got revocation endpoint, revoking ${null!=(o=a.token_type_hint)?o:"default token type"}`);const C=new URLSearchParams;for(const[I,F]of Object.entries(a))null!=F&&C.set(I,F);C.set("client_id",i._settings.client_id),i._settings.client_secret&&C.set("client_secret",i._settings.client_secret),yield i._jsonService.postForm(p,{body:C}),u.debug("got response")})()}},Ii=class{constructor(a){this.id=a.id||Ar.generateUUIDv4(),this.data=a.data,this.created=a.created&&a.created>0?a.created:Nn.getEpochTime(),this.request_type=a.request_type,this.url_state=a.url_state}toStorageString(){return new it("State").create("toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type,url_state:this.url_state})}static fromStorageString(a){return it.createStatic("State","fromStorageString"),new Ii(JSON.parse(a))}static clearStaleState(a,i){return P(function*(){const o=it.createStatic("State","clearStaleState"),u=Nn.getEpochTime()-i,p=yield a.getAllKeys();o.debug("got keys",p);for(let C=0;C<p.length;C++){const I=p[C],F=yield a.get(I);let L=!1;if(F)try{const J=Ii.fromStorageString(F);o.debug("got item from key:",I,J.created),J.created<=u&&(L=!0)}catch(J){o.error("Error parsing state for key:",I,J),L=!0}else o.debug("no item in storage for key:",I),L=!0;L&&(o.debug("removed item for key:",I),a.remove(I))}})()}},fr=class extends Ii{constructor(a){super(a),!0===a.code_verifier?this.code_verifier=Ar.generateCodeVerifier():a.code_verifier&&(this.code_verifier=a.code_verifier),this.code_verifier&&(this.code_challenge=Ar.generateCodeChallenge(this.code_verifier)),this.authority=a.authority,this.client_id=a.client_id,this.redirect_uri=a.redirect_uri,this.scope=a.scope,this.client_secret=a.client_secret,this.extraTokenParams=a.extraTokenParams,this.response_mode=a.response_mode,this.skipUserInfo=a.skipUserInfo}toStorageString(){return new it("SigninState").create("toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type,url_state:this.url_state,code_verifier:this.code_verifier,authority:this.authority,client_id:this.client_id,redirect_uri:this.redirect_uri,scope:this.scope,client_secret:this.client_secret,extraTokenParams:this.extraTokenParams,response_mode:this.response_mode,skipUserInfo:this.skipUserInfo})}static fromStorageString(a){it.createStatic("SigninState","fromStorageString");const i=JSON.parse(a);return new fr(i)}},Xo=class{constructor(a){if(this.access_token="",this.token_type="",this.profile={},this.state=a.get("state"),this.session_state=a.get("session_state"),this.state){const i=decodeURIComponent(this.state).split(";");this.state=i[0],i.length>1&&(this.url_state=i.slice(1).join(";"))}this.error=a.get("error"),this.error_description=a.get("error_description"),this.error_uri=a.get("error_uri"),this.code=a.get("code")}get expires_in(){if(void 0!==this.expires_at)return this.expires_at-Nn.getEpochTime()}set expires_in(a){"string"==typeof a&&(a=Number(a)),void 0!==a&&a>=0&&(this.expires_at=Math.floor(a)+Nn.getEpochTime())}get isOpenId(){var a;return(null==(a=this.scope)?void 0:a.split(" ").includes("openid"))||!!this.id_token}},Th=["nbf","jti","auth_time","nonce","acr","amr","azp","at_hash"],Ah=["sub","iss","aud","exp","iat"],es=class{constructor(a){var i;this.id_token=a.id_token,this.session_state=null!=(i=a.session_state)?i:null,this.access_token=a.access_token,this.refresh_token=a.refresh_token,this.token_type=a.token_type,this.scope=a.scope,this.profile=a.profile,this.expires_at=a.expires_at,this.state=a.userState,this.url_state=a.url_state}get expires_in(){if(void 0!==this.expires_at)return this.expires_at-Nn.getEpochTime()}set expires_in(a){void 0!==a&&(this.expires_at=Math.floor(a)+Nn.getEpochTime())}get expired(){const a=this.expires_in;if(void 0!==a)return a<=0}get scopes(){var a,i;return null!=(i=null==(a=this.scope)?void 0:a.split(" "))?i:[]}toStorageString(){return new it("User").create("toStorageString"),JSON.stringify({id_token:this.id_token,session_state:this.session_state,access_token:this.access_token,refresh_token:this.refresh_token,token_type:this.token_type,scope:this.scope,profile:this.profile,expires_at:this.expires_at})}static fromStorageString(a){return it.createStatic("User","fromStorageString"),new es(JSON.parse(a))}},Td="oidc-client",Sa=class{constructor(){this._abort=new ci("Window navigation aborted"),this._disposeHandlers=new Set,this._window=null}navigate(a){var i=this;return P(function*(){const o=i._logger.create("navigate");if(!i._window)throw new Error("Attempted to navigate on a disposed window");o.debug("setting URL in window"),i._window.location.replace(a.url);const{url:u,keepOpen:p}=yield new Promise((C,I)=>{const F=L=>{var J;const xe=L.data,Le=null!=(J=a.scriptOrigin)?J:window.location.origin;if(L.origin===Le&&xe?.source===Td){try{const We=Ca.readParams(xe.url,a.response_mode).get("state");if(We||o.warn("no state found in response url"),L.source!==i._window&&We!==a.state)return}catch{i._dispose(),I(new Error("Invalid response from window"))}C(xe)}};window.addEventListener("message",F,!1),i._disposeHandlers.add(()=>window.removeEventListener("message",F,!1)),i._disposeHandlers.add(i._abort.addHandler(L=>{i._dispose(),I(L)}))});return o.debug("got response from window"),i._dispose(),p||i.close(),{url:u}})()}_dispose(){this._logger.create("_dispose");for(const a of this._disposeHandlers)a();this._disposeHandlers.clear()}static _notifyParent(a,i,o=!1,u=window.location.origin){a.postMessage({source:Td,url:i,keepOpen:o},u)}},Ll={location:!1,toolbar:!1,height:640,closePopupWindowAfterInSeconds:-1},Ma="_blank",cm=60,Ad=2,rc=10,xh=class extends Oe{constructor(a){const{popup_redirect_uri:i=a.redirect_uri,popup_post_logout_redirect_uri:o=a.post_logout_redirect_uri,popupWindowFeatures:u=Ll,popupWindowTarget:p=Ma,redirectMethod:C="assign",redirectTarget:I="self",iframeNotifyParentOrigin:F=a.iframeNotifyParentOrigin,iframeScriptOrigin:L=a.iframeScriptOrigin,silent_redirect_uri:J=a.redirect_uri,silentRequestTimeoutInSeconds:xe=rc,automaticSilentRenew:Le=!0,validateSubOnSilentRenew:We=!0,includeIdTokenInSilentRenew:Dn=!1,monitorSession:tr=!1,monitorAnonymousSession:St=!1,checkSessionIntervalInSeconds:Pt=Ad,query_status_response_type:xn="code",stopCheckSessionOnError:Zt=!0,revokeTokenTypes:Et=["access_token","refresh_token"],revokeTokensOnSignout:rn=!1,includeIdTokenInSilentSignout:nn=!1,accessTokenExpiringNotificationTimeInSeconds:Ji=cm,userStore:Mt}=a;if(super(a),this.popup_redirect_uri=i,this.popup_post_logout_redirect_uri=o,this.popupWindowFeatures=u,this.popupWindowTarget=p,this.redirectMethod=C,this.redirectTarget=I,this.iframeNotifyParentOrigin=F,this.iframeScriptOrigin=L,this.silent_redirect_uri=J,this.silentRequestTimeoutInSeconds=xe,this.automaticSilentRenew=Le,this.validateSubOnSilentRenew=We,this.includeIdTokenInSilentRenew=Dn,this.monitorSession=tr,this.monitorAnonymousSession=St,this.checkSessionIntervalInSeconds=Pt,this.stopCheckSessionOnError=Zt,this.query_status_response_type=xn,this.revokeTokenTypes=Et,this.revokeTokensOnSignout=rn,this.includeIdTokenInSilentSignout=nn,this.accessTokenExpiringNotificationTimeInSeconds=Ji,Mt)this.userStore=Mt;else{const It=typeof window<"u"?window.sessionStorage:new kl;this.userStore=new d({store:It})}}},Yr=class extends Sa{constructor({silentRequestTimeoutInSeconds:a=rc}){super(),this._logger=new it("IFrameWindow"),this._timeoutInSeconds=a,this._frame=Yr.createHiddenIframe(),this._window=this._frame.contentWindow}static createHiddenIframe(){const a=window.document.createElement("iframe");return a.style.visibility="hidden",a.style.position="fixed",a.style.left="-1000px",a.style.top="0",a.width="0",a.height="0",window.document.body.appendChild(a),a}navigate(a){var i=()=>super.navigate,o=this;return P(function*(){o._logger.debug("navigate: Using timeout of:",o._timeoutInSeconds);const u=setTimeout(()=>o._abort.raise(new Mi("IFrame timed out without a response")),1e3*o._timeoutInSeconds);return o._disposeHandlers.add(()=>clearTimeout(u)),yield i().call(o,a)})()}close(){var a;this._frame&&(this._frame.parentNode&&(this._frame.addEventListener("load",i=>{var o;const u=i.target;null==(o=u.parentNode)||o.removeChild(u),this._abort.raise(new Error("IFrame removed from DOM"))},!0),null==(a=this._frame.contentWindow)||a.location.replace("about:blank")),this._frame=null),this._window=null}static notifyParent(a,i){return super._notifyParent(window.parent,a,!1,i)}},oc=class extends Sa{constructor({popupWindowTarget:a=Ma,popupWindowFeatures:i={}}){super(),this._logger=new it("PopupWindow");const o=ba.center({...Ll,...i});this._window=window.open(void 0,a,ba.serialize(o)),i.closePopupWindowAfterInSeconds&&i.closePopupWindowAfterInSeconds>0&&setTimeout(()=>{this._window&&"boolean"==typeof this._window.closed&&!this._window.closed?this.close():this._abort.raise(new Error("Popup blocked by user"))},1e3*i.closePopupWindowAfterInSeconds)}navigate(a){var i=()=>super.navigate,o=this;return P(function*(){var u;null==(u=o._window)||u.focus();const p=setInterval(()=>{(!o._window||o._window.closed)&&o._abort.raise(new Error("Popup closed by user"))},500);return o._disposeHandlers.add(()=>clearInterval(p)),yield i().call(o,a)})()}close(){this._window&&(this._window.closed||(this._window.close(),this._abort.raise(new Error("Popup closed")))),this._window=null}static notifyOpener(a,i){if(!window.opener)throw new Error("No window.opener. Can't complete notification.");return super._notifyParent(window.opener,a,i)}},Oh=class extends qt{constructor(a){super({expiringNotificationTimeInSeconds:a.accessTokenExpiringNotificationTimeInSeconds}),this._logger=new it("UserManagerEvents"),this._userLoaded=new ci("User loaded"),this._userUnloaded=new ci("User unloaded"),this._silentRenewError=new ci("Silent renew error"),this._userSignedIn=new ci("User signed in"),this._userSignedOut=new ci("User signed out"),this._userSessionChanged=new ci("User session changed")}load(a,i=!0){super.load(a),i&&this._userLoaded.raise(a)}unload(){super.unload(),this._userUnloaded.raise()}addUserLoaded(a){return this._userLoaded.addHandler(a)}removeUserLoaded(a){return this._userLoaded.removeHandler(a)}addUserUnloaded(a){return this._userUnloaded.addHandler(a)}removeUserUnloaded(a){return this._userUnloaded.removeHandler(a)}addSilentRenewError(a){return this._silentRenewError.addHandler(a)}removeSilentRenewError(a){return this._silentRenewError.removeHandler(a)}_raiseSilentRenewError(a){this._silentRenewError.raise(a)}addUserSignedIn(a){return this._userSignedIn.addHandler(a)}removeUserSignedIn(a){this._userSignedIn.removeHandler(a)}_raiseUserSignedIn(){this._userSignedIn.raise()}addUserSignedOut(a){return this._userSignedOut.addHandler(a)}removeUserSignedOut(a){this._userSignedOut.removeHandler(a)}_raiseUserSignedOut(){this._userSignedOut.raise()}addUserSessionChanged(a){return this._userSessionChanged.addHandler(a)}removeUserSessionChanged(a){this._userSessionChanged.removeHandler(a)}_raiseUserSessionChanged(){this._userSessionChanged.raise()}},Od=class{constructor(a,i,o,u){this._logger=new it("UserManager"),this.settings=new xh(a),this._client=new class{constructor(a,i){this._logger=new it("OidcClient"),this.settings=a instanceof Oe?a:new Oe(a),this.metadataService=i??new class{constructor(a){this._settings=a,this._logger=new it("MetadataService"),this._signingKeys=null,this._metadata=null,this._metadataUrl=this._settings.metadataUrl,this._jsonService=new f(["application/jwk-set+json"],null,this._settings.extraHeaders),this._settings.signingKeys&&(this._logger.debug("using signingKeys from settings"),this._signingKeys=this._settings.signingKeys),this._settings.metadata&&(this._logger.debug("using metadata from settings"),this._metadata=this._settings.metadata),this._settings.fetchRequestCredentials&&(this._logger.debug("using fetchRequestCredentials from settings"),this._fetchRequestCredentials=this._settings.fetchRequestCredentials)}resetSigningKeys(){this._signingKeys=null}getMetadata(){var a=this;return P(function*(){const i=a._logger.create("getMetadata");if(a._metadata)return i.debug("using cached values"),a._metadata;if(!a._metadataUrl)throw i.throw(new Error("No authority or metadataUrl configured on settings")),null;i.debug("getting metadata from",a._metadataUrl);const o=yield a._jsonService.getJson(a._metadataUrl,{credentials:a._fetchRequestCredentials});return i.debug("merging remote JSON with seed metadata"),a._metadata=Object.assign({},a._settings.metadataSeed,o),a._metadata})()}getIssuer(){return this._getMetadataProperty("issuer")}getAuthorizationEndpoint(){return this._getMetadataProperty("authorization_endpoint")}getUserInfoEndpoint(){return this._getMetadataProperty("userinfo_endpoint")}getTokenEndpoint(a=!0){return this._getMetadataProperty("token_endpoint",a)}getCheckSessionIframe(){return this._getMetadataProperty("check_session_iframe",!0)}getEndSessionEndpoint(){return this._getMetadataProperty("end_session_endpoint",!0)}getRevocationEndpoint(a=!0){return this._getMetadataProperty("revocation_endpoint",a)}getKeysEndpoint(a=!0){return this._getMetadataProperty("jwks_uri",a)}_getMetadataProperty(a,i=!1){var o=this;return P(function*(){const u=o._logger.create(`_getMetadataProperty('${a}')`),p=yield o.getMetadata();if(u.debug("resolved"),void 0===p[a]){if(!0===i)return void u.warn("Metadata does not contain optional property");u.throw(new Error("Metadata does not contain property "+a))}return p[a]})()}getSigningKeys(){var a=this;return P(function*(){const i=a._logger.create("getSigningKeys");if(a._signingKeys)return i.debug("returning signingKeys from cache"),a._signingKeys;const o=yield a.getKeysEndpoint(!1);i.debug("got jwks_uri",o);const u=yield a._jsonService.getJson(o);if(i.debug("got key set",u),!Array.isArray(u.keys))throw i.throw(new Error("Missing keys on keyset")),null;return a._signingKeys=u.keys,a._signingKeys})()}}(this.settings),this._claimsService=new class{constructor(a){this._settings=a,this._logger=new it("ClaimsService")}filterProtocolClaims(a){const i={...a};if(this._settings.filterProtocolClaims){let o;o=Array.isArray(this._settings.filterProtocolClaims)?this._settings.filterProtocolClaims:Th;for(const u of o)Ah.includes(u)||delete i[u]}return i}mergeClaims(a,i){const o={...a};for(const[u,p]of Object.entries(i))for(const C of Array.isArray(p)?p:[p]){const I=o[u];void 0===I?o[u]=C:Array.isArray(I)?I.includes(C)||I.push(C):o[u]!==C&&(o[u]="object"==typeof C&&this._settings.mergeClaims?this.mergeClaims(I,C):[I,C])}return o}}(this.settings),this._validator=new class{constructor(a,i,o){this._settings=a,this._metadataService=i,this._claimsService=o,this._logger=new it("ResponseValidator"),this._userInfoService=new class{constructor(a,i){var o=this;this._settings=a,this._metadataService=i,this._logger=new it("UserInfoService"),this._getClaimsFromJwt=function(){var u=P(function*(p){const C=o._logger.create("_getClaimsFromJwt");try{const I=Ls.decode(p);return C.debug("JWT decoding successful"),I}catch(I){throw C.error("Error parsing JWT response"),I}});return function(p){return u.apply(this,arguments)}}(),this._jsonService=new f(void 0,this._getClaimsFromJwt,this._settings.extraHeaders)}getClaims(a){var i=this;return P(function*(){const o=i._logger.create("getClaims");a||i._logger.throw(new Error("No token passed"));const u=yield i._metadataService.getUserInfoEndpoint();o.debug("got userinfo url",u);const p=yield i._jsonService.getJson(u,{token:a,credentials:i._settings.fetchRequestCredentials});return o.debug("got claims",p),p})()}}(this._settings,this._metadataService),this._tokenClient=new wt(this._settings,this._metadataService)}validateSigninResponse(a,i){var o=this;return P(function*(){const u=o._logger.create("validateSigninResponse");o._processSigninState(a,i),u.debug("state processed"),yield o._processCode(a,i),u.debug("code processed"),a.isOpenId&&o._validateIdTokenAttributes(a),u.debug("tokens validated"),yield o._processClaims(a,i?.skipUserInfo,a.isOpenId),u.debug("claims processed")})()}validateCredentialsResponse(a,i){var o=this;return P(function*(){const u=o._logger.create("validateCredentialsResponse");a.isOpenId&&a.id_token&&o._validateIdTokenAttributes(a),u.debug("tokens validated"),yield o._processClaims(a,i,a.isOpenId),u.debug("claims processed")})()}validateRefreshResponse(a,i){var o=this;return P(function*(){const C=o._logger.create("validateRefreshResponse");a.userState=i.data,null!=a.session_state||(a.session_state=i.session_state),null!=a.scope||(a.scope=i.scope),a.isOpenId&&a.id_token&&(o._validateIdTokenAttributes(a,i.id_token),C.debug("ID Token validated")),a.id_token||(a.id_token=i.id_token,a.profile=i.profile);const I=a.isOpenId&&!!a.id_token;yield o._processClaims(a,!1,I),C.debug("claims processed")})()}validateSignoutResponse(a,i){const o=this._logger.create("validateSignoutResponse");if(i.id!==a.state&&o.throw(new Error("State does not match")),o.debug("state validated"),a.userState=i.data,a.error)throw o.warn("Response was error",a.error),new Xt(a)}_processSigninState(a,i){const u=this._logger.create("_processSigninState");if(i.id!==a.state&&u.throw(new Error("State does not match")),i.client_id||u.throw(new Error("No client_id on state")),i.authority||u.throw(new Error("No authority on state")),this._settings.authority!==i.authority&&u.throw(new Error("authority mismatch on settings vs. signin state")),this._settings.client_id&&this._settings.client_id!==i.client_id&&u.throw(new Error("client_id mismatch on settings vs. signin state")),u.debug("state validated"),a.userState=i.data,a.url_state=i.url_state,null!=a.scope||(a.scope=i.scope),a.error)throw u.warn("Response was error",a.error),new Xt(a);i.code_verifier&&!a.code&&u.throw(new Error("Expected code in response"))}_processClaims(a,i=!1,o=!0){var u=this;return P(function*(){const p=u._logger.create("_processClaims");if(a.profile=u._claimsService.filterProtocolClaims(a.profile),i||!u._settings.loadUserInfo||!a.access_token)return void p.debug("not loading user info");p.debug("loading user info");const C=yield u._userInfoService.getClaims(a.access_token);p.debug("user info claims received from user info endpoint"),o&&C.sub!==a.profile.sub&&p.throw(new Error("subject from UserInfo response does not match subject in ID Token")),a.profile=u._claimsService.mergeClaims(a.profile,u._claimsService.filterProtocolClaims(C)),p.debug("user info claims received, updated profile:",a.profile)})()}_processCode(a,i){var o=this;return P(function*(){const u=o._logger.create("_processCode");if(a.code){u.debug("Validating code");const p=yield o._tokenClient.exchangeCode({client_id:i.client_id,client_secret:i.client_secret,code:a.code,redirect_uri:i.redirect_uri,code_verifier:i.code_verifier,...i.extraTokenParams});Object.assign(a,p)}else u.debug("No code to process")})()}_validateIdTokenAttributes(a,i){var o;const u=this._logger.create("_validateIdTokenAttributes");u.debug("decoding ID Token JWT");const p=Ls.decode(null!=(o=a.id_token)?o:"");if(p.sub||u.throw(new Error("ID Token is missing a subject claim")),i){const C=Ls.decode(i);p.sub!==C.sub&&u.throw(new Error("sub in id_token does not match current sub")),p.auth_time&&p.auth_time!==C.auth_time&&u.throw(new Error("auth_time in id_token does not match original auth_time")),p.azp&&p.azp!==C.azp&&u.throw(new Error("azp in id_token does not match original azp")),!p.azp&&C.azp&&u.throw(new Error("azp not in id_token, but present in original id_token"))}a.profile=p}}(this.settings,this.metadataService,this._claimsService),this._tokenClient=new wt(this.settings,this.metadataService)}createSigninRequest({state:a,request:i,request_uri:o,request_type:u,id_token_hint:p,login_hint:C,skipUserInfo:I,nonce:F,url_state:L,response_type:J=this.settings.response_type,scope:xe=this.settings.scope,redirect_uri:Le=this.settings.redirect_uri,prompt:We=this.settings.prompt,display:Dn=this.settings.display,max_age:tr=this.settings.max_age,ui_locales:St=this.settings.ui_locales,acr_values:Pt=this.settings.acr_values,resource:xn=this.settings.resource,response_mode:Zt=this.settings.response_mode,extraQueryParams:Et=this.settings.extraQueryParams,extraTokenParams:rn=this.settings.extraTokenParams}){var nn=this;return P(function*(){const Ji=nn._logger.create("createSigninRequest");if("code"!==J)throw new Error("Only the Authorization Code flow (with PKCE) is supported");const Mt=yield nn.metadataService.getAuthorizationEndpoint();Ji.debug("Received authorization endpoint",Mt);const It=new class{constructor({url:a,authority:i,client_id:o,redirect_uri:u,response_type:p,scope:C,state_data:I,response_mode:F,request_type:L,client_secret:J,nonce:xe,url_state:Le,resource:We,skipUserInfo:Dn,extraQueryParams:tr,extraTokenParams:St,disablePKCE:Pt,...xn}){if(this._logger=new it("SigninRequest"),!a)throw this._logger.error("ctor: No url passed"),new Error("url");if(!o)throw this._logger.error("ctor: No client_id passed"),new Error("client_id");if(!u)throw this._logger.error("ctor: No redirect_uri passed"),new Error("redirect_uri");if(!p)throw this._logger.error("ctor: No response_type passed"),new Error("response_type");if(!C)throw this._logger.error("ctor: No scope passed"),new Error("scope");if(!i)throw this._logger.error("ctor: No authority passed"),new Error("authority");this.state=new fr({data:I,request_type:L,url_state:Le,code_verifier:!Pt,client_id:o,authority:i,redirect_uri:u,response_mode:F,client_secret:J,scope:C,extraTokenParams:St,skipUserInfo:Dn});const Zt=new URL(a);Zt.searchParams.append("client_id",o),Zt.searchParams.append("redirect_uri",u),Zt.searchParams.append("response_type",p),Zt.searchParams.append("scope",C),xe&&Zt.searchParams.append("nonce",xe);let Et=this.state.id;Le&&(Et=`${Et};${Le}`),Zt.searchParams.append("state",Et),this.state.code_challenge&&(Zt.searchParams.append("code_challenge",this.state.code_challenge),Zt.searchParams.append("code_challenge_method","S256")),We&&(Array.isArray(We)?We:[We]).forEach(nn=>Zt.searchParams.append("resource",nn));for(const[rn,nn]of Object.entries({response_mode:F,...xn,...tr}))null!=nn&&Zt.searchParams.append(rn,nn.toString());this.url=Zt.href}}({url:Mt,authority:nn.settings.authority,client_id:nn.settings.client_id,redirect_uri:Le,response_type:J,scope:xe,state_data:a,url_state:L,prompt:We,display:Dn,max_age:tr,ui_locales:St,id_token_hint:p,login_hint:C,acr_values:Pt,resource:xn,request:i,request_uri:o,extraQueryParams:Et,extraTokenParams:rn,request_type:u,response_mode:Zt,client_secret:nn.settings.client_secret,skipUserInfo:I,nonce:F,disablePKCE:nn.settings.disablePKCE});yield nn.clearStaleState();const Nr=It.state;return yield nn.settings.stateStore.set(Nr.id,Nr.toStorageString()),It})()}readSigninResponseState(a,i=!1){var o=this;return P(function*(){const u=o._logger.create("readSigninResponseState"),p=new Xo(Ca.readParams(a,o.settings.response_mode));if(!p.state)throw u.throw(new Error("No state in response")),null;const C=yield o.settings.stateStore[i?"remove":"get"](p.state);if(!C)throw u.throw(new Error("No matching state found in storage")),null;return{state:fr.fromStorageString(C),response:p}})()}processSigninResponse(a){var i=this;return P(function*(){const o=i._logger.create("processSigninResponse"),{state:u,response:p}=yield i.readSigninResponseState(a,!0);return o.debug("received state from storage; validating response"),yield i._validator.validateSigninResponse(p,u),p})()}processResourceOwnerPasswordCredentials({username:a,password:i,skipUserInfo:o=!1,extraTokenParams:u={}}){var p=this;return P(function*(){const C=yield p._tokenClient.exchangeCredentials({username:a,password:i,...u}),I=new Xo(new URLSearchParams);return Object.assign(I,C),yield p._validator.validateCredentialsResponse(I,o),I})()}useRefreshToken({state:a,timeoutInSeconds:i}){var o=this;return P(function*(){var u;const p=o._logger.create("useRefreshToken");let C;if(void 0===o.settings.refreshTokenAllowedScope)C=a.scope;else{const L=o.settings.refreshTokenAllowedScope.split(" ");C=((null==(u=a.scope)?void 0:u.split(" "))||[]).filter(xe=>L.includes(xe)).join(" ")}const I=yield o._tokenClient.exchangeRefreshToken({refresh_token:a.refresh_token,resource:a.resource,scope:C,timeoutInSeconds:i}),F=new Xo(new URLSearchParams);return Object.assign(F,I),p.debug("validating response",F),yield o._validator.validateRefreshResponse(F,{...a,scope:C}),F})()}createSignoutRequest({state:a,id_token_hint:i,client_id:o,request_type:u,post_logout_redirect_uri:p=this.settings.post_logout_redirect_uri,extraQueryParams:C=this.settings.extraQueryParams}={}){var I=this;return P(function*(){const F=I._logger.create("createSignoutRequest"),L=yield I.metadataService.getEndSessionEndpoint();if(!L)throw F.throw(new Error("No end session endpoint")),null;F.debug("Received end session endpoint",L),!o&&p&&!i&&(o=I.settings.client_id);const J=new class{constructor({url:a,state_data:i,id_token_hint:o,post_logout_redirect_uri:u,extraQueryParams:p,request_type:C,client_id:I}){if(this._logger=new it("SignoutRequest"),!a)throw this._logger.error("ctor: No url passed"),new Error("url");const F=new URL(a);o&&F.searchParams.append("id_token_hint",o),I&&F.searchParams.append("client_id",I),u&&(F.searchParams.append("post_logout_redirect_uri",u),i&&(this.state=new Ii({data:i,request_type:C}),F.searchParams.append("state",this.state.id)));for(const[L,J]of Object.entries({...p}))null!=J&&F.searchParams.append(L,J.toString());this.url=F.href}}({url:L,id_token_hint:i,client_id:o,post_logout_redirect_uri:p,state_data:a,extraQueryParams:C,request_type:u});yield I.clearStaleState();const xe=J.state;return xe&&(F.debug("Signout request has state to persist"),yield I.settings.stateStore.set(xe.id,xe.toStorageString())),J})()}readSignoutResponseState(a,i=!1){var o=this;return P(function*(){const u=o._logger.create("readSignoutResponseState"),p=new class{constructor(a){this.state=a.get("state"),this.error=a.get("error"),this.error_description=a.get("error_description"),this.error_uri=a.get("error_uri")}}(Ca.readParams(a,o.settings.response_mode));if(!p.state){if(u.debug("No state in response"),p.error)throw u.warn("Response was error:",p.error),new Xt(p);return{state:void 0,response:p}}const C=yield o.settings.stateStore[i?"remove":"get"](p.state);if(!C)throw u.throw(new Error("No matching state found in storage")),null;return{state:Ii.fromStorageString(C),response:p}})()}processSignoutResponse(a){var i=this;return P(function*(){const o=i._logger.create("processSignoutResponse"),{state:u,response:p}=yield i.readSignoutResponseState(a,!0);return u?(o.debug("Received state from storage; validating response"),i._validator.validateSignoutResponse(p,u)):o.debug("No state from storage; skipping response validation"),p})()}clearStaleState(){return this._logger.create("clearStaleState"),Ii.clearStaleState(this.settings.stateStore,this.settings.staleStateAgeInSeconds)}revokeToken(a,i){var o=this;return P(function*(){return o._logger.create("revokeToken"),yield o._tokenClient.revoke({token:a,token_type_hint:i})})()}}(a),this._redirectNavigator=i??new class{constructor(a){this._settings=a,this._logger=new it("RedirectNavigator")}prepare({redirectMethod:a=this._settings.redirectMethod,redirectTarget:i=this._settings.redirectTarget}){var o=this;return P(function*(){var u;o._logger.create("prepare");let p=window.self;"top"===i&&(p=null!=(u=window.top)?u:window.self);const C=p.location[a].bind(p.location);let I;return{navigate:(F=P(function*(L){o._logger.create("navigate");const J=new Promise((xe,Le)=>{I=Le});return C(L.url),yield J}),function(J){return F.apply(this,arguments)}),close:()=>{o._logger.create("close"),I?.(new Error("Redirect aborted")),p.stop()}};var F})()}callback(){return P(function*(){})()}}(this.settings),this._popupNavigator=o??new class{constructor(a){this._settings=a,this._logger=new it("PopupNavigator")}prepare({popupWindowFeatures:a=this._settings.popupWindowFeatures,popupWindowTarget:i=this._settings.popupWindowTarget}){return P(function*(){return new oc({popupWindowFeatures:a,popupWindowTarget:i})})()}callback(a,{keepOpen:i=!1}){var o=this;return P(function*(){o._logger.create("callback"),oc.notifyOpener(a,i)})()}}(this.settings),this._iframeNavigator=u??new class{constructor(a){this._settings=a,this._logger=new it("IFrameNavigator")}prepare({silentRequestTimeoutInSeconds:a=this._settings.silentRequestTimeoutInSeconds}){return P(function*(){return new Yr({silentRequestTimeoutInSeconds:a})})()}callback(a){var i=this;return P(function*(){i._logger.create("callback"),Yr.notifyParent(a,i._settings.iframeNotifyParentOrigin)})()}}(this.settings),this._events=new Oh(this.settings),this._silentRenewService=new class{constructor(a){var i=this;this._userManager=a,this._logger=new it("SilentRenewService"),this._isStarted=!1,this._retryTimer=new Nn("Retry Silent Renew"),this._tokenExpiring=P(function*(){const o=i._logger.create("_tokenExpiring");try{yield i._userManager.signinSilent(),o.debug("silent token renewal successful")}catch(u){if(u instanceof Mi)return o.warn("ErrorTimeout from signinSilent:",u,"retry in 5s"),void i._retryTimer.init(5);o.error("Error from signinSilent:",u),i._userManager.events._raiseSilentRenewError(u)}})}start(){var a=this;return P(function*(){const i=a._logger.create("start");if(!a._isStarted){a._isStarted=!0,a._userManager.events.addAccessTokenExpiring(a._tokenExpiring),a._retryTimer.addHandler(a._tokenExpiring);try{yield a._userManager.getUser()}catch(o){i.error("getUser error",o)}}})()}stop(){this._isStarted&&(this._retryTimer.cancel(),this._retryTimer.removeHandler(this._tokenExpiring),this._userManager.events.removeAccessTokenExpiring(this._tokenExpiring),this._isStarted=!1)}}(this),this.settings.automaticSilentRenew&&this.startSilentRenew(),this._sessionMonitor=null,this.settings.monitorSession&&(this._sessionMonitor=new class{constructor(a){var i=this;this._userManager=a,this._logger=new it("SessionMonitor"),this._start=function(){var o=P(function*(u){const p=u.session_state;if(!p)return;const C=i._logger.create("_start");if(u.profile?(i._sub=u.profile.sub,i._sid=u.profile.sid,C.debug("session_state",p,", sub",i._sub)):(i._sub=void 0,i._sid=void 0,C.debug("session_state",p,", anonymous user")),i._checkSessionIFrame)i._checkSessionIFrame.start(p);else try{const I=yield i._userManager.metadataService.getCheckSessionIframe();if(I){C.debug("initializing check session iframe");const F=i._userManager.settings.client_id,L=i._userManager.settings.checkSessionIntervalInSeconds,J=i._userManager.settings.stopCheckSessionOnError,xe=new class{constructor(a,i,o,u,p){this._callback=a,this._client_id=i,this._intervalInSeconds=u,this._stopOnError=p,this._logger=new it("CheckSessionIFrame"),this._timer=null,this._session_state=null,this._message=I=>{I.origin===this._frame_origin&&I.source===this._frame.contentWindow&&("error"===I.data?(this._logger.error("error message from check session op iframe"),this._stopOnError&&this.stop()):"changed"===I.data?(this._logger.debug("changed message from check session op iframe"),this.stop(),this._callback()):this._logger.debug(I.data+" message from check session op iframe"))};const C=new URL(o);this._frame_origin=C.origin,this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="fixed",this._frame.style.left="-1000px",this._frame.style.top="0",this._frame.width="0",this._frame.height="0",this._frame.src=C.href}load(){return new Promise(a=>{this._frame.onload=()=>{a()},window.document.body.appendChild(this._frame),window.addEventListener("message",this._message,!1)})}start(a){if(this._session_state===a)return;this._logger.create("start"),this.stop(),this._session_state=a;const i=()=>{!this._frame.contentWindow||!this._session_state||this._frame.contentWindow.postMessage(this._client_id+" "+this._session_state,this._frame_origin)};i(),this._timer=setInterval(i,1e3*this._intervalInSeconds)}stop(){this._logger.create("stop"),this._session_state=null,this._timer&&(clearInterval(this._timer),this._timer=null)}}(i._callback,F,I,L,J);yield xe.load(),i._checkSessionIFrame=xe,xe.start(p)}else C.warn("no check session iframe found in the metadata")}catch(I){C.error("Error from getCheckSessionIframe:",I instanceof Error?I.message:I)}});return function(u){return o.apply(this,arguments)}}(),this._stop=()=>{const o=this._logger.create("_stop");if(this._sub=void 0,this._sid=void 0,this._checkSessionIFrame&&this._checkSessionIFrame.stop(),this._userManager.settings.monitorAnonymousSession){const u=setInterval(P(function*(){clearInterval(u);try{const p=yield i._userManager.querySessionStatus();p&&i._start({session_state:p.session_state,profile:p.sub&&p.sid?{sub:p.sub,sid:p.sid}:null})}catch(p){o.error("error from querySessionStatus",p instanceof Error?p.message:p)}}),1e3)}},this._callback=P(function*(){const o=i._logger.create("_callback");try{const u=yield i._userManager.querySessionStatus();let p=!0;u&&i._checkSessionIFrame?u.sub===i._sub?(p=!1,i._checkSessionIFrame.start(u.session_state),u.sid===i._sid?o.debug("same sub still logged in at OP, restarting check session iframe; session_state",u.session_state):(o.debug("same sub still logged in at OP, session state has changed, restarting check session iframe; session_state",u.session_state),i._userManager.events._raiseUserSessionChanged())):o.debug("different subject signed into OP",u.sub):o.debug("subject no longer signed into OP"),p?i._sub?i._userManager.events._raiseUserSignedOut():i._userManager.events._raiseUserSignedIn():o.debug("no change in session detected, no event to raise")}catch(u){i._sub&&(o.debug("Error calling queryCurrentSigninSession; raising signed out event",u),i._userManager.events._raiseUserSignedOut())}}),a||this._logger.throw(new Error("No user manager passed")),this._userManager.events.addUserLoaded(this._start),this._userManager.events.addUserUnloaded(this._stop),this._init().catch(o=>{this._logger.error(o)})}_init(){var a=this;return P(function*(){a._logger.create("_init");const i=yield a._userManager.getUser();if(i)a._start(i);else if(a._userManager.settings.monitorAnonymousSession){const o=yield a._userManager.querySessionStatus();o&&a._start({session_state:o.session_state,profile:o.sub&&o.sid?{sub:o.sub,sid:o.sid}:null})}})()}}(this))}get events(){return this._events}get metadataService(){return this._client.metadataService}getUser(){var a=this;return P(function*(){const i=a._logger.create("getUser"),o=yield a._loadUser();return o?(i.info("user loaded"),a._events.load(o,!1),o):(i.info("user not found in storage"),null)})()}removeUser(){var a=this;return P(function*(){const i=a._logger.create("removeUser");yield a.storeUser(null),i.info("user removed from storage"),a._events.unload()})()}signinRedirect(a={}){var i=this;return P(function*(){i._logger.create("signinRedirect");const{redirectMethod:o,...u}=a,p=yield i._redirectNavigator.prepare({redirectMethod:o});yield i._signinStart({request_type:"si:r",...u},p)})()}signinRedirectCallback(a=window.location.href){var i=this;return P(function*(){const o=i._logger.create("signinRedirectCallback"),u=yield i._signinEnd(a);return u.profile&&u.profile.sub?o.info("success, signed in subject",u.profile.sub):o.info("no subject"),u})()}signinResourceOwnerCredentials({username:a,password:i,skipUserInfo:o=!1}){var u=this;return P(function*(){const p=u._logger.create("signinResourceOwnerCredential"),C=yield u._client.processResourceOwnerPasswordCredentials({username:a,password:i,skipUserInfo:o,extraTokenParams:u.settings.extraTokenParams});p.debug("got signin response");const I=yield u._buildUser(C);return I.profile&&I.profile.sub?p.info("success, signed in subject",I.profile.sub):p.info("no subject"),I})()}signinPopup(a={}){var i=this;return P(function*(){const o=i._logger.create("signinPopup"),{popupWindowFeatures:u,popupWindowTarget:p,...C}=a,I=i.settings.popup_redirect_uri;I||o.throw(new Error("No popup_redirect_uri configured"));const F=yield i._popupNavigator.prepare({popupWindowFeatures:u,popupWindowTarget:p}),L=yield i._signin({request_type:"si:p",redirect_uri:I,display:"popup",...C},F);return L&&(L.profile&&L.profile.sub?o.info("success, signed in subject",L.profile.sub):o.info("no subject")),L})()}signinPopupCallback(a=window.location.href,i=!1){var o=this;return P(function*(){const u=o._logger.create("signinPopupCallback");yield o._popupNavigator.callback(a,{keepOpen:i}),u.info("success")})()}signinSilent(a={}){var i=this;return P(function*(){var o;const u=i._logger.create("signinSilent"),{silentRequestTimeoutInSeconds:p,resource:C,...I}=a;let F=yield i._loadUser();if(F?.refresh_token){u.debug("using refresh token");const Le=new class{constructor(a,i){this.refresh_token=a.refresh_token,this.id_token=a.id_token,this.session_state=a.session_state,this.scope=a.scope,this.profile=a.profile,this.resource=i,this.data=a.state}}(F,C);return yield i._useRefreshToken(Le)}const L=i.settings.silent_redirect_uri;let J;L||u.throw(new Error("No silent_redirect_uri configured")),F&&i.settings.validateSubOnSilentRenew&&(u.debug("subject prior to silent renew:",F.profile.sub),J=F.profile.sub);const xe=yield i._iframeNavigator.prepare({silentRequestTimeoutInSeconds:p});return F=yield i._signin({request_type:"si:s",redirect_uri:L,prompt:"none",id_token_hint:i.settings.includeIdTokenInSilentRenew?F?.id_token:void 0,...I},xe,J),F&&(null!=(o=F.profile)&&o.sub?u.info("success, signed in subject",F.profile.sub):u.info("no subject")),F})()}_useRefreshToken(a){var i=this;return P(function*(){const o=yield i._client.useRefreshToken({state:a,timeoutInSeconds:i.settings.silentRequestTimeoutInSeconds}),u=new es({...a,...o});return yield i.storeUser(u),i._events.load(u),u})()}signinSilentCallback(a=window.location.href){var i=this;return P(function*(){const o=i._logger.create("signinSilentCallback");yield i._iframeNavigator.callback(a),o.info("success")})()}signinCallback(a=window.location.href){var i=this;return P(function*(){const{state:o}=yield i._client.readSigninResponseState(a);switch(o.request_type){case"si:r":return yield i.signinRedirectCallback(a);case"si:p":return yield i.signinPopupCallback(a);case"si:s":return yield i.signinSilentCallback(a);default:throw new Error("invalid response_type in state")}})()}signoutCallback(a=window.location.href,i=!1){var o=this;return P(function*(){const{state:u}=yield o._client.readSignoutResponseState(a);if(u)switch(u.request_type){case"so:r":yield o.signoutRedirectCallback(a);break;case"so:p":yield o.signoutPopupCallback(a,i);break;case"so:s":yield o.signoutSilentCallback(a);break;default:throw new Error("invalid response_type in state")}})()}querySessionStatus(a={}){var i=this;return P(function*(){const o=i._logger.create("querySessionStatus"),{silentRequestTimeoutInSeconds:u,...p}=a,C=i.settings.silent_redirect_uri;C||o.throw(new Error("No silent_redirect_uri configured"));const I=yield i._loadUser(),F=yield i._iframeNavigator.prepare({silentRequestTimeoutInSeconds:u}),L=yield i._signinStart({request_type:"si:s",redirect_uri:C,prompt:"none",id_token_hint:i.settings.includeIdTokenInSilentRenew?I?.id_token:void 0,response_type:i.settings.query_status_response_type,scope:"openid",skipUserInfo:!0,...p},F);try{const J=yield i._client.processSigninResponse(L.url);return o.debug("got signin response"),J.session_state&&J.profile.sub?(o.info("success for subject",J.profile.sub),{session_state:J.session_state,sub:J.profile.sub,sid:J.profile.sid}):(o.info("success, user not authenticated"),null)}catch(J){if(i.settings.monitorAnonymousSession&&J instanceof Xt)switch(J.error){case"login_required":case"consent_required":case"interaction_required":case"account_selection_required":return o.info("success for anonymous user"),{session_state:J.session_state}}throw J}})()}_signin(a,i,o){var u=this;return P(function*(){const p=yield u._signinStart(a,i);return yield u._signinEnd(p.url,o)})()}_signinStart(a,i){var o=this;return P(function*(){const u=o._logger.create("_signinStart");try{const p=yield o._client.createSigninRequest(a);return u.debug("got signin request"),yield i.navigate({url:p.url,state:p.state.id,response_mode:p.state.response_mode,scriptOrigin:o.settings.iframeScriptOrigin})}catch(p){throw u.debug("error after preparing navigator, closing navigator window"),i.close(),p}})()}_signinEnd(a,i){var o=this;return P(function*(){const u=o._logger.create("_signinEnd"),p=yield o._client.processSigninResponse(a);return u.debug("got signin response"),yield o._buildUser(p,i)})()}_buildUser(a,i){var o=this;return P(function*(){const u=o._logger.create("_buildUser"),p=new es(a);if(i){if(i!==p.profile.sub)throw u.debug("current user does not match user returned from signin. sub from signin:",p.profile.sub),new Xt({...a,error:"login_required"});u.debug("current user matches user returned from signin")}return yield o.storeUser(p),u.debug("user stored"),o._events.load(p),p})()}signoutRedirect(a={}){var i=this;return P(function*(){const o=i._logger.create("signoutRedirect"),{redirectMethod:u,...p}=a,C=yield i._redirectNavigator.prepare({redirectMethod:u});yield i._signoutStart({request_type:"so:r",post_logout_redirect_uri:i.settings.post_logout_redirect_uri,...p},C),o.info("success")})()}signoutRedirectCallback(a=window.location.href){var i=this;return P(function*(){const o=i._logger.create("signoutRedirectCallback"),u=yield i._signoutEnd(a);return o.info("success"),u})()}signoutPopup(a={}){var i=this;return P(function*(){const o=i._logger.create("signoutPopup"),{popupWindowFeatures:u,popupWindowTarget:p,...C}=a,I=i.settings.popup_post_logout_redirect_uri,F=yield i._popupNavigator.prepare({popupWindowFeatures:u,popupWindowTarget:p});yield i._signout({request_type:"so:p",post_logout_redirect_uri:I,state:null==I?void 0:{},...C},F),o.info("success")})()}signoutPopupCallback(a=window.location.href,i=!1){var o=this;return P(function*(){const u=o._logger.create("signoutPopupCallback");yield o._popupNavigator.callback(a,{keepOpen:i}),u.info("success")})()}_signout(a,i){var o=this;return P(function*(){const u=yield o._signoutStart(a,i);return yield o._signoutEnd(u.url)})()}_signoutStart(a={},i){var o=this;return P(function*(){var u;const p=o._logger.create("_signoutStart");try{const C=yield o._loadUser();p.debug("loaded current user from storage"),o.settings.revokeTokensOnSignout&&(yield o._revokeInternal(C));const I=a.id_token_hint||C&&C.id_token;I&&(p.debug("setting id_token_hint in signout request"),a.id_token_hint=I),yield o.removeUser(),p.debug("user removed, creating signout request");const F=yield o._client.createSignoutRequest(a);return p.debug("got signout request"),yield i.navigate({url:F.url,state:null==(u=F.state)?void 0:u.id,scriptOrigin:o.settings.iframeScriptOrigin})}catch(C){throw p.debug("error after preparing navigator, closing navigator window"),i.close(),C}})()}_signoutEnd(a){var i=this;return P(function*(){const o=i._logger.create("_signoutEnd"),u=yield i._client.processSignoutResponse(a);return o.debug("got signout response"),u})()}signoutSilent(a={}){var i=this;return P(function*(){var o;const u=i._logger.create("signoutSilent"),{silentRequestTimeoutInSeconds:p,...C}=a,I=i.settings.includeIdTokenInSilentSignout?null==(o=yield i._loadUser())?void 0:o.id_token:void 0,F=i.settings.popup_post_logout_redirect_uri,L=yield i._iframeNavigator.prepare({silentRequestTimeoutInSeconds:p});yield i._signout({request_type:"so:s",post_logout_redirect_uri:F,id_token_hint:I,...C},L),u.info("success")})()}signoutSilentCallback(a=window.location.href){var i=this;return P(function*(){const o=i._logger.create("signoutSilentCallback");yield i._iframeNavigator.callback(a),o.info("success")})()}revokeTokens(a){var i=this;return P(function*(){const o=yield i._loadUser();yield i._revokeInternal(o,a)})()}_revokeInternal(a,i=this.settings.revokeTokenTypes){var o=this;return P(function*(){const u=o._logger.create("_revokeInternal");if(!a)return;const p=i.filter(C=>"string"==typeof a[C]);if(p.length){for(const C of p)yield o._client.revokeToken(a[C],C),u.info(`${C} revoked successfully`),"access_token"!==C&&(a[C]=null);yield o.storeUser(a),u.debug("user stored"),o._events.load(a)}else u.debug("no need to revoke due to no token(s)")})()}startSilentRenew(){this._logger.create("startSilentRenew"),this._silentRenewService.start()}stopSilentRenew(){this._silentRenewService.stop()}get _userStoreKey(){return`user:${this.settings.authority}:${this.settings.client_id}`}_loadUser(){var a=this;return P(function*(){const i=a._logger.create("_loadUser"),o=yield a.settings.userStore.get(a._userStoreKey);return o?(i.debug("user storageString loaded"),es.fromStorageString(o)):(i.debug("no user storageString"),null)})()}storeUser(a){var i=this;return P(function*(){const o=i._logger.create("storeUser");if(a){o.debug("storing user");const u=a.toStorageString();yield i.settings.userStore.set(i._userStoreKey,u)}else i._logger.debug("removing user"),yield i.settings.userStore.remove(i._userStoreKey)})()}clearStaleState(){var a=this;return P(function*(){yield a._client.clearStaleState()})()}};class Vl{}class xr{constructor(){this.subscribers=[]}add(i){return this.subscribers.push(i),this.lastNotifiedValue&&i(...this.lastNotifiedValue),{unsubscribe:()=>this.unsubscribe(i)}}notify(...i){this.lastNotifiedValue=i,this.subscribers.forEach(o=>{o(...i)})}unsubscribe(i){if(i){const o=this.subscribers.indexOf(i);-1!==o&&this.subscribers.splice(o,1)}else this.subscribers=[]}}const Us=window.localStorage,hr=window.Capacitor?.Plugins?.Storage,pr=window.Capacitor?.Plugins?.Preferences,wn=window.Capacitor?.Plugins?.SecureStoragePlugin;class Nh{constructor(){if(this._logger=new it("MobileStorage"),!wn){let i="[@badisi/auth-js] This application is currently using an unsafe storage.\n\n";i+="\u24d8 Please follow the recommended guide and use `capacitor-secure-storage-plugin` instead.",console.warn(i)}this._logger.debug(wn?"Using `capacitor-secure-storage-plugin` implementation":pr?"Using `@capacitor/preferences` implementation":hr?"Using `@capacitor/storage` implementation":"Using `localStorage` implementation")}get length(){return P(function*(){return wn?(yield wn.keys()).value.length:pr?(yield pr.keys()).keys.length:hr?(yield hr.keys()).keys.length:Us.length})()}key(i){return P(function*(){return wn?(yield wn.keys()).value[i]:pr?(yield pr.keys()).keys[i]:hr?(yield hr.keys()).keys[i]:Us.key(i)})()}clear(){var i=this;return P(function*(){i._logger.create("clear"),wn?yield wn.clear():pr?yield pr.clear():hr?yield hr.clear():Us.clear()})()}getItem(i){var o=this;return P(function*(){if(o._logger.create(`getItem('${i}')`),!wn)return pr?(yield pr.get({key:i})).value:hr?(yield hr.get({key:i})).value:Us.getItem(i);try{return(yield wn.get({key:i})).value}catch{return null}})()}setItem(i,o){var u=this;return P(function*(){u._logger.create(`setItem('${i}')`),wn?yield wn.set({key:i,value:o}):pr?yield pr.set({key:i,value:o}):hr?yield hr.set({key:i,value:o}):Us.setItem(i,o)})()}removeItem(i){var o=this;return P(function*(){if(o._logger.create(`removeItem('${i}')`),wn)try{yield wn.remove({key:i})}catch{}else pr?yield pr.remove({key:i}):hr?yield hr.remove({key:i}):Us.removeItem(i)})()}}var Gn=(()=>((Gn=Gn||{}).REDIRECT="REDIRECT",Gn.POPUP="POPUP",Gn))();class Ia{constructor(){this.expired=void 0,this.expires_in=void 0,this.expires_at=void 0}static deserialize(i){const o=new Ia,u=Object.keys(o);for(const p of u)o[p]=i[p];return o}}const Pd=window.Capacitor?.Plugins?.App,_o=window.Capacitor?.Plugins?.Browser;class Vs{constructor(i,o){if(this.redirectUrl=i,this.params=o,this._logger=new it("MobileWindow"),this.originalHandleOpenURL=window.handleOpenURL,this._isClosed=!0,this._receivedResult=!1,!W.isCapacitor()&&!W.isCordova()){let u="[@badisi/auth-js] Required core dependency not found.\n\n";u+="\u24d8 Please follow the recommended guide and install either `Capacitor` or `Cordova` dependency.",console.error(u)}if(!_o){let u="[@badisi/auth-js] Required plugin not found.\n\n";u+="\u24d8 Please follow the recommended guide and install either `@badisi/capacitor-browsertab` or `@capacitor/browser` plugin.",console.error(u)}_o&&this._logger.debug("Using `@capacitor/browser` implementation")}navigate(i){var o=this;return P(function*(){return o.navigateLogger=o._logger.create("navigate"),o.navigateLogger.debug("url",i.url),o._isClosed=!1,o._receivedResult=!1,new Promise((u,p)=>{o._resolve=u,o._reject=p,o.installCustomUrlSchemeHandler().then(()=>{_o&&o.useCapacitorBrowser(i)})})})()}close(){var i=this;return P(function*(){const o=i._logger.create("close");i._isClosed||(yield _o?.close().catch(u=>o.error(u))),o.debug("success")})()}cleanup(){var i=this;return P(function*(){const o=i._logger.create("cleanup");window.handleOpenURL=i.originalHandleOpenURL,yield i.capacitorBrowserFinishedHandle?.remove(),yield i.capacitorAppUrlOpenHandle?.remove(),clearTimeout(i.timer),o.debug("success")})()}onError(i){var o=this;return P(function*(){o.navigateLogger?.error("error response:",i),yield o.close(),yield o.cleanup(),o._reject?.(new Error(i)),o._receivedResult=!0})()}onSuccess(i){var o=this;return P(function*(){o.navigateLogger?.debug("successful response:",i),yield o.close(),yield o.cleanup(),o._resolve?.({url:i}),o._receivedResult=!0})()}useCapacitorBrowser(i){var o=this;return P(function*(){o.capacitorBrowserFinishedHandle=yield _o?.addListener("browserFinished",()=>{o._isClosed=!0,setTimeout(()=>{o._receivedResult||(o.cleanup(),o._reject?.("Capacitor browser closed by user"))},1e3)}),yield _o?.open({url:i.url,toolbarColor:o.params.mobileWindowToolbarColor,presentationStyle:o.params.mobileWindowPresentationStyle,width:o.params.mobileWindowWidth,height:o.params.mobileWindowWidth})})()}useBrowserTab(i){return P(function*(){})()}installCustomUrlSchemeHandler(){var i=this;return P(function*(){const o=i._logger.create("installCustomUrlSchemeHandler");i.timer=setTimeout(()=>{i.onError("Installing custom url scheme handler, timed out without a response")},1e4),yield i.cleanup(),W.isCapacitor()?(o.debug("listening to Capacitor `appUrlOpen` event"),i.capacitorAppUrlOpenHandle=yield Pd?.addListener?.("appUrlOpen",({url:u})=>{W.isUrlMatching(u,i.redirectUrl)&&i.onSuccess(u)})):W.isCordova()&&(o.debug("waiting for Cordova `handleOpenURL` callback"),window.handleOpenURL=u=>{i.originalHandleOpenURL?.(u),W.isUrlMatching(u,i.redirectUrl)&&i.onSuccess(u)}),o.debug("success")})()}}class js{constructor(){this._logger=new it("MobileNavigator")}prepare(i,o){return this._logger.create("prepare"),new Vs(i,o)}}class Nd extends Od{constructor(i){super({authority:i.authorityUrl,client_id:i.clientId,scope:i.scope,loadUserInfo:i.loadUserInfo,automaticSilentRenew:i.automaticSilentRenew,...i.internal}),this.libSettings=i,this._mobileNavigator=new js}signoutMobile(i={}){var o=this;return P(function*(){const u=o._logger.create("signout"),{mobileWindowToolbarColor:p,mobileWindowPresentationStyle:C,mobileWindowWidth:I,mobileWindowHeight:F,...L}=i,xe=o._mobileNavigator.prepare(o.settings.post_logout_redirect_uri,{mobileWindowToolbarColor:p??o.libSettings.internal?.mobileWindowToolbarColor,mobileWindowPresentationStyle:C??o.libSettings.internal?.mobileWindowPresentationStyle,mobileWindowWidth:I??o.libSettings.internal?.mobileWindowWidth,mobileWindowHeight:F??o.libSettings.internal?.mobileWindowHeight});yield o._signout({request_type:"so:m",post_logout_redirect_uri:o.settings.post_logout_redirect_uri,...L},xe),u.info("success")})()}signinMobile(i={}){var o=this;return P(function*(){const u=o._logger.create("signin"),{mobileWindowToolbarColor:p,mobileWindowPresentationStyle:C,mobileWindowWidth:I,mobileWindowHeight:F,...L}=i,xe=o._mobileNavigator.prepare(o.settings.redirect_uri,{mobileWindowToolbarColor:p??o.libSettings.internal?.mobileWindowToolbarColor,mobileWindowPresentationStyle:C??o.libSettings.internal?.mobileWindowPresentationStyle,mobileWindowWidth:I??o.libSettings.internal?.mobileWindowWidth,mobileWindowHeight:F??o.libSettings.internal?.mobileWindowHeight}),Le=yield o._signin({request_type:"si:m",redirect_uri:o.settings.redirect_uri,...L},xe);Le?.profile?.sub?u.info("success, signed in subject",Le.profile.sub):u.info("no subject")})()}}const Do="auth-js:oidc_manager:redirect_url",Rr={loginRequired:!1,retrieveUserSession:!0,loadUserInfo:!1,automaticSilentRenew:!0,desktopNavigationType:Gn.REDIRECT,scope:"openid profile email phone",logLevel:An.NONE,internal:{response_type:"code",redirect_uri:"?oidc-callback=login",post_logout_redirect_uri:"?oidc-callback=logout",popup_redirect_uri:"oidc/callback/popup_redirect.html",popup_post_logout_redirect_uri:"oidc/callback/popup_redirect.html",silent_redirect_uri:"oidc/callback/silent_redirect.html",mobileWindowPresentationStyle:"popover"}};class kh extends Vl{constructor(){super(...arguments),this.idTokenSubs=new xr,this.accessTokenSubs=new xr,this.userProfileSubs=new xr,this.userSessionSubs=new xr,this.authenticatedSubs=new xr,this.renewingSubs=new xr,this.redirectSubs=new xr,this.userManagerSubs=[],this._isAuthenticated=!1,this._isRenewing=!1,this.settings=Rr}set user(i){this._user!==i&&(this._user=i,this._idToken=i?i.id_token:void 0,this._accessToken=i?i.access_token:void 0,this._userProfile=i?.profile?i.profile:void 0,this._userSession=i?Ia.deserialize(i):void 0,this._isAuthenticated=!(!i||i.expired),this.idTokenSubs.notify(this._idToken),this.accessTokenSubs.notify(this._accessToken),this.userProfileSubs.notify(this._userProfile),this.userSessionSubs.notify(this._userSession),this.authenticatedSubs.notify(this._isAuthenticated))}init(i){var o=this;return P(function*(){An.setLevel(i.logLevel??Rr.logLevel??An.NONE),An.setLogger(console);const u=W.isNativeMobile(),p=u?`${i.mobileScheme}://localhost/`:W.getBaseUrl();if(o.settings=Xu({},Rr,{internal:{userStore:new d({store:u?new Nh:new kl}),redirect_uri:`${p}${Rr.internal?.redirect_uri}`,post_logout_redirect_uri:`${p}${Rr.internal?.post_logout_redirect_uri}`,popup_redirect_uri:`${p}${Rr.internal?.popup_redirect_uri}`,popup_post_logout_redirect_uri:`${p}${Rr.internal?.popup_post_logout_redirect_uri}`,silent_redirect_uri:`${p}${Rr.internal?.silent_redirect_uri}`}},i),o.userManager=new Nd(o.settings),o.userManagerSubs.push(o.userManager.events.addUserLoaded(C=>{o.user=C}),o.userManager.events.addUserUnloaded(()=>{o.user&&(o.user=null,o.settings.loginRequired&&location.reload())}),o.userManager.events.addSilentRenewError(P(function*(){yield o.removeUser()}))),o.assertNotInInceptionLoop(),W.isUrlMatching(location.href,o.settings.internal?.redirect_uri))yield o.runSyncOrAsync(P(function*(){const C=sessionStorage.getItem(Do);yield o.callSignin(()=>o.userManager.signinRedirectCallback(location.href),C),sessionStorage.removeItem(Do)}));else if(W.isUrlMatching(location.href,o.settings.internal?.post_logout_redirect_uri))yield o.runSyncOrAsync(P(function*(){const C=sessionStorage.getItem(Do);yield o.callSignout(()=>o.userManager.signoutRedirectCallback(location.href),C),sessionStorage.removeItem(Do)}));else if(o.settings.retrieveUserSession||o.settings.loginRequired){const C=function(){var F=P(function*(){yield o.runSyncOrAsync(()=>o.signinSilent().catch(function(){var L=P(function*(J){const{error:xe,message:Le}=J;if(o.settings.loginRequired&&(xe?.includes("_required")||Le?.includes("_required")))yield o.login();else if(console.error("[OIDCAuthManager] User's session cannot be retrieved:",J.message),o.authenticatedSubs.notify(!1),o.settings.loginRequired)throw J});return function(J){return L.apply(this,arguments)}}()))});return function(){return F.apply(this,arguments)}}(),I=yield o.userManager?.getUser();!I||I.expired?!u&&o.settings.retrieveUserSession?yield C():o.settings.loginRequired?yield o.login():o.user=null:o.user=I}else o.user=null})()}logout(i){var o=this;return P(function*(){const u=i?.redirectUrl??location.href;W.isNativeMobile()?yield o.callSignout(()=>o.userManager.signoutMobile(i),u):(i?.desktopNavigationType??o.settings.desktopNavigationType)===Gn.POPUP?yield o.callSignout(()=>o.userManager.signoutPopup(i),u):(sessionStorage.setItem(Do,u),yield o.userManager?.signoutRedirect(i))})()}login(i){var o=this;return P(function*(){const u=i?.redirectUrl??location.href;return W.isNativeMobile()?yield o.callSignin(()=>o.userManager.signinMobile(i),u):(i?.desktopNavigationType??o.settings.desktopNavigationType)===Gn.POPUP?yield o.callSignin(()=>o.userManager.signinPopup(i),u):(sessionStorage.setItem(Do,u),yield o.userManager?.signinRedirect(i)),o._isAuthenticated})()}renew(i){var o=this;return P(function*(){return o.signinSilent(i).catch(u=>console.error(u))})()}getSettings(){return this.settings}isRenewing(){return this._isRenewing}isAuthenticated(){var i=this;return P(function*(){return yield i.waitForRenew("isAuthenticated()"),i._isAuthenticated})()}getUserProfile(){var i=this;return P(function*(){return yield i.waitForRenew("getUserProfile()"),i._userProfile})()}getUserSession(){var i=this;return P(function*(){return yield i.waitForRenew("getUserSession()"),i._userSession})()}getIdToken(){var i=this;return P(function*(){return yield i.waitForRenew("getIdToken()"),i._idToken})()}getIdTokenDecoded(){var i=this;return P(function*(){return yield i.waitForRenew("getIdTokenDecoded()"),W.decodeJwt(i._idToken)})()}getAccessToken(){var i=this;return P(function*(){return yield i.waitForRenew("getAccessToken()"),i._accessToken})()}getAccessTokenDecoded(){var i=this;return P(function*(){return yield i.waitForRenew("getAccessTokenDecoded()"),W.decodeJwt(i._accessToken)})()}destroy(){this.idTokenSubs.unsubscribe(),this.accessTokenSubs.unsubscribe(),this.userProfileSubs.unsubscribe(),this.userSessionSubs.unsubscribe(),this.authenticatedSubs.unsubscribe(),this.renewingSubs.unsubscribe(),this.redirectSubs.unsubscribe(),this.userManagerSubs.forEach(i=>i())}onIdTokenChanged(i){return this.idTokenSubs.add(i)}onAccessTokenChanged(i){return this.accessTokenSubs.add(i)}onUserProfileChanged(i){return this.userProfileSubs.add(i)}onUserSessionChanged(i){return this.userSessionSubs.add(i)}onAuthenticatedChanged(i){return this.authenticatedSubs.add(i)}onRenewingChanged(i){return this.renewingSubs.add(i)}onRedirect(i){return this.redirectSubs.add(i)}assertNotInInceptionLoop(){[this.settings.internal?.silent_redirect_uri,this.settings.internal?.popup_redirect_uri].forEach(i=>{const o=new RegExp(/^.*\/(.*).html$/gm).exec(i??"")?.[1],u=new Error(`[OIDCAuthManager] ${i??"redirect uri"} was not found.`);if(u.stack=void 0,W.isUrlMatching(location.href,i))throw u.message+="\n\n\u24d8 This usually means you forgot to include the redirect html files in your application assets.",u;if(location.href.includes(`/${o}.html`))throw u.message+="\n\n\u24d8 This usually means your redirect urls are misconfigured.",u})}waitForRenew(i){var o=this;return P(function*(){const u=Date.now();for(;o._isRenewing;){if(Date.now()>u+5e3){console.warn("[@badisi/auth-js]",`\`${i}\``,"timed out waiting for renew to finish.");break}yield new Promise(p=>setTimeout(p,100))}})()}postLogoutVerification(i){const o=W.stringToURL(i??"/");this.settings.loginRequired&&location.origin===o.origin&&location.reload()}notifyRenew(i){this._isRenewing=i,this.renewingSubs.notify(i)}runSyncOrAsync(i){var o=this;return P(function*(){o.settings.loginRequired?yield i():i()})()}redirect(i,o){var u=this;return P(function*(){o&&(console.error(o),yield u.removeUser());const p=W.stringToURL(i??"/");location.origin===p.origin?(history.replaceState(history.state,"",p.href),u.redirectSubs.notify(p)):location.href=p.href})()}removeUser(){var i=this;return P(function*(){i.user=null,yield Promise.all([i.userManager?.clearStaleState(),i.userManager?.removeUser()])})()}signinSilent(i){var o=this;return P(function*(){o.notifyRenew(!0);try{yield o.userManager?.signinSilent(i)}catch(u){throw yield o.removeUser(),u}finally{o.notifyRenew(!1)}})()}callSignin(i,o){var u=this;return P(function*(){try{u.notifyRenew(!0),yield i().catch(p=>{throw"Attempted to navigate on a disposed window"===p?.message&&((p=new Error("[OIDCAuthManager] Attempted to navigate on a disposed window.")).stack=void 0,p.message+="\n\n\u24d8 This may be due to an ad blocker."),p}),yield u.redirect(o)}catch(p){throw yield u.redirect("/",p),p}finally{u.notifyRenew(!1)}})()}callSignout(i,o){var u=this;return P(function*(){try{yield i().catch(p=>{throw"Attempted to navigate on a disposed window"===p?.message&&((p=new Error("[OIDCAuthManager] Attempted to navigate on a disposed window.")).stack=void 0,p.message+="\n\n\u24d8 This may be due to an ad blocker."),p}),yield u.redirect(o),yield u.removeUser()}catch(p){throw o="/",yield u.redirect(o,p),p}finally{u.postLogoutVerification(o)}})()}}var Kr=R(9644);let Ta=(()=>{class a{constructor(o,u,p){this.manager=o,this.ngZone=u,this.router=p,this._idToken$=new Me(1),this._accessToken$=new Me(1),this._userProfile$=new Me(1),this._userSession$=new Me(1),this._isAuthenticated$=new Me(1),this._isRenewing$=new Me(1),this.authManagerSubs=[],this.isRenewing$=this._isRenewing$.asObservable().pipe((0,le.x)()),this.isAuthenticated$=this._isAuthenticated$.asObservable().pipe((0,le.x)()),this.userProfile$=this._userProfile$.asObservable().pipe((0,le.x)()),this.userSession$=this._userSession$.asObservable().pipe((0,le.x)()),this.idToken$=this._idToken$.asObservable().pipe((0,le.x)()),this.idTokenDecoded$=this._idToken$.asObservable().pipe((0,le.x)(),(0,Ie.U)(C=>W.decodeJwt(C))),this.accessToken$=this._accessToken$.asObservable().pipe((0,le.x)()),this.accessTokenDecoded$=this._accessToken$.asObservable().pipe((0,le.x)(),(0,Ie.U)(C=>W.decodeJwt(C))),this.listenForManagerChanges()}ngOnDestroy(){this.authManagerSubs.forEach(o=>o.unsubscribe())}login(o){var u=this;return P(function*(){return u.manager.login(o)})()}logout(o){var u=this;return P(function*(){return u.manager.logout(o)})()}renew(o){var u=this;return P(function*(){return u.manager.renew(o)})()}getSettings(){return this.manager.getSettings()}isRenewing(){return this.manager.isRenewing()}isAuthenticated(){var o=this;return P(function*(){return o.manager.isAuthenticated()})()}getUserProfile(){var o=this;return P(function*(){return o.manager.getUserProfile()})()}getUserSession(){var o=this;return P(function*(){return o.manager.getUserSession()})()}getIdToken(){var o=this;return P(function*(){return o.manager.getIdToken()})()}getIdTokenDecoded(){var o=this;return P(function*(){return o.manager.getIdTokenDecoded()})()}getAccessToken(){var o=this;return P(function*(){return o.manager.getAccessToken()})()}getAccessTokenDecoded(){var o=this;return P(function*(){return o.manager.getAccessTokenDecoded()})()}listenForManagerChanges(){this.authManagerSubs.push(this.manager.onIdTokenChanged(o=>this.ngZone.run(()=>this._idToken$.next(o))),this.manager.onAccessTokenChanged(o=>this.ngZone.run(()=>this._accessToken$.next(o))),this.manager.onUserProfileChanged(o=>this.ngZone.run(()=>this._userProfile$.next(o))),this.manager.onUserSessionChanged(o=>this.ngZone.run(()=>this._userSession$.next(o))),this.manager.onAuthenticatedChanged(o=>this.ngZone.run(()=>this._isAuthenticated$.next(o))),this.manager.onRenewingChanged(o=>this.ngZone.run(()=>this._isRenewing$.next(o))),this.manager.onRedirect(o=>{this.router.getCurrentNavigation()||this.ngZone.run(()=>{const u=o.href.replace(W.getBaseUrl(),"");this.router.navigateByUrl(u)})}))}static#e=this.\u0275fac=function(u){return new(u||a)(E.LFG(kh),E.LFG(E.R0b),E.LFG(Kr.F0))};static#t=this.\u0275prov=E.Yz7({token:a,factory:a.\u0275fac})}return a})();var ts=R(9646),lc=R(2076),Lh=R(9751),fm=R(4351),hm=R(9300),Hs=R(8746),jl=R(3900),ns=R(4755);class en{}class uc{}class zn{constructor(i){this.normalizedNames=new Map,this.lazyUpdate=null,i?this.lazyInit="string"==typeof i?()=>{this.headers=new Map,i.split("\n").forEach(o=>{const u=o.indexOf(":");if(u>0){const p=o.slice(0,u),C=p.toLowerCase(),I=o.slice(u+1).trim();this.maybeSetNormalizedName(p,C),this.headers.has(C)?this.headers.get(C).push(I):this.headers.set(C,[I])}})}:()=>{this.headers=new Map,Object.entries(i).forEach(([o,u])=>{let p;if(p="string"==typeof u?[u]:"number"==typeof u?[u.toString()]:u.map(C=>C.toString()),p.length>0){const C=o.toLowerCase();this.headers.set(C,p),this.maybeSetNormalizedName(o,C)}})}:this.headers=new Map}has(i){return this.init(),this.headers.has(i.toLowerCase())}get(i){this.init();const o=this.headers.get(i.toLowerCase());return o&&o.length>0?o[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(i){return this.init(),this.headers.get(i.toLowerCase())||null}append(i,o){return this.clone({name:i,value:o,op:"a"})}set(i,o){return this.clone({name:i,value:o,op:"s"})}delete(i,o){return this.clone({name:i,value:o,op:"d"})}maybeSetNormalizedName(i,o){this.normalizedNames.has(o)||this.normalizedNames.set(o,i)}init(){this.lazyInit&&(this.lazyInit instanceof zn?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(i=>this.applyUpdate(i)),this.lazyUpdate=null))}copyFrom(i){i.init(),Array.from(i.headers.keys()).forEach(o=>{this.headers.set(o,i.headers.get(o)),this.normalizedNames.set(o,i.normalizedNames.get(o))})}clone(i){const o=new zn;return o.lazyInit=this.lazyInit&&this.lazyInit instanceof zn?this.lazyInit:this,o.lazyUpdate=(this.lazyUpdate||[]).concat([i]),o}applyUpdate(i){const o=i.name.toLowerCase();switch(i.op){case"a":case"s":let u=i.value;if("string"==typeof u&&(u=[u]),0===u.length)return;this.maybeSetNormalizedName(i.name,o);const p=("a"===i.op?this.headers.get(o):void 0)||[];p.push(...u),this.headers.set(o,p);break;case"d":const C=i.value;if(C){let I=this.headers.get(o);if(!I)return;I=I.filter(F=>-1===C.indexOf(F)),0===I.length?(this.headers.delete(o),this.normalizedNames.delete(o)):this.headers.set(o,I)}else this.headers.delete(o),this.normalizedNames.delete(o)}}forEach(i){this.init(),Array.from(this.normalizedNames.keys()).forEach(o=>i(this.normalizedNames.get(o),this.headers.get(o)))}}class Zr{encodeKey(i){return Bs(i)}encodeValue(i){return Bs(i)}decodeKey(i){return decodeURIComponent(i)}decodeValue(i){return decodeURIComponent(i)}}const Fd=/%(\d[a-f0-9])/gi,Hl={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Bs(a){return encodeURIComponent(a).replace(Fd,(i,o)=>Hl[o]??i)}function Bl(a){return`${a}`}class rs{constructor(i={}){if(this.updates=null,this.cloneFrom=null,this.encoder=i.encoder||new Zr,i.fromString){if(i.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Aa(a,i){const o=new Map;return a.length>0&&a.replace(/^\?/,"").split("&").forEach(p=>{const C=p.indexOf("="),[I,F]=-1==C?[i.decodeKey(p),""]:[i.decodeKey(p.slice(0,C)),i.decodeValue(p.slice(C+1))],L=o.get(I)||[];L.push(F),o.set(I,L)}),o}(i.fromString,this.encoder)}else i.fromObject?(this.map=new Map,Object.keys(i.fromObject).forEach(o=>{const u=i.fromObject[o],p=Array.isArray(u)?u.map(Bl):[Bl(u)];this.map.set(o,p)})):this.map=null}has(i){return this.init(),this.map.has(i)}get(i){this.init();const o=this.map.get(i);return o?o[0]:null}getAll(i){return this.init(),this.map.get(i)||null}keys(){return this.init(),Array.from(this.map.keys())}append(i,o){return this.clone({param:i,value:o,op:"a"})}appendAll(i){const o=[];return Object.keys(i).forEach(u=>{const p=i[u];Array.isArray(p)?p.forEach(C=>{o.push({param:u,value:C,op:"a"})}):o.push({param:u,value:p,op:"a"})}),this.clone(o)}set(i,o){return this.clone({param:i,value:o,op:"s"})}delete(i,o){return this.clone({param:i,value:o,op:"d"})}toString(){return this.init(),this.keys().map(i=>{const o=this.encoder.encodeKey(i);return this.map.get(i).map(u=>o+"="+this.encoder.encodeValue(u)).join("&")}).filter(i=>""!==i).join("&")}clone(i){const o=new rs({encoder:this.encoder});return o.cloneFrom=this.cloneFrom||this,o.updates=(this.updates||[]).concat(i),o}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(i=>this.map.set(i,this.cloneFrom.map.get(i))),this.updates.forEach(i=>{switch(i.op){case"a":case"s":const o=("a"===i.op?this.map.get(i.param):void 0)||[];o.push(Bl(i.value)),this.map.set(i.param,o);break;case"d":if(void 0===i.value){this.map.delete(i.param);break}{let u=this.map.get(i.param)||[];const p=u.indexOf(Bl(i.value));-1!==p&&u.splice(p,1),u.length>0?this.map.set(i.param,u):this.map.delete(i.param)}}}),this.cloneFrom=this.updates=null)}}class mm{constructor(){this.map=new Map}set(i,o){return this.map.set(i,o),this}get(i){return this.map.has(i)||this.map.set(i,i.defaultValue()),this.map.get(i)}delete(i){return this.map.delete(i),this}has(i){return this.map.has(i)}keys(){return this.map.keys()}}function $l(a){return typeof ArrayBuffer<"u"&&a instanceof ArrayBuffer}function is(a){return typeof Blob<"u"&&a instanceof Blob}function Uh(a){return typeof FormData<"u"&&a instanceof FormData}class xa{constructor(i,o,u,p){let C;if(this.url=o,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=i.toUpperCase(),function Or(a){switch(a){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||p?(this.body=void 0!==u?u:null,C=p):C=u,C&&(this.reportProgress=!!C.reportProgress,this.withCredentials=!!C.withCredentials,C.responseType&&(this.responseType=C.responseType),C.headers&&(this.headers=C.headers),C.context&&(this.context=C.context),C.params&&(this.params=C.params)),this.headers||(this.headers=new zn),this.context||(this.context=new mm),this.params){const I=this.params.toString();if(0===I.length)this.urlWithParams=o;else{const F=o.indexOf("?");this.urlWithParams=o+(-1===F?"?":F<o.length-1?"&":"")+I}}else this.params=new rs,this.urlWithParams=o}serializeBody(){return null===this.body?null:$l(this.body)||is(this.body)||Uh(this.body)||function kd(a){return typeof URLSearchParams<"u"&&a instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof rs?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Uh(this.body)?null:is(this.body)?this.body.type||null:$l(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof rs?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(i={}){const o=i.method||this.method,u=i.url||this.url,p=i.responseType||this.responseType,C=void 0!==i.body?i.body:this.body,I=void 0!==i.withCredentials?i.withCredentials:this.withCredentials,F=void 0!==i.reportProgress?i.reportProgress:this.reportProgress;let L=i.headers||this.headers,J=i.params||this.params;const xe=i.context??this.context;return void 0!==i.setHeaders&&(L=Object.keys(i.setHeaders).reduce((Le,We)=>Le.set(We,i.setHeaders[We]),L)),i.setParams&&(J=Object.keys(i.setParams).reduce((Le,We)=>Le.set(We,i.setParams[We]),J)),new xa(o,u,C,{params:J,headers:L,context:xe,reportProgress:F,responseType:p,withCredentials:I})}}var ln=(()=>((ln=ln||{})[ln.Sent=0]="Sent",ln[ln.UploadProgress=1]="UploadProgress",ln[ln.ResponseHeader=2]="ResponseHeader",ln[ln.DownloadProgress=3]="DownloadProgress",ln[ln.Response=4]="Response",ln[ln.User=5]="User",ln))();class cc{constructor(i,o=200,u="OK"){this.headers=i.headers||new zn,this.status=void 0!==i.status?i.status:o,this.statusText=i.statusText||u,this.url=i.url||null,this.ok=this.status>=200&&this.status<300}}class dc extends cc{constructor(i={}){super(i),this.type=ln.ResponseHeader}clone(i={}){return new dc({headers:i.headers||this.headers,status:void 0!==i.status?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0})}}class $s extends cc{constructor(i={}){super(i),this.type=ln.Response,this.body=void 0!==i.body?i.body:null}clone(i={}){return new $s({body:void 0!==i.body?i.body:this.body,headers:i.headers||this.headers,status:void 0!==i.status?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0})}}class Ld extends cc{constructor(i){super(i,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${i.url||"(unknown url)"}`:`Http failure response for ${i.url||"(unknown url)"}: ${i.status} ${i.statusText}`,this.error=i.error||null}}function Ra(a,i){return{body:i,headers:a.headers,context:a.context,observe:a.observe,params:a.params,reportProgress:a.reportProgress,responseType:a.responseType,withCredentials:a.withCredentials}}let Oa=(()=>{class a{constructor(o){this.handler=o}request(o,u,p={}){let C;if(o instanceof xa)C=o;else{let L,J;L=p.headers instanceof zn?p.headers:new zn(p.headers),p.params&&(J=p.params instanceof rs?p.params:new rs({fromObject:p.params})),C=new xa(o,u,void 0!==p.body?p.body:null,{headers:L,context:p.context,params:J,reportProgress:p.reportProgress,responseType:p.responseType||"json",withCredentials:p.withCredentials})}const I=(0,ts.of)(C).pipe((0,fm.b)(L=>this.handler.handle(L)));if(o instanceof xa||"events"===p.observe)return I;const F=I.pipe((0,hm.h)(L=>L instanceof $s));switch(p.observe||"body"){case"body":switch(C.responseType){case"arraybuffer":return F.pipe((0,Ie.U)(L=>{if(null!==L.body&&!(L.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return L.body}));case"blob":return F.pipe((0,Ie.U)(L=>{if(null!==L.body&&!(L.body instanceof Blob))throw new Error("Response is not a Blob.");return L.body}));case"text":return F.pipe((0,Ie.U)(L=>{if(null!==L.body&&"string"!=typeof L.body)throw new Error("Response is not a string.");return L.body}));default:return F.pipe((0,Ie.U)(L=>L.body))}case"response":return F;default:throw new Error(`Unreachable: unhandled observe type ${p.observe}}`)}}delete(o,u={}){return this.request("DELETE",o,u)}get(o,u={}){return this.request("GET",o,u)}head(o,u={}){return this.request("HEAD",o,u)}jsonp(o,u){return this.request("JSONP",o,{params:(new rs).append(u,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(o,u={}){return this.request("OPTIONS",o,u)}patch(o,u,p={}){return this.request("PATCH",o,Ra(p,u))}post(o,u,p={}){return this.request("POST",o,Ra(p,u))}put(o,u,p={}){return this.request("PUT",o,Ra(p,u))}static#e=this.\u0275fac=function(u){return new(u||a)(E.LFG(en))};static#t=this.\u0275prov=E.Yz7({token:a,factory:a.\u0275fac})}return a})();function Ud(a,i){return i(a)}function Gl(a,i){return(o,u)=>i.intercept(o,{handle:p=>a(p,u)})}const Pa=new E.OlP(""),Na=new E.OlP(""),fc=new E.OlP("");function hc(){let a=null;return(i,o)=>{null===a&&(a=((0,E.f3M)(Pa,{optional:!0})??[]).reduceRight(Gl,Ud));const u=(0,E.f3M)(E.HDt),p=u.add();return a(i,o).pipe((0,Hs.x)(()=>u.remove(p)))}}let Fa=(()=>{class a extends en{constructor(o,u){super(),this.backend=o,this.injector=u,this.chain=null,this.pendingTasks=(0,E.f3M)(E.HDt)}handle(o){if(null===this.chain){const p=Array.from(new Set([...this.injector.get(Na),...this.injector.get(fc,[])]));this.chain=p.reduceRight((C,I)=>function Vh(a,i,o){return(u,p)=>o.runInContext(()=>i(u,C=>a(C,p)))}(C,I,this.injector),Ud)}const u=this.pendingTasks.add();return this.chain(o,p=>this.backend.handle(p)).pipe((0,Hs.x)(()=>this.pendingTasks.remove(u)))}static#e=this.\u0275fac=function(u){return new(u||a)(E.LFG(uc),E.LFG(E.lqb))};static#t=this.\u0275prov=E.Yz7({token:a,factory:a.\u0275fac})}return a})();const Hh=/^\)\]\}',?\n/;let La=(()=>{class a{constructor(o){this.xhrFactory=o}handle(o){if("JSONP"===o.method)throw new E.vHH(-2800,!1);const u=this.xhrFactory;return(u.\u0275loadImpl?(0,lc.D)(u.\u0275loadImpl()):(0,ts.of)(null)).pipe((0,jl.w)(()=>new Lh.y(C=>{const I=u.build();if(I.open(o.method,o.urlWithParams),o.withCredentials&&(I.withCredentials=!0),o.headers.forEach((St,Pt)=>I.setRequestHeader(St,Pt.join(","))),o.headers.has("Accept")||I.setRequestHeader("Accept","application/json, text/plain, */*"),!o.headers.has("Content-Type")){const St=o.detectContentTypeHeader();null!==St&&I.setRequestHeader("Content-Type",St)}if(o.responseType){const St=o.responseType.toLowerCase();I.responseType="json"!==St?St:"text"}const F=o.serializeBody();let L=null;const J=()=>{if(null!==L)return L;const St=I.statusText||"OK",Pt=new zn(I.getAllResponseHeaders()),xn=function Bh(a){return"responseURL"in a&&a.responseURL?a.responseURL:/^X-Request-URL:/m.test(a.getAllResponseHeaders())?a.getResponseHeader("X-Request-URL"):null}(I)||o.url;return L=new dc({headers:Pt,status:I.status,statusText:St,url:xn}),L},xe=()=>{let{headers:St,status:Pt,statusText:xn,url:Zt}=J(),Et=null;204!==Pt&&(Et=typeof I.response>"u"?I.responseText:I.response),0===Pt&&(Pt=Et?200:0);let rn=Pt>=200&&Pt<300;if("json"===o.responseType&&"string"==typeof Et){const nn=Et;Et=Et.replace(Hh,"");try{Et=""!==Et?JSON.parse(Et):null}catch(Ji){Et=nn,rn&&(rn=!1,Et={error:Ji,text:Et})}}rn?(C.next(new $s({body:Et,headers:St,status:Pt,statusText:xn,url:Zt||void 0})),C.complete()):C.error(new Ld({error:Et,headers:St,status:Pt,statusText:xn,url:Zt||void 0}))},Le=St=>{const{url:Pt}=J(),xn=new Ld({error:St,status:I.status||0,statusText:I.statusText||"Unknown Error",url:Pt||void 0});C.error(xn)};let We=!1;const Dn=St=>{We||(C.next(J()),We=!0);let Pt={type:ln.DownloadProgress,loaded:St.loaded};St.lengthComputable&&(Pt.total=St.total),"text"===o.responseType&&I.responseText&&(Pt.partialText=I.responseText),C.next(Pt)},tr=St=>{let Pt={type:ln.UploadProgress,loaded:St.loaded};St.lengthComputable&&(Pt.total=St.total),C.next(Pt)};return I.addEventListener("load",xe),I.addEventListener("error",Le),I.addEventListener("timeout",Le),I.addEventListener("abort",Le),o.reportProgress&&(I.addEventListener("progress",Dn),null!==F&&I.upload&&I.upload.addEventListener("progress",tr)),I.send(F),C.next({type:ln.Sent}),()=>{I.removeEventListener("error",Le),I.removeEventListener("abort",Le),I.removeEventListener("load",xe),I.removeEventListener("timeout",Le),o.reportProgress&&(I.removeEventListener("progress",Dn),null!==F&&I.upload&&I.upload.removeEventListener("progress",tr)),I.readyState!==I.DONE&&I.abort()}})))}static#e=this.\u0275fac=function(u){return new(u||a)(E.LFG(ns.JF))};static#t=this.\u0275prov=E.Yz7({token:a,factory:a.\u0275fac})}return a})();const Wl=new E.OlP("XSRF_ENABLED"),pc=new E.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),gc=new E.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Gh{}let zh=(()=>{class a{constructor(o,u,p){this.doc=o,this.platform=u,this.cookieName=p,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const o=this.doc.cookie||"";return o!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,ns.Mx)(o,this.cookieName),this.lastCookieString=o),this.lastToken}static#e=this.\u0275fac=function(u){return new(u||a)(E.LFG(ns.K0),E.LFG(E.Lbi),E.LFG(pc))};static#t=this.\u0275prov=E.Yz7({token:a,factory:a.\u0275fac})}return a})();function Wh(a,i){const o=a.url.toLowerCase();if(!(0,E.f3M)(Wl)||"GET"===a.method||"HEAD"===a.method||o.startsWith("http://")||o.startsWith("https://"))return i(a);const u=(0,E.f3M)(Gh).getToken(),p=(0,E.f3M)(gc);return null!=u&&!a.headers.has(p)&&(a=a.clone({headers:a.headers.set(p,u)})),i(a)}var un=(()=>((un=un||{})[un.Interceptors=0]="Interceptors",un[un.LegacyInterceptors=1]="LegacyInterceptors",un[un.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",un[un.NoXsrfProtection=3]="NoXsrfProtection",un[un.JsonpSupport=4]="JsonpSupport",un[un.RequestsMadeViaParent=5]="RequestsMadeViaParent",un))();function mc(...a){const i=[Oa,La,Fa,{provide:en,useExisting:Fa},{provide:uc,useExisting:La},{provide:Na,useValue:Wh,multi:!0},{provide:Wl,useValue:!0},{provide:Gh,useClass:zh}];for(const o of a)i.push(...o.\u0275providers);return(0,E.MR2)(i)}const qh=new E.OlP("LEGACY_INTERCEPTOR_FN");function Em(){return function Ua(a,i){return{\u0275kind:a,\u0275providers:i}}(un.LegacyInterceptors,[{provide:qh,useFactory:hc},{provide:Na,useExisting:qh,multi:!0}])}let $d=(()=>{class a{static#e=this.\u0275fac=function(u){return new(u||a)};static#t=this.\u0275mod=E.oAB({type:a});static#n=this.\u0275inj=E.cJS({providers:[mc(Em())]})}return a})();var Kh=R(5191),Zh=R(4742),Jh=R(8421),Wd=R(7669),yc=R(5403),Qh=R(3268),Xh=R(1810);function qd(...a){const i=(0,Wd.jO)(a),{args:o,keys:u}=(0,Zh.D)(a),p=new Lh.y(C=>{const{length:I}=o;if(!I)return void C.complete();const F=new Array(I);let L=I,J=I;for(let xe=0;xe<I;xe++){let Le=!1;(0,Jh.Xf)(o[xe]).subscribe((0,yc.x)(C,We=>{Le||(Le=!0,J--),F[xe]=We},()=>L--,void 0,()=>{(!L||!Le)&&(J||C.next(u?(0,Xh.n)(u,F):F),C.complete())}))}});return i?p.pipe((0,Qh.Z)(i)):p}var ja=R(5698),Yd=R(262);let os=(()=>{class a{constructor(o,u){this.authService=o,this.router=u}canLoad(o){const u=this.router.getCurrentNavigation()?.extractedUrl?.toString();return this.isAllowed(o.data,u)}canActivate(o,u){return this.isAllowed(o.data,u.url)}canActivateChild(o,u){return this.isAllowed(o.data,u.url)}isAuthorized(){return!0}isPromise(o){return!(!o?.then||"function"!=typeof o.then)}isAuthorized$(o){const u=C=>"boolean"==typeof C?(0,ts.of)(C):(0,Kh.b)(C)?C:this.isPromise(C)?(0,lc.D)(C):(0,ts.of)(!1),p=o?.authGuardValidator;return"function"==typeof p?qd({userProfile:this.authService.userProfile$.pipe((0,ja.q)(1)),accessToken:this.authService.accessTokenDecoded$.pipe((0,ja.q)(1))}).pipe((0,jl.w)(({userProfile:C,accessToken:I})=>u(p(C,I)))):p?(console.error("authGuardValidator must be a function"),(0,ts.of)(!1)):u(this.isAuthorized())}isAuthenticated$(o=location.href){return this.authService.isAuthenticated$.pipe((0,ja.q)(1),(0,jl.w)(u=>u?(0,ts.of)(u):(0,lc.D)(this.authService.login({redirectUrl:o})).pipe((0,Yd.K)(()=>(0,ts.of)(!1)))))}isAllowed(o,u=location.href){return this.isAuthenticated$(u).pipe((0,jl.w)(p=>p?this.isAuthorized$(o):(0,ts.of)(!1)),(0,Ie.U)(p=>{if(!p){const C=o?.authGuardRedirectUrl||this.authService.getSettings()?.authGuardRedirectUrl;return this.router.parseUrl(C||this.router.url)}return!0}))}static#e=this.\u0275fac=function(u){return new(u||a)(E.LFG(Ta),E.LFG(Kr.F0))};static#t=this.\u0275prov=E.Yz7({token:a,factory:a.\u0275fac})}return a})();var gr=R(2843);let _c=(()=>{class a{constructor(o){this.authService=o,this.injectToken=!1,this.loginOn401=!1;const u=o.getSettings();u&&(this.injectToken=u.automaticInjectToken,this.loginOn401=u.automaticLoginOn401)}intercept(o,u){return this.injectAuthTokenIfNeeded$(o).pipe((0,jl.w)(p=>u.handle(p)),(0,Yd.K)(p=>(this.loginOn401&&401===p.status&&this.authService.login(),(0,gr._)(()=>p))))}getCompleteUrl(o){try{return new URL(o).href}catch{return new URL(`${location.origin}${o.startsWith("/")?"":"/"}${o}`).href}}isMatching(o,u){const p=this.getCompleteUrl(o);if("function"==typeof u)return u(p);if("string"==typeof u){const C=u.replace(/\//g,"\\/").replace(/\./g,"\\.").replace(/\*\*/g,"*").replace(/\*/g,".*");return null!==new RegExp(C).exec(p)}return null!==u.exec(p)}isAllowedRequest(o){let u=!1;if("boolean"==typeof this.injectToken)u=this.injectToken;else{const{include:p,exclude:C}=this.injectToken??{};Array.isArray(p)?u=p.some(I=>this.isMatching(o.url,I)):p&&(u=this.isMatching(o.url,p)),Array.isArray(C)?C.some(I=>this.isMatching(o.url,I))&&(u=!1):C&&this.isMatching(o.url,C)&&(u=!1)}return u}injectAuthTokenIfNeeded$(o){return this.authService.accessToken$.pipe((0,ja.q)(1),(0,Ie.U)(u=>{if(!1!==this.injectToken&&u&&this.isAllowedRequest(o)){const p=o.headers?o.headers:new zn;return o.clone({headers:p.append("Authorization",`Bearer ${u}`)})}return o}))}static#e=this.\u0275fac=function(u){return new(u||a)(E.LFG(Ta))};static#t=this.\u0275prov=E.Yz7({token:a,factory:a.\u0275fac})}return a})();const Kd=function(){var a=P(function*(i,o){const u=new o;return yield u.init(i),u});return function(o,u){return a.apply(this,arguments)}}(),wc=function(){var a=P(function*(i){return yield Kd(i,kh)});return function(o){return a.apply(this,arguments)}}(),Wn={automaticLoginOn401:!0,automaticInjectToken:{include:a=>{const i=new URL(a,"http://default-base");return i.hostname.startsWith("api")||i.pathname.startsWith("/api")||!1}}},zs=new E.OlP("AUTH_MANAGER"),Zd=function(){var a=P(function*(i){return{provide:zs,useValue:yield wc({...Wn,...i}),multi:!1}});return function(o){return a.apply(this,arguments)}}();let Jd=(()=>{class a{static#e=this.\u0275fac=function(u){return new(u||a)};static#t=this.\u0275mod=E.oAB({type:a});static#n=this.\u0275inj=E.cJS({providers:[os,Kr.Bz,{provide:Ta,useFactory:(o,u,p)=>new Ta(o,u,p),deps:[zs,E.R0b,Kr.F0]},{provide:Pa,useClass:_c,deps:[Ta],multi:!0}]})}return a})(),ep=(()=>{class a{static#e=this.\u0275fac=function(u){return new(u||a)};static#t=this.\u0275cmp=E.Xpm({type:a,selectors:[["app-root"]],decls:1,vars:0,template:function(u,p){1&u&&E._UZ(0,"router-outlet")},dependencies:[Kr.lC],encapsulation:2})}return a})();const Qd=[{path:"**",pathMatch:"full",redirectTo:""}];let tp=(()=>{class a{static#e=this.\u0275fac=function(u){return new(u||a)};static#t=this.\u0275mod=E.oAB({type:a});static#n=this.\u0275inj=E.cJS({imports:[Kr.Bz.forRoot(Qd,{onSameUrlNavigation:"reload",enableTracing:!1}),Kr.Bz]})}return a})();typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"&&global;var fi=(()=>((fi=fi||{}).Unimplemented="UNIMPLEMENTED",fi.Unavailable="UNAVAILABLE",fi))();class Cc extends Error{constructor(i,o,u){super(i),this.message=i,this.code=o,this.data=u}}const np=a=>{var i,o,u,p,C;const I=a.CapacitorCustomPlatform||null,F=a.Capacitor||{},L=F.Plugins=F.Plugins||{},J=a.CapacitorPlatforms,Le=(null===(i=J?.currentPlatform)||void 0===i?void 0:i.getPlatform)||(()=>null!==I?I.name:(a=>{var i,o;return a?.androidBridge?"android":null!==(o=null===(i=a?.webkit)||void 0===i?void 0:i.messageHandlers)&&void 0!==o&&o.bridge?"ios":"web"})(a)),Dn=(null===(o=J?.currentPlatform)||void 0===o?void 0:o.isNativePlatform)||(()=>"web"!==Le()),St=(null===(u=J?.currentPlatform)||void 0===u?void 0:u.isPluginAvailable)||(Mt=>{const It=rn.get(Mt);return!(!It?.platforms.has(Le())&&!xn(Mt))}),xn=(null===(p=J?.currentPlatform)||void 0===p?void 0:p.getPluginHeader)||(Mt=>{var It;return null===(It=F.PluginHeaders)||void 0===It?void 0:It.find(Nr=>Nr.name===Mt)}),rn=new Map,Ji=(null===(C=J?.currentPlatform)||void 0===C?void 0:C.registerPlugin)||((Mt,It={})=>{const Nr=rn.get(Mt);if(Nr)return console.warn(`Capacitor plugin "${Mt}" already registered. Cannot register plugins twice.`),Nr.proxy;const mr=Le(),hi=xn(Mt);let Fr;const ps=function(){var bn=P(function*(){return!Fr&&mr in It?Fr=Fr="function"==typeof It[mr]?yield It[mr]():It[mr]:null!==I&&!Fr&&"web"in It&&(Fr=Fr="function"==typeof It.web?yield It.web():It.web),Fr});return function(){return bn.apply(this,arguments)}}(),na=bn=>{let nr;const Ti=(...Ao)=>{const xo=ps().then(Jr=>{const Ro=((bn,nr)=>{var Ti,Ao;if(!hi){if(bn)return null===(Ao=bn[nr])||void 0===Ao?void 0:Ao.bind(bn);throw new Cc(`"${Mt}" plugin is not implemented on ${mr}`,fi.Unimplemented)}{const xo=hi?.methods.find(Jr=>nr===Jr.name);if(xo)return"promise"===xo.rtype?Jr=>F.nativePromise(Mt,nr.toString(),Jr):(Jr,Ro)=>F.nativeCallback(Mt,nr.toString(),Jr,Ro);if(bn)return null===(Ti=bn[nr])||void 0===Ti?void 0:Ti.bind(bn)}})(Jr,bn);if(Ro){const Cu=Ro(...Ao);return nr=Cu?.remove,Cu}throw new Cc(`"${Mt}.${bn}()" is not implemented on ${mr}`,fi.Unimplemented)});return"addListener"===bn&&(xo.remove=P(function*(){return nr()})),xo};return Ti.toString=()=>`${bn.toString()}() { [capacitor code] }`,Object.defineProperty(Ti,"name",{value:bn,writable:!1,configurable:!1}),Ti},ra=na("addListener"),bu=na("removeListener"),rd=(bn,nr)=>{const Ti=ra({eventName:bn},nr),Ao=function(){var Jr=P(function*(){const Ro=yield Ti;bu({eventName:bn,callbackId:Ro},nr)});return function(){return Jr.apply(this,arguments)}}(),xo=new Promise(Jr=>Ti.then(()=>Jr({remove:Ao})));return xo.remove=P(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield Ao()}),xo},id=new Proxy({},{get(bn,nr){switch(nr){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return hi?rd:ra;case"removeListener":return bu;default:return na(nr)}}});return L[Mt]=id,rn.set(Mt,{name:Mt,proxy:id,platforms:new Set([...Object.keys(It),...hi?[mr]:[]])}),id});return F.convertFileSrc||(F.convertFileSrc=Mt=>Mt),F.getPlatform=Le,F.handleError=Mt=>a.console.error(Mt),F.isNativePlatform=Dn,F.isPluginAvailable=St,F.pluginMethodNoop=(Mt,It,Nr)=>Promise.reject(`${Nr} does not have an implementation of "${It}".`),F.registerPlugin=Ji,F.Exception=Cc,F.DEBUG=!!F.DEBUG,F.isLoggingEnabled=!!F.isLoggingEnabled,F.platform=F.getPlatform(),F.isNative=F.isNativePlatform(),F},ss=(a=>a.Capacitor=np(a))(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Kl=ss.registerPlugin;class $a{constructor(i){this.listeners={},this.windowListeners={},i&&(console.warn(`Capacitor WebPlugin "${i.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=i)}addListener(i,o){var u=this;this.listeners[i]||(this.listeners[i]=[]),this.listeners[i].push(o);const C=this.windowListeners[i];C&&!C.registered&&this.addWindowListener(C);const I=function(){var L=P(function*(){return u.removeListener(i,o)});return function(){return L.apply(this,arguments)}}(),F=Promise.resolve({remove:I});return Object.defineProperty(F,"remove",{value:(L=P(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield I()}),function(){return L.apply(this,arguments)})}),F;var L}removeAllListeners(){var i=this;return P(function*(){i.listeners={};for(const o in i.windowListeners)i.removeWindowListener(i.windowListeners[o]);i.windowListeners={}})()}notifyListeners(i,o){const u=this.listeners[i];u&&u.forEach(p=>p(o))}hasListeners(i){return!!this.listeners[i].length}registerWindowListener(i,o){this.windowListeners[o]={registered:!1,windowEventName:i,pluginEventName:o,handler:u=>{this.notifyListeners(o,u)}}}unimplemented(i="not implemented"){return new ss.Exception(i,fi.Unimplemented)}unavailable(i="not available"){return new ss.Exception(i,fi.Unavailable)}removeListener(i,o){var u=this;return P(function*(){const p=u.listeners[i];if(!p)return;const C=p.indexOf(o);u.listeners[i].splice(C,1),u.listeners[i].length||u.removeWindowListener(u.windowListeners[i])})()}addWindowListener(i){window.addEventListener(i.windowEventName,i.handler),i.registered=!0}removeWindowListener(i){i&&(window.removeEventListener(i.windowEventName,i.handler),i.registered=!1)}}const Zl=a=>encodeURIComponent(a).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),Ga=a=>a.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class op extends $a{getCookies(){return P(function*(){const i=document.cookie,o={};return i.split(";").forEach(u=>{if(u.length<=0)return;let[p,C]=u.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");p=Ga(p).trim(),C=Ga(C).trim(),o[p]=C}),o})()}setCookie(i){return P(function*(){try{const o=Zl(i.key),u=Zl(i.value),p=`; expires=${(i.expires||"").replace("expires=","")}`,C=(i.path||"/").replace("path=",""),I=null!=i.url&&i.url.length>0?`domain=${i.url}`:"";document.cookie=`${o}=${u||""}${p}; path=${C}; ${I};`}catch(o){return Promise.reject(o)}})()}deleteCookie(i){return P(function*(){try{document.cookie=`${i.key}=; Max-Age=0`}catch(o){return Promise.reject(o)}})()}clearCookies(){return P(function*(){try{const i=document.cookie.split(";")||[];for(const o of i)document.cookie=o.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(i){return Promise.reject(i)}})()}clearAllCookies(){var i=this;return P(function*(){try{yield i.clearCookies()}catch(o){return Promise.reject(o)}})()}}Kl("CapacitorCookies",{web:()=>new op});const sp=function(){var a=P(function*(i){return new Promise((o,u)=>{const p=new FileReader;p.onload=()=>{const C=p.result;o(C.indexOf(",")>=0?C.split(",")[1]:C)},p.onerror=C=>u(C),p.readAsDataURL(i)})});return function(o){return a.apply(this,arguments)}}();class ef extends $a{request(i){return P(function*(){const o=((a,i={})=>{const o=Object.assign({method:a.method||"GET",headers:a.headers},i),p=((a={})=>{const i=Object.keys(a);return Object.keys(a).map(p=>p.toLocaleLowerCase()).reduce((p,C,I)=>(p[C]=a[i[I]],p),{})})(a.headers)["content-type"]||"";if("string"==typeof a.data)o.body=a.data;else if(p.includes("application/x-www-form-urlencoded")){const C=new URLSearchParams;for(const[I,F]of Object.entries(a.data||{}))C.set(I,F);o.body=C.toString()}else if(p.includes("multipart/form-data")||a.data instanceof FormData){const C=new FormData;if(a.data instanceof FormData)a.data.forEach((F,L)=>{C.append(L,F)});else for(const F of Object.keys(a.data))C.append(F,a.data[F]);o.body=C;const I=new Headers(o.headers);I.delete("content-type"),o.headers=I}else(p.includes("application/json")||"object"==typeof a.data)&&(o.body=JSON.stringify(a.data));return o})(i,i.webFetchExtra),u=((a,i=!0)=>a?Object.entries(a).reduce((u,p)=>{const[C,I]=p;let F,L;return Array.isArray(I)?(L="",I.forEach(J=>{F=i?encodeURIComponent(J):J,L+=`${C}=${F}&`}),L.slice(0,-1)):(F=i?encodeURIComponent(I):I,L=`${C}=${F}`),`${u}&${L}`},"").substr(1):null)(i.params,i.shouldEncodeUrlParams),p=u?`${i.url}?${u}`:i.url,C=yield fetch(p,o),I=C.headers.get("content-type")||"";let L,J,{responseType:F="text"}=C.ok?i:{};switch(I.includes("application/json")&&(F="json"),F){case"arraybuffer":case"blob":J=yield C.blob(),L=yield sp(J);break;case"json":L=yield C.json();break;default:L=yield C.text()}const xe={};return C.headers.forEach((Le,We)=>{xe[We]=Le}),{data:L,headers:xe,status:C.status,url:C.url}})()}get(i){var o=this;return P(function*(){return o.request(Object.assign(Object.assign({},i),{method:"GET"}))})()}post(i){var o=this;return P(function*(){return o.request(Object.assign(Object.assign({},i),{method:"POST"}))})()}put(i){var o=this;return P(function*(){return o.request(Object.assign(Object.assign({},i),{method:"PUT"}))})()}patch(i){var o=this;return P(function*(){return o.request(Object.assign(Object.assign({},i),{method:"PATCH"}))})()}delete(i){var o=this;return P(function*(){return o.request(Object.assign(Object.assign({},i),{method:"DELETE"}))})()}}Kl("CapacitorHttp",{web:()=>new ef});const Ws='\n    .flex {\n        flex: 1;\n    }\n\n    .hidden {\n        display: none !important;\n    }\n\n    .row {\n        display: flex;\n        flex-direction: row;\n    }\n\n    .column {\n        display: flex;\n        flex-direction: column;\n    }\n\n    .card {\n        border: 1px solid rgba(0, 0, 0, 0.12);\n        border-radius: 4px;\n        background-color: white;\n        margin: 12px 6px;\n    }\n\n    .card .card-status {\n        display: block;\n        width: 10px;\n        height: 10px;\n        border-radius: 50%;\n        margin-left: 8px;\n        background-color: #f2f2f2;\n    }\n    .card .card-status.error {\n        background-color: #ef5350;\n    }\n    .card .card-status.success {\n        background-color: #66bb6a;\n    }\n\n    .card .card-title {\n        padding: 16px;\n        font-size: 20px;\n        font-weight: 500;\n        color: rgba(0, 0, 0, 0.87);\n        align-items: center;\n    }\n\n    .card .box {\n        height: 200px;\n        border-top: 1px solid lightgray;\n        word-break: break-all;\n        overflow: auto;\n        background-color: #f2f2f2;\n        padding: 12px;\n    }\n    .card .box pre {\n        margin: 0;\n    }\n\n    .card .card-actions {\n        padding: 0 14px 8px 14px;\n        min-height: 50px;\n    }\n    .card .card-actions .input {\n        display: flex;\n        align-items: center;\n    }\n    .card .card-actions .input:not(:last-child) {\n        margin-bottom: 8px;\n    }\n    .card .card-actions .input label {\n        width: 125px;\n        text-align: right;\n        margin-right: 14px;\n    }\n    .card .card-actions .input input {\n        padding: 4px;\n    }\n\n    .json-key {\n        color: rgb(124, 77, 255);\n    }\n\n    .json-value {\n        color: rgb(67, 122, 237);\n    }\n\n    .json-string {\n        color: rgb(83, 160, 83);\n    }\n\n    .json-date {\n        color: rgb(200, 56, 198);\n    }\n\n    input {\n        color: #5e35b1;\n        padding: 10px;\n        border: 1px solid #0000001f;\n        border-radius: 4px;\n        font-size: 14px;\n    }\n\n    input:invalid {\n        border-color: #f44336;\n    }\n\n    input[type="checkbox"] {\n        margin-right: 10px;\n    }\n\n    select {\n        color: #5e35b1;\n        padding: 8px 6px;\n        border: 1px solid #0000001f;\n        border-radius: 4px;\n    }\n\n    @media only screen and (max-width: 600px) {\n        :host {\n            padding: 0 !important;\n            padding-bottom: 24px !important;\n        }\n\n        :host .card {\n            border-left: 0;\n            border-right: 0;\n            border-radius: 0;\n            margin: 0;\n            margin-bottom: 6px;\n        }\n    }\n',as=(a,i=[])=>a?JSON.stringify(a,null,2).replace(/&/g,"&amp;").replace(/\\"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/^( *)("[\w-]+": )?("[^"]*"|[\w.+-]*)?([,[{])?$/gm,(p,C,I,F,L)=>{let J=C||"";const xe=I?I.replace(/[": ]/g,""):void 0;if(xe&&(J+=`<span class="json-key">${xe}</span>: `),F&&(J+=`<span class="${F.startsWith('"')?"json-string":"json-value"}">${F}</span>`,xe&&i.includes(xe))){const Le=new Date(1e3*Number(F)),We=`${Le.toDateString()}, ${Le.toLocaleTimeString()}`;We&&(J+=` <span class="json-date">(${We})</span>`)}return J+(L||"")}):"",nf=document.createElement("template");nf.innerHTML=`\n    <style>\n        ${Ws}\n\n        :host header {\n            z-index: 1;\n            position: fixed;\n            top: 0;\n            left: 0;\n            right: 0;\n            padding-top: calc(0px + var(--safe-area-inset-top));\n            align-items: center;\n            height: 130px;\n            color: white;\n            background: rgb(103, 58, 183);\n            background: linear-gradient(180deg, rgba(103, 58, 183, 1) 0%, rgba(94, 53, 177, 1) 100%);\n        }\n\n        :host header .github-icon {\n            position: absolute;\n            top: calc(20px + var(--safe-area-inset-top));\n            right: 34px;\n            width: 26px;\n            height: 26px;\n            color: white;\n        }\n\n        @keyframes statusLoadingAnimation {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n        }\n\n        :host header .status.loading {\n            background: none;\n        }\n\n        :host header .status.loading:after {\n            display: block;\n            content: " ";\n            width: 11px;\n            height: 11px;\n            border-radius: 50%;\n            border: 2px solid #fff;\n            border-color: #fff transparent #fff transparent;\n            animation: statusLoadingAnimation 1.2s linear infinite;\n        }\n\n        :host header .status.not-authenticated {\n            background-color: #EC407A;\n        }\n\n        :host header .status.authenticated {\n            background-color: #7CB342;\n        }\n\n        :host header .status {\n            position: absolute;\n            top: calc(25px + var(--safe-area-inset-top));\n            right: 70px;\n            width: 15px;\n            height: 15px;\n            z-index: 1;\n            border-radius: 50%;\n            margin-top: 1px;\n            margin-right: 8px;\n        }\n\n        :host header .version {\n            position: absolute;\n            bottom: 13px;\n        }\n\n        :host header .version a {\n            font-size: 13px;\n            font-weight: 300;\n            font-style: italic;\n            text-decoration: none;\n            color: #bda9e1;\n        }\n\n        :host header .version a:hover {\n            text-decoration: underline;\n        }\n\n        :host header .title {\n            position: relative;\n            align-items: center;\n            margin: 8px 0;\n            font-size: 1.4em;\n            font-weight: 400;\n            color: #ede7f6;\n        }\n\n        :host header .title .icon {\n            margin-top: 3px;\n            margin-right: 4px;\n        }\n\n        :host header .title select {\n            cursor: pointer;\n            text-align: center;\n            font-size: 1.1em;\n            font-weight: bold;\n            color: #ede7f6;\n            background: none;\n            border: none;\n            outline: none;\n        }\n\n        :host header .title .tip {\n            position: absolute;\n            right: -204px;\n            font-size: 15px;\n            font-weight: 300;\n            font-style: italic;\n            color: #ffd341;\n        }\n\n        :host header .title .tip .hand {\n            font-size: 18px;\n        }\n\n        :host header button {\n            margin-top: 2px;\n        }\n\n        :host header button:not(:last-child) {\n            margin-right: 10px;\n        }\n\n        @media only screen and (max-width: 600px) {\n            :host header .title {\n                align-self: flex-start;\n                margin-left: 18px;\n            }\n\n            :host header .status {\n                right: 54px;\n            }\n\n            :host header .github-icon {\n                right: 24px;\n            }\n        }\n        @media only screen and (max-width: 1000px) {\n            :host header .title .tip {\n                display: none;\n            }\n        }\n    </style>\n\n    <header class="column">\n        <div class="status loading"></div>\n\n        <a class="github-icon"\n            href="https://github.com/Badisi/auth-js"\n            target="_blank"\n            title="View it on GitHub"\n            aria-label="GitHub repository">\n            <span>\n                <svg viewBox="0 0 24 24"\n                    xmlns="http://www.w3.org/2000/svg">\n                    <path fill="currentColor"\n                        d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12">\n                    </path>\n                </svg>\n            </span>\n        </a>\n\n        <div class="title row">\n            <span class="icon">\u{1f6e1}\ufe0f</span>Demo app &#123; <select id="implementation-select"></select> &#125;\n            <div class="tip"><span class="hand">\u{1f448}</span> choose an implementation</div>\n        </div>\n\n        <div class="row">\n            <button id="login-button">LOGIN</button>\n            <button id="logout-button">LOGOUT</button>\n            <button id="silent-renew-button">SILENT RENEW</button>\n        </div>\n\n        <div class="version"></div>\n    </header>\n`;class cp extends HTMLElement{constructor(){super(),this.listeners=[],this.attachShadow({mode:"open"}),this.shadowRoot?.appendChild(document.importNode(nf.content,!0)),this.implSelectEl=this.shadowRoot.querySelector("#implementation-select"),this.statusEl=this.shadowRoot.querySelector(".status"),this.versionEl=this.shadowRoot.querySelector(".version"),this.loginButtonEl=this.shadowRoot.querySelector("#login-button"),this.logoutButtonEl=this.shadowRoot.querySelector("#logout-button"),this.silentRenewButtonEl=this.shadowRoot.querySelector("#silent-renew-button")}set isRenewing(i){this.statusEl&&this.statusEl.classList[i?"add":"remove"]("loading")}set isAuthenticated(i){this.statusEl&&null!==i&&(this.statusEl.classList.remove("loading"),this.statusEl.title=i?"Authenticated":"Not authenticated",this.statusEl.classList[i?"add":"remove"]("authenticated"),this.statusEl.classList[i?"remove":"add"]("not-authenticated"))}connectedCallback(){if(window.location.href.includes(":4200")){const o=document.createElement("option");o.textContent="localhost",this.implSelectEl.appendChild(o)}else{window.appSettings.getImplementations().forEach(u=>{const p=document.createElement("option");p.value=String(u.label),p.textContent=u.label,this.implSelectEl.appendChild(p)});const o=()=>{window.location.href=window.appSettings.getImplementations()[this.implSelectEl.selectedIndex].demoUrl};this.implSelectEl.addEventListener("change",o),this.listeners.push(()=>this.implSelectEl.removeEventListener("change",o))}const i=()=>{this.shadowRoot?.querySelector("header .title .tip")?.remove(),window.appSettings.setShowTip(!1)};window.appSettings.get().showTip?(this.implSelectEl.addEventListener("click",i,{once:!0}),this.listeners.push(()=>this.implSelectEl.removeEventListener("click",i))):i(),this.refreshImplementation(),this.addEventListeners()}disconnectedCallback(){this.listeners.forEach(i=>i())}addEventListeners(){const i=()=>this.dispatchEvent(new Event("login",{bubbles:!0,composed:!0}));this.loginButtonEl?.addEventListener("click",i);const o=()=>this.dispatchEvent(new Event("logout",{bubbles:!0,composed:!0}));this.logoutButtonEl?.addEventListener("click",o);const u=()=>this.dispatchEvent(new Event("silentRenew",{bubbles:!0,composed:!0}));this.silentRenewButtonEl?.addEventListener("click",u),this.listeners.push(()=>this.loginButtonEl?.removeEventListener("click",i),()=>this.logoutButtonEl?.removeEventListener("click",o),()=>this.silentRenewButtonEl?.removeEventListener("click",u))}refreshImplementation(){const i=window.appSettings.getImplementations();if(window.location.href.includes(":4200"))this.implSelectEl.selectedIndex=0,this.versionEl.innerHTML="<a>@localhost</a>";else{const o=i.findIndex(p=>window.location.href.includes(p.demoUrl)),u=-1!==o?i[o]:i[0];this.implSelectEl.selectedIndex=-1!==o?o:0,this.versionEl.innerHTML=u.version}}}window.customElements.define("demo-app-header",cp);const Jl=document.createElement("template");Jl.innerHTML=`\n    <style>\n        ${Ws}\n\n        :host .tabs {\n            position: fixed;\n            top: calc(130px + var(--safe-area-inset-top));\n            left: 0;\n            right: 0;\n            z-index: 1;\n            align-self: normal;\n            padding: 10px 0;\n            padding-left: 36px;\n            background-color: #7043bf;\n            box-shadow: 0 3px 5px -1px #0003, 0 6px 10px #00000024, 0 1px 18px #0000001f;\n        }\n\n        :host .tabs a {\n            cursor: pointer;\n            color: white;\n            padding: 8px 16px;\n            border-radius: 4px;\n            transition: background-color 150ms cubic-bezier(0.35, 0, 0.25, 1);\n        }\n\n        :host .tabs a.selected {\n            background-color: #512da8;\n        }\n\n        :host .tabs a:hover {\n            background-color: #4527a0;\n        }\n\n        :host .tabs a:not(:last-child) {\n            margin-right: 10px;\n        }\n\n        :host .tabs-content {\n            position: fixed;\n            top: calc(130px + 55px + var(--safe-area-inset-top));\n            left: 0;\n            right: 0;\n            bottom: calc(0px + var(--safe-area-inset-bottom));\n            overflow: auto;\n        }\n\n        @media only screen and (max-width: 600px) {\n            :host .tabs {\n                padding-left: 0;\n                justify-content: center;\n            }\n        }\n    </style>\n\n    <demo-app-header></demo-app-header>\n    <nav id="tabs" class="tabs row"></nav>\n    <div class="tabs-content">\n        <slot id="views"></slot>\n    </div>\n`;class rf extends HTMLElement{constructor(){super(),this.listeners=[],this.tabs=[],this.views=[],this.currentTabIndex=-1,this.attachShadow({mode:"open"}),this.shadowRoot?.appendChild(document.importNode(Jl.content,!0)),this.tabsContentEl=this.shadowRoot.querySelector(".tabs-content"),this.demoAppHeaderEl=this.shadowRoot.querySelector("demo-app-header")}set isRenewing(i){this.demoAppHeaderEl.isRenewing=i}set isAuthenticated(i){this.demoAppHeaderEl.isAuthenticated=i}connectedCallback(){this.drawTabs(),this.showView(window.appSettings?window.appSettings.get().currentTabIndex:0)}disconnectedCallback(){this.listeners.forEach(i=>i())}drawTabs(){const i=this.shadowRoot.querySelector("#views"),o=this.shadowRoot.querySelector("#tabs");i&&o&&(this.views=i.assignedElements(),this.views.forEach((u,p)=>{u.style.display="none";const C=document.createElement("a");C.textContent=u.getAttribute("tabLabel")||"?";const I=()=>this.showView(p);C.addEventListener("click",I),this.listeners.push(()=>C.removeEventListener("click",I)),o.appendChild(C),this.tabs.push(C)}))}showView(i){this.currentTabIndex!==i&&(this.currentTabIndex=i,this.tabs.forEach((o,u)=>{o.classList[u!==i?"remove":"add"]("selected")}),this.views.forEach((o,u)=>{o.style.display=u!==i?"none":"flex"}),this.tabsContentEl?.scrollTo(0,0),window.appSettings.setCurrentTabIndex(i))}}window.customElements.define("demo-app-main",rf);const bo=document.createElement("template");bo.innerHTML=`\n    <style>\n        ${Ws}\n\n        :host {\n            display: flex;\n            flex: 1;\n            flex-direction: column;\n            padding: 20px 28px;\n        }\n\n        :host .card.apis input {\n            width: 100%; /* fix for android-chrome */\n        }\n\n        :host .card.apis .card-actions {\n            padding-bottom: 16px;\n        }\n\n        :host .card.apis .card-actions button {\n            margin-left: 14px;\n        }\n\n        @media only screen and (max-width: 600px) {\n            :host .card.apis .card-actions {\n                flex-direction: column;\n                margin-left: 3px;\n            }\n            :host .card.apis .card-actions button {\n                margin-top: 12px;\n                margin-left: 0;\n                padding: 2px 10px;\n                min-width: 104px;\n                align-self: flex-start;\n            }\n            :host .card.apis .input label {\n                text-align: left;\n            }\n            :host .card.apis .input {\n                flex-direction: column;\n                align-items: flex-start;\n                gap: 10px;\n            }\n            :host .card.apis input {\n                width: inherit;\n                align-self: normal;\n            }\n        }\n    </style>\n\n    <div class="card apis">\n        <div class="card-title row">\n            APIs access\n            <div id="api-status" class="card-status"></div>\n        </div>\n        <div class="card-actions row">\n            <div class="column flex">\n                <div class="input row">\n                    <label for="api-url-input">Url</label>\n                    <input id="api-url-input" class="flex" />\n                </div>\n                <div class="input row">\n                    <label for="api-headers-input">Custom headers</label>\n                    <input id="api-headers-input" class="flex" placeholder='"name": "value";' />\n                </div>\n            </div>\n            <button id="api-get-button">GET</button>\n        </div>\n        <div class="box">\n            <code>\n                <pre id="api-response"></pre>\n            </code>\n        </div>\n    </div>\n\n    <slot id="cards"></slot>\n`;class sf extends HTMLElement{constructor(){super(),this.listeners=[],this.attachShadow({mode:"open"}),this.shadowRoot?.appendChild(document.importNode(bo.content,!0)),this.apiStatusEl=this.shadowRoot.querySelector("#api-status"),this.apiResponseEl=this.shadowRoot.querySelector("#api-response"),this.apiUrlEl=this.shadowRoot.querySelector("#api-url-input"),this.apiHeadersEl=this.shadowRoot.querySelector("#api-headers-input")}connectedCallback(){const i=this.shadowRoot?.querySelector("#api-get-button"),o=()=>{const I=new CustomEvent("api",{bubbles:!0,composed:!0,detail:{url:this.apiUrlEl.value,headers:this.apiHeadersEl.value}});return this.dispatchEvent(I)};i?.addEventListener("click",o);const u=()=>this.saveSettings({privateApiUrl:this.apiUrlEl.value});this.apiUrlEl?.addEventListener("input",u);const p=()=>this.saveSettings({privateApiHeaders:this.apiHeadersEl.value});this.apiHeadersEl?.addEventListener("input",p),this.listeners.push(()=>i?.removeEventListener("click",o),()=>this.apiUrlEl?.removeEventListener("input",u),()=>this.apiHeadersEl?.removeEventListener("input",p));const{otherSettings:C}=window.appSettings.getCurrentUserSettings();this.apiUrlEl.value=C?.privateApiUrl,this.apiHeadersEl.value=C?.privateApiHeaders}disconnectedCallback(){this.listeners.forEach(i=>i())}setApiStatus(i,o){this.apiStatusEl.classList.remove(o?"success":"error"),this.apiStatusEl.classList.add(o?"error":"success"),this.apiResponseEl.innerHTML=as(i)}saveSettings(i){const o=window.appSettings.getCurrentUserSettings();o.otherSettings={...o.otherSettings,...i},window.appSettings.addOrUpdateUserSettings(o)}}window.customElements.define("demo-app-playground",sf);const Ec=document.createElement("template");Ec.innerHTML=`\n    <style>\n        ${Ws}\n\n        :host {\n            display: flex;\n            flex: 1;\n            flex-direction: column;\n            padding: 20px 28px;\n        }\n\n        :host .info {\n            margin: 16px;\n        }\n\n        :host .info .title {\n            min-width: 130px;\n        }\n\n        :host .info .value {\n            overflow-x: auto;\n            white-space: pre-wrap;\n            word-wrap: break-word;\n        }\n\n        :host .info code {\n            width: 100%;\n        }\n    </style>\n\n    <div class="card">\n        <div class="info column">\n            <div class="title">Authenticated</div>\n            <code>\n                <pre id="isAuthenticated" class="value json-value"></pre>\n            </code>\n        </div>\n\n        <div class="info column">\n            <div class="title">User session</div>\n            <code>\n                <pre id="userSession" class="value"></pre>\n            </code>\n        </div>\n\n        <div class="info column">\n            <div class="title">Access token</div>\n            <code>\n                <pre id="accessToken" class="value json-value"></pre>\n                <pre id="accessTokenDecoded" class="value"></pre>\n            </code>\n        </div>\n\n        <div class="info column">\n            <div class="title">Id token</div>\n            <code>\n                <pre id="idToken" class="value json-value"></pre>\n                <pre id="idTokenDecoded" class="value"></pre>\n            </code>\n        </div>\n\n        <div class="info column">\n            <div class="title">User profile</div>\n            <code>\n                <pre id="userProfile" class="value"></pre>\n            </code>\n        </div>\n    </div>\n`;class dp extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.shadowRoot?.appendChild(document.importNode(Ec.content,!0)),this.isAuthenticated=!1,this.userSession=void 0,this.accessToken=void 0,this.accessTokenDecoded=void 0,this.idToken=void 0,this.idTokenDecoded=void 0,this.userProfile=void 0}set isAuthenticated(i){null!==i&&this.update("#isAuthenticated",i)}set userSession(i){this.update("#userSession",as(i,["expires_at"]))}set accessToken(i){this.update("#accessToken",i)}set accessTokenDecoded(i){const o="string"!=typeof i?as(i,["exp","iat","auth_time"]):"(no decoded info as it is not a JWT token)";this.update("#accessTokenDecoded",o)}set idToken(i){this.update("#idToken",i)}set idTokenDecoded(i){this.update("#idTokenDecoded",as(i,["exp","iat","auth_time"]))}set userProfile(i){this.update("#userProfile",as(i))}update(i,o){const u=this.shadowRoot?.querySelector(i);u&&(null==o||""===o?u.closest(".info")?.classList.add("hidden"):(u.closest(".info")?.classList.remove("hidden"),u.innerHTML=String(o)))}}window.customElements.define("demo-app-debug",dp);const fp=document.createElement("template");fp.innerHTML=`\n    <style>\n        ${Ws}\n\n        :host {\n            display: flex;\n            flex: 1;\n            flex-direction: column;\n            padding: 20px 28px;\n        }\n\n        :host .card {\n            padding: 40px 16px 16px 16px;\n        }\n\n        :host form {\n            position: relative;\n        }\n\n        :host form .input, :host .form-content > * {\n            margin-bottom: 24px;\n        }\n\n        :host form label {\n            margin-bottom: 8px;\n        }\n\n        :host .form-actions {\n            z-index: 10;\n            position: fixed;\n            bottom: calc(12px + var(--safe-area-inset-bottom));\n            left: calc(50% - 120px);\n            padding: 14px 0;\n            border-radius: 4px;\n            background-color: #E0E0E0;\n            width: 240px;\n            justify-content: center;\n        }\n\n        :host .form-actions button {\n            padding: 2px 12px;\n        }\n\n        :host .form-actions button:not(:last-of-type) {\n            margin-right: 12px;\n        }\n\n        :host button {\n            cursor: pointer;\n        }\n\n        :host #settings-select {\n            margin-left: 6px;\n            color: black;\n        }\n\n        :host #add-settings-button {\n            background: none;\n            border: none;\n            cursor: pointer;\n            padding: 4px;\n            color: darkgray;\n        }\n\n        :host #delete-settings-button {\n            position: absolute;\n            top: 20px;\n            right: 20px;\n            display: flex;\n            align-items: center;\n            background: none;\n            border: none;\n            cursor: pointer;\n            font-size: 14px;\n            color: #EF5350;\n        }\n\n        :host #save-settings-button {\n            color: white;\n            padding: 4px 24px;\n            border: none;\n            border-radius: 4px;\n            transition: background-color 150ms cubic-bezier(0.35, 0, 0.25, 1);\n            background-color: #512da8;\n        }\n\n        :host #cancel-settings-button {\n            padding: 4px 18px;\n            border: none;\n            border-radius: 4px;\n            transition: background-color 150ms cubic-bezier(0.35, 0, 0.25, 1);\n            background-color: white;\n        }\n\n        :host #save-settings-button:hover {\n            background-color: #4527a0;\n        }\n\n        :host(.dirty) .form-actions {\n            display: flex !important;\n        }\n\n        :host(.dirty) #delete-settings-button {\n            display: none;\n        }\n\n        @media only screen and (max-width: 600px) {\n            :host .settings-select {\n                margin: 12px 8px;\n            }\n        }\n    </style>\n\n    <div class="settings-select row">\n        <select id="settings-select"></select>\n        <div id="add-settings-button" title="Create new settings">\n            <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="currentColor"><path d="M0 0h24v24H0z" fill="none"/><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/></svg>\n        </div>\n    </div>\n\n    <div class="form-actions row hidden">\n        <button id="save-settings-button" type="button">SAVE</button>\n        <button id="cancel-settings-button" type="button">CANCEL</button>\n    </div>\n\n    <form class="column card">\n        <div id="delete-settings-button">\n            DELETE\n        </div>\n        <div class="input column">\n            <label for="settingsName">Settings name *</label>\n            <input id="settingsName" name="settingsName" required="">\n        </div>\n        <div class="form-content flex"></div>\n    </form>\n`;class Ql extends HTMLElement{constructor(){super(),this.listeners=[],this.formIsDirty=!1,this.formIsNew=!1,this.attachShadow({mode:"open"}),this.shadowRoot?.appendChild(document.importNode(fp.content,!0))}connectedCallback(){this.formEl=this.shadowRoot.querySelector("form"),this.formContentEl=this.shadowRoot.querySelector(".form-content"),this.selectEl=this.shadowRoot.querySelector("#settings-select"),this.settingsNameEl=this.shadowRoot.querySelector("#settingsName");const i=Le=>{!this.formIsDirty&&"settings-select"!==Le.target.id&&(this.formIsDirty=!0,this.classList.add("dirty"))};this.formEl.addEventListener("input",i),this.listeners.push(()=>this.formEl.removeEventListener("input",i)),this.refreshSelect();const o=()=>this.loadSettings(this.selectEl.value);this.selectEl?.addEventListener("change",o),this.listeners.push(()=>this.selectEl.removeEventListener("change",o));const u=this.shadowRoot?.querySelector("#add-settings-button"),p=()=>this.add();u?.addEventListener("click",p),this.listeners.push(()=>u?.removeEventListener("click",p));const C=this.shadowRoot?.querySelector("#delete-settings-button"),I=()=>this.delete();C?.addEventListener("click",I),this.listeners.push(()=>C?.removeEventListener("click",I));const F=this.shadowRoot?.querySelector("#save-settings-button"),L=()=>this.saveAndReload();F?.addEventListener("click",L),this.listeners.push(()=>F?.removeEventListener("click",L));const J=this.shadowRoot?.querySelector("#cancel-settings-button"),xe=()=>this.cancel();J?.addEventListener("click",xe),this.listeners.push(()=>J?.removeEventListener("click",xe)),this.refreshFormContent(window.appSettings.getCurrentUserSettings())}disconnectedCallback(){this.listeners.forEach(i=>i())}loadSettings(i){window.appSettings.setCurrentUserSettings(i),location.reload()}add(){const i="New settings",o=document.createElement("option");o.selected=!0,o.value=i,o.textContent=i,this.selectEl.appendChild(o),this.formIsNew=!0,this.formIsDirty=!0,this.classList.add("dirty"),this.refreshFormContent({name:i,librarySettings:{}})}delete(){window.appSettings.deleteCurrentUserSettings(),location.reload()}cancel(){this.formIsNew=!1,this.formIsDirty=!1,this.classList.remove("dirty"),this.refreshSelect(),this.refreshFormContent(window.appSettings.getCurrentUserSettings())}setPathValue(i,o,u){const p=o.split(".");p.reduce((C,I,F)=>(F===p.length-1?C[I]=u:Object.prototype.hasOwnProperty.call(C,I)||(C[I]={}),C[I]),i)}getPathValue(i,o){return o.split(".").reduce((u,p)=>u&&u[p],i)}refreshSelect(){this.selectEl.innerHTML="";const{userSettings:i,currentUserSettingsId:o}=window.appSettings.get();i.sort((u,p)=>u.name.localeCompare(p.name)).forEach(u=>{const p=document.createElement("option");p.selected=u.name===o,p.value=String(u.name),p.textContent=u.name,this.selectEl.appendChild(p)})}refreshFormContent(i){this.formContentEl.innerHTML="";const{librarySettingsDefinition:o}=window.appSettings.get(),{name:u,librarySettings:p}=i;this.settingsNameEl.value=u,o.sort((C,I)=>(I._sortIndex||0)-(C._sortIndex||0)).forEach(C=>{const I=document.createElement("div");this.formContentEl.prepend(I);const F=document.createElement("label");F.htmlFor=C.name.replace(".",""),F.textContent=`${C.label}${C.required?" *":""}`;const L=document.createElement("list"===C.type?"select":"input");switch(L.id=C.name.replace(".",""),L.name=C.name.replace(".",""),L.required=!0===C.required,C.type){case"boolean":L.checked=this.getPathValue(p,C.name),L.type="checkbox",I.appendChild(L),I.appendChild(F);break;case"list":C.values?.forEach(J=>{const xe=document.createElement("option");xe.value=String(J.value),xe.textContent=J.label,L.appendChild(xe)}),L.value=this.getPathValue(p,C.name),L.classList.add("flex"),I.classList.add("input","column"),I.appendChild(F),I.appendChild(L);break;default:{const J=this.getPathValue(p,C.name);L.value="json"===C.type?J?JSON.stringify(J):"":J??"",I.classList.add("input","column"),I.appendChild(F),I.appendChild(L);break}}})}saveAndReload(){if(this.formEl.reportValidity()){const{librarySettingsDefinition:i}=window.appSettings.get(),o=this.formIsNew?{name:"",librarySettings:{}}:window.appSettings.getCurrentUserSettings();o.name=this.settingsNameEl.value,i.forEach(u=>{const p=this.shadowRoot?.querySelector(`#${u.name.replace(".","")}`);let C;switch(u.type){case"boolean":C=p.checked;break;case"list":default:C=p.value;break;case"json":try{const I=p.value;I&&""!==I.trim()&&(C=JSON.parse(I))}catch(I){console.error(I)}}this.setPathValue(o.librarySettings,u.name,C)}),window.appSettings.addOrUpdateUserSettings(o),this.formIsNew&&window.appSettings.setCurrentUserSettings(o.name),location.reload()}}}window.customElements.define("demo-app-settings",Ql);const af=JSON.parse('{"u2":"@badisi/auth-js","Xh":"https://github.com/Badisi/auth-js/tree/main/projects/auth-js"}'),Xl=JSON.parse('{"u2":"@badisi/ngx-auth","i8":"0.0.0-semantically-released","Xh":"https://github.com/Badisi/auth-js/tree/main/projects/ngx-auth"}'),eu=[{name:"authorityUrl",label:"Authority url",type:"string",required:!0},{name:"clientId",label:"Client id",type:"string",required:!0},{name:"mobileScheme",label:"Custom mobile scheme name",type:"string"},{name:"scope",label:"Scope",type:"string"},{name:"internal.extraQueryParams",label:"Extra query params",type:"json"},{name:"desktopNavigationType",label:"Desktop navigation type",type:"list",values:[{label:"REDIRECT",value:Gn.REDIRECT},{label:"POPUP",value:Gn.POPUP}]},{name:"logLevel",label:"Log level",type:"list",values:[{label:"NONE",value:An.NONE},{label:"ERROR",value:An.ERROR},{label:"WARN",value:An.WARN},{label:"INFO",value:An.INFO},{label:"DEBUG",value:An.DEBUG}]},{name:"loginRequired",label:"Login required",type:"boolean"},{name:"retrieveUserSession",label:"Retrieve user's session",type:"boolean"},{name:"loadUserInfo",label:"Load user's info",type:"boolean"},{name:"automaticSilentRenew",label:"Automatic silent renew",type:"boolean"},{name:"automaticLoginOn401",label:"Automatic login on 401",type:"boolean"},{name:"automaticInjectToken",label:"Automatic inject token",type:"boolean"}];eu.splice(3,0,{name:"authGuardRedirectUrl",label:"AuthGuard redirect url",type:"string"});const uf=eu;let Sc=(()=>{class a{constructor(o,u){this._renderer=o,this._elementRef=u,this.onChange=p=>{},this.onTouched=()=>{}}setProperty(o,u){this._renderer.setProperty(this._elementRef.nativeElement,o,u)}registerOnTouched(o){this.onTouched=o}registerOnChange(o){this.onChange=o}setDisabledState(o){this.setProperty("disabled",o)}static#e=this.\u0275fac=function(u){return new(u||a)(E.Y36(E.Qsj),E.Y36(E.SBq))};static#t=this.\u0275dir=E.lG2({type:a})}return a})(),Wi=(()=>{class a extends Sc{static#e=this.\u0275fac=function(){let o;return function(p){return(o||(o=E.n5z(a)))(p||a)}}();static#t=this.\u0275dir=E.lG2({type:a,features:[E.qOj]})}return a})();const Pr=new E.OlP("NgValueAccessor"),Wa={provide:Pr,useExisting:(0,E.Gpc)(()=>ru),multi:!0},df=new E.OlP("CompositionEventMode");let ru=(()=>{class a extends Sc{constructor(o,u,p){super(o,u),this._compositionMode=p,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function pp(){const a=(0,ns.q)()?(0,ns.q)().getUserAgent():"";return/android (\d+)/.test(a.toLowerCase())}())}writeValue(o){this.setProperty("value",o??"")}_handleInput(o){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(o)}_compositionStart(){this._composing=!0}_compositionEnd(o){this._composing=!1,this._compositionMode&&this.onChange(o)}static#e=this.\u0275fac=function(u){return new(u||a)(E.Y36(E.Qsj),E.Y36(E.SBq),E.Y36(df,8))};static#t=this.\u0275dir=E.lG2({type:a,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(u,p){1&u&&E.NdJ("input",function(I){return p._handleInput(I.target.value)})("blur",function(){return p.onTouched()})("compositionstart",function(){return p._compositionStart()})("compositionend",function(I){return p._compositionEnd(I.target.value)})},features:[E._Bn([Wa]),E.qOj]})}return a})();const Fn=new E.OlP("NgValidators"),qi=new E.OlP("NgAsyncValidators");function su(a){return null!=a}function Mc(a){return(0,E.QGY)(a)?(0,lc.D)(a):a}function Ic(a){let i={};return a.forEach(o=>{i=null!=o?{...i,...o}:i}),0===Object.keys(i).length?null:i}function Tc(a,i){return i.map(o=>o(a))}function _f(a){return a.map(i=>function yf(a){return!a.validate}(i)?i:o=>i.validate(o))}function Ac(a){return null!=a?function wf(a){if(!a)return null;const i=a.filter(su);return 0==i.length?null:function(o){return Ic(Tc(o,i))}}(_f(a)):null}function xc(a){return null!=a?function Df(a){if(!a)return null;const i=a.filter(su);return 0==i.length?null:function(o){return qd(Tc(o,i).map(Mc)).pipe((0,Ie.U)(Ic))}}(_f(a)):null}function Yi(a,i){return null===a?[i]:Array.isArray(a)?[...a,i]:[a,i]}function Cf(a){return a?Array.isArray(a)?a:[a]:[]}function Rc(a,i){return Array.isArray(a)?a.includes(i):a===i}function mp(a,i){const o=Cf(i);return Cf(a).forEach(p=>{Rc(o,p)||o.push(p)}),o}function vp(a,i){return Cf(i).filter(o=>!Rc(a,o))}class yp{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(i){this._rawValidators=i||[],this._composedValidatorFn=Ac(this._rawValidators)}_setAsyncValidators(i){this._rawAsyncValidators=i||[],this._composedAsyncValidatorFn=xc(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(i){this._onDestroyCallbacks.push(i)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(i=>i()),this._onDestroyCallbacks=[]}reset(i=void 0){this.control&&this.control.reset(i)}hasError(i,o){return!!this.control&&this.control.hasError(i,o)}getError(i,o){return this.control?this.control.getError(i,o):null}}class qn extends yp{get formDirective(){return null}get path(){return null}}class Eo extends yp{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ef{constructor(i){this._cd=i}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let au=(()=>{class a extends Ef{constructor(o){super(o)}static#e=this.\u0275fac=function(u){return new(u||a)(E.Y36(Eo,2))};static#t=this.\u0275dir=E.lG2({type:a,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(u,p){2&u&&E.ekj("ng-untouched",p.isUntouched)("ng-touched",p.isTouched)("ng-pristine",p.isPristine)("ng-dirty",p.isDirty)("ng-valid",p.isValid)("ng-invalid",p.isInvalid)("ng-pending",p.isPending)},features:[E.qOj]})}return a})();const So="VALID",uu="INVALID",Mo="PENDING",Ya="DISABLED";function Ka(a){return null!=a&&!Array.isArray(a)&&"object"==typeof a}class Of{constructor(i,o){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(i),this._assignAsyncValidators(o)}get validator(){return this._composedValidatorFn}set validator(i){this._rawValidators=this._composedValidatorFn=i}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(i){this._rawAsyncValidators=this._composedAsyncValidatorFn=i}get parent(){return this._parent}get valid(){return this.status===So}get invalid(){return this.status===uu}get pending(){return this.status==Mo}get disabled(){return this.status===Ya}get enabled(){return this.status!==Ya}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(i){this._assignValidators(i)}setAsyncValidators(i){this._assignAsyncValidators(i)}addValidators(i){this.setValidators(mp(i,this._rawValidators))}addAsyncValidators(i){this.setAsyncValidators(mp(i,this._rawAsyncValidators))}removeValidators(i){this.setValidators(vp(i,this._rawValidators))}removeAsyncValidators(i){this.setAsyncValidators(vp(i,this._rawAsyncValidators))}hasValidator(i){return Rc(this._rawValidators,i)}hasAsyncValidator(i){return Rc(this._rawAsyncValidators,i)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(i={}){this.touched=!0,this._parent&&!i.onlySelf&&this._parent.markAsTouched(i)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(i=>i.markAllAsTouched())}markAsUntouched(i={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(o=>{o.markAsUntouched({onlySelf:!0})}),this._parent&&!i.onlySelf&&this._parent._updateTouched(i)}markAsDirty(i={}){this.pristine=!1,this._parent&&!i.onlySelf&&this._parent.markAsDirty(i)}markAsPristine(i={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(o=>{o.markAsPristine({onlySelf:!0})}),this._parent&&!i.onlySelf&&this._parent._updatePristine(i)}markAsPending(i={}){this.status=Mo,!1!==i.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!i.onlySelf&&this._parent.markAsPending(i)}disable(i={}){const o=this._parentMarkedDirty(i.onlySelf);this.status=Ya,this.errors=null,this._forEachChild(u=>{u.disable({...i,onlySelf:!0})}),this._updateValue(),!1!==i.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...i,skipPristineCheck:o}),this._onDisabledChange.forEach(u=>u(!0))}enable(i={}){const o=this._parentMarkedDirty(i.onlySelf);this.status=So,this._forEachChild(u=>{u.enable({...i,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent}),this._updateAncestors({...i,skipPristineCheck:o}),this._onDisabledChange.forEach(u=>u(!1))}_updateAncestors(i){this._parent&&!i.onlySelf&&(this._parent.updateValueAndValidity(i),i.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(i){this._parent=i}getRawValue(){return this.value}updateValueAndValidity(i={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===So||this.status===Mo)&&this._runAsyncValidator(i.emitEvent)),!1!==i.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!i.onlySelf&&this._parent.updateValueAndValidity(i)}_updateTreeValidity(i={emitEvent:!0}){this._forEachChild(o=>o._updateTreeValidity(i)),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ya:So}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(i){if(this.asyncValidator){this.status=Mo,this._hasOwnPendingAsyncValidator=!0;const o=Mc(this.asyncValidator(this));this._asyncValidationSubscription=o.subscribe(u=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(u,{emitEvent:i})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(i,o={}){this.errors=i,this._updateControlsErrors(!1!==o.emitEvent)}get(i){let o=i;return null==o||(Array.isArray(o)||(o=o.split(".")),0===o.length)?null:o.reduce((u,p)=>u&&u._find(p),this)}getError(i,o){const u=o?this.get(o):this;return u&&u.errors?u.errors[i]:null}hasError(i,o){return!!this.getError(i,o)}get root(){let i=this;for(;i._parent;)i=i._parent;return i}_updateControlsErrors(i){this.status=this._calculateStatus(),i&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(i)}_initObservables(){this.valueChanges=new E.vpe,this.statusChanges=new E.vpe}_calculateStatus(){return this._allControlsDisabled()?Ya:this.errors?uu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Mo)?Mo:this._anyControlsHaveStatus(uu)?uu:So}_anyControlsHaveStatus(i){return this._anyControls(o=>o.status===i)}_anyControlsDirty(){return this._anyControls(i=>i.dirty)}_anyControlsTouched(){return this._anyControls(i=>i.touched)}_updatePristine(i={}){this.pristine=!this._anyControlsDirty(),this._parent&&!i.onlySelf&&this._parent._updatePristine(i)}_updateTouched(i={}){this.touched=this._anyControlsTouched(),this._parent&&!i.onlySelf&&this._parent._updateTouched(i)}_registerOnCollectionChange(i){this._onCollectionChange=i}_setUpdateStrategy(i){Ka(i)&&null!=i.updateOn&&(this._updateOn=i.updateOn)}_parentMarkedDirty(i){return!i&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(i){return null}_assignValidators(i){this._rawValidators=Array.isArray(i)?i.slice():i,this._composedValidatorFn=function bp(a){return Array.isArray(a)?Ac(a):a||null}(this._rawValidators)}_assignAsyncValidators(i){this._rawAsyncValidators=Array.isArray(i)?i.slice():i,this._composedAsyncValidatorFn=function Af(a){return Array.isArray(a)?xc(a):a||null}(this._rawAsyncValidators)}}const mt=new E.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Io}),Io="always";function Ks(a,i,o=Io){(function du(a,i){const o=function Ys(a){return a._rawValidators}(a);null!==i.validator?a.setValidators(Yi(o,i.validator)):"function"==typeof o&&a.setValidators([o]);const u=function bf(a){return a._rawAsyncValidators}(a);null!==i.asyncValidator?a.setAsyncValidators(Yi(u,i.asyncValidator)):"function"==typeof u&&a.setAsyncValidators([u]);const p=()=>a.updateValueAndValidity();Zs(i._rawValidators,p),Zs(i._rawAsyncValidators,p)})(a,i),i.valueAccessor.writeValue(a.value),(a.disabled||"always"===o)&&i.valueAccessor.setDisabledState?.(a.disabled),function Nc(a,i){i.valueAccessor.registerOnChange(o=>{a._pendingValue=o,a._pendingChange=!0,a._pendingDirty=!0,"change"===a.updateOn&&fu(a,i)})}(a,i),function Sp(a,i){const o=(u,p)=>{i.valueAccessor.writeValue(u),p&&i.viewToModelUpdate(u)};a.registerOnChange(o),i._registerOnDestroy(()=>{a._unregisterOnChange(o)})}(a,i),function Lm(a,i){i.valueAccessor.registerOnTouched(()=>{a._pendingTouched=!0,"blur"===a.updateOn&&a._pendingChange&&fu(a,i),"submit"!==a.updateOn&&a.markAsTouched()})}(a,i),function Ep(a,i){if(i.valueAccessor.setDisabledState){const o=u=>{i.valueAccessor.setDisabledState(u)};a.registerOnDisabledChange(o),i._registerOnDestroy(()=>{a._unregisterOnDisabledChange(o)})}}(a,i)}function Zs(a,i){a.forEach(o=>{o.registerOnValidatorChange&&o.registerOnValidatorChange(i)})}function fu(a,i){a._pendingDirty&&a.markAsDirty(),a.setValue(a._pendingValue,{emitModelToViewChange:!1}),i.viewToModelUpdate(a._pendingValue),a._pendingChange=!1}function fs(a,i){const o=a.indexOf(i);o>-1&&a.splice(o,1)}function kf(a){return"object"==typeof a&&null!==a&&2===Object.keys(a).length&&"value"in a&&"disabled"in a}const Lf=class extends Of{constructor(i=null,o,u){super(function tn(a){return(Ka(a)?a.validators:a)||null}(o),function Oc(a,i){return(Ka(i)?i.asyncValidators:a)||null}(u,o)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(i),this._setUpdateStrategy(o),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ka(o)&&(o.nonNullable||o.initialValueIsDefault)&&(this.defaultValue=kf(i)?i.value:i)}setValue(i,o={}){this.value=this._pendingValue=i,this._onChange.length&&!1!==o.emitModelToViewChange&&this._onChange.forEach(u=>u(this.value,!1!==o.emitViewToModelChange)),this.updateValueAndValidity(o)}patchValue(i,o={}){this.setValue(i,o)}reset(i=this.defaultValue,o={}){this._applyFormState(i),this.markAsPristine(o),this.markAsUntouched(o),this.setValue(this.value,o),this._pendingChange=!1}_updateValue(){}_anyControls(i){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(i){this._onChange.push(i)}_unregisterOnChange(i){fs(this._onChange,i)}registerOnDisabledChange(i){this._onDisabledChange.push(i)}_unregisterOnDisabledChange(i){fs(this._onDisabledChange,i)}_forEachChild(i){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(i){kf(i)?(this.value=this._pendingValue=i.value,i.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=i}},Ap={provide:Eo,useExisting:(0,E.Gpc)(()=>jf)},xp=(()=>Promise.resolve())();let jf=(()=>{class a extends Eo{constructor(o,u,p,C,I,F){super(),this._changeDetectorRef=I,this.callSetDisabledState=F,this.control=new Lf,this._registered=!1,this.name="",this.update=new E.vpe,this._parent=o,this._setValidators(u),this._setAsyncValidators(p),this.valueAccessor=function Zi(a,i){if(!i)return null;let o,u,p;return Array.isArray(i),i.forEach(C=>{C.constructor===ru?o=C:function Uc(a){return Object.getPrototypeOf(a.constructor)===Wi}(C)?u=C:p=C}),p||u||o||null}(0,C)}ngOnChanges(o){if(this._checkForErrors(),!this._registered||"name"in o){if(this._registered&&(this._checkName(),this.formDirective)){const u=o.name.previousValue;this.formDirective.removeControl({name:u,path:this._getPath(u)})}this._setUpControl()}"isDisabled"in o&&this._updateDisabled(o),function Lc(a,i){if(!a.hasOwnProperty("model"))return!1;const o=a.model;return!!o.isFirstChange()||!Object.is(i,o.currentValue)}(o,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(o){this.viewModel=o,this.update.emit(o)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ks(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(o){xp.then(()=>{this.control.setValue(o,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(o){const u=o.isDisabled.currentValue,p=0!==u&&(0,E.D6c)(u);xp.then(()=>{p&&!this.control.disabled?this.control.disable():!p&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(o){return this._parent?function Za(a,i){return[...i.path,a]}(o,this._parent):[o]}static#e=this.\u0275fac=function(u){return new(u||a)(E.Y36(qn,9),E.Y36(Fn,10),E.Y36(qi,10),E.Y36(Pr,10),E.Y36(E.sBO,8),E.Y36(mt,8))};static#t=this.\u0275dir=E.lG2({type:a,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[E._Bn([Ap]),E.qOj,E.TTD]})}return a})(),yu=(()=>{class a{static#e=this.\u0275fac=function(u){return new(u||a)};static#t=this.\u0275mod=E.oAB({type:a});static#n=this.\u0275inj=E.cJS({})}return a})(),Jf=(()=>{class a{static#e=this.\u0275fac=function(u){return new(u||a)};static#t=this.\u0275mod=E.oAB({type:a});static#n=this.\u0275inj=E.cJS({imports:[yu]})}return a})(),ta=(()=>{class a{static withConfig(o){return{ngModule:a,providers:[{provide:mt,useValue:o.callSetDisabledState??Io}]}}static#e=this.\u0275fac=function(u){return new(u||a)};static#t=this.\u0275mod=E.oAB({type:a});static#n=this.\u0275inj=E.cJS({imports:[Jf]})}return a})();var Xf=R(5852);const Ym=["demoAppPlayground"],$p=["queryParamsInput"],eh=[{path:"",component:(()=>{class a{constructor(o,u,p){this.router=o,this.authService=u,this.httpClient=p}ngAfterViewInit(){setTimeout(()=>{const o=window.appSettings.getCurrentUserSettings().otherSettings;if(this.roles=o?.roles,this.queryParams=o?.queryParams,this.queryParams){let u="";Object.entries(this.queryParams).forEach(([p,C],I)=>{I>0&&(u+="&"),u+=`${p}=${C}`}),this.queryParamsInputEl.nativeElement.value=u}})}callPrivateApi(o){const{url:u,headers:p}=o.detail;if(u){let C=new zn;p?.split(";").forEach(F=>{if(F){const L=F.split(":");C=C.append(L[0]?.trim(),L[1]?.trim()||"")}});const I=this.demoAppPlaygroundEl?.nativeElement;this.httpClient.get(u,p?{headers:C}:{}).subscribe({next:F=>I?.setApiStatus(F,!1),error:F=>I?.setApiStatus(F,!0)})}}saveSettings(){(this.demoAppPlaygroundEl?.nativeElement).saveSettings({roles:this.roles,queryParams:this.queryParams})}onQueryParamsInputChange(o){const u={};o?.split("&").forEach(p=>{const C=p.split("=");2===C.length&&(u[C[0]]=C[1])}),this.queryParams=u,this.saveSettings()}static#e=this.\u0275fac=function(u){return new(u||a)(E.Y36(Kr.F0),E.Y36(Ta),E.Y36(Oa))};static#t=this.\u0275cmp=E.Xpm({type:a,selectors:[["app-demo"]],viewQuery:function(u,p){if(1&u&&(E.Gf(Ym,5),E.Gf($p,5)),2&u){let C;E.iGM(C=E.CRH())&&(p.demoAppPlaygroundEl=C.first),E.iGM(C=E.CRH())&&(p.queryParamsInputEl=C.first)}},decls:48,vars:32,consts:[[3,"isRenewing","isAuthenticated","login","logout","silentRenew"],["tabLabel","Playground",3,"api"],["demoAppPlayground",""],[1,"card","routes"],[1,"card-title"],[1,"card-actions","column"],[1,"route","query-params"],[1,"info"],["placeholder","param1=one&param2=two",3,"input"],["queryParamsInput",""],[1,"route"],["routerLink","/",3,"queryParams"],["routerLink","/public",3,"queryParams"],["routerLink","/private",3,"queryParams"],["routerLink","/protected",3,"queryParams"],["id","roles-input",3,"ngModel","input","keydown.enter","ngModelChange"],[1,"box"],["tabLabel","Debug",3,"isAuthenticated","userProfile","userSession","idToken","idTokenDecoded","accessToken","accessTokenDecoded"],["tabLabel","Settings"]],template:function(u,p){if(1&u){const C=E.EpF();E.TgZ(0,"demo-app-main",0),E.NdJ("login",function(){return p.authService.login()})("logout",function(){return p.authService.logout({redirectUrl:"/"})})("silentRenew",function(){return p.authService.renew()}),E.ALo(1,"async"),E.ALo(2,"async"),E.TgZ(3,"demo-app-playground",1,2),E.NdJ("api",function(F){return p.callPrivateApi(F)}),E.TgZ(5,"div",3)(6,"div",4),E._uU(7,"Routes access"),E.qZA(),E.TgZ(8,"div",5)(9,"div",6)(10,"div",7)(11,"label"),E._uU(12,"Query params"),E.qZA(),E.TgZ(13,"input",8,9),E.NdJ("input",function(){E.CHM(C);const F=E.MAs(14);return E.KtG(p.onQueryParamsInputChange(F.value))}),E.qZA()()(),E.TgZ(15,"div",10)(16,"button",11),E._uU(17,"HOME"),E.qZA(),E.TgZ(18,"div",7),E._uU(19,"Home page"),E.qZA()(),E.TgZ(20,"div",10)(21,"button",12),E._uU(22,"PUBLIC"),E.qZA(),E.TgZ(23,"div",7),E._uU(24,"Public content (no login required)"),E.qZA()(),E.TgZ(25,"div",10)(26,"button",13),E._uU(27,"PRIVATE"),E.qZA(),E.TgZ(28,"div",7),E._uU(29,"Private content (login required)"),E.qZA()(),E.TgZ(30,"div",10)(31,"button",14),E._uU(32,"PROTECTED"),E.qZA(),E.TgZ(33,"div",7),E._uU(34,"Protected content (login required + role(s): "),E.TgZ(35,"input",15),E.NdJ("input",function(){return p.saveSettings()})("keydown.enter",function(){return p.router.navigateByUrl("/protected")})("ngModelChange",function(F){return p.roles=F}),E.qZA(),E._uU(36,") "),E.qZA()()(),E.TgZ(37,"div",16),E._UZ(38,"router-outlet"),E.qZA()()(),E._UZ(39,"demo-app-debug",17),E.ALo(40,"async"),E.ALo(41,"async"),E.ALo(42,"async"),E.ALo(43,"async"),E.ALo(44,"async"),E.ALo(45,"async"),E.ALo(46,"async"),E._UZ(47,"demo-app-settings",18),E.qZA()}2&u&&(E.Q6J("isRenewing",E.lcZ(1,14,p.authService.isRenewing$))("isAuthenticated",E.lcZ(2,16,p.authService.isAuthenticated$)),E.xp6(16),E.Q6J("queryParams",p.queryParams),E.xp6(5),E.Q6J("queryParams",p.queryParams),E.xp6(5),E.Q6J("queryParams",p.queryParams),E.xp6(5),E.Q6J("queryParams",p.queryParams),E.xp6(4),E.Q6J("ngModel",p.roles),E.xp6(4),E.Q6J("isAuthenticated",E.lcZ(40,18,p.authService.isAuthenticated$))("userProfile",E.lcZ(41,20,p.authService.userProfile$))("userSession",E.lcZ(42,22,p.authService.userSession$))("idToken",E.lcZ(43,24,p.authService.idToken$))("idTokenDecoded",E.lcZ(44,26,p.authService.idTokenDecoded$))("accessToken",E.lcZ(45,28,p.authService.accessToken$))("accessTokenDecoded",E.lcZ(46,30,p.authService.accessTokenDecoded$)))},dependencies:[Kr.lC,Kr.rH,ru,au,jf,ns.Ov],styles:[":host .card.routes{margin-top:20px}:host .card.routes .route{display:flex;align-items:center}:host .card.routes .route.query-params{margin:0 0 10px 10px}:host .card.routes .route.query-params label{font-size:16px;color:#000;margin-right:12px}:host .card.routes .route.query-params input{width:500px}:host .card.routes .route button{padding:2px 10px;min-width:104px;margin:8px 12px 8px 8px}:host .card.routes .route input{margin:0 2px;padding:4px}:host .card.routes .route .info{padding-bottom:2px;font-size:14px;line-height:22px;text-align:left;color:#0000008a}:host .card.routes .box{height:100px}@media only screen and (max-width: 600px){:host .card.routes{margin-top:12px}:host .card.routes .route{margin-left:3px!important}:host .card.routes .route.query-params .info{display:flex;flex-direction:column;flex:1;gap:8px}:host .card.routes .route.query-params .info input{margin:0;width:inherit;align-self:normal}:host .card.routes .route #roles-input{width:90%}:host .card.routes .route button{margin-left:3px}}\n",".flex{flex:1}.hidden{display:none!important}.row{display:flex;flex-direction:row}.column{display:flex;flex-direction:column}.card{border:1px solid rgba(0,0,0,.12);border-radius:4px;background-color:#fff;margin:12px 6px}.card .card-status{display:block;width:10px;height:10px;border-radius:50%;margin-left:8px;background-color:#f2f2f2}.card .card-status.error{background-color:#ef5350}.card .card-status.success{background-color:#66bb6a}.card .card-title{padding:16px;font-size:20px;font-weight:500;color:#000000de;align-items:center}.card .box{height:200px;border-top:1px solid lightgray;word-break:break-all;overflow:auto;background-color:#f2f2f2;padding:12px}.card .box pre{margin:0}.card .card-actions{padding:0 14px 8px;min-height:50px}.card .card-actions .input{display:flex;align-items:center}.card .card-actions .input:not(:last-child){margin-bottom:8px}.card .card-actions .input label{width:125px;text-align:right;margin-right:14px}.card .card-actions .input input{padding:4px}.json-key{color:#7c4dff}.json-value{color:#437aed}.json-string{color:#53a053}.json-date{color:#c838c6}input{color:#5e35b1;padding:10px;border:1px solid rgba(0,0,0,.1215686275);border-radius:4px;font-size:14px}input:invalid{border-color:#f44336}input[type=checkbox]{margin-right:10px}select{color:#5e35b1;padding:8px 6px;border:1px solid rgba(0,0,0,.1215686275);border-radius:4px}@media only screen and (max-width: 600px){:host{padding:0 0 24px!important}:host .card{border-left:0;border-right:0;border-radius:0;margin:0 0 6px}}\n"],encapsulation:3})}return a})(),children:[{path:"public",loadChildren:()=>Promise.resolve().then(R.bind(R,5852)).then(a=>a.PageModule),runGuardsAndResolvers:"always",data:{title:"PUBLIC CONTENT"}},{path:"private",loadChildren:()=>Promise.resolve().then(R.bind(R,5852)).then(a=>a.PageModule),runGuardsAndResolvers:"always",canLoad:[os],canActivate:[os],canActivateChild:[os],data:{title:"PRIVATE CONTENT"}},{path:"forbidden",loadChildren:()=>Promise.resolve().then(R.bind(R,5852)).then(a=>a.PageModule),runGuardsAndResolvers:"always",data:{title:"ACCESS FORBIDDEN"}},{path:"protected",loadChildren:()=>Promise.resolve().then(R.bind(R,5852)).then(a=>a.PageModule),runGuardsAndResolvers:"always",canLoad:[os],canActivate:[os],canActivateChild:[os],data:{title:"PROTECTED CONTENT",authGuardValidator:(a,i)=>{const{otherSettings:o,librarySettings:u}=window.appSettings.getCurrentUserSettings(),p=o&&o.roles?.split(",")||[];let C;if(u.authorityUrl.includes("auth0"))C=i?.["http://ngx-auth.com/roles"];else if(u.authorityUrl.includes("zitadel")){const I=i?.["urn:zitadel:iam:org:project:roles"];C=Object.keys(I??{})}else C=i.resource_access?.account?.roles;return p.every(I=>(C??[]).includes(I))}}}]}];let th=(()=>{class a{static#e=this.\u0275fac=function(u){return new(u||a)};static#t=this.\u0275mod=E.oAB({type:a});static#n=this.\u0275inj=E.cJS({imports:[Kr.Bz.forChild(eh),Kr.Bz]})}return a})(),Km=(()=>{class a{static#e=this.\u0275fac=function(u){return new(u||a)};static#t=this.\u0275mod=E.oAB({type:a});static#n=this.\u0275inj=E.cJS({imports:[ns.ez,th,ta,$d,Xf.PageModule]})}return a})(),nh=(()=>{class a{static#e=this.\u0275fac=function(u){return new(u||a)};static#t=this.\u0275mod=E.oAB({type:a,bootstrap:[ep]});static#n=this.\u0275inj=E.cJS({imports:[Jd,w.b2,ns.ez,Km,tp]})}return a})();const al=new class lf{constructor(i,o){this.storageKey=i,this.defaultAppSettings=o,this.implementations=[{label:"VanillaJS",demoUrl:"https://badisi.github.io/auth-js/demo-app/auth-js",version:`<a href="${af.Xh}" target="_blank">${af.u2}@main</a>`},{label:"Angular",demoUrl:"https://badisi.github.io/auth-js/demo-app/ngx-auth",version:`<a href="${Xl.Xh}" target="_blank">${Xl.u2}@main</a>`}],this.defaultAppSettings.librarySettingsDefinition.forEach((u,p)=>u._sortIndex=p)}getImplementations(){return this.implementations}setShowTip(i){const o=this.get();o.showTip=i,this.saveAppSettings(o)}setCurrentTabIndex(i){const o=this.get();o.currentTabIndex=i,this.saveAppSettings(o)}addOrUpdateUserSettings(i){const o=this.get(),u=o.userSettings.findIndex(p=>p.name===i.name);-1!==u?o.userSettings[u]=i:o.userSettings.push(i),this.saveAppSettings(o)}deleteCurrentUserSettings(){const i=this.get(),{name:o}=this.getCurrentUserSettings(),u=i.userSettings.findIndex(p=>p.name===o);-1!==u&&(i.userSettings.splice(u,1),delete i.currentUserSettingsId,this.saveAppSettings(i))}setCurrentUserSettings(i){const o=this.get();-1!==o.userSettings.findIndex(p=>p.name===i)&&(o.currentUserSettingsId=i,this.saveAppSettings(o))}getCurrentUserSettings(){const i=this.get(),o=i.userSettings.findIndex(u=>u.name===i.currentUserSettingsId);return-1!==o?i.userSettings[o]:i.userSettings.sort((u,p)=>u.name.localeCompare(p.name))[0]}get(){const i=sessionStorage.getItem(this.storageKey);if(i){const o={...this.defaultAppSettings,...JSON.parse(i)};return this.defaultAppSettings.userSettings.forEach(u=>{o.userSettings.find(p=>p.name===u.name)||o.userSettings.push(u)}),o}return{...this.defaultAppSettings}}saveAppSettings(i){delete i.librarySettingsDefinition,sessionStorage.setItem(this.storageKey,JSON.stringify(i))}}(`ngx-auth:${Xl.i8}:demo-app:settings`,{showTip:!0,currentTabIndex:0,userSettings:((a=!1)=>{const i=((a=!1)=>{const i=[{name:"Auth0",otherSettings:{privateApiUrl:"https://dev-fijd1e9x.us.auth0.com/api/v2/users/auth0|631b171682c639d40cb84d5c",privateApiHeaders:""},librarySettings:{authorityUrl:"https://dev-fijd1e9x.us.auth0.com",clientId:"kRVVEnAWKMpxxpcodl0TqLXfIHgQvmmt",mobileScheme:"demo-app",scope:"openid profile email phone offline_access read:current_user",internal:{extraQueryParams:{audience:"https://dev-fijd1e9x.us.auth0.com/api/v2/"}},desktopNavigationType:Gn.REDIRECT,logLevel:An.NONE,loginRequired:!1,retrieveUserSession:!0,loadUserInfo:!0,automaticSilentRenew:!0}},{name:"Zitadel",otherSettings:{privateApiUrl:"",privateApiHeaders:""},librarySettings:{authorityUrl:"https://auth-js-0pdipf.zitadel.cloud",clientId:"178200751804317953@demo-app",mobileScheme:"demo-app",scope:"openid profile email phone offline_access",desktopNavigationType:Gn.REDIRECT,logLevel:An.NONE,loginRequired:!1,retrieveUserSession:!0,loadUserInfo:!0,automaticSilentRenew:!0}}];return a||i.push({name:"Keycloak (local)",otherSettings:{privateApiUrl:"/api/my-api",privateApiHeaders:""},librarySettings:{authorityUrl:"http://localhost:8080/auth/realms/demo",clientId:"demo-app",mobileScheme:"demo-app",scope:"openid profile email phone",desktopNavigationType:Gn.REDIRECT,logLevel:An.NONE,loginRequired:!1,retrieveUserSession:!0,loadUserInfo:!0,automaticSilentRenew:!0}}),i})(a),o=[{name:"Auth0",otherSettings:{...i[0].otherSettings,roles:"view-profile"},librarySettings:{...i[0].librarySettings,authGuardRedirectUrl:"/forbidden",automaticLoginOn401:!0,automaticInjectToken:!0}},{name:"Zitadel",otherSettings:{...i[1].otherSettings,roles:"view-profile"},librarySettings:{...i[1].librarySettings,authGuardRedirectUrl:"/forbidden",automaticLoginOn401:!0,automaticInjectToken:!0}}];return a||o.push({name:"Keycloak (local)",otherSettings:{...i[i.length-1].otherSettings,roles:"view-profile"},librarySettings:{...i[i.length-1].librarySettings,authGuardRedirectUrl:"/forbidden",automaticLoginOn401:!0,automaticInjectToken:!0}}),o})(!(0,E.X6Q)()),librarySettingsDefinition:uf});(()=>{window.appSettings=al;const a=document.createElement("div");a.innerHTML="Loading...",document.body.appendChild(a),Zd(al.getCurrentUserSettings().librarySettings).then(i=>{a.replaceWith(document.createElement("app-root")),w.q6([i]).bootstrapModule(nh).catch(o=>console.error(o))}).catch(i=>{const o=i instanceof Error?i.message:i;a.innerHTML=`${o}<br/><button id="loginButton">Login</button>`,document.body.querySelector("#loginButton")?.addEventListener("click",()=>location.reload(),{once:!0})})})()},7585:function($e,de,R){var w;$e.exports=(w=w||function(B,P){var V;if(typeof window<"u"&&window.crypto&&(V=window.crypto),typeof self<"u"&&self.crypto&&(V=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(V=globalThis.crypto),!V&&typeof window<"u"&&window.msCrypto&&(V=window.msCrypto),!V&&typeof global<"u"&&global.crypto&&(V=global.crypto),!V)try{V=R(2480)}catch{}var Z=function(){if(V){if("function"==typeof V.getRandomValues)try{return V.getRandomValues(new Uint32Array(1))[0]}catch{}if("function"==typeof V.randomBytes)try{return V.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},ve=Object.create||function(){function q(){}return function(Ce){var Fe;return q.prototype=Ce,Fe=new q,q.prototype=null,Fe}}(),ae={},Se=ae.lib={},ye=Se.Base={extend:function(q){var Ce=ve(this);return q&&Ce.mixIn(q),(!Ce.hasOwnProperty("init")||this.init===Ce.init)&&(Ce.init=function(){Ce.$super.init.apply(this,arguments)}),Ce.init.prototype=Ce,Ce.$super=this,Ce},create:function(){var q=this.extend();return q.init.apply(q,arguments),q},init:function(){},mixIn:function(q){for(var Ce in q)q.hasOwnProperty(Ce)&&(this[Ce]=q[Ce]);q.hasOwnProperty("toString")&&(this.toString=q.toString)},clone:function(){return this.init.prototype.extend(this)}},W=Se.WordArray=ye.extend({init:function(q,Ce){q=this.words=q||[],this.sigBytes=null!=Ce?Ce:4*q.length},toString:function(q){return(q||te).stringify(this)},concat:function(q){var Ce=this.words,Fe=q.words,ge=this.sigBytes,fe=q.sigBytes;if(this.clamp(),ge%4)for(var we=0;we<fe;we++)Ce[ge+we>>>2]|=(Fe[we>>>2]>>>24-we%4*8&255)<<24-(ge+we)%4*8;else for(var De=0;De<fe;De+=4)Ce[ge+De>>>2]=Fe[De>>>2];return this.sigBytes+=fe,this},clamp:function(){var q=this.words,Ce=this.sigBytes;q[Ce>>>2]&=4294967295<<32-Ce%4*8,q.length=B.ceil(Ce/4)},clone:function(){var q=ye.clone.call(this);return q.words=this.words.slice(0),q},random:function(q){for(var Ce=[],Fe=0;Fe<q;Fe+=4)Ce.push(Z());return new W.init(Ce,q)}}),Q=ae.enc={},te=Q.Hex={stringify:function(q){for(var Ce=q.words,Fe=q.sigBytes,ge=[],fe=0;fe<Fe;fe++){var we=Ce[fe>>>2]>>>24-fe%4*8&255;ge.push((we>>>4).toString(16)),ge.push((15&we).toString(16))}return ge.join("")},parse:function(q){for(var Ce=q.length,Fe=[],ge=0;ge<Ce;ge+=2)Fe[ge>>>3]|=parseInt(q.substr(ge,2),16)<<24-ge%8*4;return new W.init(Fe,Ce/2)}},Me=Q.Latin1={stringify:function(q){for(var Ce=q.words,Fe=q.sigBytes,ge=[],fe=0;fe<Fe;fe++)ge.push(String.fromCharCode(Ce[fe>>>2]>>>24-fe%4*8&255));return ge.join("")},parse:function(q){for(var Ce=q.length,Fe=[],ge=0;ge<Ce;ge++)Fe[ge>>>2]|=(255&q.charCodeAt(ge))<<24-ge%4*8;return new W.init(Fe,Ce)}},le=Q.Utf8={stringify:function(q){try{return decodeURIComponent(escape(Me.stringify(q)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(q){return Me.parse(unescape(encodeURIComponent(q)))}},Ie=Se.BufferedBlockAlgorithm=ye.extend({reset:function(){this._data=new W.init,this._nDataBytes=0},_append:function(q){"string"==typeof q&&(q=le.parse(q)),this._data.concat(q),this._nDataBytes+=q.sigBytes},_process:function(q){var Ce,Fe=this._data,ge=Fe.words,fe=Fe.sigBytes,we=this.blockSize,De=fe/(4*we),ce=(De=q?B.ceil(De):B.max((0|De)-this._minBufferSize,0))*we,Ge=B.min(4*ce,fe);if(ce){for(var be=0;be<ce;be+=we)this._doProcessBlock(ge,be);Ce=ge.splice(0,ce),Fe.sigBytes-=Ge}return new W.init(Ce,Ge)},clone:function(){var q=ye.clone.call(this);return q._data=this._data.clone(),q},_minBufferSize:0}),Qe=(Se.Hasher=Ie.extend({cfg:ye.extend(),init:function(q){this.cfg=this.cfg.extend(q),this.reset()},reset:function(){Ie.reset.call(this),this._doReset()},update:function(q){return this._append(q),this._process(),this},finalize:function(q){return q&&this._append(q),this._doFinalize()},blockSize:16,_createHelper:function(q){return function(Ce,Fe){return new q.init(Fe).finalize(Ce)}},_createHmacHelper:function(q){return function(Ce,Fe){return new Qe.HMAC.init(q,Fe).finalize(Ce)}}}),ae.algo={});return ae}(Math),w)},8319:function($e,de,R){var w,V;$e.exports=(w=R(7585),V=w.lib.WordArray,w.enc.Base64={stringify:function(Se){var ye=Se.words,W=Se.sigBytes,Q=this._map;Se.clamp();for(var te=[],Me=0;Me<W;Me+=3)for(var Qe=(ye[Me>>>2]>>>24-Me%4*8&255)<<16|(ye[Me+1>>>2]>>>24-(Me+1)%4*8&255)<<8|ye[Me+2>>>2]>>>24-(Me+2)%4*8&255,q=0;q<4&&Me+.75*q<W;q++)te.push(Q.charAt(Qe>>>6*(3-q)&63));var Ce=Q.charAt(64);if(Ce)for(;te.length%4;)te.push(Ce);return te.join("")},parse:function(Se){var ye=Se.length,W=this._map,Q=this._reverseMap;if(!Q){Q=this._reverseMap=[];for(var te=0;te<W.length;te++)Q[W.charCodeAt(te)]=te}var Me=W.charAt(64);if(Me){var le=Se.indexOf(Me);-1!==le&&(ye=le)}return function ae(Se,ye,W){for(var Q=[],te=0,Me=0;Me<ye;Me++)if(Me%4){var le=W[Se.charCodeAt(Me-1)]<<Me%4*2,Ie=W[Se.charCodeAt(Me)]>>>6-Me%4*2;Q[te>>>2]|=(le|Ie)<<24-te%4*8,te++}return V.create(Q,te)}(Se,ye,Q)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},w.enc.Base64)},4384:function($e,de,R){$e.exports=R(7585).enc.Utf8},1817:function($e,de,R){var w;$e.exports=(w=R(7585),function(B){var P=w,V=P.lib,Z=V.WordArray,ve=V.Hasher,ae=P.algo,Se=[],ye=[];!function(){function te(E){for(var Qe=B.sqrt(E),q=2;q<=Qe;q++)if(!(E%q))return!1;return!0}function Me(E){return 4294967296*(E-(0|E))|0}for(var le=2,Ie=0;Ie<64;)te(le)&&(Ie<8&&(Se[Ie]=Me(B.pow(le,.5))),ye[Ie]=Me(B.pow(le,1/3)),Ie++),le++}();var W=[],Q=ae.SHA256=ve.extend({_doReset:function(){this._hash=new Z.init(Se.slice(0))},_doProcessBlock:function(te,Me){for(var le=this._hash.words,Ie=le[0],E=le[1],Qe=le[2],q=le[3],Ce=le[4],Fe=le[5],ge=le[6],fe=le[7],we=0;we<64;we++){if(we<16)W[we]=0|te[Me+we];else{var pe=W[we-15],ce=W[we-2];W[we]=((pe<<25|pe>>>7)^(pe<<14|pe>>>18)^pe>>>3)+W[we-7]+((ce<<15|ce>>>17)^(ce<<13|ce>>>19)^ce>>>10)+W[we-16]}var Re=Ie&E^Ie&Qe^E&Qe,Xe=fe+((Ce<<26|Ce>>>6)^(Ce<<21|Ce>>>11)^(Ce<<7|Ce>>>25))+(Ce&Fe^~Ce&ge)+ye[we]+W[we];fe=ge,ge=Fe,Fe=Ce,Ce=q+Xe|0,q=Qe,Qe=E,E=Ie,Ie=Xe+(((Ie<<30|Ie>>>2)^(Ie<<19|Ie>>>13)^(Ie<<10|Ie>>>22))+Re)|0}le[0]=le[0]+Ie|0,le[1]=le[1]+E|0,le[2]=le[2]+Qe|0,le[3]=le[3]+q|0,le[4]=le[4]+Ce|0,le[5]=le[5]+Fe|0,le[6]=le[6]+ge|0,le[7]=le[7]+fe|0},_doFinalize:function(){var te=this._data,Me=te.words,le=8*this._nDataBytes,Ie=8*te.sigBytes;return Me[Ie>>>5]|=128<<24-Ie%32,Me[14+(Ie+64>>>9<<4)]=B.floor(le/4294967296),Me[15+(Ie+64>>>9<<4)]=le,te.sigBytes=4*Me.length,this._process(),this._hash},clone:function(){var te=ve.clone.call(this);return te._hash=this._hash.clone(),te}});P.SHA256=ve._createHelper(Q),P.HmacSHA256=ve._createHmacHelper(Q)}(Math),w.SHA256)},1135:($e,de,R)=>{"use strict";R.d(de,{X:()=>B});var w=R(7579);class B extends w.x{constructor(V){super(),this._value=V}get value(){return this.getValue()}_subscribe(V){const Z=super._subscribe(V);return!Z.closed&&V.next(this._value),Z}getValue(){const{hasError:V,thrownError:Z,_value:ve}=this;if(V)throw Z;return this._throwIfClosed(),ve}next(V){super.next(this._value=V)}}},9751:($e,de,R)=>{"use strict";R.d(de,{y:()=>Se});var w=R(2961),B=R(727),P=R(8822),V=R(9635),Z=R(2416),ve=R(576),ae=R(2806);let Se=(()=>{class te{constructor(le){le&&(this._subscribe=le)}lift(le){const Ie=new te;return Ie.source=this,Ie.operator=le,Ie}subscribe(le,Ie,E){const Qe=function Q(te){return te&&te instanceof w.Lv||function W(te){return te&&(0,ve.m)(te.next)&&(0,ve.m)(te.error)&&(0,ve.m)(te.complete)}(te)&&(0,B.Nn)(te)}(le)?le:new w.Hp(le,Ie,E);return(0,ae.x)(()=>{const{operator:q,source:Ce}=this;Qe.add(q?q.call(Qe,Ce):Ce?this._subscribe(Qe):this._trySubscribe(Qe))}),Qe}_trySubscribe(le){try{return this._subscribe(le)}catch(Ie){le.error(Ie)}}forEach(le,Ie){return new(Ie=ye(Ie))((E,Qe)=>{const q=new w.Hp({next:Ce=>{try{le(Ce)}catch(Fe){Qe(Fe),q.unsubscribe()}},error:Qe,complete:E});this.subscribe(q)})}_subscribe(le){var Ie;return null===(Ie=this.source)||void 0===Ie?void 0:Ie.subscribe(le)}[P.L](){return this}pipe(...le){return(0,V.U)(le)(this)}toPromise(le){return new(le=ye(le))((Ie,E)=>{let Qe;this.subscribe(q=>Qe=q,q=>E(q),()=>Ie(Qe))})}}return te.create=Me=>new te(Me),te})();function ye(te){var Me;return null!==(Me=te??Z.config.Promise)&&void 0!==Me?Me:Promise}},7579:($e,de,R)=>{"use strict";R.d(de,{x:()=>ae});var w=R(9751),B=R(727);const V=(0,R(3888).d)(ye=>function(){ye(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Z=R(8737),ve=R(2806);let ae=(()=>{class ye extends w.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Q){const te=new Se(this,this);return te.operator=Q,te}_throwIfClosed(){if(this.closed)throw new V}next(Q){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const te of this.currentObservers)te.next(Q)}})}error(Q){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Q;const{observers:te}=this;for(;te.length;)te.shift().error(Q)}})}complete(){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Q}=this;for(;Q.length;)Q.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Q;return(null===(Q=this.observers)||void 0===Q?void 0:Q.length)>0}_trySubscribe(Q){return this._throwIfClosed(),super._trySubscribe(Q)}_subscribe(Q){return this._throwIfClosed(),this._checkFinalizedStatuses(Q),this._innerSubscribe(Q)}_innerSubscribe(Q){const{hasError:te,isStopped:Me,observers:le}=this;return te||Me?B.Lc:(this.currentObservers=null,le.push(Q),new B.w0(()=>{this.currentObservers=null,(0,Z.P)(le,Q)}))}_checkFinalizedStatuses(Q){const{hasError:te,thrownError:Me,isStopped:le}=this;te?Q.error(Me):le&&Q.complete()}asObservable(){const Q=new w.y;return Q.source=this,Q}}return ye.create=(W,Q)=>new Se(W,Q),ye})();class Se extends ae{constructor(W,Q){super(),this.destination=W,this.source=Q}next(W){var Q,te;null===(te=null===(Q=this.destination)||void 0===Q?void 0:Q.next)||void 0===te||te.call(Q,W)}error(W){var Q,te;null===(te=null===(Q=this.destination)||void 0===Q?void 0:Q.error)||void 0===te||te.call(Q,W)}complete(){var W,Q;null===(Q=null===(W=this.destination)||void 0===W?void 0:W.complete)||void 0===Q||Q.call(W)}_subscribe(W){var Q,te;return null!==(te=null===(Q=this.source)||void 0===Q?void 0:Q.subscribe(W))&&void 0!==te?te:B.Lc}}},2961:($e,de,R)=>{"use strict";R.d(de,{Hp:()=>E,Lv:()=>te});var w=R(576),B=R(727),P=R(2416),V=R(7849);function Z(){}const ve=ye("C",void 0,void 0);function ye(ge,fe,we){return{kind:ge,value:fe,error:we}}var W=R(3410),Q=R(2806);class te extends B.w0{constructor(fe){super(),this.isStopped=!1,fe?(this.destination=fe,(0,B.Nn)(fe)&&fe.add(this)):this.destination=Fe}static create(fe,we,pe){return new E(fe,we,pe)}next(fe){this.isStopped?Ce(function Se(ge){return ye("N",ge,void 0)}(fe),this):this._next(fe)}error(fe){this.isStopped?Ce(function ae(ge){return ye("E",void 0,ge)}(fe),this):(this.isStopped=!0,this._error(fe))}complete(){this.isStopped?Ce(ve,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(fe){this.destination.next(fe)}_error(fe){try{this.destination.error(fe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Me=Function.prototype.bind;function le(ge,fe){return Me.call(ge,fe)}class Ie{constructor(fe){this.partialObserver=fe}next(fe){const{partialObserver:we}=this;if(we.next)try{we.next(fe)}catch(pe){Qe(pe)}}error(fe){const{partialObserver:we}=this;if(we.error)try{we.error(fe)}catch(pe){Qe(pe)}else Qe(fe)}complete(){const{partialObserver:fe}=this;if(fe.complete)try{fe.complete()}catch(we){Qe(we)}}}class E extends te{constructor(fe,we,pe){let De;if(super(),(0,w.m)(fe)||!fe)De={next:fe??void 0,error:we??void 0,complete:pe??void 0};else{let ce;this&&P.config.useDeprecatedNextContext?(ce=Object.create(fe),ce.unsubscribe=()=>this.unsubscribe(),De={next:fe.next&&le(fe.next,ce),error:fe.error&&le(fe.error,ce),complete:fe.complete&&le(fe.complete,ce)}):De=fe}this.destination=new Ie(De)}}function Qe(ge){P.config.useDeprecatedSynchronousErrorHandling?(0,Q.O)(ge):(0,V.h)(ge)}function Ce(ge,fe){const{onStoppedNotification:we}=P.config;we&&W.z.setTimeout(()=>we(ge,fe))}const Fe={closed:!0,next:Z,error:function q(ge){throw ge},complete:Z}},727:($e,de,R)=>{"use strict";R.d(de,{Lc:()=>ve,w0:()=>Z,Nn:()=>ae});var w=R(576);const P=(0,R(3888).d)(ye=>function(Q){ye(this),this.message=Q?`${Q.length} errors occurred during unsubscription:\n${Q.map((te,Me)=>`${Me+1}) ${te.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Q});var V=R(8737);class Z{constructor(W){this.initialTeardown=W,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let W;if(!this.closed){this.closed=!0;const{_parentage:Q}=this;if(Q)if(this._parentage=null,Array.isArray(Q))for(const le of Q)le.remove(this);else Q.remove(this);const{initialTeardown:te}=this;if((0,w.m)(te))try{te()}catch(le){W=le instanceof P?le.errors:[le]}const{_finalizers:Me}=this;if(Me){this._finalizers=null;for(const le of Me)try{Se(le)}catch(Ie){W=W??[],Ie instanceof P?W=[...W,...Ie.errors]:W.push(Ie)}}if(W)throw new P(W)}}add(W){var Q;if(W&&W!==this)if(this.closed)Se(W);else{if(W instanceof Z){if(W.closed||W._hasParent(this))return;W._addParent(this)}(this._finalizers=null!==(Q=this._finalizers)&&void 0!==Q?Q:[]).push(W)}}_hasParent(W){const{_parentage:Q}=this;return Q===W||Array.isArray(Q)&&Q.includes(W)}_addParent(W){const{_parentage:Q}=this;this._parentage=Array.isArray(Q)?(Q.push(W),Q):Q?[Q,W]:W}_removeParent(W){const{_parentage:Q}=this;Q===W?this._parentage=null:Array.isArray(Q)&&(0,V.P)(Q,W)}remove(W){const{_finalizers:Q}=this;Q&&(0,V.P)(Q,W),W instanceof Z&&W._removeParent(this)}}Z.EMPTY=(()=>{const ye=new Z;return ye.closed=!0,ye})();const ve=Z.EMPTY;function ae(ye){return ye instanceof Z||ye&&"closed"in ye&&(0,w.m)(ye.remove)&&(0,w.m)(ye.add)&&(0,w.m)(ye.unsubscribe)}function Se(ye){(0,w.m)(ye)?ye():ye.unsubscribe()}},2416:($e,de,R)=>{"use strict";R.d(de,{config:()=>w});const w={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:($e,de,R)=>{"use strict";R.d(de,{E:()=>B});const B=new(R(9751).y)(Z=>Z.complete())},2076:($e,de,R)=>{"use strict";R.d(de,{D:()=>pe});var w=R(8421),B=R(9672),P=R(4482),V=R(5403);function Z(De,ce=0){return(0,P.e)((Ge,be)=>{Ge.subscribe((0,V.x)(be,Re=>(0,B.f)(be,De,()=>be.next(Re),ce),()=>(0,B.f)(be,De,()=>be.complete(),ce),Re=>(0,B.f)(be,De,()=>be.error(Re),ce)))})}function ve(De,ce=0){return(0,P.e)((Ge,be)=>{be.add(De.schedule(()=>Ge.subscribe(be),ce))})}var ye=R(9751),Q=R(2202),te=R(576);function le(De,ce){if(!De)throw new Error("Iterable cannot be null");return new ye.y(Ge=>{(0,B.f)(Ge,ce,()=>{const be=De[Symbol.asyncIterator]();(0,B.f)(Ge,ce,()=>{be.next().then(Re=>{Re.done?Ge.complete():Ge.next(Re.value)})},0,!0)})})}var Ie=R(3670),E=R(8239),Qe=R(1144),q=R(6495),Ce=R(2206),Fe=R(4532),ge=R(3260);function pe(De,ce){return ce?function we(De,ce){if(null!=De){if((0,Ie.c)(De))return function ae(De,ce){return(0,w.Xf)(De).pipe(ve(ce),Z(ce))}(De,ce);if((0,Qe.z)(De))return function W(De,ce){return new ye.y(Ge=>{let be=0;return ce.schedule(function(){be===De.length?Ge.complete():(Ge.next(De[be++]),Ge.closed||this.schedule())})})}(De,ce);if((0,E.t)(De))return function Se(De,ce){return(0,w.Xf)(De).pipe(ve(ce),Z(ce))}(De,ce);if((0,Ce.D)(De))return le(De,ce);if((0,q.T)(De))return function Me(De,ce){return new ye.y(Ge=>{let be;return(0,B.f)(Ge,ce,()=>{be=De[Q.h](),(0,B.f)(Ge,ce,()=>{let Re,dn;try{({value:Re,done:dn}=be.next())}catch(ze){return void Ge.error(ze)}dn?Ge.complete():Ge.next(Re)},0,!0)}),()=>(0,te.m)(be?.return)&&be.return()})}(De,ce);if((0,ge.L)(De))return function fe(De,ce){return le((0,ge.Q)(De),ce)}(De,ce)}throw(0,Fe.z)(De)}(De,ce):(0,w.Xf)(De)}},8421:($e,de,R)=>{"use strict";R.d(de,{Xf:()=>Me});var w=R(7582),B=R(1144),P=R(8239),V=R(9751),Z=R(3670),ve=R(2206),ae=R(4532),Se=R(6495),ye=R(3260),W=R(576),Q=R(7849),te=R(8822);function Me(ge){if(ge instanceof V.y)return ge;if(null!=ge){if((0,Z.c)(ge))return function le(ge){return new V.y(fe=>{const we=ge[te.L]();if((0,W.m)(we.subscribe))return we.subscribe(fe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ge);if((0,B.z)(ge))return function Ie(ge){return new V.y(fe=>{for(let we=0;we<ge.length&&!fe.closed;we++)fe.next(ge[we]);fe.complete()})}(ge);if((0,P.t)(ge))return function E(ge){return new V.y(fe=>{ge.then(we=>{fe.closed||(fe.next(we),fe.complete())},we=>fe.error(we)).then(null,Q.h)})}(ge);if((0,ve.D)(ge))return q(ge);if((0,Se.T)(ge))return function Qe(ge){return new V.y(fe=>{for(const we of ge)if(fe.next(we),fe.closed)return;fe.complete()})}(ge);if((0,ye.L)(ge))return function Ce(ge){return q((0,ye.Q)(ge))}(ge)}throw(0,ae.z)(ge)}function q(ge){return new V.y(fe=>{(function Fe(ge,fe){var we,pe,De,ce;return(0,w.mG)(this,void 0,void 0,function*(){try{for(we=(0,w.KL)(ge);!(pe=yield we.next()).done;)if(fe.next(pe.value),fe.closed)return}catch(Ge){De={error:Ge}}finally{try{pe&&!pe.done&&(ce=we.return)&&(yield ce.call(we))}finally{if(De)throw De.error}}fe.complete()})})(ge,fe).catch(we=>fe.error(we))})}},9646:($e,de,R)=>{"use strict";R.d(de,{of:()=>P});var w=R(7669),B=R(2076);function P(...V){const Z=(0,w.yG)(V);return(0,B.D)(V,Z)}},2843:($e,de,R)=>{"use strict";R.d(de,{_:()=>P});var w=R(9751),B=R(576);function P(V,Z){const ve=(0,B.m)(V)?V:()=>V,ae=Se=>Se.error(ve());return new w.y(Z?Se=>Z.schedule(ae,0,Se):ae)}},5403:($e,de,R)=>{"use strict";R.d(de,{x:()=>B});var w=R(2961);function B(V,Z,ve,ae,Se){return new P(V,Z,ve,ae,Se)}class P extends w.Lv{constructor(Z,ve,ae,Se,ye,W){super(Z),this.onFinalize=ye,this.shouldUnsubscribe=W,this._next=ve?function(Q){try{ve(Q)}catch(te){Z.error(te)}}:super._next,this._error=Se?function(Q){try{Se(Q)}catch(te){Z.error(te)}finally{this.unsubscribe()}}:super._error,this._complete=ae?function(){try{ae()}catch(Q){Z.error(Q)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Z;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ve}=this;super.unsubscribe(),!ve&&(null===(Z=this.onFinalize)||void 0===Z||Z.call(this))}}}},262:($e,de,R)=>{"use strict";R.d(de,{K:()=>V});var w=R(8421),B=R(5403),P=R(4482);function V(Z){return(0,P.e)((ve,ae)=>{let W,Se=null,ye=!1;Se=ve.subscribe((0,B.x)(ae,void 0,void 0,Q=>{W=(0,w.Xf)(Z(Q,V(Z)(ve))),Se?(Se.unsubscribe(),Se=null,W.subscribe(ae)):ye=!0})),ye&&(Se.unsubscribe(),Se=null,W.subscribe(ae))})}},4351:($e,de,R)=>{"use strict";R.d(de,{b:()=>P});var w=R(5577),B=R(576);function P(V,Z){return(0,B.m)(Z)?(0,w.z)(V,Z,1):(0,w.z)(V,1)}},1884:($e,de,R)=>{"use strict";R.d(de,{x:()=>V});var w=R(4671),B=R(4482),P=R(5403);function V(ve,ae=w.y){return ve=ve??Z,(0,B.e)((Se,ye)=>{let W,Q=!0;Se.subscribe((0,P.x)(ye,te=>{const Me=ae(te);(Q||!ve(W,Me))&&(Q=!1,W=Me,ye.next(te))}))})}function Z(ve,ae){return ve===ae}},9300:($e,de,R)=>{"use strict";R.d(de,{h:()=>P});var w=R(4482),B=R(5403);function P(V,Z){return(0,w.e)((ve,ae)=>{let Se=0;ve.subscribe((0,B.x)(ae,ye=>V.call(Z,ye,Se++)&&ae.next(ye)))})}},8746:($e,de,R)=>{"use strict";R.d(de,{x:()=>B});var w=R(4482);function B(P){return(0,w.e)((V,Z)=>{try{V.subscribe(Z)}finally{Z.add(P)}})}},4004:($e,de,R)=>{"use strict";R.d(de,{U:()=>P});var w=R(4482),B=R(5403);function P(V,Z){return(0,w.e)((ve,ae)=>{let Se=0;ve.subscribe((0,B.x)(ae,ye=>{ae.next(V.call(Z,ye,Se++))}))})}},8189:($e,de,R)=>{"use strict";R.d(de,{J:()=>P});var w=R(5577),B=R(4671);function P(V=1/0){return(0,w.z)(B.y,V)}},5577:($e,de,R)=>{"use strict";R.d(de,{z:()=>Se});var w=R(4004),B=R(8421),P=R(4482),V=R(9672),Z=R(5403),ae=R(576);function Se(ye,W,Q=1/0){return(0,ae.m)(W)?Se((te,Me)=>(0,w.U)((le,Ie)=>W(te,le,Me,Ie))((0,B.Xf)(ye(te,Me))),Q):("number"==typeof W&&(Q=W),(0,P.e)((te,Me)=>function ve(ye,W,Q,te,Me,le,Ie,E){const Qe=[];let q=0,Ce=0,Fe=!1;const ge=()=>{Fe&&!Qe.length&&!q&&W.complete()},fe=pe=>q<te?we(pe):Qe.push(pe),we=pe=>{le&&W.next(pe),q++;let De=!1;(0,B.Xf)(Q(pe,Ce++)).subscribe((0,Z.x)(W,ce=>{Me?.(ce),le?fe(ce):W.next(ce)},()=>{De=!0},void 0,()=>{if(De)try{for(q--;Qe.length&&q<te;){const ce=Qe.shift();Ie?(0,V.f)(W,Ie,()=>we(ce)):we(ce)}ge()}catch(ce){W.error(ce)}}))};return ye.subscribe((0,Z.x)(W,fe,()=>{Fe=!0,ge()})),()=>{E?.()}}(te,Me,ye,Q)))}},3900:($e,de,R)=>{"use strict";R.d(de,{w:()=>V});var w=R(8421),B=R(4482),P=R(5403);function V(Z,ve){return(0,B.e)((ae,Se)=>{let ye=null,W=0,Q=!1;const te=()=>Q&&!ye&&Se.complete();ae.subscribe((0,P.x)(Se,Me=>{ye?.unsubscribe();let le=0;const Ie=W++;(0,w.Xf)(Z(Me,Ie)).subscribe(ye=(0,P.x)(Se,E=>Se.next(ve?ve(Me,E,Ie,le++):E),()=>{ye=null,te()}))},()=>{Q=!0,te()}))})}},5698:($e,de,R)=>{"use strict";R.d(de,{q:()=>V});var w=R(515),B=R(4482),P=R(5403);function V(Z){return Z<=0?()=>w.E:(0,B.e)((ve,ae)=>{let Se=0;ve.subscribe((0,P.x)(ae,ye=>{++Se<=Z&&(ae.next(ye),Z<=Se&&ae.complete())}))})}},3410:($e,de,R)=>{"use strict";R.d(de,{z:()=>w});const w={setTimeout(B,P,...V){const{delegate:Z}=w;return Z?.setTimeout?Z.setTimeout(B,P,...V):setTimeout(B,P,...V)},clearTimeout(B){const{delegate:P}=w;return(P?.clearTimeout||clearTimeout)(B)},delegate:void 0}},2202:($e,de,R)=>{"use strict";R.d(de,{h:()=>B});const B=function w(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:($e,de,R)=>{"use strict";R.d(de,{L:()=>w});const w="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:($e,de,R)=>{"use strict";R.d(de,{_6:()=>ve,jO:()=>V,yG:()=>Z});var w=R(576);function P(ae){return ae[ae.length-1]}function V(ae){return(0,w.m)(P(ae))?ae.pop():void 0}function Z(ae){return function B(ae){return ae&&(0,w.m)(ae.schedule)}(P(ae))?ae.pop():void 0}function ve(ae,Se){return"number"==typeof P(ae)?ae.pop():Se}},4742:($e,de,R)=>{"use strict";R.d(de,{D:()=>Z});const{isArray:w}=Array,{getPrototypeOf:B,prototype:P,keys:V}=Object;function Z(ae){if(1===ae.length){const Se=ae[0];if(w(Se))return{args:Se,keys:null};if(function ve(ae){return ae&&"object"==typeof ae&&B(ae)===P}(Se)){const ye=V(Se);return{args:ye.map(W=>Se[W]),keys:ye}}}return{args:ae,keys:null}}},8737:($e,de,R)=>{"use strict";function w(B,P){if(B){const V=B.indexOf(P);0<=V&&B.splice(V,1)}}R.d(de,{P:()=>w})},3888:($e,de,R)=>{"use strict";function w(B){const V=B(Z=>{Error.call(Z),Z.stack=(new Error).stack});return V.prototype=Object.create(Error.prototype),V.prototype.constructor=V,V}R.d(de,{d:()=>w})},1810:($e,de,R)=>{"use strict";function w(B,P){return B.reduce((V,Z,ve)=>(V[Z]=P[ve],V),{})}R.d(de,{n:()=>w})},2806:($e,de,R)=>{"use strict";R.d(de,{O:()=>V,x:()=>P});var w=R(2416);let B=null;function P(Z){if(w.config.useDeprecatedSynchronousErrorHandling){const ve=!B;if(ve&&(B={errorThrown:!1,error:null}),Z(),ve){const{errorThrown:ae,error:Se}=B;if(B=null,ae)throw Se}}else Z()}function V(Z){w.config.useDeprecatedSynchronousErrorHandling&&B&&(B.errorThrown=!0,B.error=Z)}},9672:($e,de,R)=>{"use strict";function w(B,P,V,Z=0,ve=!1){const ae=P.schedule(function(){V(),ve?B.add(this.schedule(null,Z)):this.unsubscribe()},Z);if(B.add(ae),!ve)return ae}R.d(de,{f:()=>w})},4671:($e,de,R)=>{"use strict";function w(B){return B}R.d(de,{y:()=>w})},1144:($e,de,R)=>{"use strict";R.d(de,{z:()=>w});const w=B=>B&&"number"==typeof B.length&&"function"!=typeof B},2206:($e,de,R)=>{"use strict";R.d(de,{D:()=>B});var w=R(576);function B(P){return Symbol.asyncIterator&&(0,w.m)(P?.[Symbol.asyncIterator])}},576:($e,de,R)=>{"use strict";function w(B){return"function"==typeof B}R.d(de,{m:()=>w})},3670:($e,de,R)=>{"use strict";R.d(de,{c:()=>P});var w=R(8822),B=R(576);function P(V){return(0,B.m)(V[w.L])}},6495:($e,de,R)=>{"use strict";R.d(de,{T:()=>P});var w=R(2202),B=R(576);function P(V){return(0,B.m)(V?.[w.h])}},5191:($e,de,R)=>{"use strict";R.d(de,{b:()=>P});var w=R(9751),B=R(576);function P(V){return!!V&&(V instanceof w.y||(0,B.m)(V.lift)&&(0,B.m)(V.subscribe))}},8239:($e,de,R)=>{"use strict";R.d(de,{t:()=>B});var w=R(576);function B(P){return(0,w.m)(P?.then)}},3260:($e,de,R)=>{"use strict";R.d(de,{L:()=>V,Q:()=>P});var w=R(7582),B=R(576);function P(Z){return(0,w.FC)(this,arguments,function*(){const ae=Z.getReader();try{for(;;){const{value:Se,done:ye}=yield(0,w.qq)(ae.read());if(ye)return yield(0,w.qq)(void 0);yield yield(0,w.qq)(Se)}}finally{ae.releaseLock()}})}function V(Z){return(0,B.m)(Z?.getReader)}},4482:($e,de,R)=>{"use strict";R.d(de,{A:()=>B,e:()=>P});var w=R(576);function B(V){return(0,w.m)(V?.lift)}function P(V){return Z=>{if(B(Z))return Z.lift(function(ve){try{return V(ve,this)}catch(ae){this.error(ae)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:($e,de,R)=>{"use strict";R.d(de,{Z:()=>V});var w=R(4004);const{isArray:B}=Array;function V(Z){return(0,w.U)(ve=>function P(Z,ve){return B(ve)?Z(...ve):Z(ve)}(Z,ve))}},9635:($e,de,R)=>{"use strict";R.d(de,{U:()=>P,z:()=>B});var w=R(4671);function B(...V){return P(V)}function P(V){return 0===V.length?w.y:1===V.length?V[0]:function(ve){return V.reduce((ae,Se)=>Se(ae),ve)}}},7849:($e,de,R)=>{"use strict";R.d(de,{h:()=>P});var w=R(2416),B=R(3410);function P(V){B.z.setTimeout(()=>{const{onUnhandledError:Z}=w.config;if(!Z)throw V;Z(V)})}},4532:($e,de,R)=>{"use strict";function w(B){return new TypeError(`You provided ${null!==B&&"object"==typeof B?"an invalid object":`'${B}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}R.d(de,{z:()=>w})},2480:()=>{},4755:($e,de,R)=>{"use strict";R.d(de,{Do:()=>E,EM:()=>wi,HT:()=>V,JF:()=>at,K0:()=>ve,Mx:()=>Pi,Ov:()=>Wo,PM:()=>Li,S$:()=>Me,V_:()=>Se,Ye:()=>Qe,b0:()=>Ie,bD:()=>et,ez:()=>Hr,q:()=>P,w_:()=>Z});var w=R(3020);let B=null;function P(){return B}function V(y){B||(B=y)}class Z{}const ve=new w.OlP("DocumentToken");let ae=(()=>{class y{historyGo(_){throw new Error("Not implemented")}static#e=this.\u0275fac=function(S){return new(S||y)};static#t=this.\u0275prov=w.Yz7({token:y,factory:function(){return(0,w.f3M)(ye)},providedIn:"platform"})}return y})();const Se=new w.OlP("Location Initialized");let ye=(()=>{class y extends ae{constructor(){super(),this._doc=(0,w.f3M)(ve),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return P().getBaseHref(this._doc)}onPopState(_){const S=P().getGlobalEventTarget(this._doc,"window");return S.addEventListener("popstate",_,!1),()=>S.removeEventListener("popstate",_)}onHashChange(_){const S=P().getGlobalEventTarget(this._doc,"window");return S.addEventListener("hashchange",_,!1),()=>S.removeEventListener("hashchange",_)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(_){this._location.pathname=_}pushState(_,S,N){this._history.pushState(_,S,N)}replaceState(_,S,N){this._history.replaceState(_,S,N)}forward(){this._history.forward()}back(){this._history.back()}historyGo(_=0){this._history.go(_)}getState(){return this._history.state}static#e=this.\u0275fac=function(S){return new(S||y)};static#t=this.\u0275prov=w.Yz7({token:y,factory:function(){return new y},providedIn:"platform"})}return y})();function W(y,M){if(0==y.length)return M;if(0==M.length)return y;let _=0;return y.endsWith("/")&&_++,M.startsWith("/")&&_++,2==_?y+M.substring(1):1==_?y+M:y+"/"+M}function Q(y){const M=y.match(/#|\?|$/),_=M&&M.index||y.length;return y.slice(0,_-("/"===y[_-1]?1:0))+y.slice(_)}function te(y){return y&&"?"!==y[0]?"?"+y:y}let Me=(()=>{class y{historyGo(_){throw new Error("Not implemented")}static#e=this.\u0275fac=function(S){return new(S||y)};static#t=this.\u0275prov=w.Yz7({token:y,factory:function(){return(0,w.f3M)(Ie)},providedIn:"root"})}return y})();const le=new w.OlP("appBaseHref");let Ie=(()=>{class y extends Me{constructor(_,S){super(),this._platformLocation=_,this._removeListenerFns=[],this._baseHref=S??this._platformLocation.getBaseHrefFromDOM()??(0,w.f3M)(ve).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(_){this._removeListenerFns.push(this._platformLocation.onPopState(_),this._platformLocation.onHashChange(_))}getBaseHref(){return this._baseHref}prepareExternalUrl(_){return W(this._baseHref,_)}path(_=!1){const S=this._platformLocation.pathname+te(this._platformLocation.search),N=this._platformLocation.hash;return N&&_?`${S}${N}`:S}pushState(_,S,N,Y){const ie=this.prepareExternalUrl(N+te(Y));this._platformLocation.pushState(_,S,ie)}replaceState(_,S,N,Y){const ie=this.prepareExternalUrl(N+te(Y));this._platformLocation.replaceState(_,S,ie)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(_=0){this._platformLocation.historyGo?.(_)}static#e=this.\u0275fac=function(S){return new(S||y)(w.LFG(ae),w.LFG(le,8))};static#t=this.\u0275prov=w.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})(),E=(()=>{class y extends Me{constructor(_,S){super(),this._platformLocation=_,this._baseHref="",this._removeListenerFns=[],null!=S&&(this._baseHref=S)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(_){this._removeListenerFns.push(this._platformLocation.onPopState(_),this._platformLocation.onHashChange(_))}getBaseHref(){return this._baseHref}path(_=!1){let S=this._platformLocation.hash;return null==S&&(S="#"),S.length>0?S.substring(1):S}prepareExternalUrl(_){const S=W(this._baseHref,_);return S.length>0?"#"+S:S}pushState(_,S,N,Y){let ie=this.prepareExternalUrl(N+te(Y));0==ie.length&&(ie=this._platformLocation.pathname),this._platformLocation.pushState(_,S,ie)}replaceState(_,S,N,Y){let ie=this.prepareExternalUrl(N+te(Y));0==ie.length&&(ie=this._platformLocation.pathname),this._platformLocation.replaceState(_,S,ie)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(_=0){this._platformLocation.historyGo?.(_)}static#e=this.\u0275fac=function(S){return new(S||y)(w.LFG(ae),w.LFG(le,8))};static#t=this.\u0275prov=w.Yz7({token:y,factory:y.\u0275fac})}return y})(),Qe=(()=>{class y{constructor(_){this._subject=new w.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=_;const S=this._locationStrategy.getBaseHref();this._basePath=function ge(y){if(new RegExp("^(https?:)?//").test(y)){const[,_]=y.split(/\/\/[^\/]+/);return _}return y}(Q(Fe(S))),this._locationStrategy.onPopState(N=>{this._subject.emit({url:this.path(!0),pop:!0,state:N.state,type:N.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(_=!1){return this.normalize(this._locationStrategy.path(_))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(_,S=""){return this.path()==this.normalize(_+te(S))}normalize(_){return y.stripTrailingSlash(function Ce(y,M){if(!y||!M.startsWith(y))return M;const _=M.substring(y.length);return""===_||["/",";","?","#"].includes(_[0])?_:M}(this._basePath,Fe(_)))}prepareExternalUrl(_){return _&&"/"!==_[0]&&(_="/"+_),this._locationStrategy.prepareExternalUrl(_)}go(_,S="",N=null){this._locationStrategy.pushState(N,"",_,S),this._notifyUrlChangeListeners(this.prepareExternalUrl(_+te(S)),N)}replaceState(_,S="",N=null){this._locationStrategy.replaceState(N,"",_,S),this._notifyUrlChangeListeners(this.prepareExternalUrl(_+te(S)),N)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(_=0){this._locationStrategy.historyGo?.(_)}onUrlChange(_){return this._urlChangeListeners.push(_),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(S=>{this._notifyUrlChangeListeners(S.url,S.state)})),()=>{const S=this._urlChangeListeners.indexOf(_);this._urlChangeListeners.splice(S,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(_="",S){this._urlChangeListeners.forEach(N=>N(_,S))}subscribe(_,S,N){return this._subject.subscribe({next:_,error:S,complete:N})}static#e=this.normalizeQueryParams=te;static#t=this.joinWithSlash=W;static#n=this.stripTrailingSlash=Q;static#r=this.\u0275fac=function(S){return new(S||y)(w.LFG(Me))};static#i=this.\u0275prov=w.Yz7({token:y,factory:function(){return function q(){return new Qe((0,w.LFG)(Me))}()},providedIn:"root"})}return y})();function Fe(y){return y.replace(/\/index.html$/,"")}function Pi(y,M){M=encodeURIComponent(M);for(const _ of y.split(";")){const S=_.indexOf("="),[N,Y]=-1==S?[_,""]:[_.slice(0,S),_.slice(S+1)];if(N.trim()===M)return decodeURIComponent(Y)}return null}class sa{createSubscription(M,_){return(0,w.rg0)(()=>M.subscribe({next:_,error:S=>{throw S}}))}dispose(M){(0,w.rg0)(()=>M.unsubscribe())}}class aa{createSubscription(M,_){return M.then(_,S=>{throw S})}dispose(M){}}const zo=new aa,yi=new sa;let Wo=(()=>{class y{constructor(_){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=_}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(_){return this._obj?_!==this._obj?(this._dispose(),this.transform(_)):this._latestValue:(_&&this._subscribe(_),this._latestValue)}_subscribe(_){this._obj=_,this._strategy=this._selectStrategy(_),this._subscription=this._strategy.createSubscription(_,S=>this._updateLatestValue(_,S))}_selectStrategy(_){if((0,w.QGY)(_))return zo;if((0,w.F4k)(_))return yi;throw function Pn(y,M){return new w.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(_,S){_===this._obj&&(this._latestValue=S,this._ref.markForCheck())}static#e=this.\u0275fac=function(S){return new(S||y)(w.Y36(w.sBO,16))};static#t=this.\u0275pipe=w.Yjl({name:"async",type:y,pure:!1,standalone:!0})}return y})(),Hr=(()=>{class y{static#e=this.\u0275fac=function(S){return new(S||y)};static#t=this.\u0275mod=w.oAB({type:y});static#n=this.\u0275inj=w.cJS({})}return y})();const et="browser",_i="server";function Li(y){return y===_i}let wi=(()=>{class y{static#e=this.\u0275prov=(0,w.Yz7)({token:y,providedIn:"root",factory:()=>new $r((0,w.LFG)(ve),window)})}return y})();class $r{constructor(M,_){this.document=M,this.window=_,this.offset=()=>[0,0]}setOffset(M){this.offset=Array.isArray(M)?()=>M:M}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(M){this.supportsScrolling()&&this.window.scrollTo(M[0],M[1])}scrollToAnchor(M){if(!this.supportsScrolling())return;const _=function Di(y,M){const _=y.getElementById(M)||y.getElementsByName(M)[0];if(_)return _;if("function"==typeof y.createTreeWalker&&y.body&&"function"==typeof y.body.attachShadow){const S=y.createTreeWalker(y.body,NodeFilter.SHOW_ELEMENT);let N=S.currentNode;for(;N;){const Y=N.shadowRoot;if(Y){const ie=Y.getElementById(M)||Y.querySelector(`[name="${M}"]`);if(ie)return ie}N=S.nextNode()}}return null}(this.document,M);_&&(this.scrollToElement(_),_.focus())}setHistoryScrollRestoration(M){if(this.supportScrollRestoration()){const _=this.window.history;_&&_.scrollRestoration&&(_.scrollRestoration=M)}}scrollToElement(M){const _=M.getBoundingClientRect(),S=_.left+this.window.pageXOffset,N=_.top+this.window.pageYOffset,Y=this.offset();this.window.scrollTo(S-Y[0],N-Y[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const M=Zn(this.window.history)||Zn(Object.getPrototypeOf(this.window.history));return!(!M||!M.writable&&!M.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Zn(y){return Object.getOwnPropertyDescriptor(y,"scrollRestoration")}class at{}},3020:($e,de,R)=>{"use strict";R.d(de,{tb:()=>Jg,AFp:()=>Hc,ip1:()=>J_,hGG:()=>hS,z2F:()=>Vu,Ojb:()=>Vf,sBO:()=>J0,Sil:()=>A0,EJc:()=>I0,Xts:()=>Io,SBq:()=>ol,lqb:()=>Zi,qLn:()=>sl,vpe:()=>ko,XFs:()=>Je,OlP:()=>mt,zs3:()=>Et,ZZ4:()=>rm,aQg:()=>im,soG:()=>Ch,YKP:()=>t_,h0i:()=>ku,PXZ:()=>B0,R0b:()=>Lr,FiY:()=>Gl,Lbi:()=>Uf,g9A:()=>Tp,Qsj:()=>zf,FYo:()=>Du,JOm:()=>zi,tp0:()=>Pa,Rgc:()=>wd,dDg:()=>U0,eoX:()=>uw,GfV:()=>qf,s_b:()=>Dh,ifc:()=>rr,MMx:()=>r_,Lck:()=>cE,eFA:()=>hw,Gpc:()=>we,f3M:()=>Ne,X6Q:()=>Z0,$WT:()=>Ur,MR2:()=>Zs,_c5:()=>fS,qFp:()=>ES,rg0:()=>$i,c2e:()=>Q_,zSh:()=>Nf,HDt:()=>X_,wAp:()=>nt,vHH:()=>Re,lri:()=>aw,rWj:()=>lw,D6c:()=>bS,cg1:()=>Dg,kL8:()=>My,dqk:()=>Tt,Z0I:()=>Bt,eJc:()=>jg,QGY:()=>dg,F4k:()=>Rv,RDi:()=>vf,AaK:()=>Fe,qOj:()=>Jp,TTD:()=>Qo,_Bn:()=>e_,jDz:()=>i_,xp6:()=>p,uIk:()=>eg,ekj:()=>vg,Suo:()=>x_,Xpm:()=>ar,lG2:()=>Cs,Yz7:()=>Rt,cJS:()=>on,oAB:()=>zo,Yjl:()=>Fi,Y36:()=>rn,_UZ:()=>lg,qZA:()=>hh,TgZ:()=>fh,EpF:()=>xv,n5z:()=>Gn,LFG:()=>ee,$8M:()=>_o,$Z:()=>nn,NdJ:()=>fg,CRH:()=>R_,ALo:()=>m_,lcZ:()=>v_,Q6J:()=>sg,iGM:()=>T_,MAs:()=>Mv,KtG:()=>va,CHM:()=>Fs,P3R:()=>Cp,_uU:()=>oy,Oqu:()=>_g,Gf:()=>A_});var w=R(7579),B=R(727),P=R(1135),V=R(9751),Z=R(8189),ve=R(8421),ae=R(515),Se=R(7669),ye=R(2076),Q=R(9646),te=R(2961),Me=R(4482);function le(e={}){const{connector:t=(()=>new w.x),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:s=!0}=e;return l=>{let c,h,v,D=0,T=!1,O=!1;const U=()=>{h?.unsubscribe(),h=void 0},$=()=>{U(),c=v=void 0,T=O=!1},se=()=>{const me=c;$(),me?.unsubscribe()};return(0,Me.e)((me,Ae)=>{D++,!O&&!T&&U();const He=v=v??t();Ae.add(()=>{D--,0===D&&!O&&!T&&(h=Ie(se,s))}),He.subscribe(Ae),!c&&D>0&&(c=new te.Hp({next:ue=>He.next(ue),error:ue=>{O=!0,U(),h=Ie($,n,ue),He.error(ue)},complete:()=>{T=!0,U(),h=Ie($,r),He.complete()}}),(0,ve.Xf)(me).subscribe(c))})(l)}}function Ie(e,t,...n){if(!0===t)return void e();if(!1===t)return;const r=new te.Hp({next:()=>{r.unsubscribe(),e()}});return(0,ve.Xf)(t(...n)).subscribe(r)}var E=R(3900),Qe=R(1884);function q(e){for(let t in e)if(e[t]===q)return t;throw Error("Could not find renamed property on target object.")}function Ce(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Fe(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Fe).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function ge(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const fe=q({__forward_ref__:q});function we(e){return e.__forward_ref__=we,e.toString=function(){return Fe(this())},e}function pe(e){return De(e)?e():e}function De(e){return"function"==typeof e&&e.hasOwnProperty(fe)&&e.__forward_ref__===we}function ce(e){return e&&!!e.\u0275providers}const be="https://g.co/ng/security#xss";class Re extends Error{constructor(t,n){super(function dn(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,n)),this.code=t}}function ze(e){return"string"==typeof e?e:null==e?"":String(e)}function K(e,t){throw new Re(-201,!1)}function Nt(e,t){null==e&&function qe(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function Rt(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function on(e){return{providers:e.providers||[],imports:e.imports||[]}}function On(e){return Ue(e,pn)||Ue(e,Xr)}function Bt(e){return null!==On(e)}function Ue(e,t){return e.hasOwnProperty(t)?e[t]:null}function Qr(e){return e&&(e.hasOwnProperty(gn)||e.hasOwnProperty(Wt))?e[gn]:null}const pn=q({\u0275prov:q}),gn=q({\u0275inj:q}),Xr=q({ngInjectableDef:q}),Wt=q({ngInjectorDef:q});var Je=(()=>((Je=Je||{})[Je.Default=0]="Default",Je[Je.Host=1]="Host",Je[Je.Self=2]="Self",Je[Je.SkipSelf=4]="SkipSelf",Je[Je.Optional=8]="Optional",Je))();let Ft;function st(e){const t=Ft;return Ft=e,t}function no(e,t,n){const r=On(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&Je.Optional?null:void 0!==t?t:void K(Fe(e))}const Tt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Cn={},ti="__NG_DI_FLAG__",Yn="ngTempTokenPath",Vo=/\n/gm,ni="__source";let re;function k(e){const t=re;return re=e,t}function H(e,t=Je.Default){if(void 0===re)throw new Re(-203,!1);return null===re?no(e,void 0,t):re.get(e,t&Je.Optional?null:void 0,t)}function ee(e,t=Je.Default){return(function Uo(){return Ft}()||H)(pe(e),t)}function Ne(e,t=Je.Default){return ee(e,Dt(t))}function Dt(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function bt(e){const t=[];for(let n=0;n<e.length;n++){const r=pe(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Re(900,!1);let s,l=Je.Default;for(let c=0;c<r.length;c++){const h=r[c],v=En(h);"number"==typeof v?-1===v?s=h.token:l|=v:s=h}t.push(ee(s,l))}else t.push(ee(r))}return t}function Ht(e,t){return e[ti]=t,e.prototype[ti]=t,e}function En(e){return e[ti]}function Dr(e){return{toString:e}.toString()}var Sn=(()=>((Sn=Sn||{})[Sn.OnPush=0]="OnPush",Sn[Sn.Default=1]="Default",Sn))(),rr=(()=>{return(e=rr||(rr={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",rr;var e})();const Kn={},ht=[],Ri=q({\u0275cmp:q}),so=q({\u0275dir:q}),Oi=q({\u0275pipe:q}),ir=q({\u0275mod:q}),or=q({\u0275fac:q}),gi=q({__NG_ELEMENT_ID__:q}),ms=q({__NG_ENV_ID__:q});function Pi(e,t,n){let r=e.length;for(;;){const s=e.indexOf(t,n);if(-1===s)return s;if(0===s||e.charCodeAt(s-1)<=32){const l=t.length;if(s+l===r||e.charCodeAt(s+l)<=32)return s}n=s+1}}function br(e,t,n){let r=0;for(;r<n.length;){const s=n[r];if("number"==typeof s){if(0!==s)break;r++;const l=n[r++],c=n[r++],h=n[r++];e.setAttribute(t,c,h,l)}else{const l=s,c=n[++r];jo(l)?e.setProperty(t,l,c):e.setAttribute(t,l,c),r++}}return r}function Ni(e){return 3===e||4===e||6===e}function jo(e){return 64===e.charCodeAt(0)}function mi(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const s=t[r];"number"==typeof s?n=s:0===n||Ho(e,n,s,null,-1===n||2===n?t[++r]:null)}}return e}function Ho(e,t,n,r,s){let l=0,c=e.length;if(-1===t)c=-1;else for(;l<e.length;){const h=e[l++];if("number"==typeof h){if(h===t){c=-1;break}if(h>t){c=l-1;break}}}for(;l<e.length;){const h=e[l];if("number"==typeof h)break;if(h===n){if(null===r)return void(null!==s&&(e[l+1]=s));if(r===e[l+1])return void(e[l+2]=s)}l++,null!==r&&l++,null!==s&&l++}-1!==c&&(e.splice(c,0,t),l=c+1),e.splice(l++,0,n),null!==r&&e.splice(l++,0,r),null!==s&&e.splice(l++,0,s)}const sr="ng-template";function vs(e,t,n){let r=0,s=!0;for(;r<e.length;){let l=e[r++];if("string"==typeof l&&s){const c=e[r++];if(n&&"class"===l&&-1!==Pi(c.toLowerCase(),t,0))return!0}else{if(1===l){for(;r<e.length&&"string"==typeof(l=e[r++]);)if(l.toLowerCase()===t)return!0;return!1}"number"==typeof l&&(s=!1)}}return!1}function Bo(e){return 4===e.type&&e.value!==sr}function hl(e,t,n){return t===(4!==e.type||n?e.value:sr)}function ys(e,t,n){let r=4;const s=e.attrs||[],l=function ws(e){for(let t=0;t<e.length;t++)if(Ni(e[t]))return t;return e.length}(s);let c=!1;for(let h=0;h<t.length;h++){const v=t[h];if("number"!=typeof v){if(!c)if(4&r){if(r=2|1&r,""!==v&&!hl(e,v,n)||""===v&&1===t.length){if(mn(r))return!1;c=!0}}else{const D=8&r?v:t[++h];if(8&r&&null!==e.attrs){if(!vs(e.attrs,D,n)){if(mn(r))return!1;c=!0}continue}const O=_s(8&r?"class":v,s,Bo(e),n);if(-1===O){if(mn(r))return!1;c=!0;continue}if(""!==D){let U;U=O>l?"":s[O+1].toLowerCase();const $=8&r?U:null;if($&&-1!==Pi($,D,0)||2&r&&D!==U){if(mn(r))return!1;c=!0}}}}else{if(!c&&!mn(r)&&!mn(v))return!1;if(c&&mn(v))continue;c=!1,r=v|1&r}}return mn(r)||c}function mn(e){return 0==(1&e)}function _s(e,t,n,r){if(null===t)return-1;let s=0;if(r||!n){let l=!1;for(;s<t.length;){const c=t[s];if(c===e)return s;if(3===c||6===c)l=!0;else{if(1===c||2===c){let h=t[++s];for(;"string"==typeof h;)h=t[++s];continue}if(4===c)break;if(0===c){s+=4;continue}}s+=l?1:2}return-1}return function Ds(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function Cr(e,t,n=!1){for(let r=0;r<t.length;r++)if(ys(e,t[r],n))return!0;return!1}function Un(e,t){return e?":not("+t.trim()+")":t}function bs(e){let t=e[0],n=1,r=2,s="",l=!1;for(;n<e.length;){let c=e[n];if("string"==typeof c)if(2&r){const h=e[++n];s+="["+c+(h.length>0?'="'+h+'"':"")+"]"}else 8&r?s+="."+c:4&r&&(s+=" "+c);else""!==s&&!mn(c)&&(t+=Un(l,s),s=""),r=c,l=l||!mn(r);n++}return""!==s&&(t+=Un(l,s)),t}function ar(e){return Dr(()=>{const t=pl(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Sn.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,data:e.data||{},encapsulation:e.encapsulation||rr.Emulated,styles:e.styles||ht,_:null,schemas:e.schemas||null,tView:null,id:""};Es(n);const r=e.dependencies;return n.directiveDefs=Vr(r,!1),n.pipeDefs=Vr(r,!0),n.id=function lo(e){let t=0;const n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const s of n)t=Math.imul(31,t)+s.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(n),n})}function sa(e){return yt(e)||Jt(e)}function aa(e){return null!==e}function zo(e){return Dr(()=>({type:e.type,bootstrap:e.bootstrap||ht,declarations:e.declarations||ht,imports:e.imports||ht,exports:e.exports||ht,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Wo(e,t){if(null==e)return Kn;const n={};for(const r in e)if(e.hasOwnProperty(r)){let s=e[r],l=s;Array.isArray(s)&&(l=s[1],s=s[0]),n[s]=r,t&&(t[s]=l)}return n}function Cs(e){return Dr(()=>{const t=pl(e);return Es(t),t})}function Fi(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function yt(e){return e[Ri]||null}function Jt(e){return e[so]||null}function Mn(e){return e[Oi]||null}function Ur(e){const t=yt(e)||Jt(e)||Mn(e);return null!==t&&t.standalone}function In(e,t){const n=e[ir]||null;if(!n&&!0===t)throw new Error(`Type ${Fe(e)} does not have '\u0275mod' property.`);return n}function pl(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,exportAs:e.exportAs||null,standalone:!0===e.standalone,selectors:e.selectors||ht,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Wo(e.inputs,t),outputs:Wo(e.outputs)}}function Es(e){e.features?.forEach(t=>t(e))}function Vr(e,t){if(!e)return null;const n=t?Mn:sa;return()=>("function"==typeof e?e():e).map(r=>n(r)).filter(aa)}const $t=0,Te=1,Ze=2,kt=3,Vn=4,ri=5,Ot=6,Er=7,Gt=8,jr=9,Hr=10,et=11,_i=12,ki=13,Br=14,zt=15,Li=16,ii=17,lr=18,Ui=19,wi=20,$r=21,Zn=22,Di=23,uo=24,at=25,bi=1,Ss=2,Jn=7,fo=8,Vi=9,sn=11;function jn(e){return Array.isArray(e)&&"object"==typeof e[bi]}function an(e){return Array.isArray(e)&&!0===e[bi]}function Ms(e){return 0!=(4&e.flags)}function Sr(e){return e.componentOffset>-1}function vn(e){return 1==(1&e.flags)}function Qn(e){return!!e.template}function Mr(e){return 0!=(512&e[Ze])}function Ir(e,t){return e.hasOwnProperty(or)?e[or]:null}let Cl=Tt.WeakRef??class Bi{constructor(t){this.ref=t}deref(){return this.ref}},Ts=0,Tr=null,mo=!1;function Qt(e){const t=Tr;return Tr=e,t}class Ei{constructor(){this.id=Ts++,this.ref=function El(e){return new Cl(e)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[t,n]of this.producers){const r=n.producerNode.deref();if(void 0!==r&&n.atTrackingVersion===this.trackingVersion){if(r.producerPollStatus(n.seenValueVersion))return!0}else this.producers.delete(t),r?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const t=mo;mo=!0;try{for(const[n,r]of this.consumers){const s=r.consumerNode.deref();void 0!==s&&s.trackingVersion===r.atTrackingVersion?s.onConsumerDependencyMayHaveChanged():(this.consumers.delete(n),s?.producers.delete(this.id))}}finally{mo=t}}producerAccessed(){if(mo)throw new Error("");if(null===Tr)return;let t=Tr.producers.get(this.id);void 0===t?(t={consumerNode:Tr.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Tr.trackingVersion},Tr.producers.set(this.id,t),this.consumers.set(Tr.id,t)):(t.seenValueVersion=this.valueVersion,t.atTrackingVersion=Tr.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Tr?.consumerAllowSignalWrites}producerPollStatus(t){return this.valueVersion!==t||(this.onProducerUpdateValueVersion(),this.valueVersion!==t)}}let Jo=null;function $i(e){const t=Qt(null);try{return e()}finally{Qt(t)}}const yo=()=>{};class xs extends Ei{constructor(t,n,r){super(),this.watch=t,this.schedule=n,this.dirty=!1,this.cleanupFn=yo,this.registerOnCleanup=s=>{this.cleanupFn=s},this.consumerAllowSignalWrites=r}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const t=Qt(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=yo,this.watch(this.registerOnCleanup)}finally{Qt(t)}}cleanup(){this.cleanupFn()}}class Il{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Qo(){return Rs}function Rs(e){return e.type.prototype.ngOnChanges&&(e.setInput=pa),Tl}function Tl(){const e=Ps(this),t=e?.current;if(t){const n=e.previous;if(n===Kn)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function pa(e,t,n,r){const s=this.declaredInputs[n],l=Ps(e)||function ga(e,t){return e[Os]=t}(e,{previous:Kn,current:null}),c=l.current||(l.current={}),h=l.previous,v=h[s];c[s]=new Il(v&&v.currentValue,t,h===Kn),e[r]=t}Qo.ngInherit=!0;const Os="__ngSimpleChanges__";function Ps(e){return e[Os]||null}const M=function(e,t,n){};function N(e){for(;Array.isArray(e);)e=e[$t];return e}function ie(e,t){return N(t[e])}function Pe(e,t){return N(t[e.index])}function _t(e,t){return e.data[t]}function ut(e,t){return e[t]}function Ye(e,t){const n=t[e];return jn(n)?n:n[$t]}function Ct(e){return 128==(128&e[Ze])}function yn(e,t){return null==t?null:e[t]}function ur(e){e[ii]=0}function Si(e){1024&e[Ze]||(e[Ze]|=1024,Xn(e,1))}function Hn(e){1024&e[Ze]&&(e[Ze]&=-1025,Xn(e,-1))}function Xn(e,t){let n=e[kt];if(null===n)return;n[ri]+=t;let r=n;for(n=n[kt];null!==n&&(1===t&&1===r[ri]||-1===t&&0===r[ri]);)n[ri]+=t,r=n,n=n[kt]}const Be={lFrame:ci(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Bn(){return Be.bindingsEnabled}function he(){return Be.lFrame.lView}function gt(){return Be.lFrame.tView}function Fs(e){return Be.lFrame.contextLView=e,e[Gt]}function va(e){return Be.lFrame.contextLView=null,e}function Tn(){let e=ya();for(;null!==e&&64===e.type;)e=e.parent;return e}function ya(){return Be.lFrame.currentTNode}function Wr(e,t){const n=Be.lFrame;n.currentTNode=e,n.isParent=t}function Ju(){return Be.lFrame.isParent}function ks(){return Be.lFrame.bindingIndex++}function Sd(e,t){const n=Be.lFrame;n.bindingIndex=n.bindingRootIndex=e,wa(t)}function wa(e){Be.lFrame.currentDirectiveIndex=e}function cr(){return Be.lFrame.currentQueryIndex}function dr(e){Be.lFrame.currentQueryIndex=e}function An(e){const t=e[Te];return 2===t.type?t.declTNode:1===t.type?e[Ot]:null}function it(e,t,n){if(n&Je.SkipSelf){let s=t,l=e;for(;!(s=s.parent,null!==s||n&Je.Host||(s=An(l),null===s||(l=l[Br],10&s.type))););if(null===s)return!1;t=s,e=l}const r=Be.lFrame=Ar();return r.currentTNode=t,r.lView=e,!0}function Da(e){const t=Ar(),n=e[Te];Be.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Ar(){const e=Be.lFrame,t=null===e?null:e.child;return null===t?ci(e):t}function ci(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Ls(){const e=Be.lFrame;return Be.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const ba=Ls;function Nn(){const e=Ls();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Xt(){return Be.lFrame.selectedIndex}function Mi(e){Be.lFrame.selectedIndex=e}function qt(){const e=Be.lFrame;return _t(e.tView,e.selectedIndex)}let g=!0;function b(){return g}function A(e){g=e}function j(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const l=e.data[n].type.prototype,{ngAfterContentInit:c,ngAfterContentChecked:h,ngAfterViewInit:v,ngAfterViewChecked:D,ngOnDestroy:T}=l;c&&(e.contentHooks??=[]).push(-n,c),h&&((e.contentHooks??=[]).push(n,h),(e.contentCheckHooks??=[]).push(n,h)),v&&(e.viewHooks??=[]).push(-n,v),D&&((e.viewHooks??=[]).push(n,D),(e.viewCheckHooks??=[]).push(n,D)),null!=T&&(e.destroyHooks??=[]).push(n,T)}}function ne(e,t,n){wt(e,t,3,n)}function Oe(e,t,n,r){(3&e[Ze])===n&&wt(e,t,n,r)}function Ve(e,t){let n=e[Ze];(3&n)===t&&(n&=4095,n+=1,e[Ze]=n)}function wt(e,t,n,r){const l=r??-1,c=t.length-1;let h=0;for(let v=void 0!==r?65535&e[ii]:0;v<c;v++)if("number"==typeof t[v+1]){if(h=t[v],null!=r&&h>=r)break}else t[v]<0&&(e[ii]+=65536),(h<l||-1==l)&&(Ii(e,n,t,v),e[ii]=(4294901760&e[ii])+v+2),v++}function $n(e,t){M(4,e,t);const n=Qt(null);try{t.call(e)}finally{Qt(n),M(5,e,t)}}function Ii(e,t,n,r){const s=n[r]<0,l=n[r+1],h=e[s?-n[r]:n[r]];s?e[Ze]>>12<e[ii]>>16&&(3&e[Ze])===t&&(e[Ze]+=4096,$n(h,l)):$n(h,l)}const fr=-1;class di{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Id(e){return e!==fr}function es(e){return 32767&e}function Sa(e,t){let n=function Td(e){return e>>16}(e),r=t;for(;n>0;)r=r[Br],n--;return r}let Ll=!0;function Ma(e){const t=Ll;return Ll=e,t}const Ad=255,rc=5;let xh=0;const Yr={};function Ul(e,t){const n=oc(e,t);if(-1!==n)return n;const r=t[Te];r.firstCreatePass&&(e.injectorIndex=t.length,ic(r.data,e),ic(t,null),ic(r.blueprint,null));const s=sc(e,t),l=e.injectorIndex;if(Id(s)){const c=es(s),h=Sa(s,t),v=h[Te].data;for(let D=0;D<8;D++)t[l+D]=h[c+D]|v[c+D]}return t[l+8]=s,l}function ic(e,t){e.push(0,0,0,0,0,0,0,0,t)}function oc(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function sc(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,s=t;for(;null!==s;){if(r=Pd(s),null===r)return fr;if(n++,s=s[Br],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return fr}function ac(e,t,n){!function Rh(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(gi)&&(r=n[gi]),null==r&&(r=n[gi]=xh++);const s=r&Ad;t.data[e+(s>>rc)]|=1<<s}(e,t,n)}function xd(e,t,n){if(n&Je.Optional||void 0!==e)return e;K()}function Rd(e,t,n,r){if(n&Je.Optional&&void 0===r&&(r=null),!(n&(Je.Self|Je.Host))){const s=e[jr],l=st(void 0);try{return s?s.get(t,r,n&Je.Optional):no(t,r,n&Je.Optional)}finally{st(l)}}return xd(r,0,n)}function Od(e,t,n,r=Je.Default,s){if(null!==e){if(2048&t[Ze]&&!(r&Je.Self)){const c=function Fh(e,t,n,r,s){let l=e,c=t;for(;null!==l&&null!==c&&2048&c[Ze]&&!(512&c[Ze]);){const h=Ph(l,c,n,r|Je.Self,Yr);if(h!==Yr)return h;let v=l.parent;if(!v){const D=c[wi];if(D){const T=D.get(n,Yr,r);if(T!==Yr)return T}v=Pd(c),c=c[Br]}l=v}return s}(e,t,n,r,Yr);if(c!==Yr)return c}const l=Ph(e,t,n,r,Yr);if(l!==Yr)return l}return Rd(t,n,r,s)}function Ph(e,t,n,r,s){const l=function Us(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(gi)?e[gi]:void 0;return"number"==typeof t?t>=0?t&Ad:Nh:t}(n);if("function"==typeof l){if(!it(t,e,r))return r&Je.Host?xd(s,0,r):Rd(t,n,r,s);try{const c=l(r);if(null!=c||r&Je.Optional)return c;K()}finally{ba()}}else if("number"==typeof l){let c=null,h=oc(e,t),v=fr,D=r&Je.Host?t[zt][Ot]:null;for((-1===h||r&Je.SkipSelf)&&(v=-1===h?sc(e,t):t[h+8],v!==fr&&pr(r,!1)?(c=t[Te],h=es(v),t=Sa(v,t)):h=-1);-1!==h;){const T=t[Te];if(hr(l,h,T.data)){const O=dm(h,t,n,c,r,D);if(O!==Yr)return O}v=t[h+8],v!==fr&&pr(r,t[Te].data[h+8]===D)&&hr(l,h,t)?(c=T,h=es(v),t=Sa(v,t)):h=-1}}return s}function dm(e,t,n,r,s,l){const c=t[Te],h=c.data[e+8],T=Vl(h,c,n,null==r?Sr(h)&&Ll:r!=c&&0!=(3&h.type),s&Je.Host&&l===h);return null!==T?xr(t,c,T,h):Yr}function Vl(e,t,n,r,s){const l=e.providerIndexes,c=t.data,h=1048575&l,v=e.directiveStart,T=l>>20,U=s?h+T:e.directiveEnd;for(let $=r?h:h+T;$<U;$++){const se=c[$];if($<v&&n===se||$>=v&&se.type===n)return $}if(s){const $=c[v];if($&&Qn($)&&$.type===n)return v}return null}function xr(e,t,n,r){let s=e[n];const l=t.data;if(function Ea(e){return e instanceof di}(s)){const c=s;c.resolving&&function lt(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new Re(-200,`Circular dependency in DI detected for ${e}${n}`)}(function Xe(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():ze(e)}(l[n]));const h=Ma(c.canSeeViewProviders);c.resolving=!0;const v=c.injectImpl?st(c.injectImpl):null;it(e,r,Je.Default);try{s=e[n]=c.factory(void 0,l,e,r),t.firstCreatePass&&n>=r.directiveStart&&function x(e,t,n){const{ngOnChanges:r,ngOnInit:s,ngDoCheck:l}=t.type.prototype;if(r){const c=Rs(t);(n.preOrderHooks??=[]).push(e,c),(n.preOrderCheckHooks??=[]).push(e,c)}s&&(n.preOrderHooks??=[]).push(0-e,s),l&&((n.preOrderHooks??=[]).push(e,l),(n.preOrderCheckHooks??=[]).push(e,l))}(n,l[n],t)}finally{null!==v&&st(v),Ma(h),c.resolving=!1,ba()}}return s}function hr(e,t,n){return!!(n[t+(e>>rc)]&1<<e)}function pr(e,t){return!(e&Je.Self||e&Je.Host&&t)}class wn{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return Od(this._tNode,this._lView,t,Dt(r),n)}}function Nh(){return new wn(Tn(),he())}function Gn(e){return Dr(()=>{const t=e.prototype.constructor,n=t[or]||Ia(t),r=Object.prototype;let s=Object.getPrototypeOf(e.prototype).constructor;for(;s&&s!==r;){const l=s[or]||Ia(s);if(l&&l!==n)return l;s=Object.getPrototypeOf(s)}return l=>new l})}function Ia(e){return De(e)?()=>{const t=Ia(pe(e));return t&&t()}:Ir(e)}function Pd(e){const t=e[Te],n=t.type;return 2===n?t.declTNode:1===n?e[Ot]:null}function _o(e){return function Oh(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const r=n.length;let s=0;for(;s<r;){const l=n[s];if(Ni(l))break;if(0===l)s+=2;else if("number"==typeof l)for(s++;s<r&&"string"==typeof n[s];)s++;else{if(l===t)return n[s+1];s+=2}}}return null}(Tn(),e)}const Vs="__parameters__";function Rr(e,t,n){return Dr(()=>{const r=function Do(e){return function(...n){if(e){const r=e(...n);for(const s in r)this[s]=r[s]}}}(t);function s(...l){if(this instanceof s)return r.apply(this,l),this;const c=new s(...l);return h.annotation=c,h;function h(v,D,T){const O=v.hasOwnProperty(Vs)?v[Vs]:Object.defineProperty(v,Vs,{value:[]})[Vs];for(;O.length<=T;)O.push(null);return(O[T]=O[T]||[]).push(c),v}}return n&&(s.prototype=Object.create(n.prototype)),s.prototype.ngMetadataName=e,s.annotationCls=s,s})}function Aa(e,t){e.forEach(n=>Array.isArray(n)?Aa(n,t):t(n))}function Fd(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Hl(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Or(e,t,n){let r=is(e,t);return r>=0?e[1|r]=n:(r=~r,function gm(e,t,n,r){let s=e.length;if(s==t)e.push(n,r);else if(1===s)e.push(r,e[0]),e[0]=n;else{for(s--,e.push(e[s-1],e[s]);s>t;)e[s]=e[s-2],s--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function $l(e,t){const n=is(e,t);if(n>=0)return e[1|n]}function is(e,t){return function kd(e,t,n){let r=0,s=e.length>>n;for(;s!==r;){const l=r+(s-r>>1),c=e[l<<n];if(t===c)return l<<n;c>t?s=l:r=l+1}return~(s<<n)}(e,t,1)}const Gl=Ht(Rr("Optional"),8),Pa=Ht(Rr("SkipSelf"),4);function ql(e){return 128==(128&e.flags)}var zi=(()=>((zi=zi||{})[zi.Important=1]="Important",zi[zi.DashCase=2]="DashCase",zi))();const yc=new Map;let Qh=0;const wc="__ngContext__";function Wn(e,t){jn(t)?(e[wc]=t[Ui],function qd(e){yc.set(e[Ui],e)}(t)):e[wc]=t}let bc;function fi(e,t){return bc(e,t)}function Ha(e){const t=e[kt];return an(t)?t[kt]:t}function ss(e){return rp(e[_i])}function Kl(e){return rp(e[Vn])}function rp(e){for(;null!==e&&!an(e);)e=e[Vn];return e}function Ba(e,t,n,r,s){if(null!=r){let l,c=!1;an(r)?l=r:jn(r)&&(c=!0,r=r[$t]);const h=N(r);0===e&&null!==n?null==s?sf(t,n,h):bo(t,n,h,s||null,!0):1===e&&null!==n?bo(t,n,h,s||null,!0):2===e?function Pr(e,t,n){const r=Ql(e,t);r&&function dp(e,t,n,r){e.removeChild(t,n,r)}(e,r,t,n)}(t,h,c):3===e&&t.destroyNode(h),null!=l&&function ru(e,t,n,r,s){const l=n[Jn];l!==N(n)&&Ba(t,e,r,l,s);for(let h=sn;h<n.length;h++){const v=n[h];Wa(v[Te],v,e,t,r,l)}}(t,e,l,n,s)}}function Ga(e,t,n){return e.createElement(t,n)}function ef(e,t){const n=e[Vi],r=n.indexOf(t);Hn(t),n.splice(r,1)}function tf(e,t){if(e.length<=sn)return;const n=sn+t,r=e[n];if(r){const s=r[Li];null!==s&&s!==e&&ef(s,r),t>0&&(e[n-1][Vn]=r[Vn]);const l=Hl(e,sn+t);!function op(e,t){Wa(e,t,t[et],2,null,null),t[$t]=null,t[Ot]=null}(r[Te],r);const c=l[lr];null!==c&&c.detachView(l[Te]),r[kt]=null,r[Vn]=null,r[Ze]&=-129}return r}function Ws(e,t){if(!(256&t[Ze])){const n=t[et];t[Di]?.destroy(),t[uo]?.destroy(),n.destroyNode&&Wa(e,t,n,3,null,null),function ap(e){let t=e[_i];if(!t)return as(e[Te],e);for(;t;){let n=null;if(jn(t))n=t[_i];else{const r=t[sn];r&&(n=r)}if(!n){for(;t&&!t[Vn]&&t!==e;)jn(t)&&as(t[Te],t),t=t[kt];null===t&&(t=e),jn(t)&&as(t[Te],t),n=t&&t[Vn]}t=n}}(t)}}function as(e,t){if(!(256&t[Ze])){t[Ze]&=-129,t[Ze]|=256,function cp(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const s=t[n[r]];if(!(s instanceof di)){const l=n[r+1];if(Array.isArray(l))for(let c=0;c<l.length;c+=2){const h=s[l[c]],v=l[c+1];M(4,h,v);try{v.call(h)}finally{M(5,h,v)}}else{M(4,s,l);try{l.call(s)}finally{M(5,s,l)}}}}}(e,t),function nf(e,t){const n=e.cleanup,r=t[Er];if(null!==n)for(let l=0;l<n.length-1;l+=2)if("string"==typeof n[l]){const c=n[l+3];c>=0?r[c]():r[-c].unsubscribe(),l+=2}else n[l].call(r[n[l+1]]);null!==r&&(t[Er]=null);const s=t[$r];if(null!==s){t[$r]=null;for(let l=0;l<s.length;l++)(0,s[l])()}}(e,t),1===t[Te].type&&t[et].destroy();const n=t[Li];if(null!==n&&an(t[kt])){n!==t[kt]&&ef(n,t);const r=t[lr];null!==r&&r.detachView(e)}!function Yd(e){yc.delete(e[Ui])}(t)}}function Jl(e,t,n){return function rf(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[$t];{const{componentOffset:s}=r;if(s>-1){const{encapsulation:l}=e.data[r.directiveStart+s];if(l===rr.None||l===rr.Emulated)return null}return Pe(r,n)}}(e,t.parent,n)}function bo(e,t,n,r,s){e.insertBefore(t,n,r,s)}function sf(e,t,n){e.appendChild(t,n)}function Ec(e,t,n,r,s){null!==r?bo(e,t,n,r,s):sf(e,t,n)}function Ql(e,t){return e.parentNode(t)}let eu,ou,us,hp=function lf(e,t,n){return 40&e.type?Pe(e,n):null};function tu(e,t,n,r){const s=Jl(e,r,t),l=t[et],h=function Xl(e,t,n){return hp(e,t,n)}(r.parent||t[Ot],r,t);if(null!=s)if(Array.isArray(n))for(let v=0;v<n.length;v++)Ec(l,s,n[v],h,!1);else Ec(l,s,n,h,!1);void 0!==eu&&eu(l,r,t,n,s)}function za(e,t){if(null!==t){const n=t.type;if(3&n)return Pe(t,e);if(4&n)return Wi(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return za(e,r);{const s=e[t.index];return an(s)?Wi(-1,s):N(s)}}if(32&n)return fi(t,e)()||N(e[t.index]);{const r=Sc(e,t);return null!==r?Array.isArray(r)?r[0]:za(Ha(e[zt]),r):za(e,t.next)}}return null}function Sc(e,t){return null!==t?e[zt][Ot].projection[t.projection]:null}function Wi(e,t){const n=sn+e+1;if(n<t.length){const r=t[n],s=r[Te].firstChild;if(null!==s)return za(r,s)}return t[Jn]}function nu(e,t,n,r,s,l,c){for(;null!=n;){const h=r[n.index],v=n.type;if(c&&0===t&&(h&&Wn(N(h),r),n.flags|=2),32!=(32&n.flags))if(8&v)nu(e,t,n.child,r,s,l,!1),Ba(t,e,s,h,l);else if(32&v){const D=fi(n,r);let T;for(;T=D();)Ba(t,e,s,T,l);Ba(t,e,s,h,l)}else 16&v?df(e,t,r,n,s,l):Ba(t,e,s,h,l);n=c?n.projectionNext:n.next}}function Wa(e,t,n,r,s,l){nu(n,r,e.firstChild,t,s,l,!1)}function df(e,t,n,r,s,l){const c=n[zt],v=c[Ot].projection[r.projection];if(Array.isArray(v))for(let D=0;D<v.length;D++)Ba(t,e,s,v[D],l);else{let D=v;const T=c[kt];ql(r)&&(D.flags|=128),nu(e,t,D,T,s,l,!0)}}function Fn(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function qi(e,t,n){const{mergedAttrs:r,classes:s,styles:l}=n;null!==r&&br(e,t,r),null!==s&&Fn(e,t,s),null!==l&&function ff(e,t,n){e.setAttribute(t,"style",n)}(e,t,l)}function vf(e){ou=e}function Tc(e){return function su(){if(void 0===us&&(us=null,Tt.trustedTypes))try{us=Tt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return us}()?.createScriptURL(e)||e}class yf{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${be})`}}function Yi(e){return e instanceof yf?e.changingThisBreaksApplicationSecurity:e}function Ys(e,t){const n=function bf(e){return e instanceof yf&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${be})`)}return n===t}const Om=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var tn=(()=>((tn=tn||{})[tn.NONE=0]="NONE",tn[tn.HTML=1]="HTML",tn[tn.STYLE=2]="STYLE",tn[tn.SCRIPT=3]="SCRIPT",tn[tn.URL=4]="URL",tn[tn.RESOURCE_URL=5]="RESOURCE_URL",tn))();function Af(e){const t=cu();return t?t.sanitize(tn.URL,e)||"":Ys(e,"URL")?Yi(e):function au(e){return(e=String(e)).match(Om)?e:"unsafe:"+e}(ze(e))}function Ka(e){const t=cu();if(t)return Tc(t.sanitize(tn.RESOURCE_URL,e)||"");if(Ys(e,"ResourceURL"))return Tc(Yi(e));throw new Re(904,!1)}function Cp(e,t,n){return function Pc(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?Ka:Af}(t,n)(e)}function cu(){const e=he();return e&&e[Hr].sanitizer}class mt{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Rt({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Io=new mt("ENVIRONMENT_INITIALIZER"),Za=new mt("INJECTOR",-1),Ks=new mt("INJECTOR_DEF_TYPES");class Ja{get(t,n=Cn){if(n===Cn){const r=new Error(`NullInjectorError: No provider for ${Fe(t)}!`);throw r.name="NullInjectorError",r}return n}}function Zs(e){return{\u0275providers:e}}function Ep(...e){return{\u0275providers:du(0,e),\u0275fromNgModule:!0}}function du(e,...t){const n=[],r=new Set;let s;return Aa(t,l=>{const c=l;Nc(c,n,[],r)&&(s||=[],s.push(c))}),void 0!==s&&Qa(s,n),n}function Qa(e,t){for(let n=0;n<e.length;n++){const{providers:s}=e[n];fu(s,l=>{t.push(l)})}}function Nc(e,t,n,r){if(!(e=pe(e)))return!1;let s=null,l=Qr(e);const c=!l&&yt(e);if(l||c){if(c&&!c.standalone)return!1;s=e}else{const v=e.ngModule;if(l=Qr(v),!l)return!1;s=v}const h=r.has(s);if(c){if(h)return!1;if(r.add(s),c.dependencies){const v="function"==typeof c.dependencies?c.dependencies():c.dependencies;for(const D of v)Nc(D,t,n,r)}}else{if(!l)return!1;{if(null!=l.imports&&!h){let D;r.add(s);try{Aa(l.imports,T=>{Nc(T,t,n,r)&&(D||=[],D.push(T))})}finally{}void 0!==D&&Qa(D,t)}if(!h){const D=Ir(s)||(()=>new s);t.push({provide:s,useFactory:D,deps:ht},{provide:Ks,useValue:s,multi:!0},{provide:Io,useValue:()=>ee(s),multi:!0})}const v=l.providers;null==v||h||fu(v,T=>{t.push(T)})}}return s!==e&&void 0!==e.providers}function fu(e,t){for(let n of e)ce(n)&&(n=n.\u0275providers),Array.isArray(n)?fu(n,t):t(n)}const Sp=q({provide:String,useValue:q});function hu(e){return null!==e&&"object"==typeof e&&Sp in e}function ds(e){return"function"==typeof e}const Nf=new mt("Set Injector scope."),kc={},Lc={};let Uc;function Xa(){return void 0===Uc&&(Uc=new Ja),Uc}class Zi{}class Vc extends Zi{get destroyed(){return this._destroyed}constructor(t,n,r,s){super(),this.parent=n,this.source=r,this.scopes=s,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,jc(t,c=>this.processProvider(c)),this.records.set(Za,fs(void 0,this)),s.has("environment")&&this.records.set(Zi,fs(void 0,this));const l=this.records.get(Nf);null!=l&&"string"==typeof l.value&&this.scopes.add(l.value),this.injectorDefTypes=new Set(this.get(Ks.multi,ht,Je.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of t)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const n=k(this),r=st(void 0);try{return t()}finally{k(n),st(r)}}get(t,n=Cn,r=Je.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(ms))return t[ms](this);r=Dt(r);const s=k(this),l=st(void 0);try{if(!(r&Je.SkipSelf)){let h=this.records.get(t);if(void 0===h){const v=function Um(e){return"function"==typeof e||"object"==typeof e&&e instanceof mt}(t)&&On(t);h=v&&this.injectableDefInScope(v)?fs(Ff(t),kc):null,this.records.set(t,h)}if(null!=h)return this.hydrate(t,h)}return(r&Je.Self?Xa():this.parent).get(t,n=r&Je.Optional&&n===Cn?null:n)}catch(c){if("NullInjectorError"===c.name){if((c[Yn]=c[Yn]||[]).unshift(Fe(t)),s)throw c;return function wr(e,t,n,r){const s=e[Yn];throw t[ni]&&s.unshift(t[ni]),e.message=function oo(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let s=Fe(t);if(Array.isArray(t))s=t.map(Fe).join(" -> ");else if("object"==typeof t){let l=[];for(let c in t)if(t.hasOwnProperty(c)){let h=t[c];l.push(c+":"+("string"==typeof h?JSON.stringify(h):Fe(h)))}s=`{${l.join(", ")}}`}return`${n}${r?"("+r+")":""}[${s}]: ${e.replace(Vo,"\n  ")}`}("\n"+e.message,s,n,r),e.ngTokenPath=s,e[Yn]=null,e}(c,t,"R3InjectorError",this.source)}throw c}finally{st(l),k(s)}}resolveInjectorInitializers(){const t=k(this),n=st(void 0);try{const r=this.get(Io.multi,ht,Je.Self);for(const s of r)s()}finally{k(t),st(n)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(Fe(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Re(205,!1)}processProvider(t){let n=ds(t=pe(t))?t:pe(t&&t.provide);const r=function el(e){return hu(e)?fs(void 0,e.useValue):fs(pu(e),kc)}(t);if(ds(t)||!0!==t.multi)this.records.get(n);else{let s=this.records.get(n);s||(s=fs(void 0,kc,!0),s.factory=()=>bt(s.multi),this.records.set(n,s)),n=t,s.multi.push(t)}this.records.set(n,r)}hydrate(t,n){return n.value===kc&&(n.value=Lc,n.value=n.factory()),"object"==typeof n.value&&n.value&&function Lf(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=pe(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Ff(e){const t=On(e),n=null!==t?t.factory:Ir(e);if(null!==n)return n;if(e instanceof mt)throw new Re(204,!1);if(e instanceof Function)return function Ip(e){const t=e.length;if(t>0)throw function Bs(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}(t,"?"),new Re(204,!1);const n=function tt(e){return e&&(e[pn]||e[Xr])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Re(204,!1)}function pu(e,t,n){let r;if(ds(e)){const s=pe(e);return Ir(s)||Ff(s)}if(hu(e))r=()=>pe(e.useValue);else if(function Mp(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...bt(e.deps||[]));else if(function Pf(e){return!(!e||!e.useExisting)}(e))r=()=>ee(pe(e.useExisting));else{const s=pe(e&&(e.useClass||e.provide));if(!function kf(e){return!!e.deps}(e))return Ir(s)||Ff(s);r=()=>new s(...bt(e.deps))}return r}function fs(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function jc(e,t){for(const n of e)Array.isArray(n)?jc(n,t):n&&ce(n)?jc(n.\u0275providers,t):t(n)}const Hc=new mt("AppId",{providedIn:"root",factory:()=>Vm}),Vm="ng",Tp=new mt("Platform Initializer"),Uf=new mt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Vf=new mt("CSP nonce",{providedIn:"root",factory:()=>function qs(){if(void 0!==ou)return ou;if(typeof document<"u")return document;throw new Re(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let wu=(e,t)=>null;function Yc(e,t){return wu(e,t)}class Xc{}class $f{}class Lp{resolveComponentFactory(t){throw function Gf(e){const t=Error(`No component factory found for ${Fe(e)}.`);return t.ngComponent=e,t}(t)}}let il=(()=>{class e{static#e=this.NULL=new Lp}return e})();function Up(){return hs(Tn(),he())}function hs(e,t){return new ol(Pe(e,t))}let ol=(()=>{class e{constructor(n){this.nativeElement=n}static#e=this.__NG_ELEMENT_ID__=Up}return e})();function Vp(e){return e instanceof ol?e.nativeElement:e}class Du{}let zf=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=()=>function jp(){const e=he(),n=Ye(Tn().index,e);return(jn(n)?n:e)[et]}()}return e})(),Wf=(()=>{class e{static#e=this.\u0275prov=Rt({token:e,providedIn:"root",factory:()=>null})}return e})();class qf{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Yf=new qf("16.0.6"),td={};function ea(e){for(;e;){e[Ze]|=64;const t=Ha(e);if(Mr(e)&&!t)return e;e=t}return null}function Zf(e){return e.ngOriginalError}class sl{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&Zf(t);for(;n&&Zf(n);)n=Zf(n);return n||null}}const Qf=new mt("",{providedIn:"root",factory:()=>!1});function To(e){return e instanceof Function?e():e}class nh extends Ei{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(t){this._lView=t}onConsumerDependencyMayHaveChanged(){ea(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(t,n,r){const s=Qt(this);this.trackingVersion++;try{t(n,r)}finally{Qt(s)}}destroy(){this.trackingVersion++}}let al=null;function a(){return al??=new nh,al}function i(e,t){return e[t]??a()}function o(e,t){const n=a();n.hasReadASignal&&(e[t]=al,n.lView=e,al=new nh)}const u={};function p(e){C(gt(),he(),Xt()+e,!1)}function C(e,t,n,r){if(!r)if(3==(3&t[Ze])){const l=e.preOrderCheckHooks;null!==l&&ne(t,l,n)}else{const l=e.preOrderHooks;null!==l&&Oe(t,l,0,n)}Mi(n)}function xn(e,t=null,n=null,r){const s=Zt(e,t,n,r);return s.resolveInjectorInitializers(),s}function Zt(e,t=null,n=null,r,s=new Set){const l=[n||ht,Ep(e)];return r=r||("object"==typeof e?void 0:Fe(e)),new Vc(l,t||Xa(),r||null,s)}let Et=(()=>{class e{static#e=this.THROW_IF_NOT_FOUND=Cn;static#t=this.NULL=new Ja;static create(n,r){if(Array.isArray(n))return xn({name:""},r,n,"");{const s=n.name??"";return xn({name:s},n.parent,n.providers,s)}}static#n=this.\u0275prov=Rt({token:e,providedIn:"any",factory:()=>ee(Za)});static#r=this.__NG_ELEMENT_ID__=-1}return e})();function rn(e,t=Je.Default){const n=he();return null===n?ee(e,t):Od(Tn(),n,pe(e),t)}function nn(){throw new Error("invalid")}function Mt(e,t,n,r,s,l,c,h,v,D,T){const O=t.blueprint.slice();return O[$t]=s,O[Ze]=140|r,(null!==D||e&&2048&e[Ze])&&(O[Ze]|=2048),ur(O),O[kt]=O[Br]=e,O[Gt]=n,O[Hr]=c||e&&e[Hr],O[et]=h||e&&e[et],O[jr]=v||e&&e[jr]||null,O[Ot]=l,O[Ui]=function Xh(){return Qh++}(),O[Zn]=T,O[wi]=D,O[zt]=2==t.type?e[zt]:O,O}function It(e,t,n,r,s){let l=e.data[t];if(null===l)l=function Nr(e,t,n,r,s){const l=ya(),c=Ju(),v=e.data[t]=function xo(e,t,n,r,s,l){let c=t?t.injectorIndex:-1,h=0;return function Gi(){return null!==Be.skipHydrationRootTNode}()&&(h|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:c,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:h,providerIndexes:0,value:s,attrs:l,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,c?l:l&&l.parent,n,t,r,s);return null===e.firstChild&&(e.firstChild=v),null!==l&&(c?null==l.child&&null!==v.parent&&(l.child=v):null===l.next&&(l.next=v,v.prev=l)),v}(e,t,n,r,s),function Xu(){return Be.lFrame.inI18n}()&&(l.flags|=32);else if(64&l.type){l.type=n,l.value=r,l.attrs=s;const c=function er(){const e=Be.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();l.injectorIndex=null===c?-1:c.injectorIndex}return Wr(l,!0),l}function mr(e,t,n,r){if(0===n)return-1;const s=t.length;for(let l=0;l<n;l++)t.push(r),e.blueprint.push(r),e.data.push(null);return s}function hi(e,t,n,r,s){const l=i(t,Di),c=Xt(),h=2&r;try{if(Mi(-1),h&&t.length>at&&C(e,t,at,!1),M(h?2:0,s),h)l.runInContext(n,r,s);else{const D=Qt(null);try{n(r,s)}finally{Qt(D)}}}finally{h&&null===t[Di]&&o(t,Di),Mi(c),M(h?3:1,s)}}function Fr(e,t,n){if(Ms(t)){const r=Qt(null);try{const l=t.directiveEnd;for(let c=t.directiveStart;c<l;c++){const h=e.data[c];h.contentQueries&&h.contentQueries(1,n[c],c)}}finally{Qt(r)}}}function na(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=ra(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function ra(e,t,n,r,s,l,c,h,v,D,T){const O=at+r,U=O+s,$=function bu(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:u);return n}(O,U),se="function"==typeof D?D():D;return $[Te]={type:e,blueprint:$,template:n,queries:null,viewQuery:h,declTNode:t,data:$.slice().fill(null,O),bindingStartIndex:O,expandoStartIndex:U,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof l?l():l,pipeRegistry:"function"==typeof c?c():c,firstChild:null,schemas:v,consts:se,incompleteFirstPass:!1,ssrId:T}}let bn=e=>null;function Jr(e,t,n,r){for(let s in e)if(e.hasOwnProperty(s)){n=null===n?{}:n;const l=e[s];null===r?Ro(n,t,s,l):r.hasOwnProperty(s)&&Ro(n,t,r[s],l)}return n}function Ro(e,t,n,r){e.hasOwnProperty(n)?e[n].push(t,r):e[n]=[t,r]}function Zm(e,t,n,r,s,l){for(let D=0;D<r.length;D++)ac(Ul(n,t),e,r[D].type);!function oD(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let D=0;D<r.length;D++){const T=r[D];T.providersResolver&&T.providersResolver(T)}let c=!1,h=!1,v=mr(e,t,r.length,null);for(let D=0;D<r.length;D++){const T=r[D];n.mergedAttrs=mi(n.mergedAttrs,T.hostAttrs),sD(e,n,t,v,T),iD(v,T,s),null!==T.contentQueries&&(n.flags|=4),(null!==T.hostBindings||null!==T.hostAttrs||0!==T.hostVars)&&(n.flags|=64);const O=T.type.prototype;!c&&(O.ngOnChanges||O.ngOnInit||O.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),c=!0),!h&&(O.ngOnChanges||O.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),h=!0),v++}!function Cu(e,t,n){const s=t.directiveEnd,l=e.data,c=t.attrs,h=[];let v=null,D=null;for(let T=t.directiveStart;T<s;T++){const O=l[T],U=n?n.get(O):null,se=U?U.outputs:null;v=Jr(O.inputs,T,v,U?U.inputs:null),D=Jr(O.outputs,T,D,se);const me=null===v||null===c||Bo(t)?null:uD(v,T,c);h.push(me)}null!==v&&(v.hasOwnProperty("class")&&(t.flags|=8),v.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=h,t.inputs=v,t.outputs=D}(e,n,l)}function Jm(e,t,n){const r=n.directiveStart,s=n.directiveEnd,l=n.index,c=function tc(){return Be.lFrame.currentDirectiveIndex}();try{Mi(l);for(let h=r;h<s;h++){const v=e.data[h],D=t[h];wa(h),(null!==v.hostBindings||0!==v.hostVars||null!==v.hostAttrs)&&tD(v,D)}}finally{Mi(-1),wa(c)}}function tD(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function zp(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function iD(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Qn(t)&&(n[""]=e)}}function sD(e,t,n,r,s){e.data[r]=s;const l=s.factory||(s.factory=Ir(s.type)),c=new di(l,Qn(s),rn);e.blueprint[r]=c,n[r]=c,function Qw(e,t,n,r,s){const l=s.hostBindings;if(l){let c=e.hostBindingOpCodes;null===c&&(c=e.hostBindingOpCodes=[]);const h=~t.index;(function Xw(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(c)!=h&&c.push(h),c.push(n,r,l)}}(e,t,r,mr(e,n,s.hostVars,u),s)}function Oo(e,t,n,r,s,l){const c=Pe(e,t);!function Wp(e,t,n,r,s,l,c){if(null==l)e.removeAttribute(t,s,n);else{const h=null==c?ze(l):c(l,r||"",s);e.setAttribute(t,s,h,n)}}(t[et],c,l,e.value,n,r,s)}function lD(e,t,n,r,s,l){const c=l[t];if(null!==c)for(let h=0;h<c.length;)Qm(r,n,c[h++],c[h++],c[h++])}function Qm(e,t,n,r,s){const l=Qt(null);try{null!==e.setInput?e.setInput(t,s,n,r):t[r]=s}finally{Qt(l)}}function uD(e,t,n){let r=null,s=0;for(;s<n.length;){const l=n[s];if(0!==l)if(5!==l){if("number"==typeof l)break;if(e.hasOwnProperty(l)){null===r&&(r=[]);const c=e[l];for(let h=0;h<c.length;h+=2)if(c[h]===t){r.push(l,c[h+1],n[s+1]);break}}s+=2}else s+=2;else s+=4}return r}function ev(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const l=n[r+1];if(-1!==l){const c=e.data[l];dr(n[r]),c.contentQueries(2,t[l],l)}}}function rh(e,t){return e[_i]?e[ki][Vn]=t:e[_i]=t,e[ki]=t,t}function qp(e,t,n){dr(0);const r=Qt(null);try{t(e,n)}finally{Qt(r)}}function tv(e){return e[Er]||(e[Er]=[])}function nv(e){return e.cleanup||(e.cleanup=[])}function iv(e,t){const n=e[jr],r=n?n.get(sl,null):null;r&&r.handleError(t)}function Yp(e,t,n,r,s){for(let l=0;l<n.length;){const c=n[l++],h=n[l++];Qm(e.data[c],t[c],r,h,s)}}function cD(e,t){const n=Ye(t,e),r=n[Te];!function dD(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n);const s=n[$t];null!==s&&null===n[Zn]&&(n[Zn]=Yc(s,n[jr])),Kp(r,n,n[Gt])}function Kp(e,t,n){Da(t);try{const r=e.viewQuery;null!==r&&qp(1,r,n);const s=e.template;null!==s&&hi(e,t,s,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&ev(e,t),e.staticViewQueries&&qp(2,e.viewQuery,n);const l=e.components;null!==l&&function fD(e,t){for(let n=0;n<t.length;n++)cD(e,t[n])}(t,l)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[Ze]&=-5,Nn()}}let ov=(()=>{class e{constructor(){this.all=new Set,this.queue=new Map}create(n,r,s){const l=typeof Zone>"u"?null:Zone.current,c=new xs(n,D=>{this.all.has(D)&&this.queue.set(D,l)},s);let h;this.all.add(c),c.notify();const v=()=>{c.cleanup(),h?.(),this.all.delete(c),this.queue.delete(c)};return h=r?.onDestroy(v),{destroy:v}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=Rt({token:e,providedIn:"root",factory:()=>new e})}return e})();function ih(e,t,n){let r=n?e.styles:null,s=n?e.classes:null,l=0;if(null!==t)for(let c=0;c<t.length;c++){const h=t[c];"number"==typeof h?l=h:1==l?s=ge(s,h):2==l&&(r=ge(r,h+": "+t[++c]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=s:e.classesWithoutHost=s}function od(e,t,n,r,s=!1){for(;null!==n;){const l=t[n.index];if(null!==l&&r.push(N(l)),an(l)){for(let h=sn;h<l.length;h++){const v=l[h],D=v[Te].firstChild;null!==D&&od(v[Te],v,D,r)}l[Jn]!==l[$t]&&r.push(l[Jn])}const c=n.type;if(8&c)od(e,t,n.child,r);else if(32&c){const h=fi(n,t);let v;for(;v=h();)r.push(v)}else if(16&c){const h=Sc(t,n);if(Array.isArray(h))r.push(...h);else{const v=Ha(t[zt]);od(v[Te],v,h,r,!0)}}n=s?n.projectionNext:n.next}return r}function oh(e,t,n,r=!0){const s=t[Hr].rendererFactory;s.begin&&s.begin();try{sh(e,t,e.template,n)}catch(c){throw r&&iv(t,c),c}finally{s.end&&s.end(),t[Hr].effectManager?.flush()}}function sh(e,t,n,r){const s=t[Ze];if(256!=(256&s)){t[Hr].effectManager?.flush(),Da(t);try{ur(t),function Pl(e){return Be.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&hi(e,t,n,2,r);const c=3==(3&s);if(c){const D=e.preOrderCheckHooks;null!==D&&ne(t,D,null)}else{const D=e.preOrderHooks;null!==D&&Oe(t,D,0,null),Ve(t,0)}if(function yD(e){for(let t=ss(e);null!==t;t=Kl(t)){if(!t[Ss])continue;const n=t[Vi];for(let r=0;r<n.length;r++){Si(n[r])}}}(t),function vD(e){for(let t=ss(e);null!==t;t=Kl(t))for(let n=sn;n<t.length;n++){const r=t[n],s=r[Te];Ct(r)&&sh(s,r,s.template,r[Gt])}}(t),null!==e.contentQueries&&ev(e,t),c){const D=e.contentCheckHooks;null!==D&&ne(t,D)}else{const D=e.contentHooks;null!==D&&Oe(t,D,1),Ve(t,1)}!function Ji(e,t){const n=e.hostBindingOpCodes;if(null===n)return;const r=i(t,uo);try{for(let s=0;s<n.length;s++){const l=n[s];if(l<0)Mi(~l);else{const c=l,h=n[++s],v=n[++s];Sd(h,c),r.runInContext(v,2,t[c])}}}finally{null===t[uo]&&o(t,uo),Mi(-1)}}(e,t);const h=e.components;null!==h&&function wD(e,t){for(let n=0;n<t.length;n++)_D(e,t[n])}(t,h);const v=e.viewQuery;if(null!==v&&qp(2,v,r),c){const D=e.viewCheckHooks;null!==D&&ne(t,D)}else{const D=e.viewHooks;null!==D&&Oe(t,D,2),Ve(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[Ze]&=-73,Hn(t)}finally{Nn()}}}function _D(e,t){const n=Ye(t,e);if(Ct(n)){const r=n[Te];80&n[Ze]?sh(r,n,r.template,n[Gt]):n[ri]>0&&Zp(n)}}function Zp(e){for(let r=ss(e);null!==r;r=Kl(r))for(let s=sn;s<r.length;s++){const l=r[s];if(Ct(l))if(1024&l[Ze]){const c=l[Te];sh(c,l,c.template,l[Gt])}else l[ri]>0&&Zp(l)}const n=e[Te].components;if(null!==n)for(let r=0;r<n.length;r++){const s=Ye(n[r],e);Ct(s)&&s[ri]>0&&Zp(s)}}class sd{get rootNodes(){const t=this._lView,n=t[Te];return od(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Gt]}set context(t){this._lView[Gt]=t}get destroyed(){return 256==(256&this._lView[Ze])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[kt];if(an(t)){const n=t[fo],r=n?n.indexOf(this):-1;r>-1&&(tf(t,r),Hl(n,r))}this._attachedToViewContainer=!1}Ws(this._lView[Te],this._lView)}onDestroy(t){!function zr(e,t){if(256==(256&e[Ze]))throw new Re(911,!1);null===e[$r]&&(e[$r]=[]),e[$r].push(t)}(this._lView,t)}markForCheck(){ea(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ze]&=-129}reattach(){this._lView[Ze]|=128}detectChanges(){oh(this._lView[Te],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Re(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function sp(e,t){Wa(e,t,t[et],2,null,null)}(this._lView[Te],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Re(902,!1);this._appRef=t}}class DD extends sd{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;oh(t[Te],t,t[Gt],!1)}checkNoChanges(){}get context(){return null}}class sv extends il{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=yt(t);return new ad(n,this.ngModule)}}function av(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class CD{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=Dt(r);const s=this.injector.get(t,td,r);return s!==td||n===td?s:this.parentInjector.get(t,n,r)}}class ad extends $f{get inputs(){return av(this.componentDef.inputs)}get outputs(){return av(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function vi(e){return e.map(bs).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,s){let l=(s=s||this.ngModule)instanceof Zi?s:s?.injector;l&&null!==this.componentDef.getStandaloneInjector&&(l=this.componentDef.getStandaloneInjector(l)||l);const c=l?new CD(t,l):t,h=c.get(Du,null);if(null===h)throw new Re(407,!1);const T={rendererFactory:h,sanitizer:c.get(Wf,null),effectManager:c.get(ov,null)},O=h.createRenderer(null,this.componentDef),U=this.componentDef.selectors[0][0]||"div",$=r?function rd(e,t,n,r){const l=r.get(Qf,!1)||n===rr.ShadowDom,c=e.selectRootElement(t,l);return function id(e){bn(e)}(c),c}(O,r,this.componentDef.encapsulation,c):Ga(O,U,function bD(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(U)),se=this.componentDef.onPush?576:528,me=ra(0,null,null,1,0,null,null,null,null,null,null),Ae=Mt(null,me,null,se,null,null,T,O,c,null,null);let He,ue;Da(Ae);try{const rt=this.componentDef;let ft,Vt=null;rt.findHostDirectiveDefs?(ft=[],Vt=new Map,rt.findHostDirectiveDefs(rt,ft,Vt),ft.push(rt)):ft=[rt];const to=function SD(e,t){const n=e[Te],r=at;return e[r]=t,It(n,r,2,"#host",null)}(Ae,$),Lw=function MD(e,t,n,r,s,l,c){const h=s[Te];!function ID(e,t,n,r){for(const s of e)t.mergedAttrs=mi(t.mergedAttrs,s.hostAttrs);null!==t.mergedAttrs&&(ih(t,t.mergedAttrs,!0),null!==n&&qi(r,n,t))}(r,e,t,c);let v=null;null!==t&&(v=Yc(t,s[jr]));const D=l.rendererFactory.createRenderer(t,n),T=Mt(s,na(n),null,n.onPush?64:16,s[e.index],e,l,D,null,null,v);return h.firstCreatePass&&zp(h,e,r.length-1),rh(s,T),s[e.index]=T}(to,$,rt,ft,Ae,T,O);ue=_t(me,at),$&&function AD(e,t,n,r){if(r)br(e,n,["ng-version",Yf.full]);else{const{attrs:s,classes:l}=function Go(e){const t=[],n=[];let r=1,s=2;for(;r<e.length;){let l=e[r];if("string"==typeof l)2===s?""!==l&&t.push(l,e[++r]):8===s&&n.push(l);else{if(!mn(s))break;s=l}r++}return{attrs:t,classes:n}}(t.selectors[0]);s&&br(e,n,s),l&&l.length>0&&Fn(e,n,l.join(" "))}}(O,rt,$,r),void 0!==n&&function xD(e,t,n){const r=e.projection=[];for(let s=0;s<t.length;s++){const l=n[s];r.push(null!=l?Array.from(l):null)}}(ue,this.ngContentSelectors,n),He=function TD(e,t,n,r,s,l){const c=Tn(),h=s[Te],v=Pe(c,s);Zm(h,s,c,n,null,r);for(let T=0;T<n.length;T++)Wn(xr(s,h,c.directiveStart+T,c),s);Jm(h,s,c),v&&Wn(v,s);const D=xr(s,h,c.directiveStart+c.componentOffset,c);if(e[Gt]=s[Gt]=D,null!==l)for(const T of l)T(D,t);return Fr(h,c,e),D}(Lw,rt,ft,Vt,Ae,[RD]),Kp(me,Ae,null)}finally{Nn()}return new ED(this.componentType,He,hs(ue,Ae),Ae,ue)}}class ED extends Xc{constructor(t,n,r,s,l){super(),this.location=r,this._rootLView=s,this._tNode=l,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new DD(s),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let s;if(null!==r&&(s=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const l=this._rootLView;Yp(l[Te],l,s,t,n),this.previousInputValues.set(t,n),ea(Ye(this._tNode.index,l))}}get injector(){return new wn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function RD(){const e=Tn();j(he()[Te],e)}function Jp(e){let t=function lv(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let s;if(Qn(e))s=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Re(903,!1);s=t.\u0275dir}if(s){if(n){r.push(s);const c=e;c.inputs=Qp(e.inputs),c.declaredInputs=Qp(e.declaredInputs),c.outputs=Qp(e.outputs);const h=s.hostBindings;h&&FD(e,h);const v=s.viewQuery,D=s.contentQueries;if(v&&PD(e,v),D&&ND(e,D),Ce(e.inputs,s.inputs),Ce(e.declaredInputs,s.declaredInputs),Ce(e.outputs,s.outputs),Qn(s)&&s.data.animation){const T=e.data;T.animation=(T.animation||[]).concat(s.data.animation)}}const l=s.features;if(l)for(let c=0;c<l.length;c++){const h=l[c];h&&h.ngInherit&&h(e),h===Jp&&(n=!1)}}t=Object.getPrototypeOf(t)}!function OD(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const s=e[r];s.hostVars=t+=s.hostVars,s.hostAttrs=mi(s.hostAttrs,n=mi(n,s.hostAttrs))}}(r)}function Qp(e){return e===Kn?{}:e===ht?[]:e}function PD(e,t){const n=e.viewQuery;e.viewQuery=n?(r,s)=>{t(r,s),n(r,s)}:t}function ND(e,t){const n=e.contentQueries;e.contentQueries=n?(r,s,l)=>{t(r,s,l),n(r,s,l)}:t}function FD(e,t){const n=e.hostBindings;e.hostBindings=n?(r,s)=>{t(r,s),n(r,s)}:t}function ah(e){return!!Xp(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function Xp(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function vr(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function eg(e,t,n,r){const s=he();return vr(s,ks(),t)&&(gt(),Oo(qt(),s,e,t,n,r)),eg}function Mv(e){return ut(function Ed(){return Be.lFrame.contextLView}(),at+e)}function sg(e,t,n){const r=he();return vr(r,ks(),t)&&function pi(e,t,n,r,s,l,c,h){const v=Pe(t,n);let T,D=t.inputs;!h&&null!=D&&(T=D[r])?(Yp(e,n,T,r,s),Sr(t)&&function Zw(e,t){const n=Ye(t,e);16&n[Ze]||(n[Ze]|=64)}(n,t.index)):3&t.type&&(r=function Kw(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),s=null!=c?c(s,t.value||"",r):s,l.setProperty(v,r,s))}(gt(),qt(),r,e,t,r[et],n,!1),sg}function ag(e,t,n,r,s){const c=s?"class":"style";Yp(e,n,t.inputs[c],c,r)}function fh(e,t,n,r){const s=he(),l=gt(),c=at+e,h=s[et],v=l.firstCreatePass?function db(e,t,n,r,s,l){const c=t.consts,v=It(t,e,2,r,yn(c,s));return function Gp(e,t,n,r){if(Bn()){const s=null===r?null:{"":-1},l=function nD(e,t){const n=e.directiveRegistry;let r=null,s=null;if(n)for(let l=0;l<n.length;l++){const c=n[l];if(Cr(t,c.selectors,!1))if(r||(r=[]),Qn(c))if(null!==c.findHostDirectiveDefs){const h=[];s=s||new Map,c.findHostDirectiveDefs(c,h,s),r.unshift(...h,c),zp(e,t,h.length)}else r.unshift(c),zp(e,t,0);else s=s||new Map,c.findHostDirectiveDefs?.(c,r,s),r.push(c)}return null===r?null:[r,s]}(e,n);let c,h;null===l?c=h=null:[c,h]=l,null!==c&&Zm(e,t,n,c,s,h),s&&function rD(e,t,n){if(t){const r=e.localNames=[];for(let s=0;s<t.length;s+=2){const l=n[t[s+1]];if(null==l)throw new Re(-301,!1);r.push(t[s],l)}}}(n,r,s)}n.mergedAttrs=mi(n.mergedAttrs,n.attrs)}(t,n,v,yn(c,l)),null!==v.attrs&&ih(v,v.attrs,!1),null!==v.mergedAttrs&&ih(v,v.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,v),v}(c,l,s,t,n,r):l.data[c],D=Iv(l,s,v,h,t,e);s[c]=D;const T=vn(v);return Wr(v,!0),qi(h,D,v),32!=(32&v.flags)&&b()&&tu(l,s,D,v),0===function Yu(){return Be.lFrame.elementDepthCount}()&&Wn(D,s),function Al(){Be.lFrame.elementDepthCount++}(),T&&(function ps(e,t,n){Bn()&&(function eD(e,t,n,r){const s=n.directiveStart,l=n.directiveEnd;Sr(n)&&function aD(e,t,n){const r=Pe(t,e),c=rh(e,Mt(e,na(n),null,n.onPush?64:16,r,t,null,e[Hr].rendererFactory.createRenderer(r,n),null,null,null));e[t.index]=c}(t,n,e.data[s+n.componentOffset]),e.firstCreatePass||Ul(n,t),Wn(r,t);const c=n.initialInputs;for(let h=s;h<l;h++){const v=e.data[h],D=xr(t,e,h,n);Wn(D,t),null!==c&&lD(0,h-s,D,v,0,c),Qn(v)&&(Ye(n.index,t)[Gt]=xr(t,e,h,n))}}(e,t,n,Pe(n,t)),64==(64&n.flags)&&Jm(e,t,n))}(l,s,v),Fr(l,v,s)),null!==r&&function ll(e,t,n=Pe){const r=t.localNames;if(null!==r){let s=t.index+1;for(let l=0;l<r.length;l+=2){const c=r[l+1],h=-1===c?n(t,e):e[c];e[s++]=h}}}(s,v),fh}function hh(){let e=Tn();Ju()?function Ol(){Be.lFrame.isParent=!1}():(e=e.parent,Wr(e,!1));const t=e;(function Ns(e){return Be.skipHydrationRootTNode===e})(t)&&function Cd(){Be.skipHydrationRootTNode=null}(),function Ku(){Be.lFrame.elementDepthCount--}();const n=gt();return n.firstCreatePass&&(j(n,e),Ms(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function Th(e){return 0!=(8&e.flags)}(t)&&ag(n,t,he(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function Ah(e){return 0!=(16&e.flags)}(t)&&ag(n,t,he(),t.stylesWithoutHost,!1),hh}function lg(e,t,n,r){return fh(e,t,n,r),hh(),lg}let Iv=(e,t,n,r,s,l)=>(A(!0),Ga(r,s,function d(){return Be.lFrame.currentNamespace}()));function xv(){return he()}function dg(e){return!!e&&"function"==typeof e.then}function Rv(e){return!!e&&"function"==typeof e.subscribe}function fg(e,t,n,r){const s=he(),l=gt(),c=Tn();return function Pv(e,t,n,r,s,l,c){const h=vn(r),D=e.firstCreatePass&&nv(e),T=t[Gt],O=tv(t);let U=!0;if(3&r.type||c){const me=Pe(r,t),Ae=c?c(me):me,He=O.length,ue=c?ft=>c(N(ft[r.index])):r.index;let rt=null;if(!c&&h&&(rt=function vb(e,t,n,r){const s=e.cleanup;if(null!=s)for(let l=0;l<s.length-1;l+=2){const c=s[l];if(c===n&&s[l+1]===r){const h=t[Er],v=s[l+2];return h.length>v?h[v]:null}"string"==typeof c&&(l+=2)}return null}(e,t,s,r.index)),null!==rt)(rt.__ngLastListenerFn__||rt).__ngNextListenerFn__=l,rt.__ngLastListenerFn__=l,U=!1;else{l=Fv(r,t,T,l,!1);const ft=n.listen(Ae,s,l);O.push(l,ft),D&&D.push(s,ue,He,He+1)}}else l=Fv(r,t,T,l,!1);const $=r.outputs;let se;if(U&&null!==$&&(se=$[s])){const me=se.length;if(me)for(let Ae=0;Ae<me;Ae+=2){const Vt=t[se[Ae]][se[Ae+1]].subscribe(l),to=O.length;O.push(l,Vt),D&&D.push(s,r.index,to,-(to+1))}}}(l,s,s[et],c,e,t,r),fg}function Nv(e,t,n,r){try{return M(6,t,n),!1!==n(r)}catch(s){return iv(e,s),!1}finally{M(7,t,n)}}function Fv(e,t,n,r,s){return function l(c){if(c===Function)return r;ea(e.componentOffset>-1?Ye(e.index,t):t);let v=Nv(t,n,r,c),D=l.__ngNextListenerFn__;for(;D;)v=Nv(t,n,D,c)&&v,D=D.__ngNextListenerFn__;return s&&!1===v&&c.preventDefault(),v}}function ph(e,t){return e<<17|t<<2}function ia(e){return e>>17&32767}function pg(e){return 2|e}function cl(e){return(131068&e)>>2}function gg(e,t){return-131069&e|t<<2}function mg(e){return 1|e}function zv(e,t,n,r,s){const l=e[n+1],c=null===t;let h=r?ia(l):cl(l),v=!1;for(;0!==h&&(!1===v||c);){const T=e[h+1];Ib(e[h],t)&&(v=!0,e[h+1]=r?mg(T):pg(T)),h=r?ia(T):cl(T)}v&&(e[n+1]=r?pg(l):mg(l))}function Ib(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&is(e,t)>=0}function vg(e,t){return function Qi(e,t,n,r){const s=he(),l=gt(),c=function qr(e){const t=Be.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}(2);l.firstUpdatePass&&function ey(e,t,n,r){const s=e.data;if(null===s[n+1]){const l=s[Xt()],c=function Xv(e,t){return t>=e.expandoStartIndex}(e,n);(function iy(e,t){return 0!=(e.flags&(t?8:16))})(l,r)&&null===t&&!c&&(t=!1),t=function kb(e,t,n,r){const s=function Nl(e){const t=Be.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let l=r?t.residualClasses:t.residualStyles;if(null===s)0===(r?t.classBindings:t.styleBindings)&&(n=fd(n=yg(null,e,t,n,r),t.attrs,r),l=null);else{const c=t.directiveStylingLast;if(-1===c||e[c]!==s)if(n=yg(s,e,t,n,r),null===l){let v=function Lb(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==cl(r))return e[ia(r)]}(e,t,r);void 0!==v&&Array.isArray(v)&&(v=yg(null,e,t,v[1],r),v=fd(v,t.attrs,r),function Ub(e,t,n,r){e[ia(n?t.classBindings:t.styleBindings)]=r}(e,t,r,v))}else l=function Vb(e,t,n){let r;const s=t.directiveEnd;for(let l=1+t.directiveStylingLast;l<s;l++)r=fd(r,e[l].hostAttrs,n);return fd(r,t.attrs,n)}(e,t,r)}return void 0!==l&&(r?t.residualClasses=l:t.residualStyles=l),n}(s,l,t,r),function Sb(e,t,n,r,s,l){let c=l?t.classBindings:t.styleBindings,h=ia(c),v=cl(c);e[r]=n;let T,D=!1;if(Array.isArray(n)?(T=n[1],(null===T||is(n,T)>0)&&(D=!0)):T=n,s)if(0!==v){const U=ia(e[h+1]);e[r+1]=ph(U,h),0!==U&&(e[U+1]=gg(e[U+1],r)),e[h+1]=function Cb(e,t){return 131071&e|t<<17}(e[h+1],r)}else e[r+1]=ph(h,0),0!==h&&(e[h+1]=gg(e[h+1],r)),h=r;else e[r+1]=ph(v,0),0===h?h=r:e[v+1]=gg(e[v+1],r),v=r;D&&(e[r+1]=pg(e[r+1])),zv(e,T,r,!0),zv(e,T,r,!1),function Mb(e,t,n,r,s){const l=s?e.residualClasses:e.residualStyles;null!=l&&"string"==typeof t&&is(l,t)>=0&&(n[r+1]=mg(n[r+1]))}(t,T,e,r,l),c=ph(h,v),l?t.classBindings=c:t.styleBindings=c}(s,l,t,n,c,r)}}(l,e,c,r),t!==u&&vr(s,c,t)&&function ny(e,t,n,r,s,l,c,h){if(!(3&t.type))return;const v=e.data,D=v[h+1],T=function Eb(e){return 1==(1&e)}(D)?ry(v,t,n,s,cl(D),c):void 0;gh(T)||(gh(l)||function bb(e){return 2==(2&e)}(D)&&(l=ry(v,null,n,s,h,c)),function Co(e,t,n,r,s){if(t)s?e.addClass(n,r):e.removeClass(n,r);else{let l=-1===r.indexOf("-")?void 0:zi.DashCase;null==s?e.removeStyle(n,r,l):("string"==typeof s&&s.endsWith("!important")&&(s=s.slice(0,-10),l|=zi.Important),e.setStyle(n,r,s,l))}}(r,c,ie(Xt(),n),s,l))}(l,l.data[Xt()],s,s[et],e,s[c+1]=function $b(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=Fe(Yi(e)))),e}(t,n),r,c)}(e,t,null,!0),vg}function yg(e,t,n,r,s){let l=null;const c=n.directiveEnd;let h=n.directiveStylingLast;for(-1===h?h=n.directiveStart:h++;h<c&&(l=t[h],r=fd(r,l.hostAttrs,s),l!==e);)h++;return null!==e&&(n.directiveStylingLast=h),r}function fd(e,t,n){const r=n?1:2;let s=-1;if(null!==t)for(let l=0;l<t.length;l++){const c=t[l];"number"==typeof c?s=c:s===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Or(e,c,!!n||t[++l]))}return void 0===e?null:e}function ry(e,t,n,r,s,l){const c=null===t;let h;for(;s>0;){const v=e[s],D=Array.isArray(v),T=D?v[1]:v,O=null===T;let U=n[s+1];U===u&&(U=O?ht:void 0);let $=O?$l(U,r):T===r?U:void 0;if(D&&!gh($)&&($=$l(v,r)),gh($)&&(h=$,c))return h;const se=e[s+1];s=c?ia(se):cl(se)}if(null!==t){let v=l?t.residualClasses:t.residualStyles;null!=v&&(h=$l(v,r))}return h}function gh(e){return void 0!==e}function oy(e,t=""){const n=he(),r=gt(),s=e+at,l=r.firstCreatePass?It(r,s,1,t,null):r.data[s],c=sy(r,n,l,t,e);n[s]=c,b()&&tu(r,n,c,l),Wr(l,!1)}let sy=(e,t,n,r,s)=>(A(!0),function $a(e,t){return e.createText(t)}(t[et],r));function _g(e){return wg("",e,""),_g}function wg(e,t,n){const r=he(),s=function Su(e,t,n,r){return vr(e,ks(),n)?t+ze(n)+r:u}(r,e,t,n);return s!==u&&function gs(e,t,n){const r=ie(t,e);!function ip(e,t,n){e.setValue(t,n)}(e[et],r,n)}(r,Xt(),s),wg}const dl=void 0;var dC=["en",[["a","p"],["AM","PM"],dl],[["AM","PM"],dl,dl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],dl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],dl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",dl,"{1} 'at' {0}",dl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function cC(e){const n=Math.floor(Math.abs(e)),r=e.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let Nu={};function Dg(e){const t=function fC(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=Iy(t);if(n)return n;const r=t.split("-")[0];if(n=Iy(r),n)return n;if("en"===r)return dC;throw new Re(701,!1)}function My(e){return Dg(e)[nt.PluralCase]}function Iy(e){return e in Nu||(Nu[e]=Tt.ng&&Tt.ng.common&&Tt.ng.common.locales&&Tt.ng.common.locales[e]),Nu[e]}var nt=(()=>((nt=nt||{})[nt.LocaleId=0]="LocaleId",nt[nt.DayPeriodsFormat=1]="DayPeriodsFormat",nt[nt.DayPeriodsStandalone=2]="DayPeriodsStandalone",nt[nt.DaysFormat=3]="DaysFormat",nt[nt.DaysStandalone=4]="DaysStandalone",nt[nt.MonthsFormat=5]="MonthsFormat",nt[nt.MonthsStandalone=6]="MonthsStandalone",nt[nt.Eras=7]="Eras",nt[nt.FirstDayOfWeek=8]="FirstDayOfWeek",nt[nt.WeekendRange=9]="WeekendRange",nt[nt.DateFormat=10]="DateFormat",nt[nt.TimeFormat=11]="TimeFormat",nt[nt.DateTimeFormat=12]="DateTimeFormat",nt[nt.NumberSymbols=13]="NumberSymbols",nt[nt.NumberFormats=14]="NumberFormats",nt[nt.CurrencyCode=15]="CurrencyCode",nt[nt.CurrencySymbol=16]="CurrencySymbol",nt[nt.CurrencyName=17]="CurrencyName",nt[nt.Currencies=18]="Currencies",nt[nt.Directionality=19]="Directionality",nt[nt.PluralCase=20]="PluralCase",nt[nt.ExtraData=21]="ExtraData",nt))();const Fu="en-US";let Ty=Fu;function Eg(e,t,n,r,s){if(e=pe(e),Array.isArray(e))for(let l=0;l<e.length;l++)Eg(e[l],t,n,r,s);else{const l=gt(),c=he();let h=ds(e)?e:pe(e.provide),v=pu(e);const D=Tn(),T=1048575&D.providerIndexes,O=D.directiveStart,U=D.providerIndexes>>20;if(ds(e)||!e.multi){const $=new di(v,s,rn),se=Mg(h,t,s?T:T+U,O);-1===se?(ac(Ul(D,c),l,h),Sg(l,e,t.length),t.push(h),D.directiveStart++,D.directiveEnd++,s&&(D.providerIndexes+=1048576),n.push($),c.push($)):(n[se]=$,c[se]=$)}else{const $=Mg(h,t,T+U,O),se=Mg(h,t,T,T+U),Ae=se>=0&&n[se];if(s&&!Ae||!s&&!($>=0&&n[$])){ac(Ul(D,c),l,h);const He=function uE(e,t,n,r,s){const l=new di(e,n,rn);return l.multi=[],l.index=t,l.componentProviders=0,Xy(l,s,r&&!n),l}(s?lE:aE,n.length,s,r,v);!s&&Ae&&(n[se].providerFactory=He),Sg(l,e,t.length,0),t.push(h),D.directiveStart++,D.directiveEnd++,s&&(D.providerIndexes+=1048576),n.push(He),c.push(He)}else Sg(l,e,$>-1?$:se,Xy(n[s?se:$],v,!s&&r));!s&&r&&Ae&&n[se].componentProviders++}}}function Sg(e,t,n,r){const s=ds(t),l=function Fc(e){return!!e.useClass}(t);if(s||l){const v=(l?pe(t.useClass):t).prototype.ngOnDestroy;if(v){const D=e.destroyHooks||(e.destroyHooks=[]);if(!s&&t.multi){const T=D.indexOf(n);-1===T?D.push(n,[r,v]):D[T+1].push(r,v)}else D.push(n,v)}}}function Xy(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Mg(e,t,n,r){for(let s=n;s<r;s++)if(t[s]===e)return s;return-1}function aE(e,t,n,r){return Ig(this.multi,[])}function lE(e,t,n,r){const s=this.multi;let l;if(this.providerFactory){const c=this.providerFactory.componentProviders,h=xr(n,n[Te],this.providerFactory.index,r);l=h.slice(0,c),Ig(s,l);for(let v=c;v<h.length;v++)l.push(h[v])}else l=[],Ig(s,l);return l}function Ig(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function e_(e,t=[]){return n=>{n.providersResolver=(r,s)=>function sE(e,t,n){const r=gt();if(r.firstCreatePass){const s=Qn(e);Eg(n,r.data,r.blueprint,s,!0),Eg(t,r.data,r.blueprint,s,!1)}}(r,s?s(e):e,t)}}class ku{}class t_{}function cE(e,t){return new Tg(e,t??null,[])}class Tg extends ku{constructor(t,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new sv(this);const s=In(t);this._bootstrapComponents=To(s.bootstrap),this._r3Injector=Zt(t,n,[{provide:ku,useValue:this},{provide:il,useValue:this.componentFactoryResolver},...r],Fe(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Ag extends t_{constructor(t){super(),this.moduleType=t}create(t){return new Tg(this.moduleType,t,[])}}class n_ extends ku{constructor(t){super(),this.componentFactoryResolver=new sv(this),this.instance=null;const n=new Vc([...t.providers,{provide:ku,useValue:this},{provide:il,useValue:this.componentFactoryResolver}],t.parent||Xa(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function r_(e,t,n=null){return new n_({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}let fE=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const r=du(0,n.type),s=r.length>0?r_([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,s)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Rt({token:e,providedIn:"environment",factory:()=>new e(ee(Zi))})}return e})();function i_(e){e.getStandaloneInjector=t=>t.get(fE).getOrCreateStandaloneInjector(e)}function d_(e,t,n,r,s,l){const c=t+n;return vr(e,c,s)?function Po(e,t,n){return e[t]=n}(e,c+1,l?r.call(l,s):r(s)):function yd(e,t){const n=e[t];return n===u?void 0:n}(e,c+1)}function m_(e,t){const n=gt();let r;const s=e+at;n.firstCreatePass?(r=function RE(e,t){if(t)for(let n=t.length-1;n>=0;n--){const r=t[n];if(e===r.name)return r}}(t,n.pipeRegistry),n.data[s]=r,r.onDestroy&&(n.destroyHooks??=[]).push(s,r.onDestroy)):r=n.data[s];const l=r.factory||(r.factory=Ir(r.type)),c=st(rn);try{const h=Ma(!1),v=l();return Ma(h),function cb(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}(n,he(),s,v),v}finally{st(c)}}function v_(e,t,n){const r=e+at,s=he(),l=ut(s,r);return function _d(e,t){return e[Te].data[t].pure}(s,r)?d_(s,function _n(){const e=Be.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}(),t,l.transform,n,l):l.transform(n)}function Rg(e){return t=>{setTimeout(e,void 0,t)}}const ko=class kE extends w.x{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){let s=t,l=n||(()=>null),c=r;if(t&&"object"==typeof t){const v=t;s=v.next?.bind(v),l=v.error?.bind(v),c=v.complete?.bind(v)}this.__isAsync&&(l=Rg(l),s&&(s=Rg(s)),c&&(c=Rg(c)));const h=super.subscribe({next:s,error:l,complete:c});return t instanceof B.w0&&t.add(h),h}};function LE(){return this._results[Symbol.iterator]()}class Og{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new ko)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=Og.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=LE)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const r=this;r.dirty=!1;const s=function Zr(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function pm(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let s=e[r],l=t[r];if(n&&(s=n(s),l=n(l)),l!==s)return!1}return!0}(r._results,s,n))&&(r._results=s,r.length=s.length,r.last=s[this.length-1],r.first=s[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let wd=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=jE}return e})();const UE=wd,VE=class extends UE{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n,null)}createEmbeddedViewImpl(t,n,r){const s=this._declarationTContainer.tView,l=Mt(this._declarationLView,s,t,16,null,s.declTNode,null,null,null,n||null,r||null);l[Li]=this._declarationLView[this._declarationTContainer.index];const h=this._declarationLView[lr];return null!==h&&(l[lr]=h.createEmbeddedView(s)),Kp(s,l,t),new sd(l)}};function jE(){return wh(Tn(),he())}function wh(e,t){return 4&e.type?new VE(t,e,hs(e,t)):null}let Dh=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=qE}return e})();function qE(){return C_(Tn(),he())}const YE=Dh,D_=class extends YE{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return hs(this._hostTNode,this._hostLView)}get injector(){return new wn(this._hostTNode,this._hostLView)}get parentInjector(){const t=sc(this._hostTNode,this._hostLView);if(Id(t)){const n=Sa(t,this._hostLView),r=es(t);return new wn(n[Te].data[r+8],n)}return new wn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=b_(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-sn}createEmbeddedView(t,n,r){let s,l;"number"==typeof r?s=r:null!=r&&(s=r.index,l=r.injector);const h=t.createEmbeddedViewImpl(n||{},l,null);return this.insertImpl(h,s,false),h}createComponent(t,n,r,s,l){const c=t&&!function zn(e){return"function"==typeof e}(t);let h;if(c)h=n;else{const me=n||{};h=me.index,r=me.injector,s=me.projectableNodes,l=me.environmentInjector||me.ngModuleRef}const v=c?t:new ad(yt(t)),D=r||this.parentInjector;if(!l&&null==v.ngModule){const Ae=(c?D:this.parentInjector).get(Zi,null);Ae&&(l=Ae)}yt(v.componentType??{});const $=v.create(D,s,null,l);return this.insertImpl($.hostView,h,false),$}insert(t,n){return this.insertImpl(t,n,!1)}insertImpl(t,n,r){const s=t._lView,l=s[Te];if(function Kt(e){return an(e[kt])}(s)){const v=this.indexOf(t);if(-1!==v)this.detach(v);else{const D=s[kt],T=new D_(D,D[Ot],D[kt]);T.detach(T.indexOf(t))}}const c=this._adjustIndex(n),h=this._lContainer;if(function lp(e,t,n,r){const s=sn+r,l=n.length;r>0&&(n[s-1][Vn]=t),r<l-sn?(t[Vn]=n[s],Fd(n,sn+r,t)):(n.push(t),t[Vn]=null),t[kt]=n;const c=t[Li];null!==c&&n!==c&&function up(e,t){const n=e[Vi];t[zt]!==t[kt][kt][zt]&&(e[Ss]=!0),null===n?e[Vi]=[t]:n.push(t)}(c,t);const h=t[lr];null!==h&&h.insertView(e),t[Ze]|=128}(l,s,h,c),!r){const v=Wi(c,h),D=s[et],T=Ql(D,h[Jn]);null!==T&&function xm(e,t,n,r,s,l){r[$t]=s,r[Ot]=t,Wa(e,r,n,1,s,l)}(l,h[Ot],D,s,T,v)}return t.attachToViewContainerRef(),Fd(Ng(h),c,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=b_(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=tf(this._lContainer,n);r&&(Hl(Ng(this._lContainer),n),Ws(r[Te],r))}detach(t){const n=this._adjustIndex(t,-1),r=tf(this._lContainer,n);return r&&null!=Hl(Ng(this._lContainer),n)?new sd(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function b_(e){return e[fo]}function Ng(e){return e[fo]||(e[fo]=[])}function C_(e,t){let n;const r=t[e.index];return an(r)?n=r:(n=function Xm(e,t,n,r){return[e,!0,!1,t,null,0,r,n,null,null,null]}(r,t,null,e),t[e.index]=n,rh(t,n)),E_(n,t,e,r),new D_(n,e,t)}let E_=function S_(e,t,n,r){if(e[Jn])return;let s;s=8&n.type?N(r):function KE(e,t){const n=e[et],r=n.createComment(""),s=Pe(t,e);return bo(n,Ql(n,s),r,function af(e,t){return e.nextSibling(t)}(n,s),!1),r}(t,n),e[Jn]=s};class Fg{constructor(t){this.queryList=t,this.matches=null}clone(){return new Fg(this.queryList)}setDirty(){this.queryList.setDirty()}}class kg{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,s=[];for(let l=0;l<r;l++){const c=n.getByIndex(l);s.push(this.queries[c.indexInDeclarationView].clone())}return new kg(s)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==N_(t,n).matches&&this.queries[n].setDirty()}}class M_{constructor(t,n,r=null){this.predicate=t,this.flags=n,this.read=r}}class Lg{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const s=null!==n?n.length:0,l=this.getByIndex(r).embeddedTView(t,s);l&&(l.indexInDeclarationView=r,null!==n?n.push(l):n=[l])}return null!==n?new Lg(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Ug{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new Ug(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let s=0;s<r.length;s++){const l=r[s];this.matchTNodeWithReadOption(t,n,QE(n,l)),this.matchTNodeWithReadOption(t,n,Vl(n,t,l,!1,!1))}else r===wd?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,Vl(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const s=this.metadata.read;if(null!==s)if(s===ol||s===Dh||s===wd&&4&n.type)this.addMatch(n.index,-2);else{const l=Vl(n,t,s,!1,!1);null!==l&&this.addMatch(n.index,l)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function QE(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function e0(e,t,n,r){return-1===n?function XE(e,t){return 11&e.type?hs(e,t):4&e.type?wh(e,t):null}(t,e):-2===n?function t0(e,t,n){return n===ol?hs(t,e):n===wd?wh(t,e):n===Dh?C_(t,e):void 0}(e,t,r):xr(e,e[Te],n,t)}function I_(e,t,n,r){const s=t[lr].queries[r];if(null===s.matches){const l=e.data,c=n.matches,h=[];for(let v=0;v<c.length;v+=2){const D=c[v];h.push(D<0?null:e0(t,l[D],c[v+1],n.metadata.read))}s.matches=h}return s.matches}function Vg(e,t,n,r){const s=e.queries.getByIndex(n),l=s.matches;if(null!==l){const c=I_(e,t,s,n);for(let h=0;h<l.length;h+=2){const v=l[h];if(v>0)r.push(c[h/2]);else{const D=l[h+1],T=t[-v];for(let O=sn;O<T.length;O++){const U=T[O];U[Li]===U[kt]&&Vg(U[Te],U,D,r)}if(null!==T[Vi]){const O=T[Vi];for(let U=0;U<O.length;U++){const $=O[U];Vg($[Te],$,D,r)}}}}}return r}function T_(e){const t=he(),n=gt(),r=cr();dr(r+1);const s=N_(n,r);if(e.dirty&&function Ut(e){return 4==(4&e[Ze])}(t)===(2==(2&s.metadata.flags))){if(null===s.matches)e.reset([]);else{const l=s.crossesNgTemplate?Vg(n,t,r,[]):I_(n,t,s,r);e.reset(l,Vp),e.notifyOnChanges()}return!0}return!1}function A_(e,t,n){const r=gt();r.firstCreatePass&&(P_(r,new M_(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),O_(r,he(),t)}function x_(e,t,n,r){const s=gt();if(s.firstCreatePass){const l=Tn();P_(s,new M_(t,n,r),l.index),function r0(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(s,e),2==(2&n)&&(s.staticContentQueries=!0)}O_(s,he(),n)}function R_(){return function n0(e,t){return e[lr].queries[t].queryList}(he(),cr())}function O_(e,t,n){const r=new Og(4==(4&n));(function Ao(e,t,n,r){const s=tv(t);s.push(n),e.firstCreatePass&&nv(e).push(r,s.length-1)})(e,t,r,r.destroy),null===t[lr]&&(t[lr]=new kg),t[lr].queries.push(new Fg(r))}function P_(e,t,n){null===e.queries&&(e.queries=new Lg),e.queries.track(new Ug(t,n))}function N_(e,t){return e.queries.getByIndex(t)}function jg(e){return!!In(e)}const J_=new mt("Application Initializer");let zg=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=Ne(J_,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const s of this.appInits){const l=s();if(dg(l))n.push(l);else if(Rv(l)){const c=new Promise((h,v)=>{l.subscribe({complete:h,error:v})});n.push(c)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(s=>{this.reject(s)}),0===n.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Rt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Q_=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Rt({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const Ch=new mt("LocaleId",{providedIn:"root",factory:()=>Ne(Ch,Je.Optional|Je.SkipSelf)||function M0(){return typeof $localize<"u"&&$localize.locale||Fu}()}),I0=new mt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let X_=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new P.X(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Rt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class T0{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let A0=(()=>{class e{compileModuleSync(n){return new Ag(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),l=To(In(n).declarations).reduce((c,h)=>{const v=yt(h);return v&&c.push(new ad(v)),c},[]);return new T0(r,l)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Rt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const O0=(()=>Promise.resolve(0))();function Wg(e){typeof Zone>"u"?O0.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}function nw(...e){}class Lr{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ko(!1),this.onMicrotaskEmpty=new ko(!1),this.onStable=new ko(!1),this.onError=new ko(!1),typeof Zone>"u")throw new Re(908,!1);Zone.assertZonePatched();const s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!r&&n,s.shouldCoalesceRunChangeDetection=r,s.lastRequestAnimationFrameId=-1,s.nativeRequestAnimationFrame=function P0(){let e=Tt.requestAnimationFrame,t=Tt.cancelAnimationFrame;if(typeof Zone<"u"&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function k0(e){const t=()=>{!function F0(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Tt,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Yg(e),e.isCheckStableRunning=!0,qg(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Yg(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,s,l,c,h)=>{try{return rw(e),n.invokeTask(s,l,c,h)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===l.type||e.shouldCoalesceRunChangeDetection)&&t(),iw(e)}},onInvoke:(n,r,s,l,c,h,v)=>{try{return rw(e),n.invoke(s,l,c,h,v)}finally{e.shouldCoalesceRunChangeDetection&&t(),iw(e)}},onHasTask:(n,r,s,l)=>{n.hasTask(s,l),r===s&&("microTask"==l.change?(e._hasPendingMicrotasks=l.microTask,Yg(e),qg(e)):"macroTask"==l.change&&(e.hasPendingMacrotasks=l.macroTask))},onHandleError:(n,r,s,l)=>(n.handleError(s,l),e.runOutsideAngular(()=>e.onError.emit(l)),!1)})}(s)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Lr.isInAngularZone())throw new Re(909,!1)}static assertNotInAngularZone(){if(Lr.isInAngularZone())throw new Re(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,s){const l=this._inner,c=l.scheduleEventTask("NgZoneEvent: "+s,t,N0,nw,nw);try{return l.runTask(c,n,r)}finally{l.cancelTask(c)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const N0={};function qg(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Yg(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function rw(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function iw(e){e._nesting--,qg(e)}class L0{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ko,this.onMicrotaskEmpty=new ko,this.onStable=new ko,this.onError=new ko}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,s){return t.apply(n,r)}}const ow=new mt("",{providedIn:"root",factory:sw});function sw(){const e=Ne(Lr);let t=!0;return function W(...e){const t=(0,Se.yG)(e),n=(0,Se._6)(e,1/0),r=e;return r.length?1===r.length?(0,ve.Xf)(r[0]):(0,Z.J)(n)((0,ye.D)(r,t)):ae.E}(new V.y(s=>{t=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{s.next(t),s.complete()})}),new V.y(s=>{let l;e.runOutsideAngular(()=>{l=e.onStable.subscribe(()=>{Lr.assertNotInAngularZone(),Wg(()=>{!t&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(t=!0,s.next(!0))})})});const c=e.onUnstable.subscribe(()=>{Lr.assertInAngularZone(),t&&(t=!1,e.runOutsideAngular(()=>{s.next(!1)}))});return()=>{l.unsubscribe(),c.unsubscribe()}}).pipe(le()))}const aw=new mt(""),lw=new mt("");let Kg,U0=(()=>{class e{constructor(n,r,s){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Kg||(function V0(e){Kg=e}(s),s.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Lr.assertNotInAngularZone(),Wg(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Wg(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,s){let l=-1;r&&r>0&&(l=setTimeout(()=>{this._callbacks=this._callbacks.filter(c=>c.timeoutId!==l),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:l,updateCb:s})}whenStable(n,r,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,s){return[]}static#e=this.\u0275fac=function(r){return new(r||e)(ee(Lr),ee(uw),ee(lw))};static#t=this.\u0275prov=Rt({token:e,factory:e.\u0275fac})}return e})(),uw=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Kg?.findTestabilityInTree(this,n,r)??null}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Rt({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),oa=null;const cw=new mt("AllowMultipleToken"),Zg=new mt("PlatformDestroyListeners"),Jg=new mt("appBootstrapListener");class B0{constructor(t,n){this.name=t,this.token=n}}function hw(e,t,n=[]){const r=`Platform: ${t}`,s=new mt(r);return(l=[])=>{let c=Qg();if(!c||c.injector.get(cw,!1)){const h=[...n,...l,{provide:s,useValue:!0}];e?e(h):function $0(e){if(oa&&!oa.get(cw,!1))throw new Re(400,!1);(function dw(){!function As(e){Jo=e}(()=>{throw new Re(600,!1)})})(),oa=e;const t=e.get(gw);(function fw(e){e.get(Tp,null)?.forEach(n=>n())})(e)}(function pw(e=[],t){return Et.create({name:t,providers:[{provide:Nf,useValue:"platform"},{provide:Zg,useValue:new Set([()=>oa=null])},...e]})}(h,r))}return function z0(e){const t=Qg();if(!t)throw new Re(401,!1);return t}()}}function Qg(){return oa?.get(gw)??null}let gw=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const s=function W0(e="zone.js",t){return"noop"===e?new L0:"zone.js"===e?new Lr(t):e}(r?.ngZone,function mw(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return s.run(()=>{const l=function dE(e,t,n){return new Tg(e,t,n)}(n.moduleType,this.injector,function Dw(e){return[{provide:Lr,useFactory:e},{provide:Io,multi:!0,useFactory:()=>{const t=Ne(Y0,{optional:!0});return()=>t.initialize()}},{provide:ww,useFactory:q0},{provide:ow,useFactory:sw}]}(()=>s)),c=l.injector.get(sl,null);return s.runOutsideAngular(()=>{const h=s.onError.subscribe({next:v=>{c.handleError(v)}});l.onDestroy(()=>{Eh(this._modules,l),h.unsubscribe()})}),function vw(e,t,n){try{const r=n();return dg(r)?r.catch(s=>{throw t.runOutsideAngular(()=>e.handleError(s)),s}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(c,s,()=>{const h=l.injector.get(zg);return h.runInitializers(),h.donePromise.then(()=>(function Ay(e){Nt(e,"Expected localeId to be defined"),"string"==typeof e&&(Ty=e.toLowerCase().replace(/_/g,"-"))}(l.injector.get(Ch,Fu)||Fu),this._moduleDoBootstrap(l),l))})})}bootstrapModule(n,r=[]){const s=yw({},r);return function j0(e,t,n){const r=new Ag(n);return Promise.resolve(r)}(0,0,n).then(l=>this.bootstrapModuleFactory(l,s))}_moduleDoBootstrap(n){const r=n.injector.get(Vu);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(s=>r.bootstrap(s));else{if(!n.instance.ngDoBootstrap)throw new Re(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Re(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(Zg,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||e)(ee(Et))};static#t=this.\u0275prov=Rt({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function yw(e,t){return Array.isArray(t)?t.reduce(yw,e):{...e,...t}}let Vu=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Ne(ww),this.zoneIsStable=Ne(ow),this.componentTypes=[],this.components=[],this.isStable=Ne(X_).hasPendingTasks.pipe((0,E.w)(n=>n?(0,Q.of)(!1):this.zoneIsStable),(0,Qe.x)(),le()),this._injector=Ne(Zi)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const s=n instanceof $f;if(!this._injector.get(zg).done)throw!s&&Ur(n),new Re(405,!1);let c;c=s?n:this._injector.get(il).resolveComponentFactory(n),this.componentTypes.push(c.componentType);const h=function H0(e){return e.isBoundToModule}(c)?void 0:this._injector.get(ku),D=c.create(Et.NULL,[],r||c.selector,h),T=D.location.nativeElement,O=D.injector.get(aw,null);return O?.registerApplication(T),D.onDestroy(()=>{this.detachView(D.hostView),Eh(this.components,D),O?.unregisterApplication(T)}),this._loadComponent(D),D}tick(){if(this._runningTick)throw new Re(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Eh(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(Jg,[]);r.push(...this._bootstrapListeners),r.forEach(s=>s(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Eh(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Re(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Rt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Eh(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const ww=new mt("",{providedIn:"root",factory:()=>Ne(sl).handleError.bind(void 0)});function q0(){const e=Ne(Lr),t=Ne(sl);return n=>e.runOutsideAngular(()=>t.handleError(n))}let Y0=(()=>{class e{constructor(){this.zone=Ne(Lr),this.applicationRef=Ne(Vu)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Rt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Z0(){return!1}let J0=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=Q0}return e})();function Q0(e){return function X0(e,t,n){if(Sr(e)&&!n){const r=Ye(e.index,t);return new sd(r,r)}return 47&e.type?new sd(t[zt],t):null}(Tn(),he(),16==(16&e))}class Sw{constructor(){}supports(t){return ah(t)}create(t){return new oS(t)}}const iS=(e,t)=>t;class oS{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||iS}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,s=0,l=null;for(;n||r;){const c=!r||n&&n.currentIndex<Iw(r,s,l)?n:r,h=Iw(c,s,l),v=c.currentIndex;if(c===r)s--,r=r._nextRemoved;else if(n=n._next,null==c.previousIndex)s++;else{l||(l=[]);const D=h-s,T=v-s;if(D!=T){for(let U=0;U<D;U++){const $=U<l.length?l[U]:l[U]=0,se=$+U;T<=se&&se<D&&(l[U]=$+1)}l[c.previousIndex]=T-D}}h!==v&&t(c,h,v)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!ah(t))throw new Re(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let s,l,c,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let h=0;h<this.length;h++)l=t[h],c=this._trackByFn(h,l),null!==n&&Object.is(n.trackById,c)?(r&&(n=this._verifyReinsertion(n,l,c,h)),Object.is(n.item,l)||this._addIdentityChange(n,l)):(n=this._mismatch(n,l,c,h),r=!0),n=n._next}else s=0,function BD(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Symbol.iterator]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,h=>{c=this._trackByFn(s,h),null!==n&&Object.is(n.trackById,c)?(r&&(n=this._verifyReinsertion(n,h,c,s)),Object.is(n.item,h)||this._addIdentityChange(n,h)):(n=this._mismatch(n,h,c,s),r=!0),n=n._next,s++}),this.length=s;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,s){let l;return null===t?l=this._itTail:(l=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,l,s)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,s))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,l,s)):t=this._addAfter(new sS(n,r),l,s),t}_verifyReinsertion(t,n,r,s){let l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==l?t=this._reinsertAfter(l,t._prev,s):t.currentIndex!=s&&(t.currentIndex=s,this._addToMoves(t,s)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const s=t._prevRemoved,l=t._nextRemoved;return null===s?this._removalsHead=l:s._nextRemoved=l,null===l?this._removalsTail=s:l._prevRemoved=s,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const s=null===n?this._itHead:n._next;return t._next=s,t._prev=n,null===s?this._itTail=t:s._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new Mw),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Mw),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class sS{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class aS{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class Mw{constructor(){this.map=new Map}put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new aS,this.map.set(n,r)),r.add(t)}get(t,n){const s=this.map.get(t);return s?s.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Iw(e,t,n){const r=e.previousIndex;if(null===r)return r;let s=0;return n&&r<n.length&&(s=n[r]),r+t+s}class Tw{constructor(){}supports(t){return t instanceof Map||Xp(t)}create(){return new lS}}class lS{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||Xp(t)))throw new Re(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,s)=>{if(n&&n.key===s)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const l=this._getOrCreateRecordForKey(s,r);n=this._insertBeforeOrAppend(n,l)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const r=t._prev;return n._next=t,n._prev=r,t._prev=n,r&&(r._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const s=this._records.get(t);this._maybeAddToChanges(s,n);const l=s._prev,c=s._next;return l&&(l._next=c),c&&(c._prev=l),s._next=null,s._prev=null,s}const r=new uS(t);return this._records.set(t,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(r=>n(t[r],r))}}class uS{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Aw(){return new rm([new Sw])}let rm=(()=>{class e{static#e=this.\u0275prov=Rt({token:e,providedIn:"root",factory:Aw});constructor(n){this.factories=n}static create(n,r){if(null!=r){const s=r.factories.slice();n=n.concat(s)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||Aw()),deps:[[e,new Pa,new Gl]]}}find(n){const r=this.factories.find(s=>s.supports(n));if(null!=r)return r;throw new Re(901,!1)}}return e})();function xw(){return new im([new Tw])}let im=(()=>{class e{static#e=this.\u0275prov=Rt({token:e,providedIn:"root",factory:xw});constructor(n){this.factories=n}static create(n,r){if(r){const s=r.factories.slice();n=n.concat(s)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||xw()),deps:[[e,new Pa,new Gl]]}}find(n){const r=this.factories.find(s=>s.supports(n));if(r)return r;throw new Re(901,!1)}}return e})();const fS=hw(null,"core",[]);let hS=(()=>{class e{constructor(n){}static#e=this.\u0275fac=function(r){return new(r||e)(ee(Vu))};static#t=this.\u0275mod=zo({type:e});static#n=this.\u0275inj=on({})}return e})();function bS(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function ES(e){const t=yt(e);if(!t)return null;const n=new ad(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone}}}},6550:($e,de,R)=>{"use strict";R.d(de,{Dx:()=>Lo,b2:()=>qe,q6:()=>xt});var w=R(3020),B=R(4755);class P extends B.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class V extends P{static makeCurrent(){(0,B.HT)(new V)}onAndCancel(G,k,H){return G.addEventListener(k,H),()=>{G.removeEventListener(k,H)}}dispatchEvent(G,k){G.dispatchEvent(k)}remove(G){G.parentNode&&G.parentNode.removeChild(G)}createElement(G,k){return(k=k||this.getDefaultDocument()).createElement(G)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(G){return G.nodeType===Node.ELEMENT_NODE}isShadowRoot(G){return G instanceof DocumentFragment}getGlobalEventTarget(G,k){return"window"===k?window:"document"===k?G:"body"===k?G.body:null}getBaseHref(G){const k=function ve(){return Z=Z||document.querySelector("base"),Z?Z.getAttribute("href"):null}();return null==k?null:function Se(re){ae=ae||document.createElement("a"),ae.setAttribute("href",re);const G=ae.pathname;return"/"===G.charAt(0)?G:`/${G}`}(k)}resetBaseElement(){Z=null}getUserAgent(){return window.navigator.userAgent}getCookie(G){return(0,B.Mx)(document.cookie,G)}}let ae,Z=null,W=(()=>{class re{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(H){return new(H||re)};static#t=this.\u0275prov=w.Yz7({token:re,factory:re.\u0275fac})}return re})();const Q=new w.OlP("EventManagerPlugins");let te=(()=>{class re{constructor(k,H){this._zone=H,this._eventNameToPlugin=new Map,k.forEach(ee=>{ee.manager=this}),this._plugins=k.slice().reverse()}addEventListener(k,H,ee){return this._findPluginFor(H).addEventListener(k,H,ee)}getZone(){return this._zone}_findPluginFor(k){let H=this._eventNameToPlugin.get(k);if(H)return H;if(H=this._plugins.find(ke=>ke.supports(k)),!H)throw new w.vHH(5101,!1);return this._eventNameToPlugin.set(k,H),H}static#e=this.\u0275fac=function(H){return new(H||re)(w.LFG(Q),w.LFG(w.R0b))};static#t=this.\u0275prov=w.Yz7({token:re,factory:re.\u0275fac})}return re})();class Me{constructor(G){this._doc=G}}const le="ng-app-id";let Ie=(()=>{class re{constructor(k,H,ee,ke={}){this.doc=k,this.appId=H,this.nonce=ee,this.platformId=ke,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,B.PM)(ke),this.resetHostNodes()}addStyles(k){for(const H of k)1===this.changeUsageCount(H,1)&&this.onStyleAdded(H)}removeStyles(k){for(const H of k)this.changeUsageCount(H,-1)<=0&&this.onStyleRemoved(H)}ngOnDestroy(){const k=this.styleNodesInDOM;k&&(k.forEach(H=>H.remove()),k.clear());for(const H of this.getAllStyles())this.onStyleRemoved(H);this.resetHostNodes()}addHost(k){this.hostNodes.add(k);for(const H of this.getAllStyles())this.addStyleToHost(k,H)}removeHost(k){this.hostNodes.delete(k)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(k){for(const H of this.hostNodes)this.addStyleToHost(H,k)}onStyleRemoved(k){const H=this.styleRef;H.get(k)?.elements?.forEach(ee=>ee.remove()),H.delete(k)}collectServerRenderedStyles(){const k=this.doc.head?.querySelectorAll(`style[${le}="${this.appId}"]`);if(k?.length){const H=new Map;return k.forEach(ee=>{null!=ee.textContent&&H.set(ee.textContent,ee)}),H}return null}changeUsageCount(k,H){const ee=this.styleRef;if(ee.has(k)){const ke=ee.get(k);return ke.usage+=H,ke.usage}return ee.set(k,{usage:H,elements:[]}),H}getStyleElement(k,H){const ee=this.styleNodesInDOM,ke=ee?.get(H);if(ke?.parentNode===k)return ee.delete(H),ke.removeAttribute(le),ke;{const Ne=this.doc.createElement("style");return this.nonce&&Ne.setAttribute("nonce",this.nonce),Ne.textContent=H,this.platformIsServer&&Ne.setAttribute(le,this.appId),Ne}}addStyleToHost(k,H){const ee=this.getStyleElement(k,H);k.appendChild(ee);const ke=this.styleRef,Ne=ke.get(H)?.elements;Ne?Ne.push(ee):ke.set(H,{elements:[ee],usage:1})}resetHostNodes(){const k=this.hostNodes;k.clear(),k.add(this.doc.head)}static#e=this.\u0275fac=function(H){return new(H||re)(w.LFG(B.K0),w.LFG(w.AFp),w.LFG(w.Ojb,8),w.LFG(w.Lbi))};static#t=this.\u0275prov=w.Yz7({token:re,factory:re.\u0275fac})}return re})();const E={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Qe=/%COMP%/g,q="%COMP%",Ce=`_nghost-${q}`,Fe=`_ngcontent-${q}`,fe=new w.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function De(re,G){return G.map(k=>k.replace(Qe,re))}let ce=(()=>{class re{constructor(k,H,ee,ke,Ne,Dt,bt,Ht=null){this.eventManager=k,this.sharedStylesHost=H,this.appId=ee,this.removeStylesOnCompDestory=ke,this.doc=Ne,this.platformId=Dt,this.ngZone=bt,this.nonce=Ht,this.rendererByCompId=new Map,this.platformIsServer=(0,B.PM)(Dt),this.defaultRenderer=new Ge(k,Ne,bt,this.platformIsServer)}createRenderer(k,H){if(!k||!H)return this.defaultRenderer;this.platformIsServer&&H.encapsulation===w.ifc.ShadowDom&&(H={...H,encapsulation:w.ifc.Emulated});const ee=this.getOrCreateRenderer(k,H);return ee instanceof lt?ee.applyToHost(k):ee instanceof Xe&&ee.applyStyles(),ee}getOrCreateRenderer(k,H){const ee=this.rendererByCompId;let ke=ee.get(H.id);if(!ke){const Ne=this.doc,Dt=this.ngZone,bt=this.eventManager,Ht=this.sharedStylesHost,En=this.removeStylesOnCompDestory,wr=this.platformIsServer;switch(H.encapsulation){case w.ifc.Emulated:ke=new lt(bt,Ht,H,this.appId,En,Ne,Dt,wr);break;case w.ifc.ShadowDom:return new ze(bt,Ht,k,H,Ne,Dt,this.nonce,wr);default:ke=new Xe(bt,Ht,H,En,Ne,Dt,wr)}ke.onDestroy=()=>ee.delete(H.id),ee.set(H.id,ke)}return ke}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(H){return new(H||re)(w.LFG(te),w.LFG(Ie),w.LFG(w.AFp),w.LFG(fe),w.LFG(B.K0),w.LFG(w.Lbi),w.LFG(w.R0b),w.LFG(w.Ojb))};static#t=this.\u0275prov=w.Yz7({token:re,factory:re.\u0275fac})}return re})();class Ge{constructor(G,k,H,ee){this.eventManager=G,this.doc=k,this.ngZone=H,this.platformIsServer=ee,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(G,k){return k?this.doc.createElementNS(E[k]||k,G):this.doc.createElement(G)}createComment(G){return this.doc.createComment(G)}createText(G){return this.doc.createTextNode(G)}appendChild(G,k){(dn(G)?G.content:G).appendChild(k)}insertBefore(G,k,H){G&&(dn(G)?G.content:G).insertBefore(k,H)}removeChild(G,k){G&&G.removeChild(k)}selectRootElement(G,k){let H="string"==typeof G?this.doc.querySelector(G):G;if(!H)throw new w.vHH(5104,!1);return k||(H.textContent=""),H}parentNode(G){return G.parentNode}nextSibling(G){return G.nextSibling}setAttribute(G,k,H,ee){if(ee){k=ee+":"+k;const ke=E[ee];ke?G.setAttributeNS(ke,k,H):G.setAttribute(k,H)}else G.setAttribute(k,H)}removeAttribute(G,k,H){if(H){const ee=E[H];ee?G.removeAttributeNS(ee,k):G.removeAttribute(`${H}:${k}`)}else G.removeAttribute(k)}addClass(G,k){G.classList.add(k)}removeClass(G,k){G.classList.remove(k)}setStyle(G,k,H,ee){ee&(w.JOm.DashCase|w.JOm.Important)?G.style.setProperty(k,H,ee&w.JOm.Important?"important":""):G.style[k]=H}removeStyle(G,k,H){H&w.JOm.DashCase?G.style.removeProperty(k):G.style[k]=""}setProperty(G,k,H){G[k]=H}setValue(G,k){G.nodeValue=k}listen(G,k,H){if("string"==typeof G&&!(G=(0,B.q)().getGlobalEventTarget(this.doc,G)))throw new Error(`Unsupported event target ${G} for event ${k}`);return this.eventManager.addEventListener(G,k,this.decoratePreventDefault(H))}decoratePreventDefault(G){return k=>{if("__ngUnwrap__"===k)return G;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>G(k)):G(k))&&k.preventDefault()}}}function dn(re){return"TEMPLATE"===re.tagName&&void 0!==re.content}class ze extends Ge{constructor(G,k,H,ee,ke,Ne,Dt,bt){super(G,ke,Ne,bt),this.sharedStylesHost=k,this.hostEl=H,this.shadowRoot=H.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Ht=De(ee.id,ee.styles);for(const En of Ht){const wr=document.createElement("style");Dt&&wr.setAttribute("nonce",Dt),wr.textContent=En,this.shadowRoot.appendChild(wr)}}nodeOrShadowRoot(G){return G===this.hostEl?this.shadowRoot:G}appendChild(G,k){return super.appendChild(this.nodeOrShadowRoot(G),k)}insertBefore(G,k,H){return super.insertBefore(this.nodeOrShadowRoot(G),k,H)}removeChild(G,k){return super.removeChild(this.nodeOrShadowRoot(G),k)}parentNode(G){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(G)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Xe extends Ge{constructor(G,k,H,ee,ke,Ne,Dt,bt){super(G,ke,Ne,Dt),this.sharedStylesHost=k,this.removeStylesOnCompDestory=ee,this.rendererUsageCount=0,this.styles=bt?De(bt,H.styles):H.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class lt extends Xe{constructor(G,k,H,ee,ke,Ne,Dt,bt){const Ht=ee+"-"+H.id;super(G,k,H,ke,Ne,Dt,bt,Ht),this.contentAttr=function we(re){return Fe.replace(Qe,re)}(Ht),this.hostAttr=function pe(re){return Ce.replace(Qe,re)}(Ht)}applyToHost(G){this.applyStyles(),this.setAttribute(G,this.hostAttr,"")}createElement(G,k){const H=super.createElement(G,k);return super.setAttribute(H,this.contentAttr,""),H}}let fn=(()=>{class re extends Me{constructor(k){super(k)}supports(k){return!0}addEventListener(k,H,ee){return k.addEventListener(H,ee,!1),()=>this.removeEventListener(k,H,ee)}removeEventListener(k,H,ee){return k.removeEventListener(H,ee)}static#e=this.\u0275fac=function(H){return new(H||re)(w.LFG(B.K0))};static#t=this.\u0275prov=w.Yz7({token:re,factory:re.\u0275fac})}return re})();const yr=["alt","control","meta","shift"],K={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},z={alt:re=>re.altKey,control:re=>re.ctrlKey,meta:re=>re.metaKey,shift:re=>re.shiftKey};let X=(()=>{class re extends Me{constructor(k){super(k)}supports(k){return null!=re.parseEventName(k)}addEventListener(k,H,ee){const ke=re.parseEventName(H),Ne=re.eventCallback(ke.fullKey,ee,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,B.q)().onAndCancel(k,ke.domEventName,Ne))}static parseEventName(k){const H=k.toLowerCase().split("."),ee=H.shift();if(0===H.length||"keydown"!==ee&&"keyup"!==ee)return null;const ke=re._normalizeKey(H.pop());let Ne="",Dt=H.indexOf("code");if(Dt>-1&&(H.splice(Dt,1),Ne="code."),yr.forEach(Ht=>{const En=H.indexOf(Ht);En>-1&&(H.splice(En,1),Ne+=Ht+".")}),Ne+=ke,0!=H.length||0===ke.length)return null;const bt={};return bt.domEventName=ee,bt.fullKey=Ne,bt}static matchEventFullKeyCode(k,H){let ee=K[k.key]||k.key,ke="";return H.indexOf("code.")>-1&&(ee=k.code,ke="code."),!(null==ee||!ee)&&(ee=ee.toLowerCase()," "===ee?ee="space":"."===ee&&(ee="dot"),yr.forEach(Ne=>{Ne!==ee&&(0,z[Ne])(k)&&(ke+=Ne+".")}),ke+=ee,ke===H)}static eventCallback(k,H,ee){return ke=>{re.matchEventFullKeyCode(ke,k)&&ee.runGuarded(()=>H(ke))}}static _normalizeKey(k){return"esc"===k?"escape":k}static#e=this.\u0275fac=function(H){return new(H||re)(w.LFG(B.K0))};static#t=this.\u0275prov=w.Yz7({token:re,factory:re.\u0275fac})}return re})();const xt=(0,w.eFA)(w._c5,"browser",[{provide:w.Lbi,useValue:B.bD},{provide:w.g9A,useValue:function ct(){V.makeCurrent()},multi:!0},{provide:B.K0,useFactory:function je(){return(0,w.RDi)(document),document},deps:[]}]),jt=new w.OlP(""),Yt=[{provide:w.rWj,useClass:class ye{addToWindow(G){w.dqk.getAngularTestability=(H,ee=!0)=>{const ke=G.findTestabilityInTree(H,ee);if(null==ke)throw new w.vHH(5103,!1);return ke},w.dqk.getAllAngularTestabilities=()=>G.getAllTestabilities(),w.dqk.getAllAngularRootElements=()=>G.getAllRootElements(),w.dqk.frameworkStabilizers||(w.dqk.frameworkStabilizers=[]),w.dqk.frameworkStabilizers.push(H=>{const ee=w.dqk.getAllAngularTestabilities();let ke=ee.length,Ne=!1;const Dt=function(bt){Ne=Ne||bt,ke--,0==ke&&H(Ne)};ee.forEach(function(bt){bt.whenStable(Dt)})})}findTestabilityInTree(G,k,H){return null==k?null:G.getTestability(k)??(H?(0,B.q)().isShadowRoot(k)?this.findTestabilityInTree(G,k.host,!0):this.findTestabilityInTree(G,k.parentElement,!0):null)}},deps:[]},{provide:w.lri,useClass:w.dDg,deps:[w.R0b,w.eoX,w.rWj]},{provide:w.dDg,useClass:w.dDg,deps:[w.R0b,w.eoX,w.rWj]}],Nt=[{provide:w.zSh,useValue:"root"},{provide:w.qLn,useFactory:function hn(){return new w.qLn},deps:[]},{provide:Q,useClass:fn,multi:!0,deps:[B.K0,w.R0b,w.Lbi]},{provide:Q,useClass:X,multi:!0,deps:[B.K0]},ce,Ie,te,{provide:w.FYo,useExisting:ce},{provide:B.JF,useClass:W,deps:[]},[]];let qe=(()=>{class re{constructor(k){}static withServerTransition(k){return{ngModule:re,providers:[{provide:w.AFp,useValue:k.appId}]}}static#e=this.\u0275fac=function(H){return new(H||re)(w.LFG(jt,12))};static#t=this.\u0275mod=w.oAB({type:re});static#n=this.\u0275inj=w.cJS({providers:[...Nt,...Yt],imports:[B.ez,w.hGG]})}return re})(),Lo=(()=>{class re{constructor(k){this._doc=k}getTitle(){return this._doc.title}setTitle(k){this._doc.title=k||""}static#e=this.\u0275fac=function(H){return new(H||re)(w.LFG(B.K0))};static#t=this.\u0275prov=w.Yz7({token:re,factory:function(H){let ee=null;return ee=H?new H:function Rt(){return new Lo((0,w.LFG)(B.K0))}(),ee},providedIn:"root"})}return re})();typeof window<"u"&&window},9644:($e,de,R)=>{"use strict";R.d(de,{gz:()=>Ot,F0:()=>Bn,rH:()=>Ns,Bz:()=>it,lC:()=>zt});var w=R(3020),B=R(5191),P=R(2076),V=R(9646),Z=R(1135),ve=R(9751),ae=R(4742),Se=R(4671),ye=R(3268),W=R(7669),Q=R(1810),te=R(5403),Me=R(9672);function le(...f){const m=(0,W.yG)(f),d=(0,W.jO)(f),{args:g,keys:b}=(0,ae.D)(f);if(0===g.length)return(0,P.D)([],m);const A=new ve.y(function Ie(f,m,d=Se.y){return g=>{E(m,()=>{const{length:b}=f,A=new Array(b);let x=b,j=b;for(let ne=0;ne<b;ne++)E(m,()=>{const Oe=(0,P.D)(f[ne],m);let Ve=!1;Oe.subscribe((0,te.x)(g,wt=>{A[ne]=wt,Ve||(Ve=!0,j--),j||g.next(d(A.slice()))},()=>{--x||g.complete()}))},g)},g)}}(g,m,b?x=>(0,Q.n)(b,x):Se.y));return d?A.pipe((0,ye.Z)(d)):A}function E(f,m,d){f?(0,Me.f)(d,f,m):m()}const q=(0,R(3888).d)(f=>function(){f(this),this.name="EmptyError",this.message="no elements in sequence"});var Ce=R(8189);function ge(...f){return function Fe(){return(0,Ce.J)(1)}()((0,P.D)(f,(0,W.yG)(f)))}var fe=R(8421);function we(f){return new ve.y(m=>{(0,fe.Xf)(f()).subscribe(m)})}var pe=R(9635),De=R(2843),ce=R(515),Ge=R(727),be=R(4482);function Re(){return(0,be.e)((f,m)=>{let d=null;f._refCount++;const g=(0,te.x)(m,void 0,void 0,void 0,()=>{if(!f||f._refCount<=0||0<--f._refCount)return void(d=null);const b=f._connection,A=d;d=null,b&&(!A||b===A)&&b.unsubscribe(),m.unsubscribe()});f.subscribe(g),g.closed||(d=f.connect())})}class dn extends ve.y{constructor(m,d){super(),this.source=m,this.subjectFactory=d,this._subject=null,this._refCount=0,this._connection=null,(0,be.A)(m)&&(this.lift=m.lift)}_subscribe(m){return this.getSubject().subscribe(m)}getSubject(){const m=this._subject;return(!m||m.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:m}=this;this._subject=this._connection=null,m?.unsubscribe()}connect(){let m=this._connection;if(!m){m=this._connection=new Ge.w0;const d=this.getSubject();m.add(this.source.subscribe((0,te.x)(d,void 0,()=>{this._teardown(),d.complete()},g=>{this._teardown(),d.error(g)},()=>this._teardown()))),m.closed&&(this._connection=null,m=Ge.w0.EMPTY)}return m}refCount(){return Re()(this)}}var ze=R(7579),Xe=R(4755),lt=R(4004),fn=R(3900),yr=R(5698),z=R(9300),X=R(5577);function oe(f){return(0,be.e)((m,d)=>{let g=!1;m.subscribe((0,te.x)(d,b=>{g=!0,d.next(b)},()=>{g||d.next(f),d.complete()}))})}function Ee(f=_e){return(0,be.e)((m,d)=>{let g=!1;m.subscribe((0,te.x)(d,b=>{g=!0,d.next(b)},()=>g?d.complete():d.error(f())))})}function _e(){return new q}function Ke(f,m){const d=arguments.length>=2;return g=>g.pipe(f?(0,z.h)((b,A)=>f(b,A,g)):Se.y,(0,yr.q)(1),d?oe(m):Ee(()=>new q))}var ct=R(4351),hn=R(576);function je(f,m,d){const g=(0,hn.m)(f)||m||d?{next:f,error:m,complete:d}:f;return g?(0,be.e)((b,A)=>{var x;null===(x=g.subscribe)||void 0===x||x.call(g);let j=!0;b.subscribe((0,te.x)(A,ne=>{var Oe;null===(Oe=g.next)||void 0===Oe||Oe.call(g,ne),A.next(ne)},()=>{var ne;j=!1,null===(ne=g.complete)||void 0===ne||ne.call(g),A.complete()},ne=>{var Oe;j=!1,null===(Oe=g.error)||void 0===Oe||Oe.call(g,ne),A.error(ne)},()=>{var ne,Oe;j&&(null===(ne=g.unsubscribe)||void 0===ne||ne.call(g)),null===(Oe=g.finalize)||void 0===Oe||Oe.call(g)}))}):Se.y}var vt=R(262);function Yt(f){return f<=0?()=>ce.E:(0,be.e)((m,d)=>{let g=[];m.subscribe((0,te.x)(d,b=>{g.push(b),f<g.length&&g.shift()},()=>{for(const b of g)d.next(b);d.complete()},void 0,()=>{g=null}))})}var Rn=R(8746),Ln=R(6550);const ot="primary",Rt=Symbol("RouteTitle");class Lo{constructor(m){this.params=m||{}}has(m){return Object.prototype.hasOwnProperty.call(this.params,m)}get(m){if(this.has(m)){const d=this.params[m];return Array.isArray(d)?d[0]:d}return null}getAll(m){if(this.has(m)){const d=this.params[m];return Array.isArray(d)?d:[d]}return[]}get keys(){return Object.keys(this.params)}}function on(f){return new Lo(f)}function On(f,m,d){const g=d.path.split("/");if(g.length>f.length||"full"===d.pathMatch&&(m.hasChildren()||g.length<f.length))return null;const b={};for(let A=0;A<g.length;A++){const x=g[A],j=f[A];if(x.startsWith(":"))b[x.substring(1)]=j;else if(x!==j.path)return null}return{consumed:f.slice(0,g.length),posParams:b}}function Ue(f,m){const d=f?Object.keys(f):void 0,g=m?Object.keys(m):void 0;if(!d||!g||d.length!=g.length)return!1;let b;for(let A=0;A<d.length;A++)if(b=d[A],!tt(f[b],m[b]))return!1;return!0}function tt(f,m){if(Array.isArray(f)&&Array.isArray(m)){if(f.length!==m.length)return!1;const d=[...f].sort(),g=[...m].sort();return d.every((b,A)=>g[A]===b)}return f===m}function Qr(f){return f.length>0?f[f.length-1]:null}function pn(f){return(0,B.b)(f)?f:(0,w.QGY)(f)?(0,P.D)(Promise.resolve(f)):(0,V.of)(f)}const gn={exact:function Ft(f,m,d){if(!Cn(f.segments,m.segments)||!_r(f.segments,m.segments,d)||f.numberOfChildren!==m.numberOfChildren)return!1;for(const g in m.children)if(!f.children[g]||!Ft(f.children[g],m.children[g],d))return!1;return!0},subset:st},Xr={exact:function Je(f,m){return Ue(f,m)},subset:function Uo(f,m){return Object.keys(m).length<=Object.keys(f).length&&Object.keys(m).every(d=>tt(f[d],m[d]))},ignored:()=>!0};function Wt(f,m,d){return gn[d.paths](f.root,m.root,d.matrixParams)&&Xr[d.queryParams](f.queryParams,m.queryParams)&&!("exact"===d.fragment&&f.fragment!==m.fragment)}function st(f,m,d){return no(f,m,m.segments,d)}function no(f,m,d,g){if(f.segments.length>d.length){const b=f.segments.slice(0,d.length);return!(!Cn(b,d)||m.hasChildren()||!_r(b,d,g))}if(f.segments.length===d.length){if(!Cn(f.segments,d)||!_r(f.segments,d,g))return!1;for(const b in m.children)if(!f.children[b]||!st(f.children[b],m.children[b],g))return!1;return!0}{const b=d.slice(0,f.segments.length),A=d.slice(f.segments.length);return!!(Cn(f.segments,b)&&_r(f.segments,b,g)&&f.children[ot])&&no(f.children[ot],m,A,g)}}function _r(f,m,d){return m.every((g,b)=>Xr[d](f[b].parameters,g.parameters))}class Tt{constructor(m=new dt([],{}),d={},g=null){this.root=m,this.queryParams=d,this.fragment=g}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=on(this.queryParams)),this._queryParamMap}toString(){return Vo.serialize(this)}}class dt{constructor(m,d){this.segments=m,this.children=d,this.parent=null,Object.values(d).forEach(g=>g.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return xi(this)}}class ei{constructor(m,d){this.path=m,this.parameters=d}get parameterMap(){return this._parameterMap||(this._parameterMap=on(this.parameters)),this._parameterMap}toString(){return Ne(this)}}function Cn(f,m){return f.length===m.length&&f.every((d,g)=>d.path===m[g].path)}let Yn=(()=>{class f{static#e=this.\u0275fac=function(g){return new(g||f)};static#t=this.\u0275prov=w.Yz7({token:f,factory:function(){return new io},providedIn:"root"})}return f})();class io{parse(m){const d=new ht(m);return new Tt(d.parseRootSegment(),d.parseQueryParams(),d.parseFragment())}serialize(m){const d=`/${ni(m.root,!0)}`,g=function bt(f){const m=Object.keys(f).map(d=>{const g=f[d];return Array.isArray(g)?g.map(b=>`${G(d)}=${G(b)}`).join("&"):`${G(d)}=${G(g)}`}).filter(d=>!!d);return m.length?`?${m.join("&")}`:""}(m.queryParams);return`${d}${g}${"string"==typeof m.fragment?`#${function k(f){return encodeURI(f)}(m.fragment)}`:""}`}}const Vo=new io;function xi(f){return f.segments.map(m=>Ne(m)).join("/")}function ni(f,m){if(!f.hasChildren())return xi(f);if(m){const d=f.children[ot]?ni(f.children[ot],!1):"",g=[];return Object.entries(f.children).forEach(([b,A])=>{b!==ot&&g.push(`${b}:${ni(A,!1)}`)}),g.length>0?`${d}(${g.join("//")})`:d}{const d=function ti(f,m){let d=[];return Object.entries(f.children).forEach(([g,b])=>{g===ot&&(d=d.concat(m(b,g)))}),Object.entries(f.children).forEach(([g,b])=>{g!==ot&&(d=d.concat(m(b,g)))}),d}(f,(g,b)=>b===ot?[ni(f.children[ot],!1)]:[`${b}:${ni(g,!1)}`]);return 1===Object.keys(f.children).length&&null!=f.children[ot]?`${xi(f)}/${d[0]}`:`${xi(f)}/(${d.join("//")})`}}function re(f){return encodeURIComponent(f).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function G(f){return re(f).replace(/%3B/gi,";")}function H(f){return re(f).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ee(f){return decodeURIComponent(f)}function ke(f){return ee(f.replace(/\+/g,"%20"))}function Ne(f){return`${H(f.path)}${function Dt(f){return Object.keys(f).map(m=>`;${H(m)}=${H(f[m])}`).join("")}(f.parameters)}`}const Ht=/^[^\/()?;#]+/;function En(f){const m=f.match(Ht);return m?m[0]:""}const wr=/^[^\/()?;=#]+/,Dr=/^[^=?&#]+/,rr=/^[^&#]+/;class ht{constructor(m){this.url=m,this.remaining=m}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new dt([],{}):new dt([],this.parseChildren())}parseQueryParams(){const m={};if(this.consumeOptional("?"))do{this.parseQueryParam(m)}while(this.consumeOptional("&"));return m}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const m=[];for(this.peekStartsWith("(")||m.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),m.push(this.parseSegment());let d={};this.peekStartsWith("/(")&&(this.capture("/"),d=this.parseParens(!0));let g={};return this.peekStartsWith("(")&&(g=this.parseParens(!1)),(m.length>0||Object.keys(d).length>0)&&(g[ot]=new dt(m,d)),g}parseSegment(){const m=En(this.remaining);if(""===m&&this.peekStartsWith(";"))throw new w.vHH(4009,!1);return this.capture(m),new ei(ee(m),this.parseMatrixParams())}parseMatrixParams(){const m={};for(;this.consumeOptional(";");)this.parseParam(m);return m}parseParam(m){const d=function oo(f){const m=f.match(wr);return m?m[0]:""}(this.remaining);if(!d)return;this.capture(d);let g="";if(this.consumeOptional("=")){const b=En(this.remaining);b&&(g=b,this.capture(g))}m[ee(d)]=ee(g)}parseQueryParam(m){const d=function Sn(f){const m=f.match(Dr);return m?m[0]:""}(this.remaining);if(!d)return;this.capture(d);let g="";if(this.consumeOptional("=")){const x=function Kn(f){const m=f.match(rr);return m?m[0]:""}(this.remaining);x&&(g=x,this.capture(g))}const b=ke(d),A=ke(g);if(m.hasOwnProperty(b)){let x=m[b];Array.isArray(x)||(x=[x],m[b]=x),x.push(A)}else m[b]=A}parseParens(m){const d={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const g=En(this.remaining),b=this.remaining[g.length];if("/"!==b&&")"!==b&&";"!==b)throw new w.vHH(4010,!1);let A;g.indexOf(":")>-1?(A=g.slice(0,g.indexOf(":")),this.capture(A),this.capture(":")):m&&(A=ot);const x=this.parseChildren();d[A]=1===Object.keys(x).length?x[ot]:new dt([],x),this.consumeOptional("//")}return d}peekStartsWith(m){return this.remaining.startsWith(m)}consumeOptional(m){return!!this.peekStartsWith(m)&&(this.remaining=this.remaining.substring(m.length),!0)}capture(m){if(!this.consumeOptional(m))throw new w.vHH(4011,!1)}}function Ri(f){return f.segments.length>0?new dt([],{[ot]:f}):f}function so(f){const m={};for(const g of Object.keys(f.children)){const A=so(f.children[g]);if(g===ot&&0===A.segments.length&&A.hasChildren())for(const[x,j]of Object.entries(A.children))m[x]=j;else(A.segments.length>0||A.hasChildren())&&(m[g]=A)}return function Oi(f){if(1===f.numberOfChildren&&f.children[ot]){const m=f.children[ot];return new dt(f.segments.concat(m.segments),m.children)}return f}(new dt(f.segments,m))}function ir(f){return f instanceof Tt}function gi(f){let m;const b=Ri(function d(A){const x={};for(const ne of A.children){const Oe=d(ne);x[ne.outlet]=Oe}const j=new dt(A.url,x);return A===f&&(m=j),j}(f.root));return m??b}function ms(f,m,d,g){let b=f;for(;b.parent;)b=b.parent;if(0===m.length)return Ni(b,b,b,d,g);const A=function Ho(f){if("string"==typeof f[0]&&1===f.length&&"/"===f[0])return new mi(!0,0,f);let m=0,d=!1;const g=f.reduce((b,A,x)=>{if("object"==typeof A&&null!=A){if(A.outlets){const j={};return Object.entries(A.outlets).forEach(([ne,Oe])=>{j[ne]="string"==typeof Oe?Oe.split("/"):Oe}),[...b,{outlets:j}]}if(A.segmentPath)return[...b,A.segmentPath]}return"string"!=typeof A?[...b,A]:0===x?(A.split("/").forEach((j,ne)=>{0==ne&&"."===j||(0==ne&&""===j?d=!0:".."===j?m++:""!=j&&b.push(j))}),b):[...b,A]},[]);return new mi(d,m,g)}(m);if(A.toRoot())return Ni(b,b,new dt([],{}),d,g);const x=function vs(f,m,d){if(f.isAbsolute)return new sr(m,!0,0);if(!d)return new sr(m,!1,NaN);if(null===d.parent)return new sr(d,!0,0);const g=Pi(f.commands[0])?0:1;return function Bo(f,m,d){let g=f,b=m,A=d;for(;A>b;){if(A-=b,g=g.parent,!g)throw new w.vHH(4005,!1);b=g.segments.length}return new sr(g,!1,b-A)}(d,d.segments.length-1+g,f.numberOfDoubleDots)}(A,b,f),j=x.processChildren?mn(x.segmentGroup,x.index,A.commands):ys(x.segmentGroup,x.index,A.commands);return Ni(b,x.segmentGroup,j,d,g)}function Pi(f){return"object"==typeof f&&null!=f&&!f.outlets&&!f.segmentPath}function br(f){return"object"==typeof f&&null!=f&&f.outlets}function Ni(f,m,d,g,b){let x,A={};g&&Object.entries(g).forEach(([ne,Oe])=>{A[ne]=Array.isArray(Oe)?Oe.map(Ve=>`${Ve}`):`${Oe}`}),x=f===m?d:jo(f,m,d);const j=Ri(so(x));return new Tt(j,A,b)}function jo(f,m,d){const g={};return Object.entries(f.children).forEach(([b,A])=>{g[b]=A===m?d:jo(A,m,d)}),new dt(f.segments,g)}class mi{constructor(m,d,g){if(this.isAbsolute=m,this.numberOfDoubleDots=d,this.commands=g,m&&g.length>0&&Pi(g[0]))throw new w.vHH(4003,!1);const b=g.find(br);if(b&&b!==Qr(g))throw new w.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class sr{constructor(m,d,g){this.segmentGroup=m,this.processChildren=d,this.index=g}}function ys(f,m,d){if(f||(f=new dt([],{})),0===f.segments.length&&f.hasChildren())return mn(f,m,d);const g=function _s(f,m,d){let g=0,b=m;const A={match:!1,pathIndex:0,commandIndex:0};for(;b<f.segments.length;){if(g>=d.length)return A;const x=f.segments[b],j=d[g];if(br(j))break;const ne=`${j}`,Oe=g<d.length-1?d[g+1]:null;if(b>0&&void 0===ne)break;if(ne&&Oe&&"object"==typeof Oe&&void 0===Oe.outlets){if(!Ds(ne,Oe,x))return A;g+=2}else{if(!Ds(ne,{},x))return A;g++}b++}return{match:!0,pathIndex:b,commandIndex:g}}(f,m,d),b=d.slice(g.commandIndex);if(g.match&&g.pathIndex<f.segments.length){const A=new dt(f.segments.slice(0,g.pathIndex),{});return A.children[ot]=new dt(f.segments.slice(g.pathIndex),f.children),mn(A,0,b)}return g.match&&0===b.length?new dt(f.segments,{}):g.match&&!f.hasChildren()?Cr(f,m,d):g.match?mn(f,0,b):Cr(f,m,d)}function mn(f,m,d){if(0===d.length)return new dt(f.segments,{});{const g=function hl(f){return br(f[0])?f[0].outlets:{[ot]:f}}(d),b={};if(!g[ot]&&f.children[ot]&&1===f.numberOfChildren&&0===f.children[ot].segments.length){const A=mn(f.children[ot],m,d);return new dt(f.segments,A.children)}return Object.entries(g).forEach(([A,x])=>{"string"==typeof x&&(x=[x]),null!==x&&(b[A]=ys(f.children[A],m,x))}),Object.entries(f.children).forEach(([A,x])=>{void 0===g[A]&&(b[A]=x)}),new dt(f.segments,b)}}function Cr(f,m,d){const g=f.segments.slice(0,m);let b=0;for(;b<d.length;){const A=d[b];if(br(A)){const ne=$o(A.outlets);return new dt(g,ne)}if(0===b&&Pi(d[0])){g.push(new ei(f.segments[m].path,ws(d[0]))),b++;continue}const x=br(A)?A.outlets[ot]:`${A}`,j=b<d.length-1?d[b+1]:null;x&&j&&Pi(j)?(g.push(new ei(x,ws(j))),b+=2):(g.push(new ei(x,{})),b++)}return new dt(g,{})}function $o(f){const m={};return Object.entries(f).forEach(([d,g])=>{"string"==typeof g&&(g=[g]),null!==g&&(m[d]=Cr(new dt([],{}),0,g))}),m}function ws(f){const m={};return Object.entries(f).forEach(([d,g])=>m[d]=`${g}`),m}function Ds(f,m,d){return f==d.path&&Ue(m,d.parameters)}const ao="imperative";class Un{constructor(m,d){this.id=m,this.url=d}}class bs extends Un{constructor(m,d,g="imperative",b=null){super(m,d),this.type=0,this.navigationTrigger=g,this.restoredState=b}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class vi extends Un{constructor(m,d,g){super(m,d),this.urlAfterRedirects=g,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Go extends Un{constructor(m,d,g,b){super(m,d),this.reason=g,this.code=b,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ar extends Un{constructor(m,d,g,b){super(m,d),this.reason=g,this.code=b,this.type=16}}class Pn extends Un{constructor(m,d,g,b){super(m,d),this.error=g,this.target=b,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class sa extends Un{constructor(m,d,g,b){super(m,d),this.urlAfterRedirects=g,this.state=b,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class aa extends Un{constructor(m,d,g,b){super(m,d),this.urlAfterRedirects=g,this.state=b,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zo extends Un{constructor(m,d,g,b,A){super(m,d),this.urlAfterRedirects=g,this.state=b,this.shouldActivate=A,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class yi extends Un{constructor(m,d,g,b){super(m,d),this.urlAfterRedirects=g,this.state=b,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wo extends Un{constructor(m,d,g,b){super(m,d),this.urlAfterRedirects=g,this.state=b,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Cs{constructor(m){this.route=m,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Fi{constructor(m){this.route=m,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class yt{constructor(m){this.snapshot=m,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Jt{constructor(m){this.snapshot=m,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mn{constructor(m){this.snapshot=m,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ur{constructor(m){this.snapshot=m,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class In{constructor(m,d,g){this.routerEvent=m,this.position=d,this.anchor=g,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Es{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Vr,this.attachRef=null}}let Vr=(()=>{class f{constructor(){this.contexts=new Map}onChildOutletCreated(d,g){const b=this.getOrCreateContext(d);b.outlet=g,this.contexts.set(d,b)}onChildOutletDestroyed(d){const g=this.getContext(d);g&&(g.outlet=null,g.attachRef=null)}onOutletDeactivated(){const d=this.contexts;return this.contexts=new Map,d}onOutletReAttached(d){this.contexts=d}getOrCreateContext(d){let g=this.getContext(d);return g||(g=new Es,this.contexts.set(d,g)),g}getContext(d){return this.contexts.get(d)||null}static#e=this.\u0275fac=function(g){return new(g||f)};static#t=this.\u0275prov=w.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})();class qo{constructor(m){this._root=m}get root(){return this._root.value}parent(m){const d=this.pathFromRoot(m);return d.length>1?d[d.length-2]:null}children(m){const d=lo(m,this._root);return d?d.children.map(g=>g.value):[]}firstChild(m){const d=lo(m,this._root);return d&&d.children.length>0?d.children[0].value:null}siblings(m){const d=$t(m,this._root);return d.length<2?[]:d[d.length-2].children.map(b=>b.value).filter(b=>b!==m)}pathFromRoot(m){return $t(m,this._root).map(d=>d.value)}}function lo(f,m){if(f===m.value)return m;for(const d of m.children){const g=lo(f,d);if(g)return g}return null}function $t(f,m){if(f===m.value)return[m];for(const d of m.children){const g=$t(f,d);if(g.length)return g.unshift(m),g}return[]}class Te{constructor(m,d){this.value=m,this.children=d}toString(){return`TreeNode(${this.value})`}}function Ze(f){const m={};return f&&f.children.forEach(d=>m[d.value.outlet]=d),m}class kt extends qo{constructor(m,d){super(m),this.snapshot=d,et(this,m)}toString(){return this.snapshot.toString()}}function Vn(f,m){const d=function ri(f,m){const x=new jr([],{},{},"",{},ot,m,null,{});return new Hr("",new Te(x,[]))}(0,m),g=new Z.X([new ei("",{})]),b=new Z.X({}),A=new Z.X({}),x=new Z.X({}),j=new Z.X(""),ne=new Ot(g,b,x,j,A,ot,m,d.root);return ne.snapshot=d.root,new kt(new Te(ne,[]),d)}class Ot{constructor(m,d,g,b,A,x,j,ne){this.urlSubject=m,this.paramsSubject=d,this.queryParamsSubject=g,this.fragmentSubject=b,this.dataSubject=A,this.outlet=x,this.component=j,this._futureSnapshot=ne,this.title=this.dataSubject?.pipe((0,lt.U)(Oe=>Oe[Rt]))??(0,V.of)(void 0),this.url=m,this.params=d,this.queryParams=g,this.fragment=b,this.data=A}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,lt.U)(m=>on(m)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,lt.U)(m=>on(m)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Er(f,m="emptyOnly"){const d=f.pathFromRoot;let g=0;if("always"!==m)for(g=d.length-1;g>=1;){const b=d[g],A=d[g-1];if(b.routeConfig&&""===b.routeConfig.path)g--;else{if(A.component)break;g--}}return function Gt(f){return f.reduce((m,d)=>({params:{...m.params,...d.params},data:{...m.data,...d.data},resolve:{...d.data,...m.resolve,...d.routeConfig?.data,...d._resolvedData}}),{params:{},data:{},resolve:{}})}(d.slice(g))}class jr{get title(){return this.data?.[Rt]}constructor(m,d,g,b,A,x,j,ne,Oe){this.url=m,this.params=d,this.queryParams=g,this.fragment=b,this.data=A,this.outlet=x,this.component=j,this.routeConfig=ne,this._resolve=Oe}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=on(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=on(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(g=>g.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Hr extends qo{constructor(m,d){super(d),this.url=m,et(this,d)}toString(){return _i(this._root)}}function et(f,m){m.value._routerState=f,m.children.forEach(d=>et(f,d))}function _i(f){const m=f.children.length>0?` { ${f.children.map(_i).join(", ")} } `:"";return`${f.value}${m}`}function ki(f){if(f.snapshot){const m=f.snapshot,d=f._futureSnapshot;f.snapshot=d,Ue(m.queryParams,d.queryParams)||f.queryParamsSubject.next(d.queryParams),m.fragment!==d.fragment&&f.fragmentSubject.next(d.fragment),Ue(m.params,d.params)||f.paramsSubject.next(d.params),function Bt(f,m){if(f.length!==m.length)return!1;for(let d=0;d<f.length;++d)if(!Ue(f[d],m[d]))return!1;return!0}(m.url,d.url)||f.urlSubject.next(d.url),Ue(m.data,d.data)||f.dataSubject.next(d.data)}else f.snapshot=f._futureSnapshot,f.dataSubject.next(f._futureSnapshot.data)}function Br(f,m){const d=Ue(f.params,m.params)&&function ro(f,m){return Cn(f,m)&&f.every((d,g)=>Ue(d.parameters,m[g].parameters))}(f.url,m.url);return d&&!(!f.parent!=!m.parent)&&(!f.parent||Br(f.parent,m.parent))}let zt=(()=>{class f{constructor(){this.activated=null,this._activatedRoute=null,this.name=ot,this.activateEvents=new w.vpe,this.deactivateEvents=new w.vpe,this.attachEvents=new w.vpe,this.detachEvents=new w.vpe,this.parentContexts=(0,w.f3M)(Vr),this.location=(0,w.f3M)(w.s_b),this.changeDetector=(0,w.f3M)(w.sBO),this.environmentInjector=(0,w.f3M)(w.lqb),this.inputBinder=(0,w.f3M)(ii,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(d){if(d.name){const{firstChange:g,previousValue:b}=d.name;if(g)return;this.isTrackedInParentContexts(b)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(b)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(d){return this.parentContexts.getContext(d)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const d=this.parentContexts.getContext(this.name);d?.route&&(d.attachRef?this.attach(d.attachRef,d.route):this.activateWith(d.route,d.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new w.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new w.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new w.vHH(4012,!1);this.location.detach();const d=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(d.instance),d}attach(d,g){this.activated=d,this._activatedRoute=g,this.location.insert(d.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(d.instance)}deactivate(){if(this.activated){const d=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(d)}}activateWith(d,g){if(this.isActivated)throw new w.vHH(4013,!1);this._activatedRoute=d;const b=this.location,x=d.snapshot.component,j=this.parentContexts.getOrCreateContext(this.name).children,ne=new Li(d,j,b.injector);this.activated=b.createComponent(x,{index:b.length,injector:ne,environmentInjector:g??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(g){return new(g||f)};static#t=this.\u0275dir=w.lG2({type:f,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[w.TTD]})}return f})();class Li{constructor(m,d,g){this.route=m,this.childContexts=d,this.parent=g}get(m,d){return m===Ot?this.route:m===Vr?this.childContexts:this.parent.get(m,d)}}const ii=new w.OlP("");let lr=(()=>{class f{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(d){this.unsubscribeFromRouteData(d),this.subscribeToRouteData(d)}unsubscribeFromRouteData(d){this.outletDataSubscriptions.get(d)?.unsubscribe(),this.outletDataSubscriptions.delete(d)}subscribeToRouteData(d){const{activatedRoute:g}=d,b=le([g.queryParams,g.params,g.data]).pipe((0,fn.w)(([A,x,j],ne)=>(j={...A,...x,...j},0===ne?(0,V.of)(j):Promise.resolve(j)))).subscribe(A=>{if(!d.isActivated||!d.activatedComponentRef||d.activatedRoute!==g||null===g.component)return void this.unsubscribeFromRouteData(d);const x=(0,w.qFp)(g.component);if(x)for(const{templateName:j}of x.inputs)d.activatedComponentRef.setInput(j,A[j]);else this.unsubscribeFromRouteData(d)});this.outletDataSubscriptions.set(d,b)}static#e=this.\u0275fac=function(g){return new(g||f)};static#t=this.\u0275prov=w.Yz7({token:f,factory:f.\u0275fac})}return f})();function wi(f,m,d){if(d&&f.shouldReuseRoute(m.value,d.value.snapshot)){const g=d.value;g._futureSnapshot=m.value;const b=function $r(f,m,d){return m.children.map(g=>{for(const b of d.children)if(f.shouldReuseRoute(g.value,b.value.snapshot))return wi(f,g,b);return wi(f,g)})}(f,m,d);return new Te(g,b)}{if(f.shouldAttach(m.value)){const A=f.retrieve(m.value);if(null!==A){const x=A.route;return x.value._futureSnapshot=m.value,x.children=m.children.map(j=>wi(f,j)),x}}const g=function Zn(f){return new Ot(new Z.X(f.url),new Z.X(f.params),new Z.X(f.queryParams),new Z.X(f.fragment),new Z.X(f.data),f.outlet,f.component,f)}(m.value),b=m.children.map(A=>wi(f,A));return new Te(g,b)}}const Di="ngNavigationCancelingError";function uo(f,m){const{redirectTo:d,navigationBehaviorOptions:g}=ir(m)?{redirectTo:m,navigationBehaviorOptions:void 0}:m,b=at(!1,0,m);return b.url=d,b.navigationBehaviorOptions=g,b}function at(f,m,d){const g=new Error("NavigationCancelingError: "+(f||""));return g[Di]=!0,g.cancellationCode=m,d&&(g.url=d),g}function co(f){return bi(f)&&ir(f.url)}function bi(f){return f&&f[Di]}let Ss=(()=>{class f{static#e=this.\u0275fac=function(g){return new(g||f)};static#t=this.\u0275cmp=w.Xpm({type:f,selectors:[["ng-component"]],standalone:!0,features:[w.jDz],decls:1,vars:0,template:function(g,b){1&g&&w._UZ(0,"router-outlet")},dependencies:[zt],encapsulation:2})}return f})();function Sr(f){const m=f.children&&f.children.map(Sr),d=m?{...f,children:m}:{...f};return!d.component&&!d.loadComponent&&(m||d.loadChildren)&&d.outlet&&d.outlet!==ot&&(d.component=Ss),d}function vn(f){return f.outlet||ot}function Mr(f){if(!f)return null;if(f.routeConfig?._injector)return f.routeConfig._injector;for(let m=f.parent;m;m=m.parent){const d=m.routeConfig;if(d?._loadedInjector)return d._loadedInjector;if(d?._injector)return d._injector}return null}class gl{constructor(m,d,g,b,A){this.routeReuseStrategy=m,this.futureState=d,this.currState=g,this.forwardEvent=b,this.inputBindingEnabled=A}activate(m){const d=this.futureState._root,g=this.currState?this.currState._root:null;this.deactivateChildRoutes(d,g,m),ki(this.futureState.root),this.activateChildRoutes(d,g,m)}deactivateChildRoutes(m,d,g){const b=Ze(d);m.children.forEach(A=>{const x=A.value.outlet;this.deactivateRoutes(A,b[x],g),delete b[x]}),Object.values(b).forEach(A=>{this.deactivateRouteAndItsChildren(A,g)})}deactivateRoutes(m,d,g){const b=m.value,A=d?d.value:null;if(b===A)if(b.component){const x=g.getContext(b.outlet);x&&this.deactivateChildRoutes(m,d,x.children)}else this.deactivateChildRoutes(m,d,g);else A&&this.deactivateRouteAndItsChildren(d,g)}deactivateRouteAndItsChildren(m,d){m.value.component&&this.routeReuseStrategy.shouldDetach(m.value.snapshot)?this.detachAndStoreRouteSubtree(m,d):this.deactivateRouteAndOutlet(m,d)}detachAndStoreRouteSubtree(m,d){const g=d.getContext(m.value.outlet),b=g&&m.value.component?g.children:d,A=Ze(m);for(const x of Object.keys(A))this.deactivateRouteAndItsChildren(A[x],b);if(g&&g.outlet){const x=g.outlet.detach(),j=g.children.onOutletDeactivated();this.routeReuseStrategy.store(m.value.snapshot,{componentRef:x,route:m,contexts:j})}}deactivateRouteAndOutlet(m,d){const g=d.getContext(m.value.outlet),b=g&&m.value.component?g.children:d,A=Ze(m);for(const x of Object.keys(A))this.deactivateRouteAndItsChildren(A[x],b);g&&(g.outlet&&(g.outlet.deactivate(),g.children.onOutletDeactivated()),g.attachRef=null,g.route=null)}activateChildRoutes(m,d,g){const b=Ze(d);m.children.forEach(A=>{this.activateRoutes(A,b[A.value.outlet],g),this.forwardEvent(new Ur(A.value.snapshot))}),m.children.length&&this.forwardEvent(new Jt(m.value.snapshot))}activateRoutes(m,d,g){const b=m.value,A=d?d.value:null;if(ki(b),b===A)if(b.component){const x=g.getOrCreateContext(b.outlet);this.activateChildRoutes(m,d,x.children)}else this.activateChildRoutes(m,d,g);else if(b.component){const x=g.getOrCreateContext(b.outlet);if(this.routeReuseStrategy.shouldAttach(b.snapshot)){const j=this.routeReuseStrategy.retrieve(b.snapshot);this.routeReuseStrategy.store(b.snapshot,null),x.children.onOutletReAttached(j.contexts),x.attachRef=j.componentRef,x.route=j.route.value,x.outlet&&x.outlet.attach(j.componentRef,j.route.value),ki(j.route.value),this.activateChildRoutes(m,null,x.children)}else{const j=Mr(b.snapshot);x.attachRef=null,x.route=b,x.injector=j,x.outlet&&x.outlet.activateWith(b,x.injector),this.activateChildRoutes(m,null,x.children)}}else this.activateChildRoutes(m,null,g)}}class Is{constructor(m){this.path=m,this.route=this.path[this.path.length-1]}}class Hi{constructor(m,d){this.component=m,this.route=d}}function ml(f,m,d){const g=f._root;return ho(g,m?m._root:null,d,[g.value])}function Ci(f,m){const d=Symbol(),g=m.get(f,d);return g===d?"function"!=typeof f||(0,w.Z0I)(f)?m.get(f):f:g}function ho(f,m,d,g,b={canDeactivateChecks:[],canActivateChecks:[]}){const A=Ze(m);return f.children.forEach(x=>{(function yl(f,m,d,g,b={canDeactivateChecks:[],canActivateChecks:[]}){const A=f.value,x=m?m.value:null,j=d?d.getContext(f.value.outlet):null;if(x&&A.routeConfig===x.routeConfig){const ne=function _l(f,m,d){if("function"==typeof d)return d(f,m);switch(d){case"pathParamsChange":return!Cn(f.url,m.url);case"pathParamsOrQueryParamsChange":return!Cn(f.url,m.url)||!Ue(f.queryParams,m.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Br(f,m)||!Ue(f.queryParams,m.queryParams);default:return!Br(f,m)}}(x,A,A.routeConfig.runGuardsAndResolvers);ne?b.canActivateChecks.push(new Is(g)):(A.data=x.data,A._resolvedData=x._resolvedData),ho(f,m,A.component?j?j.children:null:d,g,b),ne&&j&&j.outlet&&j.outlet.isActivated&&b.canDeactivateChecks.push(new Hi(j.outlet.component,x))}else x&&po(m,j,b),b.canActivateChecks.push(new Is(g)),ho(f,null,A.component?j?j.children:null:d,g,b)})(x,A[x.value.outlet],d,g.concat([x.value]),b),delete A[x.value.outlet]}),Object.entries(A).forEach(([x,j])=>po(j,d.getContext(x),b)),b}function po(f,m,d){const g=Ze(f),b=f.value;Object.entries(g).forEach(([A,x])=>{po(x,b.component?m?m.children.getContext(A):null:m,d)}),d.canDeactivateChecks.push(new Hi(b.component&&m&&m.outlet&&m.outlet.isActivated?m.outlet.component:null,b))}function Lt(f){return"function"==typeof f}function Dl(f){return f instanceof q||"EmptyError"===f?.name}const Ir=Symbol("INITIAL_VALUE");function Gr(){return(0,fn.w)(f=>le(f.map(m=>m.pipe((0,yr.q)(1),function K(...f){const m=(0,W.yG)(f);return(0,be.e)((d,g)=>{(m?ge(f,d,m):ge(f,d)).subscribe(g)})}(Ir)))).pipe((0,lt.U)(m=>{for(const d of m)if(!0!==d){if(d===Ir)return Ir;if(!1===d||d instanceof Tt)return d}return!0}),(0,z.h)(m=>m!==Ir),(0,yr.q)(1)))}function mo(f){return(0,pe.z)(je(m=>{if(ir(m))throw uo(0,m)}),(0,lt.U)(m=>!0===m))}class Ei{constructor(m){this.segmentGroup=m||null}}class Sl{constructor(m){this.urlTree=m}}function si(f){return(0,De._)(new Ei(f))}function Ko(f){return(0,De._)(new Sl(f))}class Wu{constructor(m,d){this.urlSerializer=m,this.urlTree=d}noMatchError(m){return new w.vHH(4002,!1)}lineralizeSegments(m,d){let g=[],b=d.root;for(;;){if(g=g.concat(b.segments),0===b.numberOfChildren)return(0,V.of)(g);if(b.numberOfChildren>1||!b.children[ot])return(0,De._)(new w.vHH(4e3,!1));b=b.children[ot]}}applyRedirectCommands(m,d,g){return this.applyRedirectCreateUrlTree(d,this.urlSerializer.parse(d),m,g)}applyRedirectCreateUrlTree(m,d,g,b){const A=this.createSegmentGroup(m,d.root,g,b);return new Tt(A,this.createQueryParams(d.queryParams,this.urlTree.queryParams),d.fragment)}createQueryParams(m,d){const g={};return Object.entries(m).forEach(([b,A])=>{if("string"==typeof A&&A.startsWith(":")){const j=A.substring(1);g[b]=d[j]}else g[b]=A}),g}createSegmentGroup(m,d,g,b){const A=this.createSegments(m,d.segments,g,b);let x={};return Object.entries(d.children).forEach(([j,ne])=>{x[j]=this.createSegmentGroup(m,ne,g,b)}),new dt(A,x)}createSegments(m,d,g,b){return d.map(A=>A.path.startsWith(":")?this.findPosParam(m,A,b):this.findOrReturn(A,g))}findPosParam(m,d,g){const b=g[d.path.substring(1)];if(!b)throw new w.vHH(4001,!1);return b}findOrReturn(m,d){let g=0;for(const b of d){if(b.path===m.path)return d.splice(g),b;g++}return m}}const Jo={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function At(f,m,d,g,b){const A=As(f,m,d);return A.matched?(g=function Jn(f,m){return f.providers&&!f._injector&&(f._injector=(0,w.MMx)(f.providers,m,`Route: ${f.path}`)),f._injector??m}(m,g),function Qt(f,m,d,g){const b=m.canMatch;if(!b||0===b.length)return(0,V.of)(!0);const A=b.map(x=>{const j=Ci(x,f);return pn(function ca(f){return f&&Lt(f.canMatch)}(j)?j.canMatch(m,d):f.runInContext(()=>j(m,d)))});return(0,V.of)(A).pipe(Gr(),mo())}(g,m,d).pipe((0,lt.U)(x=>!0===x?A:{...Jo}))):(0,V.of)(A)}function As(f,m,d){if(""===m.path)return"full"===m.pathMatch&&(f.hasChildren()||d.length>0)?{...Jo}:{matched:!0,consumedSegments:[],remainingSegments:d,parameters:{},positionalParamSegments:{}};const b=(m.matcher||On)(d,f,m);if(!b)return{...Jo};const A={};Object.entries(b.posParams??{}).forEach(([j,ne])=>{A[j]=ne.path});const x=b.consumed.length>0?{...A,...b.consumed[b.consumed.length-1].parameters}:A;return{matched:!0,consumedSegments:b.consumed,remainingSegments:d.slice(b.consumed.length),parameters:x,positionalParamSegments:b.posParams??{}}}function vo(f,m,d,g){return d.length>0&&function ha(f,m,d){return d.some(g=>yo(f,m,g)&&vn(g)!==ot)}(f,d,g)?{segmentGroup:new dt(m,qu(g,new dt(d,f.children))),slicedSegments:[]}:0===d.length&&function $i(f,m,d){return d.some(g=>yo(f,m,g))}(f,d,g)?{segmentGroup:new dt(f.segments,fa(f,0,d,g,f.children)),slicedSegments:d}:{segmentGroup:new dt(f.segments,f.children),slicedSegments:d}}function fa(f,m,d,g,b){const A={};for(const x of g)if(yo(f,d,x)&&!b[vn(x)]){const j=new dt([],{});A[vn(x)]=j}return{...b,...A}}function qu(f,m){const d={};d[ot]=m;for(const g of f)if(""===g.path&&vn(g)!==ot){const b=new dt([],{});d[vn(g)]=b}return d}function yo(f,m,d){return(!(f.hasChildren()||m.length>0)||"full"!==d.pathMatch)&&""===d.path}class Rs{constructor(m,d,g,b,A,x,j){this.injector=m,this.configLoader=d,this.rootComponentType=g,this.config=b,this.urlTree=A,this.paramsInheritanceStrategy=x,this.urlSerializer=j,this.allowRedirects=!0,this.applyRedirects=new Wu(this.urlSerializer,this.urlTree)}noMatchError(m){return new w.vHH(4002,!1)}recognize(){const m=vo(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,m,ot).pipe((0,vt.K)(d=>{if(d instanceof Sl)return this.allowRedirects=!1,this.urlTree=d.urlTree,this.match(d.urlTree);throw d instanceof Ei?this.noMatchError(d):d}),(0,lt.U)(d=>{const g=new jr([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ot,this.rootComponentType,null,{}),b=new Te(g,d),A=new Hr("",b),x=function or(f,m,d=null,g=null){return ms(gi(f),m,d,g)}(g,[],this.urlTree.queryParams,this.urlTree.fragment);return x.queryParams=this.urlTree.queryParams,A.url=this.urlSerializer.serialize(x),this.inheritParamsAndData(A._root),{state:A,tree:x}}))}match(m){return this.processSegmentGroup(this.injector,this.config,m.root,ot).pipe((0,vt.K)(g=>{throw g instanceof Ei?this.noMatchError(g):g}))}inheritParamsAndData(m){const d=m.value,g=Er(d,this.paramsInheritanceStrategy);d.params=Object.freeze(g.params),d.data=Object.freeze(g.data),m.children.forEach(b=>this.inheritParamsAndData(b))}processSegmentGroup(m,d,g,b){return 0===g.segments.length&&g.hasChildren()?this.processChildren(m,d,g):this.processSegment(m,d,g,g.segments,b,!0)}processChildren(m,d,g){const b=[];for(const A of Object.keys(g.children))"primary"===A?b.unshift(A):b.push(A);return(0,P.D)(b).pipe((0,ct.b)(A=>{const x=g.children[A],j=function Qn(f,m){const d=f.filter(g=>vn(g)===m);return d.push(...f.filter(g=>vn(g)!==m)),d}(d,A);return this.processSegmentGroup(m,j,x,A)}),function jt(f,m){return(0,be.e)(function xt(f,m,d,g,b){return(A,x)=>{let j=d,ne=m,Oe=0;A.subscribe((0,te.x)(x,Ve=>{const wt=Oe++;ne=j?f(ne,Ve,wt):(j=!0,Ve),g&&x.next(ne)},b&&(()=>{j&&x.next(ne),x.complete()})))}}(f,m,arguments.length>=2,!0))}((A,x)=>(A.push(...x),A)),oe(null),function Nt(f,m){const d=arguments.length>=2;return g=>g.pipe(f?(0,z.h)((b,A)=>f(b,A,g)):Se.y,Yt(1),d?oe(m):Ee(()=>new q))}(),(0,X.z)(A=>{if(null===A)return si(g);const x=Os(A);return function Tl(f){f.sort((m,d)=>m.value.outlet===ot?-1:d.value.outlet===ot?1:m.value.outlet.localeCompare(d.value.outlet))}(x),(0,V.of)(x)}))}processSegment(m,d,g,b,A,x){return(0,P.D)(d).pipe((0,ct.b)(j=>this.processSegmentAgainstRoute(j._injector??m,d,j,g,b,A,x).pipe((0,vt.K)(ne=>{if(ne instanceof Ei)return(0,V.of)(null);throw ne}))),Ke(j=>!!j),(0,vt.K)(j=>{if(Dl(j))return function Il(f,m,d){return 0===m.length&&!f.children[d]}(g,b,A)?(0,V.of)([]):si(g);throw j}))}processSegmentAgainstRoute(m,d,g,b,A,x,j){return function xs(f,m,d,g){return!!(vn(f)===g||g!==ot&&yo(m,d,f))&&("**"===f.path||As(m,f,d).matched)}(g,b,A,x)?void 0===g.redirectTo?this.matchSegmentAgainstRoute(m,b,g,A,x,j):j&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(m,b,d,g,A,x):si(b):si(b)}expandSegmentAgainstRouteUsingRedirect(m,d,g,b,A,x){return"**"===b.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(m,g,b,x):this.expandRegularSegmentAgainstRouteUsingRedirect(m,d,g,b,A,x)}expandWildCardWithParamsAgainstRouteUsingRedirect(m,d,g,b){const A=this.applyRedirects.applyRedirectCommands([],g.redirectTo,{});return g.redirectTo.startsWith("/")?Ko(A):this.applyRedirects.lineralizeSegments(g,A).pipe((0,X.z)(x=>{const j=new dt(x,{});return this.processSegment(m,d,j,x,b,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(m,d,g,b,A,x){const{matched:j,consumedSegments:ne,remainingSegments:Oe,positionalParamSegments:Ve}=As(d,b,A);if(!j)return si(d);const wt=this.applyRedirects.applyRedirectCommands(ne,b.redirectTo,Ve);return b.redirectTo.startsWith("/")?Ko(wt):this.applyRedirects.lineralizeSegments(b,wt).pipe((0,X.z)($n=>this.processSegment(m,g,d,$n.concat(Oe),x,!1)))}matchSegmentAgainstRoute(m,d,g,b,A,x){let j;if("**"===g.path){const ne=b.length>0?Qr(b).parameters:{},Oe=new jr(b,ne,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ga(g),vn(g),g.component??g._loadedComponent??null,g,ai(g));j=(0,V.of)({snapshot:Oe,consumedSegments:[],remainingSegments:[]}),d.children={}}else j=At(d,g,b,m).pipe((0,lt.U)(({matched:ne,consumedSegments:Oe,remainingSegments:Ve,parameters:wt})=>ne?{snapshot:new jr(Oe,wt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ga(g),vn(g),g.component??g._loadedComponent??null,g,ai(g)),consumedSegments:Oe,remainingSegments:Ve}:null));return j.pipe((0,fn.w)(ne=>null===ne?si(d):this.getChildConfig(m=g._injector??m,g,b).pipe((0,fn.w)(({routes:Oe})=>{const Ve=g._loadedInjector??m,{snapshot:wt,consumedSegments:$n,remainingSegments:Ii}=ne,{segmentGroup:fr,slicedSegments:di}=vo(d,$n,Ii,Oe);if(0===di.length&&fr.hasChildren())return this.processChildren(Ve,Oe,fr).pipe((0,lt.U)(Xo=>null===Xo?null:[new Te(wt,Xo)]));if(0===Oe.length&&0===di.length)return(0,V.of)([new Te(wt,[])]);const Ea=vn(g)===A;return this.processSegment(Ve,Oe,fr,di,Ea?ot:A,!0).pipe((0,lt.U)(Xo=>[new Te(wt,Xo)]))}))))}getChildConfig(m,d,g){return d.children?(0,V.of)({routes:d.children,injector:m}):d.loadChildren?void 0!==d._loadedRoutes?(0,V.of)({routes:d._loadedRoutes,injector:d._loadedInjector}):function Tr(f,m,d,g){const b=m.canLoad;if(void 0===b||0===b.length)return(0,V.of)(!0);const A=b.map(x=>{const j=Ci(x,f);return pn(function wl(f){return f&&Lt(f.canLoad)}(j)?j.canLoad(m,d):f.runInContext(()=>j(m,d)))});return(0,V.of)(A).pipe(Gr(),mo())}(m,d,g).pipe((0,X.z)(b=>b?this.configLoader.loadChildren(m,d).pipe(je(A=>{d._loadedRoutes=A.routes,d._loadedInjector=A.injector})):function Ml(f){return(0,De._)(at(!1,3))}())):(0,V.of)({routes:[],injector:m})}}function pa(f){const m=f.value.routeConfig;return m&&""===m.path}function Os(f){const m=[],d=new Set;for(const g of f){if(!pa(g)){m.push(g);continue}const b=m.find(A=>g.value.routeConfig===A.value.routeConfig);void 0!==b?(b.children.push(...g.children),d.add(b)):m.push(g)}for(const g of d){const b=Os(g.children);m.push(new Te(g.value,b))}return m.filter(g=>!d.has(g))}function ga(f){return f.data||{}}function ai(f){return f.resolve||{}}function ie(f){return"string"==typeof f.title||null===f.title}function Pe(f){return(0,fn.w)(m=>{const d=f(m);return d?(0,P.D)(d).pipe((0,lt.U)(()=>m)):(0,V.of)(m)})}const pt=new w.OlP("ROUTES");let _t=(()=>{class f{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,w.f3M)(w.Sil)}loadComponent(d){if(this.componentLoaders.get(d))return this.componentLoaders.get(d);if(d._loadedComponent)return(0,V.of)(d._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(d);const g=pn(d.loadComponent()).pipe((0,lt.U)(Ye),je(A=>{this.onLoadEndListener&&this.onLoadEndListener(d),d._loadedComponent=A}),(0,Rn.x)(()=>{this.componentLoaders.delete(d)})),b=new dn(g,()=>new ze.x).pipe(Re());return this.componentLoaders.set(d,b),b}loadChildren(d,g){if(this.childrenLoaders.get(g))return this.childrenLoaders.get(g);if(g._loadedRoutes)return(0,V.of)({routes:g._loadedRoutes,injector:g._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(g);const A=this.loadModuleFactoryOrRoutes(g.loadChildren).pipe((0,lt.U)(j=>{this.onLoadEndListener&&this.onLoadEndListener(g);let ne,Oe;return Array.isArray(j)?Oe=j:(ne=j.create(d).injector,Oe=ne.get(pt,[],w.XFs.Self|w.XFs.Optional).flat()),{routes:Oe.map(Sr),injector:ne}}),(0,Rn.x)(()=>{this.childrenLoaders.delete(g)})),x=new dn(A,()=>new ze.x).pipe(Re());return this.childrenLoaders.set(g,x),x}loadModuleFactoryOrRoutes(d){return pn(d()).pipe((0,lt.U)(Ye),(0,X.z)(g=>g instanceof w.YKP||Array.isArray(g)?(0,V.of)(g):(0,P.D)(this.compiler.compileModuleAsync(g))))}static#e=this.\u0275fac=function(g){return new(g||f)};static#t=this.\u0275prov=w.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})();function Ye(f){return function ut(f){return f&&"object"==typeof f&&"default"in f}(f)?f.default:f}let Ut=(()=>{class f{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new ze.x,this.configLoader=(0,w.f3M)(_t),this.environmentInjector=(0,w.f3M)(w.lqb),this.urlSerializer=(0,w.f3M)(Yn),this.rootContexts=(0,w.f3M)(Vr),this.inputBindingEnabled=null!==(0,w.f3M)(ii,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,V.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=b=>this.events.next(new Fi(b)),this.configLoader.onLoadStartListener=b=>this.events.next(new Cs(b))}complete(){this.transitions?.complete()}handleNavigationRequest(d){const g=++this.navigationId;this.transitions?.next({...this.transitions.value,...d,id:g})}setupNavigations(d){return this.transitions=new Z.X({id:0,currentUrlTree:d.currentUrlTree,currentRawUrl:d.currentUrlTree,extractedUrl:d.urlHandlingStrategy.extract(d.currentUrlTree),urlAfterRedirects:d.urlHandlingStrategy.extract(d.currentUrlTree),rawUrl:d.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ao,restoredState:null,currentSnapshot:d.routerState.snapshot,targetSnapshot:null,currentRouterState:d.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,z.h)(g=>0!==g.id),(0,lt.U)(g=>({...g,extractedUrl:d.urlHandlingStrategy.extract(g.rawUrl)})),(0,fn.w)(g=>{let b=!1,A=!1;return(0,V.of)(g).pipe(je(x=>{this.currentNavigation={id:x.id,initialUrl:x.rawUrl,extractedUrl:x.extractedUrl,trigger:x.source,extras:x.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,fn.w)(x=>{const j=d.browserUrlTree.toString(),ne=!d.navigated||x.extractedUrl.toString()!==j||j!==d.currentUrlTree.toString();if(!ne&&"reload"!==(x.extras.onSameUrlNavigation??d.onSameUrlNavigation)){const Ve="";return this.events.next(new ar(x.id,d.serializeUrl(g.rawUrl),Ve,0)),d.rawUrlTree=x.rawUrl,x.resolve(null),ce.E}if(d.urlHandlingStrategy.shouldProcessUrl(x.rawUrl))return Ct(x.source)&&(d.browserUrlTree=x.extractedUrl),(0,V.of)(x).pipe((0,fn.w)(Ve=>{const wt=this.transitions?.getValue();return this.events.next(new bs(Ve.id,this.urlSerializer.serialize(Ve.extractedUrl),Ve.source,Ve.restoredState)),wt!==this.transitions?.getValue()?ce.E:Promise.resolve(Ve)}),function y(f,m,d,g,b,A){return(0,X.z)(x=>function Qo(f,m,d,g,b,A,x="emptyOnly"){return new Rs(f,m,d,g,b,x,A).recognize()}(f,m,d,g,x.extractedUrl,b,A).pipe((0,lt.U)(({state:j,tree:ne})=>({...x,targetSnapshot:j,urlAfterRedirects:ne}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,d.config,this.urlSerializer,d.paramsInheritanceStrategy),je(Ve=>{if(g.targetSnapshot=Ve.targetSnapshot,g.urlAfterRedirects=Ve.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Ve.urlAfterRedirects},"eager"===d.urlUpdateStrategy){if(!Ve.extras.skipLocationChange){const $n=d.urlHandlingStrategy.merge(Ve.urlAfterRedirects,Ve.rawUrl);d.setBrowserUrl($n,Ve)}d.browserUrlTree=Ve.urlAfterRedirects}const wt=new sa(Ve.id,this.urlSerializer.serialize(Ve.extractedUrl),this.urlSerializer.serialize(Ve.urlAfterRedirects),Ve.targetSnapshot);this.events.next(wt)}));if(ne&&d.urlHandlingStrategy.shouldProcessUrl(d.rawUrlTree)){const{id:Ve,extractedUrl:wt,source:$n,restoredState:Ii,extras:fr}=x,di=new bs(Ve,this.urlSerializer.serialize(wt),$n,Ii);this.events.next(di);const Ea=Vn(0,this.rootComponentType).snapshot;return g={...x,targetSnapshot:Ea,urlAfterRedirects:wt,extras:{...fr,skipLocationChange:!1,replaceUrl:!1}},(0,V.of)(g)}{const Ve="";return this.events.next(new ar(x.id,d.serializeUrl(g.extractedUrl),Ve,1)),d.rawUrlTree=x.rawUrl,x.resolve(null),ce.E}}),je(x=>{const j=new aa(x.id,this.urlSerializer.serialize(x.extractedUrl),this.urlSerializer.serialize(x.urlAfterRedirects),x.targetSnapshot);this.events.next(j)}),(0,lt.U)(x=>g={...x,guards:ml(x.targetSnapshot,x.currentSnapshot,this.rootContexts)}),function bl(f,m){return(0,X.z)(d=>{const{targetSnapshot:g,currentSnapshot:b,guards:{canActivateChecks:A,canDeactivateChecks:x}}=d;return 0===x.length&&0===A.length?(0,V.of)({...d,guardsResult:!0}):function Yo(f,m,d,g){return(0,P.D)(f).pipe((0,X.z)(b=>function Ts(f,m,d,g,b){const A=m&&m.routeConfig?m.routeConfig.canDeactivate:null;if(!A||0===A.length)return(0,V.of)(!0);const x=A.map(j=>{const ne=Mr(m)??b,Oe=Ci(j,ne);return pn(function ua(f){return f&&Lt(f.canDeactivate)}(Oe)?Oe.canDeactivate(f,m,d,g):ne.runInContext(()=>Oe(f,m,d,g))).pipe(Ke())});return(0,V.of)(x).pipe(Gr())}(b.component,b.route,d,m,g)),Ke(b=>!0!==b,!0))}(x,g,b,f).pipe((0,X.z)(j=>j&&function Hu(f){return"boolean"==typeof f}(j)?function go(f,m,d,g){return(0,P.D)(m).pipe((0,ct.b)(b=>ge(function Cl(f,m){return null!==f&&m&&m(new yt(f)),(0,V.of)(!0)}(b.route.parent,g),function Bi(f,m){return null!==f&&m&&m(new Mn(f)),(0,V.of)(!0)}(b.route,g),function da(f,m,d){const g=m[m.length-1],A=m.slice(0,m.length-1).reverse().map(x=>function vl(f){const m=f.routeConfig?f.routeConfig.canActivateChild:null;return m&&0!==m.length?{node:f,guards:m}:null}(x)).filter(x=>null!==x).map(x=>we(()=>{const j=x.guards.map(ne=>{const Oe=Mr(x.node)??d,Ve=Ci(ne,Oe);return pn(function $u(f){return f&&Lt(f.canActivateChild)}(Ve)?Ve.canActivateChild(g,f):Oe.runInContext(()=>Ve(g,f))).pipe(Ke())});return(0,V.of)(j).pipe(Gr())}));return(0,V.of)(A).pipe(Gr())}(f,b.path,d),function El(f,m,d){const g=m.routeConfig?m.routeConfig.canActivate:null;if(!g||0===g.length)return(0,V.of)(!0);const b=g.map(A=>we(()=>{const x=Mr(m)??d,j=Ci(A,x);return pn(function Bu(f){return f&&Lt(f.canActivate)}(j)?j.canActivate(m,f):x.runInContext(()=>j(m,f))).pipe(Ke())}));return(0,V.of)(b).pipe(Gr())}(f,b.route,d))),Ke(b=>!0!==b,!0))}(g,A,f,m):(0,V.of)(j)),(0,lt.U)(j=>({...d,guardsResult:j})))})}(this.environmentInjector,x=>this.events.next(x)),je(x=>{if(g.guardsResult=x.guardsResult,ir(x.guardsResult))throw uo(0,x.guardsResult);const j=new zo(x.id,this.urlSerializer.serialize(x.extractedUrl),this.urlSerializer.serialize(x.urlAfterRedirects),x.targetSnapshot,!!x.guardsResult);this.events.next(j)}),(0,z.h)(x=>!!x.guardsResult||(d.restoreHistory(x),this.cancelNavigationTransition(x,"",3),!1)),Pe(x=>{if(x.guards.canActivateChecks.length)return(0,V.of)(x).pipe(je(j=>{const ne=new yi(j.id,this.urlSerializer.serialize(j.extractedUrl),this.urlSerializer.serialize(j.urlAfterRedirects),j.targetSnapshot);this.events.next(ne)}),(0,fn.w)(j=>{let ne=!1;return(0,V.of)(j).pipe(function M(f,m){return(0,X.z)(d=>{const{targetSnapshot:g,guards:{canActivateChecks:b}}=d;if(!b.length)return(0,V.of)(d);let A=0;return(0,P.D)(b).pipe((0,ct.b)(x=>function _(f,m,d,g){const b=f.routeConfig,A=f._resolve;return void 0!==b?.title&&!ie(b)&&(A[Rt]=b.title),function S(f,m,d,g){const b=function N(f){return[...Object.keys(f),...Object.getOwnPropertySymbols(f)]}(f);if(0===b.length)return(0,V.of)({});const A={};return(0,P.D)(b).pipe((0,X.z)(x=>function Y(f,m,d,g){const b=Mr(m)??g,A=Ci(f,b);return pn(A.resolve?A.resolve(m,d):b.runInContext(()=>A(m,d)))}(f[x],m,d,g).pipe(Ke(),je(j=>{A[x]=j}))),Yt(1),function qe(f){return(0,lt.U)(()=>f)}(A),(0,vt.K)(x=>Dl(x)?ce.E:(0,De._)(x)))}(A,f,m,g).pipe((0,lt.U)(x=>(f._resolvedData=x,f.data=Er(f,d).resolve,b&&ie(b)&&(f.data[Rt]=b.title),null)))}(x.route,g,f,m)),je(()=>A++),Yt(1),(0,X.z)(x=>A===b.length?(0,V.of)(d):ce.E))})}(d.paramsInheritanceStrategy,this.environmentInjector),je({next:()=>ne=!0,complete:()=>{ne||(d.restoreHistory(j),this.cancelNavigationTransition(j,"",2))}}))}),je(j=>{const ne=new Wo(j.id,this.urlSerializer.serialize(j.extractedUrl),this.urlSerializer.serialize(j.urlAfterRedirects),j.targetSnapshot);this.events.next(ne)}))}),Pe(x=>{const j=ne=>{const Oe=[];ne.routeConfig?.loadComponent&&!ne.routeConfig._loadedComponent&&Oe.push(this.configLoader.loadComponent(ne.routeConfig).pipe(je(Ve=>{ne.component=Ve}),(0,lt.U)(()=>{})));for(const Ve of ne.children)Oe.push(...j(Ve));return Oe};return le(j(x.targetSnapshot.root)).pipe(oe(),(0,yr.q)(1))}),Pe(()=>this.afterPreactivation()),(0,lt.U)(x=>{const j=function Ui(f,m,d){const g=wi(f,m._root,d?d._root:void 0);return new kt(g,m)}(d.routeReuseStrategy,x.targetSnapshot,x.currentRouterState);return g={...x,targetRouterState:j}}),je(x=>{d.currentUrlTree=x.urlAfterRedirects,d.rawUrlTree=d.urlHandlingStrategy.merge(x.urlAfterRedirects,x.rawUrl),d.routerState=x.targetRouterState,"deferred"===d.urlUpdateStrategy&&(x.extras.skipLocationChange||d.setBrowserUrl(d.rawUrlTree,x),d.browserUrlTree=x.urlAfterRedirects)}),((f,m,d,g)=>(0,lt.U)(b=>(new gl(m,b.targetRouterState,b.currentRouterState,d,g).activate(f),b)))(this.rootContexts,d.routeReuseStrategy,x=>this.events.next(x),this.inputBindingEnabled),(0,yr.q)(1),je({next:x=>{b=!0,this.lastSuccessfulNavigation=this.currentNavigation,d.navigated=!0,this.events.next(new vi(x.id,this.urlSerializer.serialize(x.extractedUrl),this.urlSerializer.serialize(d.currentUrlTree))),d.titleStrategy?.updateTitle(x.targetRouterState.snapshot),x.resolve(!0)},complete:()=>{b=!0}}),(0,Rn.x)(()=>{b||A||this.cancelNavigationTransition(g,"",1),this.currentNavigation?.id===g.id&&(this.currentNavigation=null)}),(0,vt.K)(x=>{if(A=!0,bi(x)){co(x)||(d.navigated=!0,d.restoreHistory(g,!0));const j=new Go(g.id,this.urlSerializer.serialize(g.extractedUrl),x.message,x.cancellationCode);if(this.events.next(j),co(x)){const ne=d.urlHandlingStrategy.merge(x.url,d.rawUrlTree),Oe={skipLocationChange:g.extras.skipLocationChange,replaceUrl:"eager"===d.urlUpdateStrategy||Ct(g.source)};d.scheduleNavigation(ne,ao,null,Oe,{resolve:g.resolve,reject:g.reject,promise:g.promise})}else g.resolve(!1)}else{d.restoreHistory(g,!0);const j=new Pn(g.id,this.urlSerializer.serialize(g.extractedUrl),x,g.targetSnapshot??void 0);this.events.next(j);try{g.resolve(d.errorHandler(x))}catch(ne){g.reject(ne)}}return ce.E}))}))}cancelNavigationTransition(d,g,b){const A=new Go(d.id,this.urlSerializer.serialize(d.extractedUrl),g,b);this.events.next(A),d.resolve(!1)}static#e=this.\u0275fac=function(g){return new(g||f)};static#t=this.\u0275prov=w.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})();function Ct(f){return f!==ao}let Kt=(()=>{class f{buildTitle(d){let g,b=d.root;for(;void 0!==b;)g=this.getResolvedTitleForRoute(b)??g,b=b.children.find(A=>A.outlet===ot);return g}getResolvedTitleForRoute(d){return d.data[Rt]}static#e=this.\u0275fac=function(g){return new(g||f)};static#t=this.\u0275prov=w.Yz7({token:f,factory:function(){return(0,w.f3M)(yn)},providedIn:"root"})}return f})(),yn=(()=>{class f extends Kt{constructor(d){super(),this.title=d}updateTitle(d){const g=this.buildTitle(d);void 0!==g&&this.title.setTitle(g)}static#e=this.\u0275fac=function(g){return new(g||f)(w.LFG(Ln.Dx))};static#t=this.\u0275prov=w.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})(),ur=(()=>{class f{static#e=this.\u0275fac=function(g){return new(g||f)};static#t=this.\u0275prov=w.Yz7({token:f,factory:function(){return(0,w.f3M)(Hn)},providedIn:"root"})}return f})();class Si{shouldDetach(m){return!1}store(m,d){}shouldAttach(m){return!1}retrieve(m){return null}shouldReuseRoute(m,d){return m.routeConfig===d.routeConfig}}let Hn=(()=>{class f extends Si{static#e=this.\u0275fac=function(){let d;return function(b){return(d||(d=w.n5z(f)))(b||f)}}();static#t=this.\u0275prov=w.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})();const Xn=new w.OlP("",{providedIn:"root",factory:()=>({})});let zr=(()=>{class f{static#e=this.\u0275fac=function(g){return new(g||f)};static#t=this.\u0275prov=w.Yz7({token:f,factory:function(){return(0,w.f3M)(li)},providedIn:"root"})}return f})(),li=(()=>{class f{shouldProcessUrl(d){return!0}extract(d){return d}merge(d,g){return d}static#e=this.\u0275fac=function(g){return new(g||f)};static#t=this.\u0275prov=w.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})();var Be=(()=>((Be=Be||{})[Be.COMPLETE=0]="COMPLETE",Be[Be.FAILED=1]="FAILED",Be[Be.REDIRECTING=2]="REDIRECTING",Be))();function ma(f,m){f.events.pipe((0,z.h)(d=>d instanceof vi||d instanceof Go||d instanceof Pn||d instanceof ar),(0,lt.U)(d=>d instanceof vi||d instanceof ar?Be.COMPLETE:d instanceof Go&&(0===d.code||1===d.code)?Be.REDIRECTING:Be.FAILED),(0,z.h)(d=>d!==Be.REDIRECTING),(0,yr.q)(1)).subscribe(()=>{m()})}function bd(f){throw f}function Yu(f,m,d){return m.parse("/")}const Al={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ku={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Bn=(()=>{class f{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,w.f3M)(w.c2e),this.isNgZoneEnabled=!1,this.options=(0,w.f3M)(Xn,{optional:!0})||{},this.pendingTasks=(0,w.f3M)(w.HDt),this.errorHandler=this.options.errorHandler||bd,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Yu,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,w.f3M)(zr),this.routeReuseStrategy=(0,w.f3M)(ur),this.titleStrategy=(0,w.f3M)(Kt),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,w.f3M)(pt,{optional:!0})?.flat()??[],this.navigationTransitions=(0,w.f3M)(Ut),this.urlSerializer=(0,w.f3M)(Yn),this.location=(0,w.f3M)(Xe.Ye),this.componentInputBindingEnabled=!!(0,w.f3M)(ii,{optional:!0}),this.isNgZoneEnabled=(0,w.f3M)(w.R0b)instanceof w.R0b&&w.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Tt,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Vn(0,null),this.navigationTransitions.setupNavigations(this).subscribe(d=>{this.lastSuccessfulId=d.id,this.currentPageId=this.browserPageId??0},d=>{this.console.warn(`Unhandled Navigation Error: ${d}`)})}resetRootComponentType(d){this.routerState.root.component=d,this.navigationTransitions.rootComponentType=d}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const d=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),ao,d)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(d=>{const g="popstate"===d.type?"popstate":"hashchange";"popstate"===g&&setTimeout(()=>{this.navigateToSyncWithBrowser(d.url,g,d.state)},0)}))}navigateToSyncWithBrowser(d,g,b){const A={replaceUrl:!0},x=b?.navigationId?b:null;if(b){const ne={...b};delete ne.navigationId,delete ne.\u0275routerPageId,0!==Object.keys(ne).length&&(A.state=ne)}const j=this.parseUrl(d);this.scheduleNavigation(j,g,x,A)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(d){this.config=d.map(Sr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(d,g={}){const{relativeTo:b,queryParams:A,fragment:x,queryParamsHandling:j,preserveFragment:ne}=g,Oe=ne?this.currentUrlTree.fragment:x;let wt,Ve=null;switch(j){case"merge":Ve={...this.currentUrlTree.queryParams,...A};break;case"preserve":Ve=this.currentUrlTree.queryParams;break;default:Ve=A||null}null!==Ve&&(Ve=this.removeEmptyProps(Ve));try{wt=gi(b?b.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof d[0]||!d[0].startsWith("/"))&&(d=[]),wt=this.currentUrlTree.root}return ms(wt,d,Ve,Oe??null)}navigateByUrl(d,g={skipLocationChange:!1}){const b=ir(d)?d:this.parseUrl(d),A=this.urlHandlingStrategy.merge(b,this.rawUrlTree);return this.scheduleNavigation(A,ao,null,g)}navigate(d,g={skipLocationChange:!1}){return function Gi(f){for(let m=0;m<f.length;m++)if(null==f[m])throw new w.vHH(4008,!1)}(d),this.navigateByUrl(this.createUrlTree(d,g),g)}serializeUrl(d){return this.urlSerializer.serialize(d)}parseUrl(d){let g;try{g=this.urlSerializer.parse(d)}catch(b){g=this.malformedUriErrorHandler(b,this.urlSerializer,d)}return g}isActive(d,g){let b;if(b=!0===g?{...Al}:!1===g?{...Ku}:g,ir(d))return Wt(this.currentUrlTree,d,b);const A=this.parseUrl(d);return Wt(this.currentUrlTree,A,b)}removeEmptyProps(d){return Object.keys(d).reduce((g,b)=>{const A=d[b];return null!=A&&(g[b]=A),g},{})}scheduleNavigation(d,g,b,A,x){if(this.disposed)return Promise.resolve(!1);let j,ne,Oe;x?(j=x.resolve,ne=x.reject,Oe=x.promise):Oe=new Promise((wt,$n)=>{j=wt,ne=$n});const Ve=this.pendingTasks.add();return ma(this,()=>{Promise.resolve().then(()=>this.pendingTasks.remove(Ve))}),this.navigationTransitions.handleNavigationRequest({source:g,restoredState:b,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:d,extras:A,resolve:j,reject:ne,promise:Oe,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Oe.catch(wt=>Promise.reject(wt))}setBrowserUrl(d,g){const b=this.urlSerializer.serialize(d);if(this.location.isCurrentPathEqualTo(b)||g.extras.replaceUrl){const x={...g.extras.state,...this.generateNgRouterState(g.id,this.browserPageId)};this.location.replaceState(b,"",x)}else{const A={...g.extras.state,...this.generateNgRouterState(g.id,(this.browserPageId??0)+1)};this.location.go(b,"",A)}}restoreHistory(d,g=!1){if("computed"===this.canceledNavigationResolution){const A=this.currentPageId-(this.browserPageId??this.currentPageId);0!==A?this.location.historyGo(A):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===A&&(this.resetState(d),this.browserUrlTree=d.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(g&&this.resetState(d),this.resetUrlToCurrentUrlTree())}resetState(d){this.routerState=d.currentRouterState,this.currentUrlTree=d.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,d.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(d,g){return"computed"===this.canceledNavigationResolution?{navigationId:d,\u0275routerPageId:g}:{navigationId:d}}static#e=this.\u0275fac=function(g){return new(g||f)};static#t=this.\u0275prov=w.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})(),Ns=(()=>{class f{constructor(d,g,b,A,x,j){this.router=d,this.route=g,this.tabIndexAttribute=b,this.renderer=A,this.el=x,this.locationStrategy=j,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new ze.x;const ne=x.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===ne||"area"===ne,this.isAnchorElement?this.subscription=d.events.subscribe(Oe=>{Oe instanceof vi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(d){this._preserveFragment=(0,w.D6c)(d)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(d){this._skipLocationChange=(0,w.D6c)(d)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(d){this._replaceUrl=(0,w.D6c)(d)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(d){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",d)}ngOnChanges(d){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(d){null!=d?(this.commands=Array.isArray(d)?d:[d],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(d,g,b,A,x){return!!(null===this.urlTree||this.isAnchorElement&&(0!==d||g||b||A||x||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const d=null===this.href?null:(0,w.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",d)}applyAttributeValue(d,g){const b=this.renderer,A=this.el.nativeElement;null!==g?b.setAttribute(A,d,g):b.removeAttribute(A,d)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(g){return new(g||f)(w.Y36(Bn),w.Y36(Ot),w.$8M("tabindex"),w.Y36(w.Qsj),w.Y36(w.SBq),w.Y36(Xe.S$))};static#t=this.\u0275dir=w.lG2({type:f,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(g,b){1&g&&w.NdJ("click",function(x){return b.onClick(x.button,x.ctrlKey,x.shiftKey,x.altKey,x.metaKey)}),2&g&&w.uIk("target",b.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[w.TTD]})}return f})();class Rl{}let gt=(()=>{class f{constructor(d,g,b,A,x){this.router=d,this.injector=b,this.preloadingStrategy=A,this.loader=x}setUpPreloading(){this.subscription=this.router.events.pipe((0,z.h)(d=>d instanceof vi),(0,ct.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(d,g){const b=[];for(const A of g){A.providers&&!A._injector&&(A._injector=(0,w.MMx)(A.providers,d,`Route: ${A.path}`));const x=A._injector??d,j=A._loadedInjector??x;(A.loadChildren&&!A._loadedRoutes&&void 0===A.canLoad||A.loadComponent&&!A._loadedComponent)&&b.push(this.preloadConfig(x,A)),(A.children||A._loadedRoutes)&&b.push(this.processRoutes(j,A.children??A._loadedRoutes))}return(0,P.D)(b).pipe((0,Ce.J)())}preloadConfig(d,g){return this.preloadingStrategy.preload(g,()=>{let b;b=g.loadChildren&&void 0===g.canLoad?this.loader.loadChildren(d,g):(0,V.of)(null);const A=b.pipe((0,X.z)(x=>null===x?(0,V.of)(void 0):(g._loadedRoutes=x.routes,g._loadedInjector=x.injector,this.processRoutes(x.injector??d,x.routes))));if(g.loadComponent&&!g._loadedComponent){const x=this.loader.loadComponent(g);return(0,P.D)([A,x]).pipe((0,Ce.J)())}return A})}static#e=this.\u0275fac=function(g){return new(g||f)(w.LFG(Bn),w.LFG(w.Sil),w.LFG(w.lqb),w.LFG(Rl),w.LFG(_t))};static#t=this.\u0275prov=w.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})();const Fs=new w.OlP("");let va=(()=>{class f{constructor(d,g,b,A,x={}){this.urlSerializer=d,this.transitions=g,this.viewportScroller=b,this.zone=A,this.options=x,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},x.scrollPositionRestoration=x.scrollPositionRestoration||"disabled",x.anchorScrolling=x.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(d=>{d instanceof bs?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=d.navigationTrigger,this.restoredId=d.restoredState?d.restoredState.navigationId:0):d instanceof vi?(this.lastId=d.id,this.scheduleScrollEvent(d,this.urlSerializer.parse(d.urlAfterRedirects).fragment)):d instanceof ar&&0===d.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(d,this.urlSerializer.parse(d.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(d=>{d instanceof In&&(d.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(d.position):d.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(d.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(d,g){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new In(d,"popstate"===this.lastSource?this.store[this.restoredId]:null,g))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(g){w.$Z()};static#t=this.\u0275prov=w.Yz7({token:f,factory:f.\u0275fac})}return f})();function er(f,m){return{\u0275kind:f,\u0275providers:m}}function Qu(){const f=(0,w.f3M)(w.zs3);return m=>{const d=f.get(w.z2F);if(m!==d.components[0])return;const g=f.get(Bn),b=f.get(_a);1===f.get(_n)&&g.initialNavigation(),f.get(qr,null,w.XFs.Optional)?.setUpPreloading(),f.get(Fs,null,w.XFs.Optional)?.init(),g.resetRootComponentType(d.componentTypes[0]),b.closed||(b.next(),b.complete(),b.unsubscribe())}}const _a=new w.OlP("",{factory:()=>new ze.x}),_n=new w.OlP("",{providedIn:"root",factory:()=>1}),qr=new w.OlP("");function Xu(f){return er(0,[{provide:qr,useExisting:gt},{provide:Rl,useExisting:f}])}const cr=new w.OlP("ROUTER_FORROOT_GUARD"),dr=[Xe.Ye,{provide:Yn,useClass:io},Bn,Vr,{provide:Ot,useFactory:function ya(f){return f.routerState.root},deps:[Bn]},_t,[]];function An(){return new w.PXZ("Router",Bn)}let it=(()=>{class f{constructor(d){}static forRoot(d,g){return{ngModule:f,providers:[dr,[],{provide:pt,multi:!0,useValue:d},{provide:cr,useFactory:Ls,deps:[[Bn,new w.FiY,new w.tp0]]},{provide:Xn,useValue:g||{}},g?.useHash?{provide:Xe.S$,useClass:Xe.Do}:{provide:Xe.S$,useClass:Xe.b0},{provide:Fs,useFactory:()=>{const f=(0,w.f3M)(Xe.EM),m=(0,w.f3M)(w.R0b),d=(0,w.f3M)(Xn),g=(0,w.f3M)(Ut),b=(0,w.f3M)(Yn);return d.scrollOffset&&f.setOffset(d.scrollOffset),new va(b,g,f,m,d)}},g?.preloadingStrategy?Xu(g.preloadingStrategy).\u0275providers:[],{provide:w.PXZ,multi:!0,useFactory:An},g?.initialNavigation?ba(g):[],g?.bindToComponentInputs?er(8,[lr,{provide:ii,useExisting:lr}]).\u0275providers:[],[{provide:Nn,useFactory:Qu},{provide:w.tb,multi:!0,useExisting:Nn}]]}}static forChild(d){return{ngModule:f,providers:[{provide:pt,multi:!0,useValue:d}]}}static#e=this.\u0275fac=function(g){return new(g||f)(w.LFG(cr,8))};static#t=this.\u0275mod=w.oAB({type:f});static#n=this.\u0275inj=w.cJS({})}return f})();function Ls(f){return"guarded"}function ba(f){return["disabled"===f.initialNavigation?er(3,[{provide:w.ip1,multi:!0,useFactory:()=>{const m=(0,w.f3M)(Bn);return()=>{m.setUpLocationChangeListener()}}},{provide:_n,useValue:2}]).\u0275providers:[],"enabledBlocking"===f.initialNavigation?er(2,[{provide:_n,useValue:0},{provide:w.ip1,multi:!0,deps:[w.zs3],useFactory:m=>{const d=m.get(Xe.V_,Promise.resolve());return()=>d.then(()=>new Promise(g=>{const b=m.get(Bn),A=m.get(_a);ma(b,()=>{g(!0)}),m.get(Ut).afterPreactivation=()=>(g(!0),A.closed?(0,V.of)(void 0):A),b.initialNavigation()}))}}]).\u0275providers:[]]}const Nn=new w.OlP("")},7582:($e,de,R)=>{"use strict";function te(K,z,X,oe){return new(X||(X=Promise))(function(_e,Ke){function ct(vt){try{je(oe.next(vt))}catch(xt){Ke(xt)}}function hn(vt){try{je(oe.throw(vt))}catch(xt){Ke(xt)}}function je(vt){vt.done?_e(vt.value):function Ee(_e){return _e instanceof X?_e:new X(function(Ke){Ke(_e)})}(vt.value).then(ct,hn)}je((oe=oe.apply(K,z||[])).next())})}function ge(K){return this instanceof ge?(this.v=K,this):new ge(K)}function fe(K,z,X){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ee,oe=X.apply(K,z||[]),_e=[];return Ee={},Ke("next"),Ke("throw"),Ke("return"),Ee[Symbol.asyncIterator]=function(){return this},Ee;function Ke(jt){oe[jt]&&(Ee[jt]=function(Yt){return new Promise(function(Nt,qe){_e.push([jt,Yt,Nt,qe])>1||ct(jt,Yt)})})}function ct(jt,Yt){try{!function hn(jt){jt.value instanceof ge?Promise.resolve(jt.value.v).then(je,vt):xt(_e[0][2],jt)}(oe[jt](Yt))}catch(Nt){xt(_e[0][3],Nt)}}function je(jt){ct("next",jt)}function vt(jt){ct("throw",jt)}function xt(jt,Yt){jt(Yt),_e.shift(),_e.length&&ct(_e[0][0],_e[0][1])}}function pe(K){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var X,z=K[Symbol.asyncIterator];return z?z.call(K):(K=function E(K){var z="function"==typeof Symbol&&Symbol.iterator,X=z&&K[z],oe=0;if(X)return X.call(K);if(K&&"number"==typeof K.length)return{next:function(){return K&&oe>=K.length&&(K=void 0),{value:K&&K[oe++],done:!K}}};throw new TypeError(z?"Object is not iterable.":"Symbol.iterator is not defined.")}(K),X={},oe("next"),oe("throw"),oe("return"),X[Symbol.asyncIterator]=function(){return this},X);function oe(_e){X[_e]=K[_e]&&function(Ke){return new Promise(function(ct,hn){!function Ee(_e,Ke,ct,hn){Promise.resolve(hn).then(function(je){_e({value:je,done:ct})},Ke)}(ct,hn,(Ke=K[_e](Ke)).done,Ke.value)})}}}R.d(de,{FC:()=>fe,KL:()=>pe,mG:()=>te,qq:()=>ge}),"function"==typeof SuppressedError&&SuppressedError}},$e=>{$e($e.s=4410)}]);