"use strict";(self.webpackChunksite=self.webpackChunksite||[]).push([[743],{3905:(e,t,a)=>{a.d(t,{Zo:()=>u,kt:()=>d});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var s=n.createContext({}),p=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},u=function(e){var t=p(e.components);return n.createElement(s.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},c=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),c=p(a),d=r,h=c["".concat(s,".").concat(d)]||c[d]||m[d]||o;return a?n.createElement(h,i(i({ref:t},u),{},{components:a})):n.createElement(h,i({ref:t},u))}));function d(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=a.length,i=new Array(o);i[0]=c;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:r,i[1]=l;for(var p=2;p<o;p++)i[p]=a[p];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}c.displayName="MDXCreateElement"},5162:(e,t,a)=>{a.d(t,{Z:()=>i});var n=a(7294),r=a(6010);const o="tabItem_Ymn6";function i(e){let{children:t,hidden:a,className:i}=e;return n.createElement("div",{role:"tabpanel",className:(0,r.Z)(o,i),hidden:a},t)}},5488:(e,t,a)=>{a.d(t,{Z:()=>d});var n=a(7462),r=a(7294),o=a(6010),i=a(2389),l=a(7392),s=a(7094),p=a(2466);const u="tabList__CuJ",m="tabItem_LNqP";function c(e){var t;const{lazy:a,block:i,defaultValue:c,values:d,groupId:h,className:g}=e,f=r.Children.map(e.children,(e=>{if((0,r.isValidElement)(e)&&"value"in e.props)return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})),b=d??f.map((e=>{let{props:{value:t,label:a,attributes:n}}=e;return{value:t,label:a,attributes:n}})),k=(0,l.l)(b,((e,t)=>e.value===t.value));if(k.length>0)throw new Error(`Docusaurus error: Duplicate values "${k.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`);const y=null===c?c:c??(null==(t=f.find((e=>e.props.default)))?void 0:t.props.value)??f[0].props.value;if(null!==y&&!b.some((e=>e.value===y)))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${y}" but none of its children has the corresponding value. Available values are: ${b.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);const{tabGroupChoices:v,setTabGroupChoices:N}=(0,s.U)(),[w,j]=(0,r.useState)(y),x=[],{blockElementScrollPositionUntilNextRender:T}=(0,p.o5)();if(null!=h){const e=v[h];null!=e&&e!==w&&b.some((t=>t.value===e))&&j(e)}const O=e=>{const t=e.currentTarget,a=x.indexOf(t),n=b[a].value;n!==w&&(T(t),j(n),null!=h&&N(h,String(n)))},A=e=>{var t;let a=null;switch(e.key){case"Enter":O(e);break;case"ArrowRight":{const t=x.indexOf(e.currentTarget)+1;a=x[t]??x[0];break}case"ArrowLeft":{const t=x.indexOf(e.currentTarget)-1;a=x[t]??x[x.length-1];break}}null==(t=a)||t.focus()};return r.createElement("div",{className:(0,o.Z)("tabs-container",u)},r.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,o.Z)("tabs",{"tabs--block":i},g)},b.map((e=>{let{value:t,label:a,attributes:i}=e;return r.createElement("li",(0,n.Z)({role:"tab",tabIndex:w===t?0:-1,"aria-selected":w===t,key:t,ref:e=>x.push(e),onKeyDown:A,onClick:O},i,{className:(0,o.Z)("tabs__item",m,null==i?void 0:i.className,{"tabs__item--active":w===t})}),a??t)}))),a?(0,r.cloneElement)(f.filter((e=>e.props.value===w))[0],{className:"margin-top--md"}):r.createElement("div",{className:"margin-top--md"},f.map(((e,t)=>(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==w})))))}function d(e){const t=(0,i.Z)();return r.createElement(c,(0,n.Z)({key:String(t)},e))}},6652:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>u,contentTitle:()=>s,default:()=>d,frontMatter:()=>l,metadata:()=>p,toc:()=>m});var n=a(7462),r=(a(7294),a(3905)),o=a(5488),i=a(5162);const l={title:"Angular"},s=void 0,p={unversionedId:"documentation/getting-started/angular",id:"documentation/getting-started/angular",title:"Angular",description:"This guide explains how to set up your Angular project to begin using @badisi/ngx-auth.",source:"@site/docs/documentation/getting-started/angular.mdx",sourceDirName:"documentation/getting-started",slug:"/documentation/getting-started/angular",permalink:"/auth-js/site/documentation/getting-started/angular",draft:!1,editUrl:"https://github.com/Badisi/auth-js/edit/main/projects/site/docs/documentation/getting-started/angular.mdx",tags:[],version:"current",frontMatter:{title:"Angular"},sidebar:"docsSidebar",previous:{title:"VanillaJS",permalink:"/auth-js/site/documentation/getting-started/vanilla-js"},next:{title:"Mobile",permalink:"/auth-js/site/documentation/getting-started/mobile"}},u={},m=[{value:"Schematic",id:"schematic",level:3},{value:"Manual installation",id:"manual-installation",level:3}],c={toc:m};function d(e){let{components:t,...a}=e;return(0,r.kt)("wrapper",(0,n.Z)({},c,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"This guide explains how to set up your Angular project to begin using ",(0,r.kt)("inlineCode",{parentName:"p"},"@badisi/ngx-auth"),"."),(0,r.kt)("p",null,"\ud83d\ude80 The fastest, simplest and preferred way is the ",(0,r.kt)("a",{parentName:"p",href:"#schematic"},"schematic")," way but you can also install this library ",(0,r.kt)("a",{parentName:"p",href:"#manual-installation"},"manually"),"."),(0,r.kt)("admonition",{title:"Before using it",type:"info"},(0,r.kt)("p",{parentName:"admonition"},"Make sure you properly configured your \ud83d\udc49 ",(0,r.kt)("a",{parentName:"p",href:"providers"},"Authentication Provider"),".")),(0,r.kt)("h3",{id:"schematic"},"Schematic"),(0,r.kt)("p",null,"Use the Angular CLI's installation ",(0,r.kt)("a",{parentName:"p",href:"https://material.angular.io/guide/schematics"},"schematic")," to automagically set up your Angular project with this library:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"ng add @badisi/ngx-auth\n")),(0,r.kt)("p",null,"Questions will be asked during the process, so please refer to the ",(0,r.kt)("a",{parentName:"p",href:"../configuration"},"configuration")," page for more information."),(0,r.kt)("p",null,"You can also read on with the ",(0,r.kt)("strong",{parentName:"p"},"Manual installation")," guide to have a better understanding of what the schematics is actually doing to your project."),(0,r.kt)("h3",{id:"manual-installation"},"Manual installation"),(0,r.kt)("p",null,"If you wish to install this library manually, please follow the steps below:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Install the library from the ",(0,r.kt)("strong",{parentName:"p"},"NPM repository")),(0,r.kt)(o.Z,{mdxType:"Tabs"},(0,r.kt)(i.Z,{value:"npm",label:"npm",default:!0,mdxType:"TabItem"},(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"npm install @badisi/ngx-auth --save\n"))),(0,r.kt)(i.Z,{value:"yarn",label:"yarn",mdxType:"TabItem"},(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"yarn add @badisi/ngx-auth\n"))))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Modify your ",(0,r.kt)("strong",{parentName:"p"},"angular.json")," file"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="angular.json" {5-7,9-11}',title:'"angular.json"',"{5-7,9-11}":!0},'{\n  "...": {\n    "build": {\n      "options": {\n        "allowedCommonJsDependencies": [\n          "crypto-js"\n        ],\n        "assets": [{\n          "glob": "**/*",\n          "input": "node_modules/@badisi/ngx-auth/oidc/assets",\n          "output": "oidc/callback"\n        }]\n      }\n    }\n  }\n}\n')),(0,r.kt)("admonition",{parentName:"li",type:"info"},(0,r.kt)("p",{parentName:"admonition"},"This library depends on ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/authts/oidc-client-ts/issues/275"},(0,r.kt)("inlineCode",{parentName:"a"},"oidc-client-ts"))," which itself depends on ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/brix/crypto-js"},(0,r.kt)("inlineCode",{parentName:"a"},"crypto-js"))," which is a ",(0,r.kt)("strong",{parentName:"p"},"commonjs")," dependency."),(0,r.kt)("p",{parentName:"admonition"},(0,r.kt)("strong",{parentName:"p"},"Assets")," needs to be copy over to your application because some html web pages are used and required when navigating back from the Authentication Provider.")),(0,r.kt)("br",null)),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Modify your ",(0,r.kt)("strong",{parentName:"p"},"main.ts")," file"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-ts",metastring:'title="main.ts" {3,12-15,19}',title:'"main.ts"',"{3,12-15,19}":!0},"import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\nimport { initAuth } from '@badisi/ngx-auth';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\ninitAuth({\n  authorityUrl: 'https://dev-fijd1e9x.us.auth0.com',\n  clientId: 'kRVVEnAWKMpxxpcodl0TqLXfIHgQvmmt'\n}).then(authProvider => {\n  platformBrowserDynamic([\n    authProvider\n  ]).bootstrapModule(AppModule).catch(err => console.error(err));\n}).catch(error => console.error(error));\n")),(0,r.kt)("admonition",{parentName:"li",type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"For more info on how to ",(0,r.kt)("strong",{parentName:"p"},"configure")," the library please have a look at the ",(0,r.kt)("a",{parentName:"p",href:"../configuration"},(0,r.kt)("inlineCode",{parentName:"a"},"configuration"))," page.")),(0,r.kt)("admonition",{parentName:"li",type:"info"},(0,r.kt)("p",{parentName:"admonition"},"Initializing the library prior to your Angular application bootstrapping ensures that all the security checks are made upstream (if needed) and avoid the whole Angular application to be loaded twice when using redirects.")),(0,r.kt)("br",null)),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Modify your ",(0,r.kt)("strong",{parentName:"p"},"app.module.ts")," file"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-ts",metastring:'title="app.module.ts" {2,6}',title:'"app.module.ts"',"{2,6}":!0},"import { NgModule } from '@angular/core';\nimport { AuthModule } from '@badisi/ngx-auth';\n\n@NgModule({\n  imports: [\n    AuthModule\n  ]\n})\nexport class AppModule {}\n")),(0,r.kt)("admonition",{parentName:"li",type:"info"},(0,r.kt)("p",{parentName:"admonition"},"By importing the ",(0,r.kt)("strong",{parentName:"p"},"AuthModule"),", an ",(0,r.kt)("a",{parentName:"p",href:"../../apis/angular/auth-service"},(0,r.kt)("inlineCode",{parentName:"a"},"AuthService")),", ",(0,r.kt)("a",{parentName:"p",href:"../../apis/angular/auth-interceptor"},(0,r.kt)("inlineCode",{parentName:"a"},"AuthInterceptor"))," and ",(0,r.kt)("a",{parentName:"p",href:"../../apis/angular/auth-guard"},(0,r.kt)("inlineCode",{parentName:"a"},"AuthGuard"))," will be provided to your application.")),(0,r.kt)("br",null)),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"You're done! \ud83d\ude80"))))}d.isMDXComponent=!0}}]);